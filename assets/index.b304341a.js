function _mergeNamespaces(St,er){for(var tr=0;tr<er.length;tr++){const rr=er[tr];if(typeof rr!="string"&&!Array.isArray(rr)){for(const nr in rr)if(nr!=="default"&&!(nr in St)){const ar=Object.getOwnPropertyDescriptor(rr,nr);ar&&Object.defineProperty(St,nr,ar.get?ar:{enumerable:!0,get:()=>rr[nr]})}}}return Object.freeze(Object.defineProperty(St,Symbol.toStringTag,{value:"Module"}))}(function(){const er=document.createElement("link").relList;if(er&&er.supports&&er.supports("modulepreload"))return;for(const nr of document.querySelectorAll('link[rel="modulepreload"]'))rr(nr);new MutationObserver(nr=>{for(const ar of nr)if(ar.type==="childList")for(const dr of ar.addedNodes)dr.tagName==="LINK"&&dr.rel==="modulepreload"&&rr(dr)}).observe(document,{childList:!0,subtree:!0});function tr(nr){const ar={};return nr.integrity&&(ar.integrity=nr.integrity),nr.referrerpolicy&&(ar.referrerPolicy=nr.referrerpolicy),nr.crossorigin==="use-credentials"?ar.credentials="include":nr.crossorigin==="anonymous"?ar.credentials="omit":ar.credentials="same-origin",ar}function rr(nr){if(nr.ep)return;nr.ep=!0;const ar=tr(nr);fetch(nr.href,ar)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(St){return St&&St.__esModule&&Object.prototype.hasOwnProperty.call(St,"default")?St.default:St}function getAugmentedNamespace(St){var er=St.default;if(typeof er=="function"){var tr=function(){return er.apply(this,arguments)};tr.prototype=er.prototype}else tr={};return Object.defineProperty(tr,"__esModule",{value:!0}),Object.keys(St).forEach(function(rr){var nr=Object.getOwnPropertyDescriptor(St,rr);Object.defineProperty(tr,rr,nr.get?nr:{enumerable:!0,get:function(){return St[rr]}})}),tr}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(St){return St===null||typeof St!="object"?null:(St=z$4&&St[z$4]||St["@@iterator"],typeof St=="function"?St:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(St,er,tr){this.props=St,this.context=er,this.refs=D$3,this.updater=tr||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(St,er){if(typeof St!="object"&&typeof St!="function"&&St!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,St,er,"setState")};E$3.prototype.forceUpdate=function(St){this.updater.enqueueForceUpdate(this,St,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$2(St,er,tr){this.props=St,this.context=er,this.refs=D$3,this.updater=tr||B$3}var H$3=G$2.prototype=new F$2;H$3.constructor=G$2;C$3(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(St,er,tr){var rr,nr={},ar=null,dr=null;if(er!=null)for(rr in er.ref!==void 0&&(dr=er.ref),er.key!==void 0&&(ar=""+er.key),er)J$1.call(er,rr)&&!L$3.hasOwnProperty(rr)&&(nr[rr]=er[rr]);var or=arguments.length-2;if(or===1)nr.children=tr;else if(1<or){for(var ir=Array(or),lr=0;lr<or;lr++)ir[lr]=arguments[lr+2];nr.children=ir}if(St&&St.defaultProps)for(rr in or=St.defaultProps,or)nr[rr]===void 0&&(nr[rr]=or[rr]);return{$$typeof:l$3,type:St,key:ar,ref:dr,props:nr,_owner:K$2.current}}function N$3(St,er){return{$$typeof:l$3,type:St.type,key:er,ref:St.ref,props:St.props,_owner:St._owner}}function O$3(St){return typeof St=="object"&&St!==null&&St.$$typeof===l$3}function escape$3(St){var er={"=":"=0",":":"=2"};return"$"+St.replace(/[=:]/g,function(tr){return er[tr]})}var P$3=/\/+/g;function Q$3(St,er){return typeof St=="object"&&St!==null&&St.key!=null?escape$3(""+St.key):er.toString(36)}function R$3(St,er,tr,rr,nr){var ar=typeof St;(ar==="undefined"||ar==="boolean")&&(St=null);var dr=!1;if(St===null)dr=!0;else switch(ar){case"string":case"number":dr=!0;break;case"object":switch(St.$$typeof){case l$3:case n$3:dr=!0}}if(dr)return dr=St,nr=nr(dr),St=rr===""?"."+Q$3(dr,0):rr,I$3(nr)?(tr="",St!=null&&(tr=St.replace(P$3,"$&/")+"/"),R$3(nr,er,tr,"",function(lr){return lr})):nr!=null&&(O$3(nr)&&(nr=N$3(nr,tr+(!nr.key||dr&&dr.key===nr.key?"":(""+nr.key).replace(P$3,"$&/")+"/")+St)),er.push(nr)),1;if(dr=0,rr=rr===""?".":rr+":",I$3(St))for(var or=0;or<St.length;or++){ar=St[or];var ir=rr+Q$3(ar,or);dr+=R$3(ar,er,tr,ir,nr)}else if(ir=A$4(St),typeof ir=="function")for(St=ir.call(St),or=0;!(ar=St.next()).done;)ar=ar.value,ir=rr+Q$3(ar,or++),dr+=R$3(ar,er,tr,ir,nr);else if(ar==="object")throw er=String(St),Error("Objects are not valid as a React child (found: "+(er==="[object Object]"?"object with keys {"+Object.keys(St).join(", ")+"}":er)+"). If you meant to render a collection of children, use an array instead.");return dr}function S$3(St,er,tr){if(St==null)return St;var rr=[],nr=0;return R$3(St,rr,"","",function(ar){return er.call(tr,ar,nr++)}),rr}function T$3(St){if(St._status===-1){var er=St._result;er=er(),er.then(function(tr){(St._status===0||St._status===-1)&&(St._status=1,St._result=tr)},function(tr){(St._status===0||St._status===-1)&&(St._status=2,St._result=tr)}),St._status===-1&&(St._status=0,St._result=er)}if(St._status===1)return St._result.default;throw St._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function(St,er,tr){S$3(St,function(){er.apply(this,arguments)},tr)},count:function(St){var er=0;return S$3(St,function(){er++}),er},toArray:function(St){return S$3(St,function(er){return er})||[]},only:function(St){if(!O$3(St))throw Error("React.Children.only expected to receive a single React element child.");return St}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(St,er,tr){if(St==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+St+".");var rr=C$3({},St.props),nr=St.key,ar=St.ref,dr=St._owner;if(er!=null){if(er.ref!==void 0&&(ar=er.ref,dr=K$2.current),er.key!==void 0&&(nr=""+er.key),St.type&&St.type.defaultProps)var or=St.type.defaultProps;for(ir in er)J$1.call(er,ir)&&!L$3.hasOwnProperty(ir)&&(rr[ir]=er[ir]===void 0&&or!==void 0?or[ir]:er[ir])}var ir=arguments.length-2;if(ir===1)rr.children=tr;else if(1<ir){or=Array(ir);for(var lr=0;lr<ir;lr++)or[lr]=arguments[lr+2];rr.children=or}return{$$typeof:l$3,type:St.type,key:nr,ref:ar,props:rr,_owner:dr}};react_production_min.createContext=function(St){return St={$$typeof:u$2,_currentValue:St,_currentValue2:St,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},St.Provider={$$typeof:t$2,_context:St},St.Consumer=St};react_production_min.createElement=M$3;react_production_min.createFactory=function(St){var er=M$3.bind(null,St);return er.type=St,er};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(St){return{$$typeof:v$4,render:St}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(St){return{$$typeof:y$3,_payload:{_status:-1,_result:St},_init:T$3}};react_production_min.memo=function(St,er){return{$$typeof:x$3,type:St,compare:er===void 0?null:er}};react_production_min.startTransition=function(St){var er=V$2.transition;V$2.transition={};try{St()}finally{V$2.transition=er}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(St,er){return U$2.current.useCallback(St,er)};react_production_min.useContext=function(St){return U$2.current.useContext(St)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(St){return U$2.current.useDeferredValue(St)};react_production_min.useEffect=function(St,er){return U$2.current.useEffect(St,er)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(St,er,tr){return U$2.current.useImperativeHandle(St,er,tr)};react_production_min.useInsertionEffect=function(St,er){return U$2.current.useInsertionEffect(St,er)};react_production_min.useLayoutEffect=function(St,er){return U$2.current.useLayoutEffect(St,er)};react_production_min.useMemo=function(St,er){return U$2.current.useMemo(St,er)};react_production_min.useReducer=function(St,er,tr){return U$2.current.useReducer(St,er,tr)};react_production_min.useRef=function(St){return U$2.current.useRef(St)};react_production_min.useState=function(St){return U$2.current.useState(St)};react_production_min.useSyncExternalStore=function(St,er,tr){return U$2.current.useSyncExternalStore(St,er,tr)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(St){St.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports),React$1=_mergeNamespaces({__proto__:null,default:React},[react.exports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(St){function er(Qr,Or){var Er=Qr.length;Qr.push(Or);e:for(;0<Er;){var Dr=Er-1>>>1,Tr=Qr[Dr];if(0<nr(Tr,Or))Qr[Dr]=Or,Qr[Er]=Tr,Er=Dr;else break e}}function tr(Qr){return Qr.length===0?null:Qr[0]}function rr(Qr){if(Qr.length===0)return null;var Or=Qr[0],Er=Qr.pop();if(Er!==Or){Qr[0]=Er;e:for(var Dr=0,Tr=Qr.length,Lr=Tr>>>1;Dr<Lr;){var _r=2*(Dr+1)-1,wr=Qr[_r],Fr=_r+1,Nr=Qr[Fr];if(0>nr(wr,Er))Fr<Tr&&0>nr(Nr,wr)?(Qr[Dr]=Nr,Qr[Fr]=Er,Dr=Fr):(Qr[Dr]=wr,Qr[_r]=Er,Dr=_r);else if(Fr<Tr&&0>nr(Nr,Er))Qr[Dr]=Nr,Qr[Fr]=Er,Dr=Fr;else break e}}return Or}function nr(Qr,Or){var Er=Qr.sortIndex-Or.sortIndex;return Er!==0?Er:Qr.id-Or.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ar=performance;St.unstable_now=function(){return ar.now()}}else{var dr=Date,or=dr.now();St.unstable_now=function(){return dr.now()-or}}var ir=[],lr=[],fr=1,cr=null,ur=3,sr=!1,hr=!1,gr=!1,pr=typeof setTimeout=="function"?setTimeout:null,mr=typeof clearTimeout=="function"?clearTimeout:null,vr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yr(Qr){for(var Or=tr(lr);Or!==null;){if(Or.callback===null)rr(lr);else if(Or.startTime<=Qr)rr(lr),Or.sortIndex=Or.expirationTime,er(ir,Or);else break;Or=tr(lr)}}function br(Qr){if(gr=!1,yr(Qr),!hr)if(tr(ir)!==null)hr=!0,Yr(xr);else{var Or=tr(lr);Or!==null&&nn(br,Or.startTime-Qr)}}function xr(Qr,Or){hr=!1,gr&&(gr=!1,mr(Pr),Pr=-1),sr=!0;var Er=ur;try{for(yr(Or),cr=tr(ir);cr!==null&&(!(cr.expirationTime>Or)||Qr&&!Ir());){var Dr=cr.callback;if(typeof Dr=="function"){cr.callback=null,ur=cr.priorityLevel;var Tr=Dr(cr.expirationTime<=Or);Or=St.unstable_now(),typeof Tr=="function"?cr.callback=Tr:cr===tr(ir)&&rr(ir),yr(Or)}else rr(ir);cr=tr(ir)}if(cr!==null)var Lr=!0;else{var _r=tr(lr);_r!==null&&nn(br,_r.startTime-Or),Lr=!1}return Lr}finally{cr=null,ur=Er,sr=!1}}var Cr=!1,kr=null,Pr=-1,$r=5,Kr=-1;function Ir(){return!(St.unstable_now()-Kr<$r)}function jr(){if(kr!==null){var Qr=St.unstable_now();Kr=Qr;var Or=!0;try{Or=kr(!0,Qr)}finally{Or?Jr():(Cr=!1,kr=null)}}else Cr=!1}var Jr;if(typeof vr=="function")Jr=function(){vr(jr)};else if(typeof MessageChannel<"u"){var zr=new MessageChannel,Hr=zr.port2;zr.port1.onmessage=jr,Jr=function(){Hr.postMessage(null)}}else Jr=function(){pr(jr,0)};function Yr(Qr){kr=Qr,Cr||(Cr=!0,Jr())}function nn(Qr,Or){Pr=pr(function(){Qr(St.unstable_now())},Or)}St.unstable_IdlePriority=5,St.unstable_ImmediatePriority=1,St.unstable_LowPriority=4,St.unstable_NormalPriority=3,St.unstable_Profiling=null,St.unstable_UserBlockingPriority=2,St.unstable_cancelCallback=function(Qr){Qr.callback=null},St.unstable_continueExecution=function(){hr||sr||(hr=!0,Yr(xr))},St.unstable_forceFrameRate=function(Qr){0>Qr||125<Qr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$r=0<Qr?Math.floor(1e3/Qr):5},St.unstable_getCurrentPriorityLevel=function(){return ur},St.unstable_getFirstCallbackNode=function(){return tr(ir)},St.unstable_next=function(Qr){switch(ur){case 1:case 2:case 3:var Or=3;break;default:Or=ur}var Er=ur;ur=Or;try{return Qr()}finally{ur=Er}},St.unstable_pauseExecution=function(){},St.unstable_requestPaint=function(){},St.unstable_runWithPriority=function(Qr,Or){switch(Qr){case 1:case 2:case 3:case 4:case 5:break;default:Qr=3}var Er=ur;ur=Qr;try{return Or()}finally{ur=Er}},St.unstable_scheduleCallback=function(Qr,Or,Er){var Dr=St.unstable_now();switch(typeof Er=="object"&&Er!==null?(Er=Er.delay,Er=typeof Er=="number"&&0<Er?Dr+Er:Dr):Er=Dr,Qr){case 1:var Tr=-1;break;case 2:Tr=250;break;case 5:Tr=1073741823;break;case 4:Tr=1e4;break;default:Tr=5e3}return Tr=Er+Tr,Qr={id:fr++,callback:Or,priorityLevel:Qr,startTime:Er,expirationTime:Tr,sortIndex:-1},Er>Dr?(Qr.sortIndex=Er,er(lr,Qr),tr(ir)===null&&Qr===tr(lr)&&(gr?(mr(Pr),Pr=-1):gr=!0,nn(br,Er-Dr))):(Qr.sortIndex=Tr,er(ir,Qr),hr||sr||(hr=!0,Yr(xr))),Qr},St.unstable_shouldYield=Ir,St.unstable_wrapCallback=function(Qr){var Or=ur;return function(){var Er=ur;ur=Or;try{return Qr.apply(this,arguments)}finally{ur=Er}}}})(scheduler_production_min);(function(St){St.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca$1=scheduler.exports;function p$4(St){for(var er="https://reactjs.org/docs/error-decoder.html?invariant="+St,tr=1;tr<arguments.length;tr++)er+="&args[]="+encodeURIComponent(arguments[tr]);return"Minified React error #"+St+"; visit "+er+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(St,er){ha(St,er),ha(St+"Capture",er)}function ha(St,er){for(ea[St]=er,St=0;St<er.length;St++)da.add(er[St])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(St){return ja.call(ma,St)?!0:ja.call(la,St)?!1:ka.test(St)?ma[St]=!0:(la[St]=!0,!1)}function pa(St,er,tr,rr){if(tr!==null&&tr.type===0)return!1;switch(typeof er){case"function":case"symbol":return!0;case"boolean":return rr?!1:tr!==null?!tr.acceptsBooleans:(St=St.toLowerCase().slice(0,5),St!=="data-"&&St!=="aria-");default:return!1}}function qa(St,er,tr,rr){if(er===null||typeof er>"u"||pa(St,er,tr,rr))return!0;if(rr)return!1;if(tr!==null)switch(tr.type){case 3:return!er;case 4:return er===!1;case 5:return isNaN(er);case 6:return isNaN(er)||1>er}return!1}function v$3(St,er,tr,rr,nr,ar,dr){this.acceptsBooleans=er===2||er===3||er===4,this.attributeName=rr,this.attributeNamespace=nr,this.mustUseProperty=tr,this.propertyName=St,this.type=er,this.sanitizeURL=ar,this.removeEmptyString=dr}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(St){z$3[St]=new v$3(St,0,!1,St,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(St){var er=St[0];z$3[er]=new v$3(er,1,!1,St[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(St){z$3[St]=new v$3(St,2,!1,St.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(St){z$3[St]=new v$3(St,2,!1,St,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(St){z$3[St]=new v$3(St,3,!1,St.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(St){z$3[St]=new v$3(St,3,!0,St,null,!1,!1)});["capture","download"].forEach(function(St){z$3[St]=new v$3(St,4,!1,St,null,!1,!1)});["cols","rows","size","span"].forEach(function(St){z$3[St]=new v$3(St,6,!1,St,null,!1,!1)});["rowSpan","start"].forEach(function(St){z$3[St]=new v$3(St,5,!1,St.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(St){return St[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(St){var er=St.replace(ra,sa);z$3[er]=new v$3(er,1,!1,St,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(St){var er=St.replace(ra,sa);z$3[er]=new v$3(er,1,!1,St,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(St){var er=St.replace(ra,sa);z$3[er]=new v$3(er,1,!1,St,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(St){z$3[St]=new v$3(St,1,!1,St.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(St){z$3[St]=new v$3(St,1,!1,St.toLowerCase(),null,!0,!0)});function ta(St,er,tr,rr){var nr=z$3.hasOwnProperty(er)?z$3[er]:null;(nr!==null?nr.type!==0:rr||!(2<er.length)||er[0]!=="o"&&er[0]!=="O"||er[1]!=="n"&&er[1]!=="N")&&(qa(er,tr,nr,rr)&&(tr=null),rr||nr===null?oa(er)&&(tr===null?St.removeAttribute(er):St.setAttribute(er,""+tr)):nr.mustUseProperty?St[nr.propertyName]=tr===null?nr.type===3?!1:"":tr:(er=nr.attributeName,rr=nr.attributeNamespace,tr===null?St.removeAttribute(er):(nr=nr.type,tr=nr===3||nr===4&&tr===!0?"":""+tr,rr?St.setAttributeNS(rr,er,tr):St.setAttribute(er,tr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(St){return St===null||typeof St!="object"?null:(St=Ja&&St[Ja]||St["@@iterator"],typeof St=="function"?St:null)}var A$3=Object.assign,La;function Ma(St){if(La===void 0)try{throw Error()}catch(tr){var er=tr.stack.trim().match(/\n( *(at )?)/);La=er&&er[1]||""}return`
`+La+St}var Na=!1;function Oa(St,er){if(!St||Na)return"";Na=!0;var tr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(er)if(er=function(){throw Error()},Object.defineProperty(er.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(er,[])}catch(lr){var rr=lr}Reflect.construct(St,[],er)}else{try{er.call()}catch(lr){rr=lr}St.call(er.prototype)}else{try{throw Error()}catch(lr){rr=lr}St()}}catch(lr){if(lr&&rr&&typeof lr.stack=="string"){for(var nr=lr.stack.split(`
`),ar=rr.stack.split(`
`),dr=nr.length-1,or=ar.length-1;1<=dr&&0<=or&&nr[dr]!==ar[or];)or--;for(;1<=dr&&0<=or;dr--,or--)if(nr[dr]!==ar[or]){if(dr!==1||or!==1)do if(dr--,or--,0>or||nr[dr]!==ar[or]){var ir=`
`+nr[dr].replace(" at new "," at ");return St.displayName&&ir.includes("<anonymous>")&&(ir=ir.replace("<anonymous>",St.displayName)),ir}while(1<=dr&&0<=or);break}}}finally{Na=!1,Error.prepareStackTrace=tr}return(St=St?St.displayName||St.name:"")?Ma(St):""}function Pa(St){switch(St.tag){case 5:return Ma(St.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return St=Oa(St.type,!1),St;case 11:return St=Oa(St.type.render,!1),St;case 1:return St=Oa(St.type,!0),St;default:return""}}function Qa(St){if(St==null)return null;if(typeof St=="function")return St.displayName||St.name||null;if(typeof St=="string")return St;switch(St){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof St=="object")switch(St.$$typeof){case Ca:return(St.displayName||"Context")+".Consumer";case Ba:return(St._context.displayName||"Context")+".Provider";case Da:var er=St.render;return St=St.displayName,St||(St=er.displayName||er.name||"",St=St!==""?"ForwardRef("+St+")":"ForwardRef"),St;case Ga:return er=St.displayName||null,er!==null?er:Qa(St.type)||"Memo";case Ha:er=St._payload,St=St._init;try{return Qa(St(er))}catch{}}return null}function Ra(St){var er=St.type;switch(St.tag){case 24:return"Cache";case 9:return(er.displayName||"Context")+".Consumer";case 10:return(er._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return St=er.render,St=St.displayName||St.name||"",er.displayName||(St!==""?"ForwardRef("+St+")":"ForwardRef");case 7:return"Fragment";case 5:return er;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(er);case 8:return er===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er}return null}function Sa(St){switch(typeof St){case"boolean":case"number":case"string":case"undefined":return St;case"object":return St;default:return""}}function Ta(St){var er=St.type;return(St=St.nodeName)&&St.toLowerCase()==="input"&&(er==="checkbox"||er==="radio")}function Ua(St){var er=Ta(St)?"checked":"value",tr=Object.getOwnPropertyDescriptor(St.constructor.prototype,er),rr=""+St[er];if(!St.hasOwnProperty(er)&&typeof tr<"u"&&typeof tr.get=="function"&&typeof tr.set=="function"){var nr=tr.get,ar=tr.set;return Object.defineProperty(St,er,{configurable:!0,get:function(){return nr.call(this)},set:function(dr){rr=""+dr,ar.call(this,dr)}}),Object.defineProperty(St,er,{enumerable:tr.enumerable}),{getValue:function(){return rr},setValue:function(dr){rr=""+dr},stopTracking:function(){St._valueTracker=null,delete St[er]}}}}function Va(St){St._valueTracker||(St._valueTracker=Ua(St))}function Wa(St){if(!St)return!1;var er=St._valueTracker;if(!er)return!0;var tr=er.getValue(),rr="";return St&&(rr=Ta(St)?St.checked?"true":"false":St.value),St=rr,St!==tr?(er.setValue(St),!0):!1}function Xa(St){if(St=St||(typeof document<"u"?document:void 0),typeof St>"u")return null;try{return St.activeElement||St.body}catch{return St.body}}function Ya(St,er){var tr=er.checked;return A$3({},er,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tr??St._wrapperState.initialChecked})}function Za(St,er){var tr=er.defaultValue==null?"":er.defaultValue,rr=er.checked!=null?er.checked:er.defaultChecked;tr=Sa(er.value!=null?er.value:tr),St._wrapperState={initialChecked:rr,initialValue:tr,controlled:er.type==="checkbox"||er.type==="radio"?er.checked!=null:er.value!=null}}function ab(St,er){er=er.checked,er!=null&&ta(St,"checked",er,!1)}function bb(St,er){ab(St,er);var tr=Sa(er.value),rr=er.type;if(tr!=null)rr==="number"?(tr===0&&St.value===""||St.value!=tr)&&(St.value=""+tr):St.value!==""+tr&&(St.value=""+tr);else if(rr==="submit"||rr==="reset"){St.removeAttribute("value");return}er.hasOwnProperty("value")?cb$1(St,er.type,tr):er.hasOwnProperty("defaultValue")&&cb$1(St,er.type,Sa(er.defaultValue)),er.checked==null&&er.defaultChecked!=null&&(St.defaultChecked=!!er.defaultChecked)}function db(St,er,tr){if(er.hasOwnProperty("value")||er.hasOwnProperty("defaultValue")){var rr=er.type;if(!(rr!=="submit"&&rr!=="reset"||er.value!==void 0&&er.value!==null))return;er=""+St._wrapperState.initialValue,tr||er===St.value||(St.value=er),St.defaultValue=er}tr=St.name,tr!==""&&(St.name=""),St.defaultChecked=!!St._wrapperState.initialChecked,tr!==""&&(St.name=tr)}function cb$1(St,er,tr){(er!=="number"||Xa(St.ownerDocument)!==St)&&(tr==null?St.defaultValue=""+St._wrapperState.initialValue:St.defaultValue!==""+tr&&(St.defaultValue=""+tr))}var eb=Array.isArray;function fb(St,er,tr,rr){if(St=St.options,er){er={};for(var nr=0;nr<tr.length;nr++)er["$"+tr[nr]]=!0;for(tr=0;tr<St.length;tr++)nr=er.hasOwnProperty("$"+St[tr].value),St[tr].selected!==nr&&(St[tr].selected=nr),nr&&rr&&(St[tr].defaultSelected=!0)}else{for(tr=""+Sa(tr),er=null,nr=0;nr<St.length;nr++){if(St[nr].value===tr){St[nr].selected=!0,rr&&(St[nr].defaultSelected=!0);return}er!==null||St[nr].disabled||(er=St[nr])}er!==null&&(er.selected=!0)}}function gb(St,er){if(er.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},er,{value:void 0,defaultValue:void 0,children:""+St._wrapperState.initialValue})}function hb(St,er){var tr=er.value;if(tr==null){if(tr=er.children,er=er.defaultValue,tr!=null){if(er!=null)throw Error(p$4(92));if(eb(tr)){if(1<tr.length)throw Error(p$4(93));tr=tr[0]}er=tr}er==null&&(er=""),tr=er}St._wrapperState={initialValue:Sa(tr)}}function ib(St,er){var tr=Sa(er.value),rr=Sa(er.defaultValue);tr!=null&&(tr=""+tr,tr!==St.value&&(St.value=tr),er.defaultValue==null&&St.defaultValue!==tr&&(St.defaultValue=tr)),rr!=null&&(St.defaultValue=""+rr)}function jb(St){var er=St.textContent;er===St._wrapperState.initialValue&&er!==""&&er!==null&&(St.value=er)}function kb(St){switch(St){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(St,er){return St==null||St==="http://www.w3.org/1999/xhtml"?kb(er):St==="http://www.w3.org/2000/svg"&&er==="foreignObject"?"http://www.w3.org/1999/xhtml":St}var mb,nb=function(St){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(er,tr,rr,nr){MSApp.execUnsafeLocalFunction(function(){return St(er,tr,rr,nr)})}:St}(function(St,er){if(St.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in St)St.innerHTML=er;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+er.valueOf().toString()+"</svg>",er=mb.firstChild;St.firstChild;)St.removeChild(St.firstChild);for(;er.firstChild;)St.appendChild(er.firstChild)}});function ob(St,er){if(er){var tr=St.firstChild;if(tr&&tr===St.lastChild&&tr.nodeType===3){tr.nodeValue=er;return}}St.textContent=er}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(St){qb.forEach(function(er){er=er+St.charAt(0).toUpperCase()+St.substring(1),pb[er]=pb[St]})});function rb(St,er,tr){return er==null||typeof er=="boolean"||er===""?"":tr||typeof er!="number"||er===0||pb.hasOwnProperty(St)&&pb[St]?(""+er).trim():er+"px"}function sb(St,er){St=St.style;for(var tr in er)if(er.hasOwnProperty(tr)){var rr=tr.indexOf("--")===0,nr=rb(tr,er[tr],rr);tr==="float"&&(tr="cssFloat"),rr?St.setProperty(tr,nr):St[tr]=nr}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(St,er){if(er){if(tb[St]&&(er.children!=null||er.dangerouslySetInnerHTML!=null))throw Error(p$4(137,St));if(er.dangerouslySetInnerHTML!=null){if(er.children!=null)throw Error(p$4(60));if(typeof er.dangerouslySetInnerHTML!="object"||!("__html"in er.dangerouslySetInnerHTML))throw Error(p$4(61))}if(er.style!=null&&typeof er.style!="object")throw Error(p$4(62))}}function vb(St,er){if(St.indexOf("-")===-1)return typeof er.is=="string";switch(St){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(St){return St=St.target||St.srcElement||window,St.correspondingUseElement&&(St=St.correspondingUseElement),St.nodeType===3?St.parentNode:St}var yb=null,zb=null,Ab=null;function Bb(St){if(St=Cb(St)){if(typeof yb!="function")throw Error(p$4(280));var er=St.stateNode;er&&(er=Db(er),yb(St.stateNode,St.type,er))}}function Eb(St){zb?Ab?Ab.push(St):Ab=[St]:zb=St}function Fb(){if(zb){var St=zb,er=Ab;if(Ab=zb=null,Bb(St),er)for(St=0;St<er.length;St++)Bb(er[St])}}function Gb(St,er){return St(er)}function Hb(){}var Ib=!1;function Jb(St,er,tr){if(Ib)return St(er,tr);Ib=!0;try{return Gb(St,er,tr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(St,er){var tr=St.stateNode;if(tr===null)return null;var rr=Db(tr);if(rr===null)return null;tr=rr[er];e:switch(er){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rr=!rr.disabled)||(St=St.type,rr=!(St==="button"||St==="input"||St==="select"||St==="textarea")),St=!rr;break e;default:St=!1}if(St)return null;if(tr&&typeof tr!="function")throw Error(p$4(231,er,typeof tr));return tr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(St,er,tr,rr,nr,ar,dr,or,ir){var lr=Array.prototype.slice.call(arguments,3);try{er.apply(tr,lr)}catch(fr){this.onError(fr)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(St){Ob=!0,Pb=St}};function Tb(St,er,tr,rr,nr,ar,dr,or,ir){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(St,er,tr,rr,nr,ar,dr,or,ir){if(Tb.apply(this,arguments),Ob){if(Ob){var lr=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=lr)}}function Vb(St){var er=St,tr=St;if(St.alternate)for(;er.return;)er=er.return;else{St=er;do er=St,(er.flags&4098)!==0&&(tr=er.return),St=er.return;while(St)}return er.tag===3?tr:null}function Wb(St){if(St.tag===13){var er=St.memoizedState;if(er===null&&(St=St.alternate,St!==null&&(er=St.memoizedState)),er!==null)return er.dehydrated}return null}function Xb(St){if(Vb(St)!==St)throw Error(p$4(188))}function Yb(St){var er=St.alternate;if(!er){if(er=Vb(St),er===null)throw Error(p$4(188));return er!==St?null:St}for(var tr=St,rr=er;;){var nr=tr.return;if(nr===null)break;var ar=nr.alternate;if(ar===null){if(rr=nr.return,rr!==null){tr=rr;continue}break}if(nr.child===ar.child){for(ar=nr.child;ar;){if(ar===tr)return Xb(nr),St;if(ar===rr)return Xb(nr),er;ar=ar.sibling}throw Error(p$4(188))}if(tr.return!==rr.return)tr=nr,rr=ar;else{for(var dr=!1,or=nr.child;or;){if(or===tr){dr=!0,tr=nr,rr=ar;break}if(or===rr){dr=!0,rr=nr,tr=ar;break}or=or.sibling}if(!dr){for(or=ar.child;or;){if(or===tr){dr=!0,tr=ar,rr=nr;break}if(or===rr){dr=!0,rr=ar,tr=nr;break}or=or.sibling}if(!dr)throw Error(p$4(189))}}if(tr.alternate!==rr)throw Error(p$4(190))}if(tr.tag!==3)throw Error(p$4(188));return tr.stateNode.current===tr?St:er}function Zb(St){return St=Yb(St),St!==null?$b(St):null}function $b(St){if(St.tag===5||St.tag===6)return St;for(St=St.child;St!==null;){var er=$b(St);if(er!==null)return er;St=St.sibling}return null}var ac=ca$1.unstable_scheduleCallback,bc=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B$2=ca$1.unstable_now,ec=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic=ca$1.unstable_LowPriority,jc=ca$1.unstable_IdlePriority,kc=null,lc$1=null;function mc(St){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,St,void 0,(St.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(St){return St>>>=0,St===0?32:31-(pc(St)/qc|0)|0}var rc=64,sc=4194304;function tc(St){switch(St&-St){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return St&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return St&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return St}}function uc(St,er){var tr=St.pendingLanes;if(tr===0)return 0;var rr=0,nr=St.suspendedLanes,ar=St.pingedLanes,dr=tr&268435455;if(dr!==0){var or=dr&~nr;or!==0?rr=tc(or):(ar&=dr,ar!==0&&(rr=tc(ar)))}else dr=tr&~nr,dr!==0?rr=tc(dr):ar!==0&&(rr=tc(ar));if(rr===0)return 0;if(er!==0&&er!==rr&&(er&nr)===0&&(nr=rr&-rr,ar=er&-er,nr>=ar||nr===16&&(ar&4194240)!==0))return er;if((rr&4)!==0&&(rr|=tr&16),er=St.entangledLanes,er!==0)for(St=St.entanglements,er&=rr;0<er;)tr=31-oc(er),nr=1<<tr,rr|=St[tr],er&=~nr;return rr}function vc(St,er){switch(St){case 1:case 2:case 4:return er+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(St,er){for(var tr=St.suspendedLanes,rr=St.pingedLanes,nr=St.expirationTimes,ar=St.pendingLanes;0<ar;){var dr=31-oc(ar),or=1<<dr,ir=nr[dr];ir===-1?((or&tr)===0||(or&rr)!==0)&&(nr[dr]=vc(or,er)):ir<=er&&(St.expiredLanes|=or),ar&=~or}}function xc(St){return St=St.pendingLanes&-1073741825,St!==0?St:St&1073741824?1073741824:0}function yc(){var St=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),St}function zc(St){for(var er=[],tr=0;31>tr;tr++)er.push(St);return er}function Ac(St,er,tr){St.pendingLanes|=er,er!==536870912&&(St.suspendedLanes=0,St.pingedLanes=0),St=St.eventTimes,er=31-oc(er),St[er]=tr}function Bc(St,er){var tr=St.pendingLanes&~er;St.pendingLanes=er,St.suspendedLanes=0,St.pingedLanes=0,St.expiredLanes&=er,St.mutableReadLanes&=er,St.entangledLanes&=er,er=St.entanglements;var rr=St.eventTimes;for(St=St.expirationTimes;0<tr;){var nr=31-oc(tr),ar=1<<nr;er[nr]=0,rr[nr]=-1,St[nr]=-1,tr&=~ar}}function Cc(St,er){var tr=St.entangledLanes|=er;for(St=St.entanglements;tr;){var rr=31-oc(tr),nr=1<<rr;nr&er|St[rr]&er&&(St[rr]|=er),tr&=~nr}}var C$2=0;function Dc(St){return St&=-St,1<St?4<St?(St&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(St,er){switch(St){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(er.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(er.pointerId)}}function Tc(St,er,tr,rr,nr,ar){return St===null||St.nativeEvent!==ar?(St={blockedOn:er,domEventName:tr,eventSystemFlags:rr,nativeEvent:ar,targetContainers:[nr]},er!==null&&(er=Cb(er),er!==null&&Fc(er)),St):(St.eventSystemFlags|=rr,er=St.targetContainers,nr!==null&&er.indexOf(nr)===-1&&er.push(nr),St)}function Uc(St,er,tr,rr,nr){switch(er){case"focusin":return Lc=Tc(Lc,St,er,tr,rr,nr),!0;case"dragenter":return Mc=Tc(Mc,St,er,tr,rr,nr),!0;case"mouseover":return Nc=Tc(Nc,St,er,tr,rr,nr),!0;case"pointerover":var ar=nr.pointerId;return Oc.set(ar,Tc(Oc.get(ar)||null,St,er,tr,rr,nr)),!0;case"gotpointercapture":return ar=nr.pointerId,Pc.set(ar,Tc(Pc.get(ar)||null,St,er,tr,rr,nr)),!0}return!1}function Vc(St){var er=Wc(St.target);if(er!==null){var tr=Vb(er);if(tr!==null){if(er=tr.tag,er===13){if(er=Wb(tr),er!==null){St.blockedOn=er,Ic(St.priority,function(){Gc(tr)});return}}else if(er===3&&tr.stateNode.current.memoizedState.isDehydrated){St.blockedOn=tr.tag===3?tr.stateNode.containerInfo:null;return}}}St.blockedOn=null}function Xc(St){if(St.blockedOn!==null)return!1;for(var er=St.targetContainers;0<er.length;){var tr=Yc(St.domEventName,St.eventSystemFlags,er[0],St.nativeEvent);if(tr===null){tr=St.nativeEvent;var rr=new tr.constructor(tr.type,tr);wb=rr,tr.target.dispatchEvent(rr),wb=null}else return er=Cb(tr),er!==null&&Fc(er),St.blockedOn=tr,!1;er.shift()}return!0}function Zc(St,er,tr){Xc(St)&&tr.delete(er)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(St,er){St.blockedOn===er&&(St.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd(St){function er(nr){return ad(nr,St)}if(0<Kc.length){ad(Kc[0],St);for(var tr=1;tr<Kc.length;tr++){var rr=Kc[tr];rr.blockedOn===St&&(rr.blockedOn=null)}}for(Lc!==null&&ad(Lc,St),Mc!==null&&ad(Mc,St),Nc!==null&&ad(Nc,St),Oc.forEach(er),Pc.forEach(er),tr=0;tr<Qc.length;tr++)rr=Qc[tr],rr.blockedOn===St&&(rr.blockedOn=null);for(;0<Qc.length&&(tr=Qc[0],tr.blockedOn===null);)Vc(tr),tr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(St,er,tr,rr){var nr=C$2,ar=cd.transition;cd.transition=null;try{C$2=1,fd$1(St,er,tr,rr)}finally{C$2=nr,cd.transition=ar}}function gd(St,er,tr,rr){var nr=C$2,ar=cd.transition;cd.transition=null;try{C$2=4,fd$1(St,er,tr,rr)}finally{C$2=nr,cd.transition=ar}}function fd$1(St,er,tr,rr){if(dd){var nr=Yc(St,er,tr,rr);if(nr===null)hd(St,er,rr,id$2,tr),Sc(St,rr);else if(Uc(nr,St,er,tr,rr))rr.stopPropagation();else if(Sc(St,rr),er&4&&-1<Rc.indexOf(St)){for(;nr!==null;){var ar=Cb(nr);if(ar!==null&&Ec(ar),ar=Yc(St,er,tr,rr),ar===null&&hd(St,er,rr,id$2,tr),ar===nr)break;nr=ar}nr!==null&&rr.stopPropagation()}else hd(St,er,rr,null,tr)}}var id$2=null;function Yc(St,er,tr,rr){if(id$2=null,St=xb(rr),St=Wc(St),St!==null)if(er=Vb(St),er===null)St=null;else if(tr=er.tag,tr===13){if(St=Wb(er),St!==null)return St;St=null}else if(tr===3){if(er.stateNode.current.memoizedState.isDehydrated)return er.tag===3?er.stateNode.containerInfo:null;St=null}else er!==St&&(St=null);return id$2=St,null}function jd(St){switch(St){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var St,er=ld,tr=er.length,rr,nr="value"in kd?kd.value:kd.textContent,ar=nr.length;for(St=0;St<tr&&er[St]===nr[St];St++);var dr=tr-St;for(rr=1;rr<=dr&&er[tr-rr]===nr[ar-rr];rr++);return md=nr.slice(St,1<rr?1-rr:void 0)}function od(St){var er=St.keyCode;return"charCode"in St?(St=St.charCode,St===0&&er===13&&(St=13)):St=er,St===10&&(St=13),32<=St||St===13?St:0}function pd(){return!0}function qd(){return!1}function rd(St){function er(tr,rr,nr,ar,dr){this._reactName=tr,this._targetInst=nr,this.type=rr,this.nativeEvent=ar,this.target=dr,this.currentTarget=null;for(var or in St)St.hasOwnProperty(or)&&(tr=St[or],this[or]=tr?tr(ar):ar[or]);return this.isDefaultPrevented=(ar.defaultPrevented!=null?ar.defaultPrevented:ar.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(er.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tr=this.nativeEvent;tr&&(tr.preventDefault?tr.preventDefault():typeof tr.returnValue!="unknown"&&(tr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tr=this.nativeEvent;tr&&(tr.stopPropagation?tr.stopPropagation():typeof tr.cancelBubble!="unknown"&&(tr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),er}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(St){return St.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(St){return St.relatedTarget===void 0?St.fromElement===St.srcElement?St.toElement:St.fromElement:St.relatedTarget},movementX:function(St){return"movementX"in St?St.movementX:(St!==yd&&(yd&&St.type==="mousemove"?(wd=St.screenX-yd.screenX,xd=St.screenY-yd.screenY):xd=wd=0,yd=St),wd)},movementY:function(St){return"movementY"in St?St.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(St){return"clipboardData"in St?St.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(St){var er=this.nativeEvent;return er.getModifierState?er.getModifierState(St):(St=Od[St])?!!er[St]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(St){if(St.key){var er=Md[St.key]||St.key;if(er!=="Unidentified")return er}return St.type==="keypress"?(St=od(St),St===13?"Enter":String.fromCharCode(St)):St.type==="keydown"||St.type==="keyup"?Nd[St.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(St){return St.type==="keypress"?od(St):0},keyCode:function(St){return St.type==="keydown"||St.type==="keyup"?St.keyCode:0},which:function(St){return St.type==="keypress"?od(St):St.type==="keydown"||St.type==="keyup"?St.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(St){return"deltaX"in St?St.deltaX:"wheelDeltaX"in St?-St.wheelDeltaX:0},deltaY:function(St){return"deltaY"in St?St.deltaY:"wheelDeltaY"in St?-St.wheelDeltaY:"wheelDelta"in St?-St.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(St,er){switch(St){case"keyup":return $d.indexOf(er.keyCode)!==-1;case"keydown":return er.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(St){return St=St.detail,typeof St=="object"&&"data"in St?St.data:null}var ie$1=!1;function je(St,er){switch(St){case"compositionend":return he$1(er);case"keypress":return er.which!==32?null:(fe$1=!0,ee$1);case"textInput":return St=er.data,St===ee$1&&fe$1?null:St;default:return null}}function ke(St,er){if(ie$1)return St==="compositionend"||!ae$1&&ge$1(St,er)?(St=nd(),md=ld=kd=null,ie$1=!1,St):null;switch(St){case"paste":return null;case"keypress":if(!(er.ctrlKey||er.altKey||er.metaKey)||er.ctrlKey&&er.altKey){if(er.char&&1<er.char.length)return er.char;if(er.which)return String.fromCharCode(er.which)}return null;case"compositionend":return de$1&&er.locale!=="ko"?null:er.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(St){var er=St&&St.nodeName&&St.nodeName.toLowerCase();return er==="input"?!!le$1[St.type]:er==="textarea"}function ne$1(St,er,tr,rr){Eb(rr),er=oe$1(er,"onChange"),0<er.length&&(tr=new td("onChange","change",null,tr,rr),St.push({event:tr,listeners:er}))}var pe$1=null,qe=null;function re$1(St){se$1(St,0)}function te$1(St){var er=ue$1(St);if(Wa(er))return St}function ve$1(St,er){if(St==="change")return er}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(St){if(St.propertyName==="value"&&te$1(qe)){var er=[];ne$1(er,qe,St,xb(St)),Jb(re$1,er)}}function Ce(St,er,tr){St==="focusin"?(Ae(),pe$1=er,qe=tr,pe$1.attachEvent("onpropertychange",Be)):St==="focusout"&&Ae()}function De(St){if(St==="selectionchange"||St==="keyup"||St==="keydown")return te$1(qe)}function Ee(St,er){if(St==="click")return te$1(er)}function Fe(St,er){if(St==="input"||St==="change")return te$1(er)}function Ge(St,er){return St===er&&(St!==0||1/St===1/er)||St!==St&&er!==er}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(St,er){if(He(St,er))return!0;if(typeof St!="object"||St===null||typeof er!="object"||er===null)return!1;var tr=Object.keys(St),rr=Object.keys(er);if(tr.length!==rr.length)return!1;for(rr=0;rr<tr.length;rr++){var nr=tr[rr];if(!ja.call(er,nr)||!He(St[nr],er[nr]))return!1}return!0}function Je(St){for(;St&&St.firstChild;)St=St.firstChild;return St}function Ke(St,er){var tr=Je(St);St=0;for(var rr;tr;){if(tr.nodeType===3){if(rr=St+tr.textContent.length,St<=er&&rr>=er)return{node:tr,offset:er-St};St=rr}e:{for(;tr;){if(tr.nextSibling){tr=tr.nextSibling;break e}tr=tr.parentNode}tr=void 0}tr=Je(tr)}}function Le$1(St,er){return St&&er?St===er?!0:St&&St.nodeType===3?!1:er&&er.nodeType===3?Le$1(St,er.parentNode):"contains"in St?St.contains(er):St.compareDocumentPosition?!!(St.compareDocumentPosition(er)&16):!1:!1}function Me(){for(var St=window,er=Xa();er instanceof St.HTMLIFrameElement;){try{var tr=typeof er.contentWindow.location.href=="string"}catch{tr=!1}if(tr)St=er.contentWindow;else break;er=Xa(St.document)}return er}function Ne$1(St){var er=St&&St.nodeName&&St.nodeName.toLowerCase();return er&&(er==="input"&&(St.type==="text"||St.type==="search"||St.type==="tel"||St.type==="url"||St.type==="password")||er==="textarea"||St.contentEditable==="true")}function Oe(St){var er=Me(),tr=St.focusedElem,rr=St.selectionRange;if(er!==tr&&tr&&tr.ownerDocument&&Le$1(tr.ownerDocument.documentElement,tr)){if(rr!==null&&Ne$1(tr)){if(er=rr.start,St=rr.end,St===void 0&&(St=er),"selectionStart"in tr)tr.selectionStart=er,tr.selectionEnd=Math.min(St,tr.value.length);else if(St=(er=tr.ownerDocument||document)&&er.defaultView||window,St.getSelection){St=St.getSelection();var nr=tr.textContent.length,ar=Math.min(rr.start,nr);rr=rr.end===void 0?ar:Math.min(rr.end,nr),!St.extend&&ar>rr&&(nr=rr,rr=ar,ar=nr),nr=Ke(tr,ar);var dr=Ke(tr,rr);nr&&dr&&(St.rangeCount!==1||St.anchorNode!==nr.node||St.anchorOffset!==nr.offset||St.focusNode!==dr.node||St.focusOffset!==dr.offset)&&(er=er.createRange(),er.setStart(nr.node,nr.offset),St.removeAllRanges(),ar>rr?(St.addRange(er),St.extend(dr.node,dr.offset)):(er.setEnd(dr.node,dr.offset),St.addRange(er)))}}for(er=[],St=tr;St=St.parentNode;)St.nodeType===1&&er.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof tr.focus=="function"&&tr.focus(),tr=0;tr<er.length;tr++)St=er[tr],St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(St,er,tr){var rr=tr.window===tr?tr.document:tr.nodeType===9?tr:tr.ownerDocument;Te||Qe==null||Qe!==Xa(rr)||(rr=Qe,"selectionStart"in rr&&Ne$1(rr)?rr={start:rr.selectionStart,end:rr.selectionEnd}:(rr=(rr.ownerDocument&&rr.ownerDocument.defaultView||window).getSelection(),rr={anchorNode:rr.anchorNode,anchorOffset:rr.anchorOffset,focusNode:rr.focusNode,focusOffset:rr.focusOffset}),Se&&Ie(Se,rr)||(Se=rr,rr=oe$1(Re,"onSelect"),0<rr.length&&(er=new td("onSelect","select",null,er,tr),St.push({event:er,listeners:rr}),er.target=Qe)))}function Ve(St,er){var tr={};return tr[St.toLowerCase()]=er.toLowerCase(),tr["Webkit"+St]="webkit"+er,tr["Moz"+St]="moz"+er,tr}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(St){if(Xe[St])return Xe[St];if(!We[St])return St;var er=We[St],tr;for(tr in er)if(er.hasOwnProperty(tr)&&tr in Ye)return Xe[St]=er[tr];return St}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(St,er){df.set(St,er),fa(er,[St])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(St,er,tr){var rr=St.type||"unknown-event";St.currentTarget=tr,Ub(rr,er,void 0,St),St.currentTarget=null}function se$1(St,er){er=(er&4)!==0;for(var tr=0;tr<St.length;tr++){var rr=St[tr],nr=rr.event;rr=rr.listeners;e:{var ar=void 0;if(er)for(var dr=rr.length-1;0<=dr;dr--){var or=rr[dr],ir=or.instance,lr=or.currentTarget;if(or=or.listener,ir!==ar&&nr.isPropagationStopped())break e;nf(nr,or,lr),ar=ir}else for(dr=0;dr<rr.length;dr++){if(or=rr[dr],ir=or.instance,lr=or.currentTarget,or=or.listener,ir!==ar&&nr.isPropagationStopped())break e;nf(nr,or,lr),ar=ir}}}if(Qb)throw St=Rb,Qb=!1,Rb=null,St}function D$2(St,er){var tr=er[of];tr===void 0&&(tr=er[of]=new Set);var rr=St+"__bubble";tr.has(rr)||(pf(er,St,2,!1),tr.add(rr))}function qf(St,er,tr){var rr=0;er&&(rr|=4),pf(tr,St,rr,er)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(St){if(!St[rf]){St[rf]=!0,da.forEach(function(tr){tr!=="selectionchange"&&(mf.has(tr)||qf(tr,!1,St),qf(tr,!0,St))});var er=St.nodeType===9?St:St.ownerDocument;er===null||er[rf]||(er[rf]=!0,qf("selectionchange",!1,er))}}function pf(St,er,tr,rr){switch(jd(er)){case 1:var nr=ed;break;case 4:nr=gd;break;default:nr=fd$1}tr=nr.bind(null,er,tr,St),nr=void 0,!Lb||er!=="touchstart"&&er!=="touchmove"&&er!=="wheel"||(nr=!0),rr?nr!==void 0?St.addEventListener(er,tr,{capture:!0,passive:nr}):St.addEventListener(er,tr,!0):nr!==void 0?St.addEventListener(er,tr,{passive:nr}):St.addEventListener(er,tr,!1)}function hd(St,er,tr,rr,nr){var ar=rr;if((er&1)===0&&(er&2)===0&&rr!==null)e:for(;;){if(rr===null)return;var dr=rr.tag;if(dr===3||dr===4){var or=rr.stateNode.containerInfo;if(or===nr||or.nodeType===8&&or.parentNode===nr)break;if(dr===4)for(dr=rr.return;dr!==null;){var ir=dr.tag;if((ir===3||ir===4)&&(ir=dr.stateNode.containerInfo,ir===nr||ir.nodeType===8&&ir.parentNode===nr))return;dr=dr.return}for(;or!==null;){if(dr=Wc(or),dr===null)return;if(ir=dr.tag,ir===5||ir===6){rr=ar=dr;continue e}or=or.parentNode}}rr=rr.return}Jb(function(){var lr=ar,fr=xb(tr),cr=[];e:{var ur=df.get(St);if(ur!==void 0){var sr=td,hr=St;switch(St){case"keypress":if(od(tr)===0)break e;case"keydown":case"keyup":sr=Rd;break;case"focusin":hr="focus",sr=Fd;break;case"focusout":hr="blur",sr=Fd;break;case"beforeblur":case"afterblur":sr=Fd;break;case"click":if(tr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sr=Vd;break;case $e:case af:case bf:sr=Hd;break;case cf:sr=Xd;break;case"scroll":sr=vd;break;case"wheel":sr=Zd;break;case"copy":case"cut":case"paste":sr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sr=Td}var gr=(er&4)!==0,pr=!gr&&St==="scroll",mr=gr?ur!==null?ur+"Capture":null:ur;gr=[];for(var vr=lr,yr;vr!==null;){yr=vr;var br=yr.stateNode;if(yr.tag===5&&br!==null&&(yr=br,mr!==null&&(br=Kb(vr,mr),br!=null&&gr.push(tf(vr,br,yr)))),pr)break;vr=vr.return}0<gr.length&&(ur=new sr(ur,hr,null,tr,fr),cr.push({event:ur,listeners:gr}))}}if((er&7)===0){e:{if(ur=St==="mouseover"||St==="pointerover",sr=St==="mouseout"||St==="pointerout",ur&&tr!==wb&&(hr=tr.relatedTarget||tr.fromElement)&&(Wc(hr)||hr[uf]))break e;if((sr||ur)&&(ur=fr.window===fr?fr:(ur=fr.ownerDocument)?ur.defaultView||ur.parentWindow:window,sr?(hr=tr.relatedTarget||tr.toElement,sr=lr,hr=hr?Wc(hr):null,hr!==null&&(pr=Vb(hr),hr!==pr||hr.tag!==5&&hr.tag!==6)&&(hr=null)):(sr=null,hr=lr),sr!==hr)){if(gr=Bd,br="onMouseLeave",mr="onMouseEnter",vr="mouse",(St==="pointerout"||St==="pointerover")&&(gr=Td,br="onPointerLeave",mr="onPointerEnter",vr="pointer"),pr=sr==null?ur:ue$1(sr),yr=hr==null?ur:ue$1(hr),ur=new gr(br,vr+"leave",sr,tr,fr),ur.target=pr,ur.relatedTarget=yr,br=null,Wc(fr)===lr&&(gr=new gr(mr,vr+"enter",hr,tr,fr),gr.target=yr,gr.relatedTarget=pr,br=gr),pr=br,sr&&hr)t:{for(gr=sr,mr=hr,vr=0,yr=gr;yr;yr=vf(yr))vr++;for(yr=0,br=mr;br;br=vf(br))yr++;for(;0<vr-yr;)gr=vf(gr),vr--;for(;0<yr-vr;)mr=vf(mr),yr--;for(;vr--;){if(gr===mr||mr!==null&&gr===mr.alternate)break t;gr=vf(gr),mr=vf(mr)}gr=null}else gr=null;sr!==null&&wf(cr,ur,sr,gr,!1),hr!==null&&pr!==null&&wf(cr,pr,hr,gr,!0)}}e:{if(ur=lr?ue$1(lr):window,sr=ur.nodeName&&ur.nodeName.toLowerCase(),sr==="select"||sr==="input"&&ur.type==="file")var xr=ve$1;else if(me$1(ur))if(we$1)xr=Fe;else{xr=De;var Cr=Ce}else(sr=ur.nodeName)&&sr.toLowerCase()==="input"&&(ur.type==="checkbox"||ur.type==="radio")&&(xr=Ee);if(xr&&(xr=xr(St,lr))){ne$1(cr,xr,tr,fr);break e}Cr&&Cr(St,ur,lr),St==="focusout"&&(Cr=ur._wrapperState)&&Cr.controlled&&ur.type==="number"&&cb$1(ur,"number",ur.value)}switch(Cr=lr?ue$1(lr):window,St){case"focusin":(me$1(Cr)||Cr.contentEditable==="true")&&(Qe=Cr,Re=lr,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(cr,tr,fr);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(cr,tr,fr)}var kr;if(ae$1)e:{switch(St){case"compositionstart":var Pr="onCompositionStart";break e;case"compositionend":Pr="onCompositionEnd";break e;case"compositionupdate":Pr="onCompositionUpdate";break e}Pr=void 0}else ie$1?ge$1(St,tr)&&(Pr="onCompositionEnd"):St==="keydown"&&tr.keyCode===229&&(Pr="onCompositionStart");Pr&&(de$1&&tr.locale!=="ko"&&(ie$1||Pr!=="onCompositionStart"?Pr==="onCompositionEnd"&&ie$1&&(kr=nd()):(kd=fr,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Cr=oe$1(lr,Pr),0<Cr.length&&(Pr=new Ld(Pr,St,null,tr,fr),cr.push({event:Pr,listeners:Cr}),kr?Pr.data=kr:(kr=he$1(tr),kr!==null&&(Pr.data=kr)))),(kr=ce$1?je(St,tr):ke(St,tr))&&(lr=oe$1(lr,"onBeforeInput"),0<lr.length&&(fr=new Ld("onBeforeInput","beforeinput",null,tr,fr),cr.push({event:fr,listeners:lr}),fr.data=kr))}se$1(cr,er)})}function tf(St,er,tr){return{instance:St,listener:er,currentTarget:tr}}function oe$1(St,er){for(var tr=er+"Capture",rr=[];St!==null;){var nr=St,ar=nr.stateNode;nr.tag===5&&ar!==null&&(nr=ar,ar=Kb(St,tr),ar!=null&&rr.unshift(tf(St,ar,nr)),ar=Kb(St,er),ar!=null&&rr.push(tf(St,ar,nr))),St=St.return}return rr}function vf(St){if(St===null)return null;do St=St.return;while(St&&St.tag!==5);return St||null}function wf(St,er,tr,rr,nr){for(var ar=er._reactName,dr=[];tr!==null&&tr!==rr;){var or=tr,ir=or.alternate,lr=or.stateNode;if(ir!==null&&ir===rr)break;or.tag===5&&lr!==null&&(or=lr,nr?(ir=Kb(tr,ar),ir!=null&&dr.unshift(tf(tr,ir,or))):nr||(ir=Kb(tr,ar),ir!=null&&dr.push(tf(tr,ir,or)))),tr=tr.return}dr.length!==0&&St.push({event:er,listeners:dr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(St){return(typeof St=="string"?St:""+St).replace(xf,`
`).replace(yf,"")}function Af(St,er,tr){if(er=zf(er),zf(St)!==er&&tr)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(St,er){return St==="textarea"||St==="noscript"||typeof er.children=="string"||typeof er.children=="number"||typeof er.dangerouslySetInnerHTML=="object"&&er.dangerouslySetInnerHTML!==null&&er.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(St){return Hf.resolve(null).then(St).catch(If)}:Ff;function If(St){setTimeout(function(){throw St})}function Kf(St,er){var tr=er,rr=0;do{var nr=tr.nextSibling;if(St.removeChild(tr),nr&&nr.nodeType===8)if(tr=nr.data,tr==="/$"){if(rr===0){St.removeChild(nr),bd(er);return}rr--}else tr!=="$"&&tr!=="$?"&&tr!=="$!"||rr++;tr=nr}while(tr);bd(er)}function Lf(St){for(;St!=null;St=St.nextSibling){var er=St.nodeType;if(er===1||er===3)break;if(er===8){if(er=St.data,er==="$"||er==="$!"||er==="$?")break;if(er==="/$")return null}}return St}function Mf(St){St=St.previousSibling;for(var er=0;St;){if(St.nodeType===8){var tr=St.data;if(tr==="$"||tr==="$!"||tr==="$?"){if(er===0)return St;er--}else tr==="/$"&&er++}St=St.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(St){var er=St[Of];if(er)return er;for(var tr=St.parentNode;tr;){if(er=tr[uf]||tr[Of]){if(tr=er.alternate,er.child!==null||tr!==null&&tr.child!==null)for(St=Mf(St);St!==null;){if(tr=St[Of])return tr;St=Mf(St)}return er}St=tr,tr=St.parentNode}return null}function Cb(St){return St=St[Of]||St[uf],!St||St.tag!==5&&St.tag!==6&&St.tag!==13&&St.tag!==3?null:St}function ue$1(St){if(St.tag===5||St.tag===6)return St.stateNode;throw Error(p$4(33))}function Db(St){return St[Pf]||null}var Sf=[],Tf=-1;function Uf(St){return{current:St}}function E$2(St){0>Tf||(St.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(St,er){Tf++,Sf[Tf]=St.current,St.current=er}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(St,er){var tr=St.type.contextTypes;if(!tr)return Vf;var rr=St.stateNode;if(rr&&rr.__reactInternalMemoizedUnmaskedChildContext===er)return rr.__reactInternalMemoizedMaskedChildContext;var nr={},ar;for(ar in tr)nr[ar]=er[ar];return rr&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=er,St.__reactInternalMemoizedMaskedChildContext=nr),nr}function Zf(St){return St=St.childContextTypes,St!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(St,er,tr){if(H$2.current!==Vf)throw Error(p$4(168));G$1(H$2,er),G$1(Wf,tr)}function bg(St,er,tr){var rr=St.stateNode;if(er=er.childContextTypes,typeof rr.getChildContext!="function")return tr;rr=rr.getChildContext();for(var nr in rr)if(!(nr in er))throw Error(p$4(108,Ra(St)||"Unknown",nr));return A$3({},tr,rr)}function cg(St){return St=(St=St.stateNode)&&St.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,St),G$1(Wf,Wf.current),!0}function dg(St,er,tr){var rr=St.stateNode;if(!rr)throw Error(p$4(169));tr?(St=bg(St,er,Xf),rr.__reactInternalMemoizedMergedChildContext=St,E$2(Wf),E$2(H$2),G$1(H$2,St)):E$2(Wf),G$1(Wf,tr)}var eg=null,fg=!1,gg=!1;function hg(St){eg===null?eg=[St]:eg.push(St)}function ig(St){fg=!0,hg(St)}function jg(){if(!gg&&eg!==null){gg=!0;var St=0,er=C$2;try{var tr=eg;for(C$2=1;St<tr.length;St++){var rr=tr[St];do rr=rr(!0);while(rr!==null)}eg=null,fg=!1}catch(nr){throw eg!==null&&(eg=eg.slice(St+1)),ac(fc,jg),nr}finally{C$2=er,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(St,er){kg[lg++]=ng,kg[lg++]=mg,mg=St,ng=er}function ug(St,er,tr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=St;var rr=rg;St=sg;var nr=32-oc(rr)-1;rr&=~(1<<nr),tr+=1;var ar=32-oc(er)+nr;if(30<ar){var dr=nr-nr%5;ar=(rr&(1<<dr)-1).toString(32),rr>>=dr,nr-=dr,rg=1<<32-oc(er)+nr|tr<<nr|rr,sg=ar+St}else rg=1<<ar|tr<<nr|rr,sg=St}function vg(St){St.return!==null&&(tg(St,1),ug(St,1,0))}function wg(St){for(;St===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;St===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(St,er){var tr=Bg(5,null,null,0);tr.elementType="DELETED",tr.stateNode=er,tr.return=St,er=St.deletions,er===null?(St.deletions=[tr],St.flags|=16):er.push(tr)}function Cg(St,er){switch(St.tag){case 5:var tr=St.type;return er=er.nodeType!==1||tr.toLowerCase()!==er.nodeName.toLowerCase()?null:er,er!==null?(St.stateNode=er,xg=St,yg=Lf(er.firstChild),!0):!1;case 6:return er=St.pendingProps===""||er.nodeType!==3?null:er,er!==null?(St.stateNode=er,xg=St,yg=null,!0):!1;case 13:return er=er.nodeType!==8?null:er,er!==null?(tr=qg!==null?{id:rg,overflow:sg}:null,St.memoizedState={dehydrated:er,treeContext:tr,retryLane:1073741824},tr=Bg(18,null,null,0),tr.stateNode=er,tr.return=St,St.child=tr,xg=St,yg=null,!0):!1;default:return!1}}function Dg(St){return(St.mode&1)!==0&&(St.flags&128)===0}function Eg(St){if(I$2){var er=yg;if(er){var tr=er;if(!Cg(St,er)){if(Dg(St))throw Error(p$4(418));er=Lf(tr.nextSibling);var rr=xg;er&&Cg(St,er)?Ag(rr,tr):(St.flags=St.flags&-4097|2,I$2=!1,xg=St)}}else{if(Dg(St))throw Error(p$4(418));St.flags=St.flags&-4097|2,I$2=!1,xg=St}}}function Fg(St){for(St=St.return;St!==null&&St.tag!==5&&St.tag!==3&&St.tag!==13;)St=St.return;xg=St}function Gg(St){if(St!==xg)return!1;if(!I$2)return Fg(St),I$2=!0,!1;var er;if((er=St.tag!==3)&&!(er=St.tag!==5)&&(er=St.type,er=er!=="head"&&er!=="body"&&!Ef(St.type,St.memoizedProps)),er&&(er=yg)){if(Dg(St))throw Hg(),Error(p$4(418));for(;er;)Ag(St,er),er=Lf(er.nextSibling)}if(Fg(St),St.tag===13){if(St=St.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(p$4(317));e:{for(St=St.nextSibling,er=0;St;){if(St.nodeType===8){var tr=St.data;if(tr==="/$"){if(er===0){yg=Lf(St.nextSibling);break e}er--}else tr!=="$"&&tr!=="$!"&&tr!=="$?"||er++}St=St.nextSibling}yg=null}}else yg=xg?Lf(St.stateNode.nextSibling):null;return!0}function Hg(){for(var St=yg;St;)St=Lf(St.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(St){zg===null?zg=[St]:zg.push(St)}var Kg=ua.ReactCurrentBatchConfig;function Lg(St,er){if(St&&St.defaultProps){er=A$3({},er),St=St.defaultProps;for(var tr in St)er[tr]===void 0&&(er[tr]=St[tr]);return er}return er}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(St){var er=Mg.current;E$2(Mg),St._currentValue=er}function Sg(St,er,tr){for(;St!==null;){var rr=St.alternate;if((St.childLanes&er)!==er?(St.childLanes|=er,rr!==null&&(rr.childLanes|=er)):rr!==null&&(rr.childLanes&er)!==er&&(rr.childLanes|=er),St===tr)break;St=St.return}}function Tg(St,er){Ng=St,Pg=Og=null,St=St.dependencies,St!==null&&St.firstContext!==null&&((St.lanes&er)!==0&&(Ug=!0),St.firstContext=null)}function Vg(St){var er=St._currentValue;if(Pg!==St)if(St={context:St,memoizedValue:er,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=St,Ng.dependencies={lanes:0,firstContext:St}}else Og=Og.next=St;return er}var Wg=null;function Xg(St){Wg===null?Wg=[St]:Wg.push(St)}function Yg(St,er,tr,rr){var nr=er.interleaved;return nr===null?(tr.next=tr,Xg(er)):(tr.next=nr.next,nr.next=tr),er.interleaved=tr,Zg(St,rr)}function Zg(St,er){St.lanes|=er;var tr=St.alternate;for(tr!==null&&(tr.lanes|=er),tr=St,St=St.return;St!==null;)St.childLanes|=er,tr=St.alternate,tr!==null&&(tr.childLanes|=er),tr=St,St=St.return;return tr.tag===3?tr.stateNode:null}var $g=!1;function ah(St){St.updateQueue={baseState:St.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(St,er){St=St.updateQueue,er.updateQueue===St&&(er.updateQueue={baseState:St.baseState,firstBaseUpdate:St.firstBaseUpdate,lastBaseUpdate:St.lastBaseUpdate,shared:St.shared,effects:St.effects})}function ch(St,er){return{eventTime:St,lane:er,tag:0,payload:null,callback:null,next:null}}function dh(St,er,tr){var rr=St.updateQueue;if(rr===null)return null;if(rr=rr.shared,(K$1&2)!==0){var nr=rr.pending;return nr===null?er.next=er:(er.next=nr.next,nr.next=er),rr.pending=er,Zg(St,tr)}return nr=rr.interleaved,nr===null?(er.next=er,Xg(rr)):(er.next=nr.next,nr.next=er),rr.interleaved=er,Zg(St,tr)}function eh(St,er,tr){if(er=er.updateQueue,er!==null&&(er=er.shared,(tr&4194240)!==0)){var rr=er.lanes;rr&=St.pendingLanes,tr|=rr,er.lanes=tr,Cc(St,tr)}}function fh(St,er){var tr=St.updateQueue,rr=St.alternate;if(rr!==null&&(rr=rr.updateQueue,tr===rr)){var nr=null,ar=null;if(tr=tr.firstBaseUpdate,tr!==null){do{var dr={eventTime:tr.eventTime,lane:tr.lane,tag:tr.tag,payload:tr.payload,callback:tr.callback,next:null};ar===null?nr=ar=dr:ar=ar.next=dr,tr=tr.next}while(tr!==null);ar===null?nr=ar=er:ar=ar.next=er}else nr=ar=er;tr={baseState:rr.baseState,firstBaseUpdate:nr,lastBaseUpdate:ar,shared:rr.shared,effects:rr.effects},St.updateQueue=tr;return}St=tr.lastBaseUpdate,St===null?tr.firstBaseUpdate=er:St.next=er,tr.lastBaseUpdate=er}function gh(St,er,tr,rr){var nr=St.updateQueue;$g=!1;var ar=nr.firstBaseUpdate,dr=nr.lastBaseUpdate,or=nr.shared.pending;if(or!==null){nr.shared.pending=null;var ir=or,lr=ir.next;ir.next=null,dr===null?ar=lr:dr.next=lr,dr=ir;var fr=St.alternate;fr!==null&&(fr=fr.updateQueue,or=fr.lastBaseUpdate,or!==dr&&(or===null?fr.firstBaseUpdate=lr:or.next=lr,fr.lastBaseUpdate=ir))}if(ar!==null){var cr=nr.baseState;dr=0,fr=lr=ir=null,or=ar;do{var ur=or.lane,sr=or.eventTime;if((rr&ur)===ur){fr!==null&&(fr=fr.next={eventTime:sr,lane:0,tag:or.tag,payload:or.payload,callback:or.callback,next:null});e:{var hr=St,gr=or;switch(ur=er,sr=tr,gr.tag){case 1:if(hr=gr.payload,typeof hr=="function"){cr=hr.call(sr,cr,ur);break e}cr=hr;break e;case 3:hr.flags=hr.flags&-65537|128;case 0:if(hr=gr.payload,ur=typeof hr=="function"?hr.call(sr,cr,ur):hr,ur==null)break e;cr=A$3({},cr,ur);break e;case 2:$g=!0}}or.callback!==null&&or.lane!==0&&(St.flags|=64,ur=nr.effects,ur===null?nr.effects=[or]:ur.push(or))}else sr={eventTime:sr,lane:ur,tag:or.tag,payload:or.payload,callback:or.callback,next:null},fr===null?(lr=fr=sr,ir=cr):fr=fr.next=sr,dr|=ur;if(or=or.next,or===null){if(or=nr.shared.pending,or===null)break;ur=or,or=ur.next,ur.next=null,nr.lastBaseUpdate=ur,nr.shared.pending=null}}while(1);if(fr===null&&(ir=cr),nr.baseState=ir,nr.firstBaseUpdate=lr,nr.lastBaseUpdate=fr,er=nr.shared.interleaved,er!==null){nr=er;do dr|=nr.lane,nr=nr.next;while(nr!==er)}else ar===null&&(nr.shared.lanes=0);hh|=dr,St.lanes=dr,St.memoizedState=cr}}function ih(St,er,tr){if(St=er.effects,er.effects=null,St!==null)for(er=0;er<St.length;er++){var rr=St[er],nr=rr.callback;if(nr!==null){if(rr.callback=null,rr=tr,typeof nr!="function")throw Error(p$4(191,nr));nr.call(rr)}}}var jh=new aa.Component().refs;function kh(St,er,tr,rr){er=St.memoizedState,tr=tr(rr,er),tr=tr==null?er:A$3({},er,tr),St.memoizedState=tr,St.lanes===0&&(St.updateQueue.baseState=tr)}var nh={isMounted:function(St){return(St=St._reactInternals)?Vb(St)===St:!1},enqueueSetState:function(St,er,tr){St=St._reactInternals;var rr=L$2(),nr=lh(St),ar=ch(rr,nr);ar.payload=er,tr!=null&&(ar.callback=tr),er=dh(St,ar,nr),er!==null&&(mh(er,St,nr,rr),eh(er,St,nr))},enqueueReplaceState:function(St,er,tr){St=St._reactInternals;var rr=L$2(),nr=lh(St),ar=ch(rr,nr);ar.tag=1,ar.payload=er,tr!=null&&(ar.callback=tr),er=dh(St,ar,nr),er!==null&&(mh(er,St,nr,rr),eh(er,St,nr))},enqueueForceUpdate:function(St,er){St=St._reactInternals;var tr=L$2(),rr=lh(St),nr=ch(tr,rr);nr.tag=2,er!=null&&(nr.callback=er),er=dh(St,nr,rr),er!==null&&(mh(er,St,rr,tr),eh(er,St,rr))}};function oh(St,er,tr,rr,nr,ar,dr){return St=St.stateNode,typeof St.shouldComponentUpdate=="function"?St.shouldComponentUpdate(rr,ar,dr):er.prototype&&er.prototype.isPureReactComponent?!Ie(tr,rr)||!Ie(nr,ar):!0}function ph(St,er,tr){var rr=!1,nr=Vf,ar=er.contextType;return typeof ar=="object"&&ar!==null?ar=Vg(ar):(nr=Zf(er)?Xf:H$2.current,rr=er.contextTypes,ar=(rr=rr!=null)?Yf(St,nr):Vf),er=new er(tr,ar),St.memoizedState=er.state!==null&&er.state!==void 0?er.state:null,er.updater=nh,St.stateNode=er,er._reactInternals=St,rr&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=nr,St.__reactInternalMemoizedMaskedChildContext=ar),er}function qh(St,er,tr,rr){St=er.state,typeof er.componentWillReceiveProps=="function"&&er.componentWillReceiveProps(tr,rr),typeof er.UNSAFE_componentWillReceiveProps=="function"&&er.UNSAFE_componentWillReceiveProps(tr,rr),er.state!==St&&nh.enqueueReplaceState(er,er.state,null)}function rh(St,er,tr,rr){var nr=St.stateNode;nr.props=tr,nr.state=St.memoizedState,nr.refs=jh,ah(St);var ar=er.contextType;typeof ar=="object"&&ar!==null?nr.context=Vg(ar):(ar=Zf(er)?Xf:H$2.current,nr.context=Yf(St,ar)),nr.state=St.memoizedState,ar=er.getDerivedStateFromProps,typeof ar=="function"&&(kh(St,er,ar,tr),nr.state=St.memoizedState),typeof er.getDerivedStateFromProps=="function"||typeof nr.getSnapshotBeforeUpdate=="function"||typeof nr.UNSAFE_componentWillMount!="function"&&typeof nr.componentWillMount!="function"||(er=nr.state,typeof nr.componentWillMount=="function"&&nr.componentWillMount(),typeof nr.UNSAFE_componentWillMount=="function"&&nr.UNSAFE_componentWillMount(),er!==nr.state&&nh.enqueueReplaceState(nr,nr.state,null),gh(St,tr,nr,rr),nr.state=St.memoizedState),typeof nr.componentDidMount=="function"&&(St.flags|=4194308)}function sh(St,er,tr){if(St=tr.ref,St!==null&&typeof St!="function"&&typeof St!="object"){if(tr._owner){if(tr=tr._owner,tr){if(tr.tag!==1)throw Error(p$4(309));var rr=tr.stateNode}if(!rr)throw Error(p$4(147,St));var nr=rr,ar=""+St;return er!==null&&er.ref!==null&&typeof er.ref=="function"&&er.ref._stringRef===ar?er.ref:(er=function(dr){var or=nr.refs;or===jh&&(or=nr.refs={}),dr===null?delete or[ar]:or[ar]=dr},er._stringRef=ar,er)}if(typeof St!="string")throw Error(p$4(284));if(!tr._owner)throw Error(p$4(290,St))}return St}function th(St,er){throw St=Object.prototype.toString.call(er),Error(p$4(31,St==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":St))}function uh(St){var er=St._init;return er(St._payload)}function vh$1(St){function er(mr,vr){if(St){var yr=mr.deletions;yr===null?(mr.deletions=[vr],mr.flags|=16):yr.push(vr)}}function tr(mr,vr){if(!St)return null;for(;vr!==null;)er(mr,vr),vr=vr.sibling;return null}function rr(mr,vr){for(mr=new Map;vr!==null;)vr.key!==null?mr.set(vr.key,vr):mr.set(vr.index,vr),vr=vr.sibling;return mr}function nr(mr,vr){return mr=wh(mr,vr),mr.index=0,mr.sibling=null,mr}function ar(mr,vr,yr){return mr.index=yr,St?(yr=mr.alternate,yr!==null?(yr=yr.index,yr<vr?(mr.flags|=2,vr):yr):(mr.flags|=2,vr)):(mr.flags|=1048576,vr)}function dr(mr){return St&&mr.alternate===null&&(mr.flags|=2),mr}function or(mr,vr,yr,br){return vr===null||vr.tag!==6?(vr=xh(yr,mr.mode,br),vr.return=mr,vr):(vr=nr(vr,yr),vr.return=mr,vr)}function ir(mr,vr,yr,br){var xr=yr.type;return xr===ya?fr(mr,vr,yr.props.children,br,yr.key):vr!==null&&(vr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===Ha&&uh(xr)===vr.type)?(br=nr(vr,yr.props),br.ref=sh(mr,vr,yr),br.return=mr,br):(br=yh(yr.type,yr.key,yr.props,null,mr.mode,br),br.ref=sh(mr,vr,yr),br.return=mr,br)}function lr(mr,vr,yr,br){return vr===null||vr.tag!==4||vr.stateNode.containerInfo!==yr.containerInfo||vr.stateNode.implementation!==yr.implementation?(vr=zh(yr,mr.mode,br),vr.return=mr,vr):(vr=nr(vr,yr.children||[]),vr.return=mr,vr)}function fr(mr,vr,yr,br,xr){return vr===null||vr.tag!==7?(vr=Ah(yr,mr.mode,br,xr),vr.return=mr,vr):(vr=nr(vr,yr),vr.return=mr,vr)}function cr(mr,vr,yr){if(typeof vr=="string"&&vr!==""||typeof vr=="number")return vr=xh(""+vr,mr.mode,yr),vr.return=mr,vr;if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return yr=yh(vr.type,vr.key,vr.props,null,mr.mode,yr),yr.ref=sh(mr,null,vr),yr.return=mr,yr;case wa:return vr=zh(vr,mr.mode,yr),vr.return=mr,vr;case Ha:var br=vr._init;return cr(mr,br(vr._payload),yr)}if(eb(vr)||Ka(vr))return vr=Ah(vr,mr.mode,yr,null),vr.return=mr,vr;th(mr,vr)}return null}function ur(mr,vr,yr,br){var xr=vr!==null?vr.key:null;if(typeof yr=="string"&&yr!==""||typeof yr=="number")return xr!==null?null:or(mr,vr,""+yr,br);if(typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case va:return yr.key===xr?ir(mr,vr,yr,br):null;case wa:return yr.key===xr?lr(mr,vr,yr,br):null;case Ha:return xr=yr._init,ur(mr,vr,xr(yr._payload),br)}if(eb(yr)||Ka(yr))return xr!==null?null:fr(mr,vr,yr,br,null);th(mr,yr)}return null}function sr(mr,vr,yr,br,xr){if(typeof br=="string"&&br!==""||typeof br=="number")return mr=mr.get(yr)||null,or(vr,mr,""+br,xr);if(typeof br=="object"&&br!==null){switch(br.$$typeof){case va:return mr=mr.get(br.key===null?yr:br.key)||null,ir(vr,mr,br,xr);case wa:return mr=mr.get(br.key===null?yr:br.key)||null,lr(vr,mr,br,xr);case Ha:var Cr=br._init;return sr(mr,vr,yr,Cr(br._payload),xr)}if(eb(br)||Ka(br))return mr=mr.get(yr)||null,fr(vr,mr,br,xr,null);th(vr,br)}return null}function hr(mr,vr,yr,br){for(var xr=null,Cr=null,kr=vr,Pr=vr=0,$r=null;kr!==null&&Pr<yr.length;Pr++){kr.index>Pr?($r=kr,kr=null):$r=kr.sibling;var Kr=ur(mr,kr,yr[Pr],br);if(Kr===null){kr===null&&(kr=$r);break}St&&kr&&Kr.alternate===null&&er(mr,kr),vr=ar(Kr,vr,Pr),Cr===null?xr=Kr:Cr.sibling=Kr,Cr=Kr,kr=$r}if(Pr===yr.length)return tr(mr,kr),I$2&&tg(mr,Pr),xr;if(kr===null){for(;Pr<yr.length;Pr++)kr=cr(mr,yr[Pr],br),kr!==null&&(vr=ar(kr,vr,Pr),Cr===null?xr=kr:Cr.sibling=kr,Cr=kr);return I$2&&tg(mr,Pr),xr}for(kr=rr(mr,kr);Pr<yr.length;Pr++)$r=sr(kr,mr,Pr,yr[Pr],br),$r!==null&&(St&&$r.alternate!==null&&kr.delete($r.key===null?Pr:$r.key),vr=ar($r,vr,Pr),Cr===null?xr=$r:Cr.sibling=$r,Cr=$r);return St&&kr.forEach(function(Ir){return er(mr,Ir)}),I$2&&tg(mr,Pr),xr}function gr(mr,vr,yr,br){var xr=Ka(yr);if(typeof xr!="function")throw Error(p$4(150));if(yr=xr.call(yr),yr==null)throw Error(p$4(151));for(var Cr=xr=null,kr=vr,Pr=vr=0,$r=null,Kr=yr.next();kr!==null&&!Kr.done;Pr++,Kr=yr.next()){kr.index>Pr?($r=kr,kr=null):$r=kr.sibling;var Ir=ur(mr,kr,Kr.value,br);if(Ir===null){kr===null&&(kr=$r);break}St&&kr&&Ir.alternate===null&&er(mr,kr),vr=ar(Ir,vr,Pr),Cr===null?xr=Ir:Cr.sibling=Ir,Cr=Ir,kr=$r}if(Kr.done)return tr(mr,kr),I$2&&tg(mr,Pr),xr;if(kr===null){for(;!Kr.done;Pr++,Kr=yr.next())Kr=cr(mr,Kr.value,br),Kr!==null&&(vr=ar(Kr,vr,Pr),Cr===null?xr=Kr:Cr.sibling=Kr,Cr=Kr);return I$2&&tg(mr,Pr),xr}for(kr=rr(mr,kr);!Kr.done;Pr++,Kr=yr.next())Kr=sr(kr,mr,Pr,Kr.value,br),Kr!==null&&(St&&Kr.alternate!==null&&kr.delete(Kr.key===null?Pr:Kr.key),vr=ar(Kr,vr,Pr),Cr===null?xr=Kr:Cr.sibling=Kr,Cr=Kr);return St&&kr.forEach(function(jr){return er(mr,jr)}),I$2&&tg(mr,Pr),xr}function pr(mr,vr,yr,br){if(typeof yr=="object"&&yr!==null&&yr.type===ya&&yr.key===null&&(yr=yr.props.children),typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case va:e:{for(var xr=yr.key,Cr=vr;Cr!==null;){if(Cr.key===xr){if(xr=yr.type,xr===ya){if(Cr.tag===7){tr(mr,Cr.sibling),vr=nr(Cr,yr.props.children),vr.return=mr,mr=vr;break e}}else if(Cr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===Ha&&uh(xr)===Cr.type){tr(mr,Cr.sibling),vr=nr(Cr,yr.props),vr.ref=sh(mr,Cr,yr),vr.return=mr,mr=vr;break e}tr(mr,Cr);break}else er(mr,Cr);Cr=Cr.sibling}yr.type===ya?(vr=Ah(yr.props.children,mr.mode,br,yr.key),vr.return=mr,mr=vr):(br=yh(yr.type,yr.key,yr.props,null,mr.mode,br),br.ref=sh(mr,vr,yr),br.return=mr,mr=br)}return dr(mr);case wa:e:{for(Cr=yr.key;vr!==null;){if(vr.key===Cr)if(vr.tag===4&&vr.stateNode.containerInfo===yr.containerInfo&&vr.stateNode.implementation===yr.implementation){tr(mr,vr.sibling),vr=nr(vr,yr.children||[]),vr.return=mr,mr=vr;break e}else{tr(mr,vr);break}else er(mr,vr);vr=vr.sibling}vr=zh(yr,mr.mode,br),vr.return=mr,mr=vr}return dr(mr);case Ha:return Cr=yr._init,pr(mr,vr,Cr(yr._payload),br)}if(eb(yr))return hr(mr,vr,yr,br);if(Ka(yr))return gr(mr,vr,yr,br);th(mr,yr)}return typeof yr=="string"&&yr!==""||typeof yr=="number"?(yr=""+yr,vr!==null&&vr.tag===6?(tr(mr,vr.sibling),vr=nr(vr,yr),vr.return=mr,mr=vr):(tr(mr,vr),vr=xh(yr,mr.mode,br),vr.return=mr,mr=vr),dr(mr)):tr(mr,vr)}return pr}var Bh=vh$1(!0),Ch=vh$1(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(St){if(St===Dh)throw Error(p$4(174));return St}function Ih(St,er){switch(G$1(Gh,er),G$1(Fh,St),G$1(Eh,Dh),St=er.nodeType,St){case 9:case 11:er=(er=er.documentElement)?er.namespaceURI:lb(null,"");break;default:St=St===8?er.parentNode:er,er=St.namespaceURI||null,St=St.tagName,er=lb(er,St)}E$2(Eh),G$1(Eh,er)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(St){Hh(Gh.current);var er=Hh(Eh.current),tr=lb(er,St.type);er!==tr&&(G$1(Fh,St),G$1(Eh,tr))}function Lh(St){Fh.current===St&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(St){for(var er=St;er!==null;){if(er.tag===13){var tr=er.memoizedState;if(tr!==null&&(tr=tr.dehydrated,tr===null||tr.data==="$?"||tr.data==="$!"))return er}else if(er.tag===19&&er.memoizedProps.revealOrder!==void 0){if((er.flags&128)!==0)return er}else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===St)break;for(;er.sibling===null;){if(er.return===null||er.return===St)return null;er=er.return}er.sibling.return=er.return,er=er.sibling}return null}var Nh=[];function Oh(){for(var St=0;St<Nh.length;St++)Nh[St]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$4(321))}function Wh(St,er){if(er===null)return!1;for(var tr=0;tr<er.length&&tr<St.length;tr++)if(!He(St[tr],er[tr]))return!1;return!0}function Xh(St,er,tr,rr,nr,ar){if(Rh=ar,N$2=er,er.memoizedState=null,er.updateQueue=null,er.lanes=0,Ph.current=St===null||St.memoizedState===null?Yh:Zh,St=tr(rr,nr),Th){ar=0;do{if(Th=!1,Uh=0,25<=ar)throw Error(p$4(301));ar+=1,P$2=O$2=null,er.updateQueue=null,Ph.current=$h,St=tr(rr,nr)}while(Th)}if(Ph.current=ai,er=O$2!==null&&O$2.next!==null,Rh=0,P$2=O$2=N$2=null,Sh=!1,er)throw Error(p$4(300));return St}function bi(){var St=Uh!==0;return Uh=0,St}function ci(){var St={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=St:P$2=P$2.next=St,P$2}function di(){if(O$2===null){var St=N$2.alternate;St=St!==null?St.memoizedState:null}else St=O$2.next;var er=P$2===null?N$2.memoizedState:P$2.next;if(er!==null)P$2=er,O$2=St;else{if(St===null)throw Error(p$4(310));O$2=St,St={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$2===null?N$2.memoizedState=P$2=St:P$2=P$2.next=St}return P$2}function ei(St,er){return typeof er=="function"?er(St):er}function fi(St){var er=di(),tr=er.queue;if(tr===null)throw Error(p$4(311));tr.lastRenderedReducer=St;var rr=O$2,nr=rr.baseQueue,ar=tr.pending;if(ar!==null){if(nr!==null){var dr=nr.next;nr.next=ar.next,ar.next=dr}rr.baseQueue=nr=ar,tr.pending=null}if(nr!==null){ar=nr.next,rr=rr.baseState;var or=dr=null,ir=null,lr=ar;do{var fr=lr.lane;if((Rh&fr)===fr)ir!==null&&(ir=ir.next={lane:0,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null}),rr=lr.hasEagerState?lr.eagerState:St(rr,lr.action);else{var cr={lane:fr,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null};ir===null?(or=ir=cr,dr=rr):ir=ir.next=cr,N$2.lanes|=fr,hh|=fr}lr=lr.next}while(lr!==null&&lr!==ar);ir===null?dr=rr:ir.next=or,He(rr,er.memoizedState)||(Ug=!0),er.memoizedState=rr,er.baseState=dr,er.baseQueue=ir,tr.lastRenderedState=rr}if(St=tr.interleaved,St!==null){nr=St;do ar=nr.lane,N$2.lanes|=ar,hh|=ar,nr=nr.next;while(nr!==St)}else nr===null&&(tr.lanes=0);return[er.memoizedState,tr.dispatch]}function gi(St){var er=di(),tr=er.queue;if(tr===null)throw Error(p$4(311));tr.lastRenderedReducer=St;var rr=tr.dispatch,nr=tr.pending,ar=er.memoizedState;if(nr!==null){tr.pending=null;var dr=nr=nr.next;do ar=St(ar,dr.action),dr=dr.next;while(dr!==nr);He(ar,er.memoizedState)||(Ug=!0),er.memoizedState=ar,er.baseQueue===null&&(er.baseState=ar),tr.lastRenderedState=ar}return[ar,rr]}function hi(){}function ii(St,er){var tr=N$2,rr=di(),nr=er(),ar=!He(rr.memoizedState,nr);if(ar&&(rr.memoizedState=nr,Ug=!0),rr=rr.queue,ji(ki.bind(null,tr,rr,St),[St]),rr.getSnapshot!==er||ar||P$2!==null&&P$2.memoizedState.tag&1){if(tr.flags|=2048,li(9,mi.bind(null,tr,rr,nr,er),void 0,null),R$2===null)throw Error(p$4(349));(Rh&30)!==0||ni(tr,er,nr)}return nr}function ni(St,er,tr){St.flags|=16384,St={getSnapshot:er,value:tr},er=N$2.updateQueue,er===null?(er={lastEffect:null,stores:null},N$2.updateQueue=er,er.stores=[St]):(tr=er.stores,tr===null?er.stores=[St]:tr.push(St))}function mi(St,er,tr,rr){er.value=tr,er.getSnapshot=rr,oi(er)&&pi(St)}function ki(St,er,tr){return tr(function(){oi(er)&&pi(St)})}function oi(St){var er=St.getSnapshot;St=St.value;try{var tr=er();return!He(St,tr)}catch{return!0}}function pi(St){var er=Zg(St,1);er!==null&&mh(er,St,1,-1)}function qi(St){var er=ci();return typeof St=="function"&&(St=St()),er.memoizedState=er.baseState=St,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:St},er.queue=St,St=St.dispatch=ri.bind(null,N$2,St),[er.memoizedState,St]}function li(St,er,tr,rr){return St={tag:St,create:er,destroy:tr,deps:rr,next:null},er=N$2.updateQueue,er===null?(er={lastEffect:null,stores:null},N$2.updateQueue=er,er.lastEffect=St.next=St):(tr=er.lastEffect,tr===null?er.lastEffect=St.next=St:(rr=tr.next,tr.next=St,St.next=rr,er.lastEffect=St)),St}function si(){return di().memoizedState}function ti(St,er,tr,rr){var nr=ci();N$2.flags|=St,nr.memoizedState=li(1|er,tr,void 0,rr===void 0?null:rr)}function ui(St,er,tr,rr){var nr=di();rr=rr===void 0?null:rr;var ar=void 0;if(O$2!==null){var dr=O$2.memoizedState;if(ar=dr.destroy,rr!==null&&Wh(rr,dr.deps)){nr.memoizedState=li(er,tr,ar,rr);return}}N$2.flags|=St,nr.memoizedState=li(1|er,tr,ar,rr)}function vi(St,er){return ti(8390656,8,St,er)}function ji(St,er){return ui(2048,8,St,er)}function wi(St,er){return ui(4,2,St,er)}function xi(St,er){return ui(4,4,St,er)}function yi(St,er){if(typeof er=="function")return St=St(),er(St),function(){er(null)};if(er!=null)return St=St(),er.current=St,function(){er.current=null}}function zi(St,er,tr){return tr=tr!=null?tr.concat([St]):null,ui(4,4,yi.bind(null,er,St),tr)}function Ai(){}function Bi(St,er){var tr=di();er=er===void 0?null:er;var rr=tr.memoizedState;return rr!==null&&er!==null&&Wh(er,rr[1])?rr[0]:(tr.memoizedState=[St,er],St)}function Ci(St,er){var tr=di();er=er===void 0?null:er;var rr=tr.memoizedState;return rr!==null&&er!==null&&Wh(er,rr[1])?rr[0]:(St=St(),tr.memoizedState=[St,er],St)}function Di(St,er,tr){return(Rh&21)===0?(St.baseState&&(St.baseState=!1,Ug=!0),St.memoizedState=tr):(He(tr,er)||(tr=yc(),N$2.lanes|=tr,hh|=tr,St.baseState=!0),er)}function Ei(St,er){var tr=C$2;C$2=tr!==0&&4>tr?tr:4,St(!0);var rr=Qh.transition;Qh.transition={};try{St(!1),er()}finally{C$2=tr,Qh.transition=rr}}function Fi(){return di().memoizedState}function Gi(St,er,tr){var rr=lh(St);if(tr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null},Hi(St))Ii(er,tr);else if(tr=Yg(St,er,tr,rr),tr!==null){var nr=L$2();mh(tr,St,rr,nr),Ji(tr,er,rr)}}function ri(St,er,tr){var rr=lh(St),nr={lane:rr,action:tr,hasEagerState:!1,eagerState:null,next:null};if(Hi(St))Ii(er,nr);else{var ar=St.alternate;if(St.lanes===0&&(ar===null||ar.lanes===0)&&(ar=er.lastRenderedReducer,ar!==null))try{var dr=er.lastRenderedState,or=ar(dr,tr);if(nr.hasEagerState=!0,nr.eagerState=or,He(or,dr)){var ir=er.interleaved;ir===null?(nr.next=nr,Xg(er)):(nr.next=ir.next,ir.next=nr),er.interleaved=nr;return}}catch{}finally{}tr=Yg(St,er,nr,rr),tr!==null&&(nr=L$2(),mh(tr,St,rr,nr),Ji(tr,er,rr))}}function Hi(St){var er=St.alternate;return St===N$2||er!==null&&er===N$2}function Ii(St,er){Th=Sh=!0;var tr=St.pending;tr===null?er.next=er:(er.next=tr.next,tr.next=er),St.pending=er}function Ji(St,er,tr){if((tr&4194240)!==0){var rr=er.lanes;rr&=St.pendingLanes,tr|=rr,er.lanes=tr,Cc(St,tr)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(St,er){return ci().memoizedState=[St,er===void 0?null:er],St},useContext:Vg,useEffect:vi,useImperativeHandle:function(St,er,tr){return tr=tr!=null?tr.concat([St]):null,ti(4194308,4,yi.bind(null,er,St),tr)},useLayoutEffect:function(St,er){return ti(4194308,4,St,er)},useInsertionEffect:function(St,er){return ti(4,2,St,er)},useMemo:function(St,er){var tr=ci();return er=er===void 0?null:er,St=St(),tr.memoizedState=[St,er],St},useReducer:function(St,er,tr){var rr=ci();return er=tr!==void 0?tr(er):er,rr.memoizedState=rr.baseState=er,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:St,lastRenderedState:er},rr.queue=St,St=St.dispatch=Gi.bind(null,N$2,St),[rr.memoizedState,St]},useRef:function(St){var er=ci();return St={current:St},er.memoizedState=St},useState:qi,useDebugValue:Ai,useDeferredValue:function(St){return ci().memoizedState=St},useTransition:function(){var St=qi(!1),er=St[0];return St=Ei.bind(null,St[1]),ci().memoizedState=St,[er,St]},useMutableSource:function(){},useSyncExternalStore:function(St,er,tr){var rr=N$2,nr=ci();if(I$2){if(tr===void 0)throw Error(p$4(407));tr=tr()}else{if(tr=er(),R$2===null)throw Error(p$4(349));(Rh&30)!==0||ni(rr,er,tr)}nr.memoizedState=tr;var ar={value:tr,getSnapshot:er};return nr.queue=ar,vi(ki.bind(null,rr,ar,St),[St]),rr.flags|=2048,li(9,mi.bind(null,rr,ar,tr,er),void 0,null),tr},useId:function(){var St=ci(),er=R$2.identifierPrefix;if(I$2){var tr=sg,rr=rg;tr=(rr&~(1<<32-oc(rr)-1)).toString(32)+tr,er=":"+er+"R"+tr,tr=Uh++,0<tr&&(er+="H"+tr.toString(32)),er+=":"}else tr=Vh++,er=":"+er+"r"+tr.toString(32)+":";return St.memoizedState=er},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(St){var er=di();return Di(er,O$2.memoizedState,St)},useTransition:function(){var St=fi(ei)[0],er=di().memoizedState;return[St,er]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(St){var er=di();return O$2===null?er.memoizedState=St:Di(er,O$2.memoizedState,St)},useTransition:function(){var St=gi(ei)[0],er=di().memoizedState;return[St,er]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(St,er){try{var tr="",rr=er;do tr+=Pa(rr),rr=rr.return;while(rr);var nr=tr}catch(ar){nr=`
Error generating stack: `+ar.message+`
`+ar.stack}return{value:St,source:er,stack:nr,digest:null}}function Li(St,er,tr){return{value:St,source:null,stack:tr??null,digest:er??null}}function Mi(St,er){try{console.error(er.value)}catch(tr){setTimeout(function(){throw tr})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(St,er,tr){tr=ch(-1,tr),tr.tag=3,tr.payload={element:null};var rr=er.value;return tr.callback=function(){Pi||(Pi=!0,Qi=rr),Mi(St,er)},tr}function Ri(St,er,tr){tr=ch(-1,tr),tr.tag=3;var rr=St.type.getDerivedStateFromError;if(typeof rr=="function"){var nr=er.value;tr.payload=function(){return rr(nr)},tr.callback=function(){Mi(St,er)}}var ar=St.stateNode;return ar!==null&&typeof ar.componentDidCatch=="function"&&(tr.callback=function(){Mi(St,er),typeof rr!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var dr=er.stack;this.componentDidCatch(er.value,{componentStack:dr!==null?dr:""})}),tr}function Ti(St,er,tr){var rr=St.pingCache;if(rr===null){rr=St.pingCache=new Ni;var nr=new Set;rr.set(er,nr)}else nr=rr.get(er),nr===void 0&&(nr=new Set,rr.set(er,nr));nr.has(tr)||(nr.add(tr),St=Ui.bind(null,St,er,tr),er.then(St,St))}function Vi(St){do{var er;if((er=St.tag===13)&&(er=St.memoizedState,er=er!==null?er.dehydrated!==null:!0),er)return St;St=St.return}while(St!==null);return null}function Wi(St,er,tr,rr,nr){return(St.mode&1)===0?(St===er?St.flags|=65536:(St.flags|=128,tr.flags|=131072,tr.flags&=-52805,tr.tag===1&&(tr.alternate===null?tr.tag=17:(er=ch(-1,1),er.tag=2,dh(tr,er,1))),tr.lanes|=1),St):(St.flags|=65536,St.lanes=nr,St)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(St,er,tr,rr){er.child=St===null?Ch(er,null,tr,rr):Bh(er,St.child,tr,rr)}function Zi(St,er,tr,rr,nr){tr=tr.render;var ar=er.ref;return Tg(er,nr),rr=Xh(St,er,tr,rr,ar,nr),tr=bi(),St!==null&&!Ug?(er.updateQueue=St.updateQueue,er.flags&=-2053,St.lanes&=~nr,$i(St,er,nr)):(I$2&&tr&&vg(er),er.flags|=1,Yi(St,er,rr,nr),er.child)}function aj(St,er,tr,rr,nr){if(St===null){var ar=tr.type;return typeof ar=="function"&&!bj(ar)&&ar.defaultProps===void 0&&tr.compare===null&&tr.defaultProps===void 0?(er.tag=15,er.type=ar,cj(St,er,ar,rr,nr)):(St=yh(tr.type,null,rr,er,er.mode,nr),St.ref=er.ref,St.return=er,er.child=St)}if(ar=St.child,(St.lanes&nr)===0){var dr=ar.memoizedProps;if(tr=tr.compare,tr=tr!==null?tr:Ie,tr(dr,rr)&&St.ref===er.ref)return $i(St,er,nr)}return er.flags|=1,St=wh(ar,rr),St.ref=er.ref,St.return=er,er.child=St}function cj(St,er,tr,rr,nr){if(St!==null){var ar=St.memoizedProps;if(Ie(ar,rr)&&St.ref===er.ref)if(Ug=!1,er.pendingProps=rr=ar,(St.lanes&nr)!==0)(St.flags&131072)!==0&&(Ug=!0);else return er.lanes=St.lanes,$i(St,er,nr)}return dj(St,er,tr,rr,nr)}function ej(St,er,tr){var rr=er.pendingProps,nr=rr.children,ar=St!==null?St.memoizedState:null;if(rr.mode==="hidden")if((er.mode&1)===0)er.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tr;else{if((tr&1073741824)===0)return St=ar!==null?ar.baseLanes|tr:tr,er.lanes=er.childLanes=1073741824,er.memoizedState={baseLanes:St,cachePool:null,transitions:null},er.updateQueue=null,G$1(fj,gj),gj|=St,null;er.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr=ar!==null?ar.baseLanes:tr,G$1(fj,gj),gj|=rr}else ar!==null?(rr=ar.baseLanes|tr,er.memoizedState=null):rr=tr,G$1(fj,gj),gj|=rr;return Yi(St,er,nr,tr),er.child}function hj(St,er){var tr=er.ref;(St===null&&tr!==null||St!==null&&St.ref!==tr)&&(er.flags|=512,er.flags|=2097152)}function dj(St,er,tr,rr,nr){var ar=Zf(tr)?Xf:H$2.current;return ar=Yf(er,ar),Tg(er,nr),tr=Xh(St,er,tr,rr,ar,nr),rr=bi(),St!==null&&!Ug?(er.updateQueue=St.updateQueue,er.flags&=-2053,St.lanes&=~nr,$i(St,er,nr)):(I$2&&rr&&vg(er),er.flags|=1,Yi(St,er,tr,nr),er.child)}function ij(St,er,tr,rr,nr){if(Zf(tr)){var ar=!0;cg(er)}else ar=!1;if(Tg(er,nr),er.stateNode===null)jj(St,er),ph(er,tr,rr),rh(er,tr,rr,nr),rr=!0;else if(St===null){var dr=er.stateNode,or=er.memoizedProps;dr.props=or;var ir=dr.context,lr=tr.contextType;typeof lr=="object"&&lr!==null?lr=Vg(lr):(lr=Zf(tr)?Xf:H$2.current,lr=Yf(er,lr));var fr=tr.getDerivedStateFromProps,cr=typeof fr=="function"||typeof dr.getSnapshotBeforeUpdate=="function";cr||typeof dr.UNSAFE_componentWillReceiveProps!="function"&&typeof dr.componentWillReceiveProps!="function"||(or!==rr||ir!==lr)&&qh(er,dr,rr,lr),$g=!1;var ur=er.memoizedState;dr.state=ur,gh(er,rr,dr,nr),ir=er.memoizedState,or!==rr||ur!==ir||Wf.current||$g?(typeof fr=="function"&&(kh(er,tr,fr,rr),ir=er.memoizedState),(or=$g||oh(er,tr,or,rr,ur,ir,lr))?(cr||typeof dr.UNSAFE_componentWillMount!="function"&&typeof dr.componentWillMount!="function"||(typeof dr.componentWillMount=="function"&&dr.componentWillMount(),typeof dr.UNSAFE_componentWillMount=="function"&&dr.UNSAFE_componentWillMount()),typeof dr.componentDidMount=="function"&&(er.flags|=4194308)):(typeof dr.componentDidMount=="function"&&(er.flags|=4194308),er.memoizedProps=rr,er.memoizedState=ir),dr.props=rr,dr.state=ir,dr.context=lr,rr=or):(typeof dr.componentDidMount=="function"&&(er.flags|=4194308),rr=!1)}else{dr=er.stateNode,bh(St,er),or=er.memoizedProps,lr=er.type===er.elementType?or:Lg(er.type,or),dr.props=lr,cr=er.pendingProps,ur=dr.context,ir=tr.contextType,typeof ir=="object"&&ir!==null?ir=Vg(ir):(ir=Zf(tr)?Xf:H$2.current,ir=Yf(er,ir));var sr=tr.getDerivedStateFromProps;(fr=typeof sr=="function"||typeof dr.getSnapshotBeforeUpdate=="function")||typeof dr.UNSAFE_componentWillReceiveProps!="function"&&typeof dr.componentWillReceiveProps!="function"||(or!==cr||ur!==ir)&&qh(er,dr,rr,ir),$g=!1,ur=er.memoizedState,dr.state=ur,gh(er,rr,dr,nr);var hr=er.memoizedState;or!==cr||ur!==hr||Wf.current||$g?(typeof sr=="function"&&(kh(er,tr,sr,rr),hr=er.memoizedState),(lr=$g||oh(er,tr,lr,rr,ur,hr,ir)||!1)?(fr||typeof dr.UNSAFE_componentWillUpdate!="function"&&typeof dr.componentWillUpdate!="function"||(typeof dr.componentWillUpdate=="function"&&dr.componentWillUpdate(rr,hr,ir),typeof dr.UNSAFE_componentWillUpdate=="function"&&dr.UNSAFE_componentWillUpdate(rr,hr,ir)),typeof dr.componentDidUpdate=="function"&&(er.flags|=4),typeof dr.getSnapshotBeforeUpdate=="function"&&(er.flags|=1024)):(typeof dr.componentDidUpdate!="function"||or===St.memoizedProps&&ur===St.memoizedState||(er.flags|=4),typeof dr.getSnapshotBeforeUpdate!="function"||or===St.memoizedProps&&ur===St.memoizedState||(er.flags|=1024),er.memoizedProps=rr,er.memoizedState=hr),dr.props=rr,dr.state=hr,dr.context=ir,rr=lr):(typeof dr.componentDidUpdate!="function"||or===St.memoizedProps&&ur===St.memoizedState||(er.flags|=4),typeof dr.getSnapshotBeforeUpdate!="function"||or===St.memoizedProps&&ur===St.memoizedState||(er.flags|=1024),rr=!1)}return kj(St,er,tr,rr,ar,nr)}function kj(St,er,tr,rr,nr,ar){hj(St,er);var dr=(er.flags&128)!==0;if(!rr&&!dr)return nr&&dg(er,tr,!1),$i(St,er,ar);rr=er.stateNode,Xi.current=er;var or=dr&&typeof tr.getDerivedStateFromError!="function"?null:rr.render();return er.flags|=1,St!==null&&dr?(er.child=Bh(er,St.child,null,ar),er.child=Bh(er,null,or,ar)):Yi(St,er,or,ar),er.memoizedState=rr.state,nr&&dg(er,tr,!0),er.child}function lj(St){var er=St.stateNode;er.pendingContext?ag(St,er.pendingContext,er.pendingContext!==er.context):er.context&&ag(St,er.context,!1),Ih(St,er.containerInfo)}function mj(St,er,tr,rr,nr){return Ig(),Jg(nr),er.flags|=256,Yi(St,er,tr,rr),er.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(St){return{baseLanes:St,cachePool:null,transitions:null}}function pj(St,er,tr){var rr=er.pendingProps,nr=M$2.current,ar=!1,dr=(er.flags&128)!==0,or;if((or=dr)||(or=St!==null&&St.memoizedState===null?!1:(nr&2)!==0),or?(ar=!0,er.flags&=-129):(St===null||St.memoizedState!==null)&&(nr|=1),G$1(M$2,nr&1),St===null)return Eg(er),St=er.memoizedState,St!==null&&(St=St.dehydrated,St!==null)?((er.mode&1)===0?er.lanes=1:St.data==="$!"?er.lanes=8:er.lanes=1073741824,null):(dr=rr.children,St=rr.fallback,ar?(rr=er.mode,ar=er.child,dr={mode:"hidden",children:dr},(rr&1)===0&&ar!==null?(ar.childLanes=0,ar.pendingProps=dr):ar=qj(dr,rr,0,null),St=Ah(St,rr,tr,null),ar.return=er,St.return=er,ar.sibling=St,er.child=ar,er.child.memoizedState=oj(tr),er.memoizedState=nj,St):rj(er,dr));if(nr=St.memoizedState,nr!==null&&(or=nr.dehydrated,or!==null))return sj(St,er,dr,rr,or,nr,tr);if(ar){ar=rr.fallback,dr=er.mode,nr=St.child,or=nr.sibling;var ir={mode:"hidden",children:rr.children};return(dr&1)===0&&er.child!==nr?(rr=er.child,rr.childLanes=0,rr.pendingProps=ir,er.deletions=null):(rr=wh(nr,ir),rr.subtreeFlags=nr.subtreeFlags&14680064),or!==null?ar=wh(or,ar):(ar=Ah(ar,dr,tr,null),ar.flags|=2),ar.return=er,rr.return=er,rr.sibling=ar,er.child=rr,rr=ar,ar=er.child,dr=St.child.memoizedState,dr=dr===null?oj(tr):{baseLanes:dr.baseLanes|tr,cachePool:null,transitions:dr.transitions},ar.memoizedState=dr,ar.childLanes=St.childLanes&~tr,er.memoizedState=nj,rr}return ar=St.child,St=ar.sibling,rr=wh(ar,{mode:"visible",children:rr.children}),(er.mode&1)===0&&(rr.lanes=tr),rr.return=er,rr.sibling=null,St!==null&&(tr=er.deletions,tr===null?(er.deletions=[St],er.flags|=16):tr.push(St)),er.child=rr,er.memoizedState=null,rr}function rj(St,er){return er=qj({mode:"visible",children:er},St.mode,0,null),er.return=St,St.child=er}function tj(St,er,tr,rr){return rr!==null&&Jg(rr),Bh(er,St.child,null,tr),St=rj(er,er.pendingProps.children),St.flags|=2,er.memoizedState=null,St}function sj(St,er,tr,rr,nr,ar,dr){if(tr)return er.flags&256?(er.flags&=-257,rr=Li(Error(p$4(422))),tj(St,er,dr,rr)):er.memoizedState!==null?(er.child=St.child,er.flags|=128,null):(ar=rr.fallback,nr=er.mode,rr=qj({mode:"visible",children:rr.children},nr,0,null),ar=Ah(ar,nr,dr,null),ar.flags|=2,rr.return=er,ar.return=er,rr.sibling=ar,er.child=rr,(er.mode&1)!==0&&Bh(er,St.child,null,dr),er.child.memoizedState=oj(dr),er.memoizedState=nj,ar);if((er.mode&1)===0)return tj(St,er,dr,null);if(nr.data==="$!"){if(rr=nr.nextSibling&&nr.nextSibling.dataset,rr)var or=rr.dgst;return rr=or,ar=Error(p$4(419)),rr=Li(ar,rr,void 0),tj(St,er,dr,rr)}if(or=(dr&St.childLanes)!==0,Ug||or){if(rr=R$2,rr!==null){switch(dr&-dr){case 4:nr=2;break;case 16:nr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nr=32;break;case 536870912:nr=268435456;break;default:nr=0}nr=(nr&(rr.suspendedLanes|dr))!==0?0:nr,nr!==0&&nr!==ar.retryLane&&(ar.retryLane=nr,Zg(St,nr),mh(rr,St,nr,-1))}return uj(),rr=Li(Error(p$4(421))),tj(St,er,dr,rr)}return nr.data==="$?"?(er.flags|=128,er.child=St.child,er=vj.bind(null,St),nr._reactRetry=er,null):(St=ar.treeContext,yg=Lf(nr.nextSibling),xg=er,I$2=!0,zg=null,St!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=St.id,sg=St.overflow,qg=er),er=rj(er,rr.children),er.flags|=4096,er)}function wj(St,er,tr){St.lanes|=er;var rr=St.alternate;rr!==null&&(rr.lanes|=er),Sg(St.return,er,tr)}function xj(St,er,tr,rr,nr){var ar=St.memoizedState;ar===null?St.memoizedState={isBackwards:er,rendering:null,renderingStartTime:0,last:rr,tail:tr,tailMode:nr}:(ar.isBackwards=er,ar.rendering=null,ar.renderingStartTime=0,ar.last=rr,ar.tail=tr,ar.tailMode=nr)}function yj(St,er,tr){var rr=er.pendingProps,nr=rr.revealOrder,ar=rr.tail;if(Yi(St,er,rr.children,tr),rr=M$2.current,(rr&2)!==0)rr=rr&1|2,er.flags|=128;else{if(St!==null&&(St.flags&128)!==0)e:for(St=er.child;St!==null;){if(St.tag===13)St.memoizedState!==null&&wj(St,tr,er);else if(St.tag===19)wj(St,tr,er);else if(St.child!==null){St.child.return=St,St=St.child;continue}if(St===er)break e;for(;St.sibling===null;){if(St.return===null||St.return===er)break e;St=St.return}St.sibling.return=St.return,St=St.sibling}rr&=1}if(G$1(M$2,rr),(er.mode&1)===0)er.memoizedState=null;else switch(nr){case"forwards":for(tr=er.child,nr=null;tr!==null;)St=tr.alternate,St!==null&&Mh(St)===null&&(nr=tr),tr=tr.sibling;tr=nr,tr===null?(nr=er.child,er.child=null):(nr=tr.sibling,tr.sibling=null),xj(er,!1,nr,tr,ar);break;case"backwards":for(tr=null,nr=er.child,er.child=null;nr!==null;){if(St=nr.alternate,St!==null&&Mh(St)===null){er.child=nr;break}St=nr.sibling,nr.sibling=tr,tr=nr,nr=St}xj(er,!0,tr,null,ar);break;case"together":xj(er,!1,null,null,void 0);break;default:er.memoizedState=null}return er.child}function jj(St,er){(er.mode&1)===0&&St!==null&&(St.alternate=null,er.alternate=null,er.flags|=2)}function $i(St,er,tr){if(St!==null&&(er.dependencies=St.dependencies),hh|=er.lanes,(tr&er.childLanes)===0)return null;if(St!==null&&er.child!==St.child)throw Error(p$4(153));if(er.child!==null){for(St=er.child,tr=wh(St,St.pendingProps),er.child=tr,tr.return=er;St.sibling!==null;)St=St.sibling,tr=tr.sibling=wh(St,St.pendingProps),tr.return=er;tr.sibling=null}return er.child}function zj(St,er,tr){switch(er.tag){case 3:lj(er),Ig();break;case 5:Kh(er);break;case 1:Zf(er.type)&&cg(er);break;case 4:Ih(er,er.stateNode.containerInfo);break;case 10:var rr=er.type._context,nr=er.memoizedProps.value;G$1(Mg,rr._currentValue),rr._currentValue=nr;break;case 13:if(rr=er.memoizedState,rr!==null)return rr.dehydrated!==null?(G$1(M$2,M$2.current&1),er.flags|=128,null):(tr&er.child.childLanes)!==0?pj(St,er,tr):(G$1(M$2,M$2.current&1),St=$i(St,er,tr),St!==null?St.sibling:null);G$1(M$2,M$2.current&1);break;case 19:if(rr=(tr&er.childLanes)!==0,(St.flags&128)!==0){if(rr)return yj(St,er,tr);er.flags|=128}if(nr=er.memoizedState,nr!==null&&(nr.rendering=null,nr.tail=null,nr.lastEffect=null),G$1(M$2,M$2.current),rr)break;return null;case 22:case 23:return er.lanes=0,ej(St,er,tr)}return $i(St,er,tr)}var Aj,Bj,Cj,Dj;Aj=function(St,er){for(var tr=er.child;tr!==null;){if(tr.tag===5||tr.tag===6)St.appendChild(tr.stateNode);else if(tr.tag!==4&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===er)break;for(;tr.sibling===null;){if(tr.return===null||tr.return===er)return;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}};Bj=function(){};Cj=function(St,er,tr,rr){var nr=St.memoizedProps;if(nr!==rr){St=er.stateNode,Hh(Eh.current);var ar=null;switch(tr){case"input":nr=Ya(St,nr),rr=Ya(St,rr),ar=[];break;case"select":nr=A$3({},nr,{value:void 0}),rr=A$3({},rr,{value:void 0}),ar=[];break;case"textarea":nr=gb(St,nr),rr=gb(St,rr),ar=[];break;default:typeof nr.onClick!="function"&&typeof rr.onClick=="function"&&(St.onclick=Bf)}ub(tr,rr);var dr;tr=null;for(lr in nr)if(!rr.hasOwnProperty(lr)&&nr.hasOwnProperty(lr)&&nr[lr]!=null)if(lr==="style"){var or=nr[lr];for(dr in or)or.hasOwnProperty(dr)&&(tr||(tr={}),tr[dr]="")}else lr!=="dangerouslySetInnerHTML"&&lr!=="children"&&lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(ea.hasOwnProperty(lr)?ar||(ar=[]):(ar=ar||[]).push(lr,null));for(lr in rr){var ir=rr[lr];if(or=nr?.[lr],rr.hasOwnProperty(lr)&&ir!==or&&(ir!=null||or!=null))if(lr==="style")if(or){for(dr in or)!or.hasOwnProperty(dr)||ir&&ir.hasOwnProperty(dr)||(tr||(tr={}),tr[dr]="");for(dr in ir)ir.hasOwnProperty(dr)&&or[dr]!==ir[dr]&&(tr||(tr={}),tr[dr]=ir[dr])}else tr||(ar||(ar=[]),ar.push(lr,tr)),tr=ir;else lr==="dangerouslySetInnerHTML"?(ir=ir?ir.__html:void 0,or=or?or.__html:void 0,ir!=null&&or!==ir&&(ar=ar||[]).push(lr,ir)):lr==="children"?typeof ir!="string"&&typeof ir!="number"||(ar=ar||[]).push(lr,""+ir):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lr)?(ir!=null&&lr==="onScroll"&&D$2("scroll",St),ar||or===ir||(ar=[])):(ar=ar||[]).push(lr,ir))}tr&&(ar=ar||[]).push("style",tr);var lr=ar;(er.updateQueue=lr)&&(er.flags|=4)}};Dj=function(St,er,tr,rr){tr!==rr&&(er.flags|=4)};function Ej(St,er){if(!I$2)switch(St.tailMode){case"hidden":er=St.tail;for(var tr=null;er!==null;)er.alternate!==null&&(tr=er),er=er.sibling;tr===null?St.tail=null:tr.sibling=null;break;case"collapsed":tr=St.tail;for(var rr=null;tr!==null;)tr.alternate!==null&&(rr=tr),tr=tr.sibling;rr===null?er||St.tail===null?St.tail=null:St.tail.sibling=null:rr.sibling=null}}function S$2(St){var er=St.alternate!==null&&St.alternate.child===St.child,tr=0,rr=0;if(er)for(var nr=St.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags&14680064,rr|=nr.flags&14680064,nr.return=St,nr=nr.sibling;else for(nr=St.child;nr!==null;)tr|=nr.lanes|nr.childLanes,rr|=nr.subtreeFlags,rr|=nr.flags,nr.return=St,nr=nr.sibling;return St.subtreeFlags|=rr,St.childLanes=tr,er}function Fj(St,er,tr){var rr=er.pendingProps;switch(wg(er),er.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(er),null;case 1:return Zf(er.type)&&$f(),S$2(er),null;case 3:return rr=er.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),rr.pendingContext&&(rr.context=rr.pendingContext,rr.pendingContext=null),(St===null||St.child===null)&&(Gg(er)?er.flags|=4:St===null||St.memoizedState.isDehydrated&&(er.flags&256)===0||(er.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(St,er),S$2(er),null;case 5:Lh(er);var nr=Hh(Gh.current);if(tr=er.type,St!==null&&er.stateNode!=null)Cj(St,er,tr,rr,nr),St.ref!==er.ref&&(er.flags|=512,er.flags|=2097152);else{if(!rr){if(er.stateNode===null)throw Error(p$4(166));return S$2(er),null}if(St=Hh(Eh.current),Gg(er)){rr=er.stateNode,tr=er.type;var ar=er.memoizedProps;switch(rr[Of]=er,rr[Pf]=ar,St=(er.mode&1)!==0,tr){case"dialog":D$2("cancel",rr),D$2("close",rr);break;case"iframe":case"object":case"embed":D$2("load",rr);break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$2(lf[nr],rr);break;case"source":D$2("error",rr);break;case"img":case"image":case"link":D$2("error",rr),D$2("load",rr);break;case"details":D$2("toggle",rr);break;case"input":Za(rr,ar),D$2("invalid",rr);break;case"select":rr._wrapperState={wasMultiple:!!ar.multiple},D$2("invalid",rr);break;case"textarea":hb(rr,ar),D$2("invalid",rr)}ub(tr,ar),nr=null;for(var dr in ar)if(ar.hasOwnProperty(dr)){var or=ar[dr];dr==="children"?typeof or=="string"?rr.textContent!==or&&(ar.suppressHydrationWarning!==!0&&Af(rr.textContent,or,St),nr=["children",or]):typeof or=="number"&&rr.textContent!==""+or&&(ar.suppressHydrationWarning!==!0&&Af(rr.textContent,or,St),nr=["children",""+or]):ea.hasOwnProperty(dr)&&or!=null&&dr==="onScroll"&&D$2("scroll",rr)}switch(tr){case"input":Va(rr),db(rr,ar,!0);break;case"textarea":Va(rr),jb(rr);break;case"select":case"option":break;default:typeof ar.onClick=="function"&&(rr.onclick=Bf)}rr=nr,er.updateQueue=rr,rr!==null&&(er.flags|=4)}else{dr=nr.nodeType===9?nr:nr.ownerDocument,St==="http://www.w3.org/1999/xhtml"&&(St=kb(tr)),St==="http://www.w3.org/1999/xhtml"?tr==="script"?(St=dr.createElement("div"),St.innerHTML="<script><\/script>",St=St.removeChild(St.firstChild)):typeof rr.is=="string"?St=dr.createElement(tr,{is:rr.is}):(St=dr.createElement(tr),tr==="select"&&(dr=St,rr.multiple?dr.multiple=!0:rr.size&&(dr.size=rr.size))):St=dr.createElementNS(St,tr),St[Of]=er,St[Pf]=rr,Aj(St,er,!1,!1),er.stateNode=St;e:{switch(dr=vb(tr,rr),tr){case"dialog":D$2("cancel",St),D$2("close",St),nr=rr;break;case"iframe":case"object":case"embed":D$2("load",St),nr=rr;break;case"video":case"audio":for(nr=0;nr<lf.length;nr++)D$2(lf[nr],St);nr=rr;break;case"source":D$2("error",St),nr=rr;break;case"img":case"image":case"link":D$2("error",St),D$2("load",St),nr=rr;break;case"details":D$2("toggle",St),nr=rr;break;case"input":Za(St,rr),nr=Ya(St,rr),D$2("invalid",St);break;case"option":nr=rr;break;case"select":St._wrapperState={wasMultiple:!!rr.multiple},nr=A$3({},rr,{value:void 0}),D$2("invalid",St);break;case"textarea":hb(St,rr),nr=gb(St,rr),D$2("invalid",St);break;default:nr=rr}ub(tr,nr),or=nr;for(ar in or)if(or.hasOwnProperty(ar)){var ir=or[ar];ar==="style"?sb(St,ir):ar==="dangerouslySetInnerHTML"?(ir=ir?ir.__html:void 0,ir!=null&&nb(St,ir)):ar==="children"?typeof ir=="string"?(tr!=="textarea"||ir!=="")&&ob(St,ir):typeof ir=="number"&&ob(St,""+ir):ar!=="suppressContentEditableWarning"&&ar!=="suppressHydrationWarning"&&ar!=="autoFocus"&&(ea.hasOwnProperty(ar)?ir!=null&&ar==="onScroll"&&D$2("scroll",St):ir!=null&&ta(St,ar,ir,dr))}switch(tr){case"input":Va(St),db(St,rr,!1);break;case"textarea":Va(St),jb(St);break;case"option":rr.value!=null&&St.setAttribute("value",""+Sa(rr.value));break;case"select":St.multiple=!!rr.multiple,ar=rr.value,ar!=null?fb(St,!!rr.multiple,ar,!1):rr.defaultValue!=null&&fb(St,!!rr.multiple,rr.defaultValue,!0);break;default:typeof nr.onClick=="function"&&(St.onclick=Bf)}switch(tr){case"button":case"input":case"select":case"textarea":rr=!!rr.autoFocus;break e;case"img":rr=!0;break e;default:rr=!1}}rr&&(er.flags|=4)}er.ref!==null&&(er.flags|=512,er.flags|=2097152)}return S$2(er),null;case 6:if(St&&er.stateNode!=null)Dj(St,er,St.memoizedProps,rr);else{if(typeof rr!="string"&&er.stateNode===null)throw Error(p$4(166));if(tr=Hh(Gh.current),Hh(Eh.current),Gg(er)){if(rr=er.stateNode,tr=er.memoizedProps,rr[Of]=er,(ar=rr.nodeValue!==tr)&&(St=xg,St!==null))switch(St.tag){case 3:Af(rr.nodeValue,tr,(St.mode&1)!==0);break;case 5:St.memoizedProps.suppressHydrationWarning!==!0&&Af(rr.nodeValue,tr,(St.mode&1)!==0)}ar&&(er.flags|=4)}else rr=(tr.nodeType===9?tr:tr.ownerDocument).createTextNode(rr),rr[Of]=er,er.stateNode=rr}return S$2(er),null;case 13:if(E$2(M$2),rr=er.memoizedState,St===null||St.memoizedState!==null&&St.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&(er.mode&1)!==0&&(er.flags&128)===0)Hg(),Ig(),er.flags|=98560,ar=!1;else if(ar=Gg(er),rr!==null&&rr.dehydrated!==null){if(St===null){if(!ar)throw Error(p$4(318));if(ar=er.memoizedState,ar=ar!==null?ar.dehydrated:null,!ar)throw Error(p$4(317));ar[Of]=er}else Ig(),(er.flags&128)===0&&(er.memoizedState=null),er.flags|=4;S$2(er),ar=!1}else zg!==null&&(Gj(zg),zg=null),ar=!0;if(!ar)return er.flags&65536?er:null}return(er.flags&128)!==0?(er.lanes=tr,er):(rr=rr!==null,rr!==(St!==null&&St.memoizedState!==null)&&rr&&(er.child.flags|=8192,(er.mode&1)!==0&&(St===null||(M$2.current&1)!==0?T$2===0&&(T$2=3):uj())),er.updateQueue!==null&&(er.flags|=4),S$2(er),null);case 4:return Jh(),Bj(St,er),St===null&&sf(er.stateNode.containerInfo),S$2(er),null;case 10:return Rg(er.type._context),S$2(er),null;case 17:return Zf(er.type)&&$f(),S$2(er),null;case 19:if(E$2(M$2),ar=er.memoizedState,ar===null)return S$2(er),null;if(rr=(er.flags&128)!==0,dr=ar.rendering,dr===null)if(rr)Ej(ar,!1);else{if(T$2!==0||St!==null&&(St.flags&128)!==0)for(St=er.child;St!==null;){if(dr=Mh(St),dr!==null){for(er.flags|=128,Ej(ar,!1),rr=dr.updateQueue,rr!==null&&(er.updateQueue=rr,er.flags|=4),er.subtreeFlags=0,rr=tr,tr=er.child;tr!==null;)ar=tr,St=rr,ar.flags&=14680066,dr=ar.alternate,dr===null?(ar.childLanes=0,ar.lanes=St,ar.child=null,ar.subtreeFlags=0,ar.memoizedProps=null,ar.memoizedState=null,ar.updateQueue=null,ar.dependencies=null,ar.stateNode=null):(ar.childLanes=dr.childLanes,ar.lanes=dr.lanes,ar.child=dr.child,ar.subtreeFlags=0,ar.deletions=null,ar.memoizedProps=dr.memoizedProps,ar.memoizedState=dr.memoizedState,ar.updateQueue=dr.updateQueue,ar.type=dr.type,St=dr.dependencies,ar.dependencies=St===null?null:{lanes:St.lanes,firstContext:St.firstContext}),tr=tr.sibling;return G$1(M$2,M$2.current&1|2),er.child}St=St.sibling}ar.tail!==null&&B$2()>Hj&&(er.flags|=128,rr=!0,Ej(ar,!1),er.lanes=4194304)}else{if(!rr)if(St=Mh(dr),St!==null){if(er.flags|=128,rr=!0,tr=St.updateQueue,tr!==null&&(er.updateQueue=tr,er.flags|=4),Ej(ar,!0),ar.tail===null&&ar.tailMode==="hidden"&&!dr.alternate&&!I$2)return S$2(er),null}else 2*B$2()-ar.renderingStartTime>Hj&&tr!==1073741824&&(er.flags|=128,rr=!0,Ej(ar,!1),er.lanes=4194304);ar.isBackwards?(dr.sibling=er.child,er.child=dr):(tr=ar.last,tr!==null?tr.sibling=dr:er.child=dr,ar.last=dr)}return ar.tail!==null?(er=ar.tail,ar.rendering=er,ar.tail=er.sibling,ar.renderingStartTime=B$2(),er.sibling=null,tr=M$2.current,G$1(M$2,rr?tr&1|2:tr&1),er):(S$2(er),null);case 22:case 23:return Ij(),rr=er.memoizedState!==null,St!==null&&St.memoizedState!==null!==rr&&(er.flags|=8192),rr&&(er.mode&1)!==0?(gj&1073741824)!==0&&(S$2(er),er.subtreeFlags&6&&(er.flags|=8192)):S$2(er),null;case 24:return null;case 25:return null}throw Error(p$4(156,er.tag))}function Jj(St,er){switch(wg(er),er.tag){case 1:return Zf(er.type)&&$f(),St=er.flags,St&65536?(er.flags=St&-65537|128,er):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),St=er.flags,(St&65536)!==0&&(St&128)===0?(er.flags=St&-65537|128,er):null;case 5:return Lh(er),null;case 13:if(E$2(M$2),St=er.memoizedState,St!==null&&St.dehydrated!==null){if(er.alternate===null)throw Error(p$4(340));Ig()}return St=er.flags,St&65536?(er.flags=St&-65537|128,er):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(er.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(St,er){var tr=St.ref;if(tr!==null)if(typeof tr=="function")try{tr(null)}catch(rr){W$1(St,er,rr)}else tr.current=null}function Nj(St,er,tr){try{tr()}catch(rr){W$1(St,er,rr)}}var Oj=!1;function Pj(St,er){if(Cf=dd,St=Me(),Ne$1(St)){if("selectionStart"in St)var tr={start:St.selectionStart,end:St.selectionEnd};else e:{tr=(tr=St.ownerDocument)&&tr.defaultView||window;var rr=tr.getSelection&&tr.getSelection();if(rr&&rr.rangeCount!==0){tr=rr.anchorNode;var nr=rr.anchorOffset,ar=rr.focusNode;rr=rr.focusOffset;try{tr.nodeType,ar.nodeType}catch{tr=null;break e}var dr=0,or=-1,ir=-1,lr=0,fr=0,cr=St,ur=null;t:for(;;){for(var sr;cr!==tr||nr!==0&&cr.nodeType!==3||(or=dr+nr),cr!==ar||rr!==0&&cr.nodeType!==3||(ir=dr+rr),cr.nodeType===3&&(dr+=cr.nodeValue.length),(sr=cr.firstChild)!==null;)ur=cr,cr=sr;for(;;){if(cr===St)break t;if(ur===tr&&++lr===nr&&(or=dr),ur===ar&&++fr===rr&&(ir=dr),(sr=cr.nextSibling)!==null)break;cr=ur,ur=cr.parentNode}cr=sr}tr=or===-1||ir===-1?null:{start:or,end:ir}}else tr=null}tr=tr||{start:0,end:0}}else tr=null;for(Df={focusedElem:St,selectionRange:tr},dd=!1,V$1=er;V$1!==null;)if(er=V$1,St=er.child,(er.subtreeFlags&1028)!==0&&St!==null)St.return=er,V$1=St;else for(;V$1!==null;){er=V$1;try{var hr=er.alternate;if((er.flags&1024)!==0)switch(er.tag){case 0:case 11:case 15:break;case 1:if(hr!==null){var gr=hr.memoizedProps,pr=hr.memoizedState,mr=er.stateNode,vr=mr.getSnapshotBeforeUpdate(er.elementType===er.type?gr:Lg(er.type,gr),pr);mr.__reactInternalSnapshotBeforeUpdate=vr}break;case 3:var yr=er.stateNode.containerInfo;yr.nodeType===1?yr.textContent="":yr.nodeType===9&&yr.documentElement&&yr.removeChild(yr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(br){W$1(er,er.return,br)}if(St=er.sibling,St!==null){St.return=er.return,V$1=St;break}V$1=er.return}return hr=Oj,Oj=!1,hr}function Qj(St,er,tr){var rr=er.updateQueue;if(rr=rr!==null?rr.lastEffect:null,rr!==null){var nr=rr=rr.next;do{if((nr.tag&St)===St){var ar=nr.destroy;nr.destroy=void 0,ar!==void 0&&Nj(er,tr,ar)}nr=nr.next}while(nr!==rr)}}function Rj(St,er){if(er=er.updateQueue,er=er!==null?er.lastEffect:null,er!==null){var tr=er=er.next;do{if((tr.tag&St)===St){var rr=tr.create;tr.destroy=rr()}tr=tr.next}while(tr!==er)}}function Sj(St){var er=St.ref;if(er!==null){var tr=St.stateNode;switch(St.tag){case 5:St=tr;break;default:St=tr}typeof er=="function"?er(St):er.current=St}}function Tj(St){var er=St.alternate;er!==null&&(St.alternate=null,Tj(er)),St.child=null,St.deletions=null,St.sibling=null,St.tag===5&&(er=St.stateNode,er!==null&&(delete er[Of],delete er[Pf],delete er[of],delete er[Qf],delete er[Rf])),St.stateNode=null,St.return=null,St.dependencies=null,St.memoizedProps=null,St.memoizedState=null,St.pendingProps=null,St.stateNode=null,St.updateQueue=null}function Uj(St){return St.tag===5||St.tag===3||St.tag===4}function Vj(St){e:for(;;){for(;St.sibling===null;){if(St.return===null||Uj(St.return))return null;St=St.return}for(St.sibling.return=St.return,St=St.sibling;St.tag!==5&&St.tag!==6&&St.tag!==18;){if(St.flags&2||St.child===null||St.tag===4)continue e;St.child.return=St,St=St.child}if(!(St.flags&2))return St.stateNode}}function Wj(St,er,tr){var rr=St.tag;if(rr===5||rr===6)St=St.stateNode,er?tr.nodeType===8?tr.parentNode.insertBefore(St,er):tr.insertBefore(St,er):(tr.nodeType===8?(er=tr.parentNode,er.insertBefore(St,tr)):(er=tr,er.appendChild(St)),tr=tr._reactRootContainer,tr!=null||er.onclick!==null||(er.onclick=Bf));else if(rr!==4&&(St=St.child,St!==null))for(Wj(St,er,tr),St=St.sibling;St!==null;)Wj(St,er,tr),St=St.sibling}function Xj(St,er,tr){var rr=St.tag;if(rr===5||rr===6)St=St.stateNode,er?tr.insertBefore(St,er):tr.appendChild(St);else if(rr!==4&&(St=St.child,St!==null))for(Xj(St,er,tr),St=St.sibling;St!==null;)Xj(St,er,tr),St=St.sibling}var X$1=null,Yj=!1;function Zj(St,er,tr){for(tr=tr.child;tr!==null;)ak(St,er,tr),tr=tr.sibling}function ak(St,er,tr){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,tr)}catch{}switch(tr.tag){case 5:U$1||Mj(tr,er);case 6:var rr=X$1,nr=Yj;X$1=null,Zj(St,er,tr),X$1=rr,Yj=nr,X$1!==null&&(Yj?(St=X$1,tr=tr.stateNode,St.nodeType===8?St.parentNode.removeChild(tr):St.removeChild(tr)):X$1.removeChild(tr.stateNode));break;case 18:X$1!==null&&(Yj?(St=X$1,tr=tr.stateNode,St.nodeType===8?Kf(St.parentNode,tr):St.nodeType===1&&Kf(St,tr),bd(St)):Kf(X$1,tr.stateNode));break;case 4:rr=X$1,nr=Yj,X$1=tr.stateNode.containerInfo,Yj=!0,Zj(St,er,tr),X$1=rr,Yj=nr;break;case 0:case 11:case 14:case 15:if(!U$1&&(rr=tr.updateQueue,rr!==null&&(rr=rr.lastEffect,rr!==null))){nr=rr=rr.next;do{var ar=nr,dr=ar.destroy;ar=ar.tag,dr!==void 0&&((ar&2)!==0||(ar&4)!==0)&&Nj(tr,er,dr),nr=nr.next}while(nr!==rr)}Zj(St,er,tr);break;case 1:if(!U$1&&(Mj(tr,er),rr=tr.stateNode,typeof rr.componentWillUnmount=="function"))try{rr.props=tr.memoizedProps,rr.state=tr.memoizedState,rr.componentWillUnmount()}catch(or){W$1(tr,er,or)}Zj(St,er,tr);break;case 21:Zj(St,er,tr);break;case 22:tr.mode&1?(U$1=(rr=U$1)||tr.memoizedState!==null,Zj(St,er,tr),U$1=rr):Zj(St,er,tr);break;default:Zj(St,er,tr)}}function bk(St){var er=St.updateQueue;if(er!==null){St.updateQueue=null;var tr=St.stateNode;tr===null&&(tr=St.stateNode=new Lj),er.forEach(function(rr){var nr=ck.bind(null,St,rr);tr.has(rr)||(tr.add(rr),rr.then(nr,nr))})}}function dk(St,er){var tr=er.deletions;if(tr!==null)for(var rr=0;rr<tr.length;rr++){var nr=tr[rr];try{var ar=St,dr=er,or=dr;e:for(;or!==null;){switch(or.tag){case 5:X$1=or.stateNode,Yj=!1;break e;case 3:X$1=or.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=or.stateNode.containerInfo,Yj=!0;break e}or=or.return}if(X$1===null)throw Error(p$4(160));ak(ar,dr,nr),X$1=null,Yj=!1;var ir=nr.alternate;ir!==null&&(ir.return=null),nr.return=null}catch(lr){W$1(nr,er,lr)}}if(er.subtreeFlags&12854)for(er=er.child;er!==null;)ek(er,St),er=er.sibling}function ek(St,er){var tr=St.alternate,rr=St.flags;switch(St.tag){case 0:case 11:case 14:case 15:if(dk(er,St),fk(St),rr&4){try{Qj(3,St,St.return),Rj(3,St)}catch(gr){W$1(St,St.return,gr)}try{Qj(5,St,St.return)}catch(gr){W$1(St,St.return,gr)}}break;case 1:dk(er,St),fk(St),rr&512&&tr!==null&&Mj(tr,tr.return);break;case 5:if(dk(er,St),fk(St),rr&512&&tr!==null&&Mj(tr,tr.return),St.flags&32){var nr=St.stateNode;try{ob(nr,"")}catch(gr){W$1(St,St.return,gr)}}if(rr&4&&(nr=St.stateNode,nr!=null)){var ar=St.memoizedProps,dr=tr!==null?tr.memoizedProps:ar,or=St.type,ir=St.updateQueue;if(St.updateQueue=null,ir!==null)try{or==="input"&&ar.type==="radio"&&ar.name!=null&&ab(nr,ar),vb(or,dr);var lr=vb(or,ar);for(dr=0;dr<ir.length;dr+=2){var fr=ir[dr],cr=ir[dr+1];fr==="style"?sb(nr,cr):fr==="dangerouslySetInnerHTML"?nb(nr,cr):fr==="children"?ob(nr,cr):ta(nr,fr,cr,lr)}switch(or){case"input":bb(nr,ar);break;case"textarea":ib(nr,ar);break;case"select":var ur=nr._wrapperState.wasMultiple;nr._wrapperState.wasMultiple=!!ar.multiple;var sr=ar.value;sr!=null?fb(nr,!!ar.multiple,sr,!1):ur!==!!ar.multiple&&(ar.defaultValue!=null?fb(nr,!!ar.multiple,ar.defaultValue,!0):fb(nr,!!ar.multiple,ar.multiple?[]:"",!1))}nr[Pf]=ar}catch(gr){W$1(St,St.return,gr)}}break;case 6:if(dk(er,St),fk(St),rr&4){if(St.stateNode===null)throw Error(p$4(162));nr=St.stateNode,ar=St.memoizedProps;try{nr.nodeValue=ar}catch(gr){W$1(St,St.return,gr)}}break;case 3:if(dk(er,St),fk(St),rr&4&&tr!==null&&tr.memoizedState.isDehydrated)try{bd(er.containerInfo)}catch(gr){W$1(St,St.return,gr)}break;case 4:dk(er,St),fk(St);break;case 13:dk(er,St),fk(St),nr=St.child,nr.flags&8192&&(ar=nr.memoizedState!==null,nr.stateNode.isHidden=ar,!ar||nr.alternate!==null&&nr.alternate.memoizedState!==null||(gk=B$2())),rr&4&&bk(St);break;case 22:if(fr=tr!==null&&tr.memoizedState!==null,St.mode&1?(U$1=(lr=U$1)||fr,dk(er,St),U$1=lr):dk(er,St),fk(St),rr&8192){if(lr=St.memoizedState!==null,(St.stateNode.isHidden=lr)&&!fr&&(St.mode&1)!==0)for(V$1=St,fr=St.child;fr!==null;){for(cr=V$1=fr;V$1!==null;){switch(ur=V$1,sr=ur.child,ur.tag){case 0:case 11:case 14:case 15:Qj(4,ur,ur.return);break;case 1:Mj(ur,ur.return);var hr=ur.stateNode;if(typeof hr.componentWillUnmount=="function"){rr=ur,tr=ur.return;try{er=rr,hr.props=er.memoizedProps,hr.state=er.memoizedState,hr.componentWillUnmount()}catch(gr){W$1(rr,tr,gr)}}break;case 5:Mj(ur,ur.return);break;case 22:if(ur.memoizedState!==null){hk(cr);continue}}sr!==null?(sr.return=ur,V$1=sr):hk(cr)}fr=fr.sibling}e:for(fr=null,cr=St;;){if(cr.tag===5){if(fr===null){fr=cr;try{nr=cr.stateNode,lr?(ar=nr.style,typeof ar.setProperty=="function"?ar.setProperty("display","none","important"):ar.display="none"):(or=cr.stateNode,ir=cr.memoizedProps.style,dr=ir!=null&&ir.hasOwnProperty("display")?ir.display:null,or.style.display=rb("display",dr))}catch(gr){W$1(St,St.return,gr)}}}else if(cr.tag===6){if(fr===null)try{cr.stateNode.nodeValue=lr?"":cr.memoizedProps}catch(gr){W$1(St,St.return,gr)}}else if((cr.tag!==22&&cr.tag!==23||cr.memoizedState===null||cr===St)&&cr.child!==null){cr.child.return=cr,cr=cr.child;continue}if(cr===St)break e;for(;cr.sibling===null;){if(cr.return===null||cr.return===St)break e;fr===cr&&(fr=null),cr=cr.return}fr===cr&&(fr=null),cr.sibling.return=cr.return,cr=cr.sibling}}break;case 19:dk(er,St),fk(St),rr&4&&bk(St);break;case 21:break;default:dk(er,St),fk(St)}}function fk(St){var er=St.flags;if(er&2){try{e:{for(var tr=St.return;tr!==null;){if(Uj(tr)){var rr=tr;break e}tr=tr.return}throw Error(p$4(160))}switch(rr.tag){case 5:var nr=rr.stateNode;rr.flags&32&&(ob(nr,""),rr.flags&=-33);var ar=Vj(St);Xj(St,ar,nr);break;case 3:case 4:var dr=rr.stateNode.containerInfo,or=Vj(St);Wj(St,or,dr);break;default:throw Error(p$4(161))}}catch(ir){W$1(St,St.return,ir)}St.flags&=-3}er&4096&&(St.flags&=-4097)}function ik(St,er,tr){V$1=St,jk(St)}function jk(St,er,tr){for(var rr=(St.mode&1)!==0;V$1!==null;){var nr=V$1,ar=nr.child;if(nr.tag===22&&rr){var dr=nr.memoizedState!==null||Kj;if(!dr){var or=nr.alternate,ir=or!==null&&or.memoizedState!==null||U$1;or=Kj;var lr=U$1;if(Kj=dr,(U$1=ir)&&!lr)for(V$1=nr;V$1!==null;)dr=V$1,ir=dr.child,dr.tag===22&&dr.memoizedState!==null?kk(nr):ir!==null?(ir.return=dr,V$1=ir):kk(nr);for(;ar!==null;)V$1=ar,jk(ar),ar=ar.sibling;V$1=nr,Kj=or,U$1=lr}lk(St)}else(nr.subtreeFlags&8772)!==0&&ar!==null?(ar.return=nr,V$1=ar):lk(St)}}function lk(St){for(;V$1!==null;){var er=V$1;if((er.flags&8772)!==0){var tr=er.alternate;try{if((er.flags&8772)!==0)switch(er.tag){case 0:case 11:case 15:U$1||Rj(5,er);break;case 1:var rr=er.stateNode;if(er.flags&4&&!U$1)if(tr===null)rr.componentDidMount();else{var nr=er.elementType===er.type?tr.memoizedProps:Lg(er.type,tr.memoizedProps);rr.componentDidUpdate(nr,tr.memoizedState,rr.__reactInternalSnapshotBeforeUpdate)}var ar=er.updateQueue;ar!==null&&ih(er,ar,rr);break;case 3:var dr=er.updateQueue;if(dr!==null){if(tr=null,er.child!==null)switch(er.child.tag){case 5:tr=er.child.stateNode;break;case 1:tr=er.child.stateNode}ih(er,dr,tr)}break;case 5:var or=er.stateNode;if(tr===null&&er.flags&4){tr=or;var ir=er.memoizedProps;switch(er.type){case"button":case"input":case"select":case"textarea":ir.autoFocus&&tr.focus();break;case"img":ir.src&&(tr.src=ir.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(er.memoizedState===null){var lr=er.alternate;if(lr!==null){var fr=lr.memoizedState;if(fr!==null){var cr=fr.dehydrated;cr!==null&&bd(cr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$1||er.flags&512&&Sj(er)}catch(ur){W$1(er,er.return,ur)}}if(er===St){V$1=null;break}if(tr=er.sibling,tr!==null){tr.return=er.return,V$1=tr;break}V$1=er.return}}function hk(St){for(;V$1!==null;){var er=V$1;if(er===St){V$1=null;break}var tr=er.sibling;if(tr!==null){tr.return=er.return,V$1=tr;break}V$1=er.return}}function kk(St){for(;V$1!==null;){var er=V$1;try{switch(er.tag){case 0:case 11:case 15:var tr=er.return;try{Rj(4,er)}catch(ir){W$1(er,tr,ir)}break;case 1:var rr=er.stateNode;if(typeof rr.componentDidMount=="function"){var nr=er.return;try{rr.componentDidMount()}catch(ir){W$1(er,nr,ir)}}var ar=er.return;try{Sj(er)}catch(ir){W$1(er,ar,ir)}break;case 5:var dr=er.return;try{Sj(er)}catch(ir){W$1(er,dr,ir)}}}catch(ir){W$1(er,er.return,ir)}if(er===St){V$1=null;break}var or=er.sibling;if(or!==null){or.return=er.return,V$1=or;break}V$1=er.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$2=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$2=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return(K$1&6)!==0?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(St){return(St.mode&1)===0?1:(K$1&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(St=C$2,St!==0||(St=window.event,St=St===void 0?16:jd(St.type)),St)}function mh(St,er,tr,rr){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac(St,tr,rr),((K$1&2)===0||St!==R$2)&&(St===R$2&&((K$1&2)===0&&(rk|=tr),T$2===4&&Dk(St,Z$1)),Ek(St,rr),tr===1&&K$1===0&&(er.mode&1)===0&&(Hj=B$2()+500,fg&&jg()))}function Ek(St,er){var tr=St.callbackNode;wc(St,er);var rr=uc(St,St===R$2?Z$1:0);if(rr===0)tr!==null&&bc(tr),St.callbackNode=null,St.callbackPriority=0;else if(er=rr&-rr,St.callbackPriority!==er){if(tr!=null&&bc(tr),er===1)St.tag===0?ig(Fk.bind(null,St)):hg(Fk.bind(null,St)),Jf(function(){(K$1&6)===0&&jg()}),tr=null;else{switch(Dc(rr)){case 1:tr=fc;break;case 4:tr=gc;break;case 16:tr=hc;break;case 536870912:tr=jc;break;default:tr=hc}tr=Gk(tr,Hk.bind(null,St))}St.callbackPriority=er,St.callbackNode=tr}}function Hk(St,er){if(Bk=-1,Ck=0,(K$1&6)!==0)throw Error(p$4(327));var tr=St.callbackNode;if(Ik()&&St.callbackNode!==tr)return null;var rr=uc(St,St===R$2?Z$1:0);if(rr===0)return null;if((rr&30)!==0||(rr&St.expiredLanes)!==0||er)er=Jk(St,rr);else{er=rr;var nr=K$1;K$1|=2;var ar=Kk();(R$2!==St||Z$1!==er)&&(vk=null,Hj=B$2()+500,Lk(St,er));do try{Mk();break}catch(or){Nk(St,or)}while(1);Qg(),nk.current=ar,K$1=nr,Y$1!==null?er=0:(R$2=null,Z$1=0,er=T$2)}if(er!==0){if(er===2&&(nr=xc(St),nr!==0&&(rr=nr,er=Ok(St,nr))),er===1)throw tr=qk,Lk(St,0),Dk(St,rr),Ek(St,B$2()),tr;if(er===6)Dk(St,rr);else{if(nr=St.current.alternate,(rr&30)===0&&!Pk(nr)&&(er=Jk(St,rr),er===2&&(ar=xc(St),ar!==0&&(rr=ar,er=Ok(St,ar))),er===1))throw tr=qk,Lk(St,0),Dk(St,rr),Ek(St,B$2()),tr;switch(St.finishedWork=nr,St.finishedLanes=rr,er){case 0:case 1:throw Error(p$4(345));case 2:Qk(St,uk,vk);break;case 3:if(Dk(St,rr),(rr&130023424)===rr&&(er=gk+500-B$2(),10<er)){if(uc(St,0)!==0)break;if(nr=St.suspendedLanes,(nr&rr)!==rr){L$2(),St.pingedLanes|=St.suspendedLanes&nr;break}St.timeoutHandle=Ff(Qk.bind(null,St,uk,vk),er);break}Qk(St,uk,vk);break;case 4:if(Dk(St,rr),(rr&4194240)===rr)break;for(er=St.eventTimes,nr=-1;0<rr;){var dr=31-oc(rr);ar=1<<dr,dr=er[dr],dr>nr&&(nr=dr),rr&=~ar}if(rr=nr,rr=B$2()-rr,rr=(120>rr?120:480>rr?480:1080>rr?1080:1920>rr?1920:3e3>rr?3e3:4320>rr?4320:1960*mk(rr/1960))-rr,10<rr){St.timeoutHandle=Ff(Qk.bind(null,St,uk,vk),rr);break}Qk(St,uk,vk);break;case 5:Qk(St,uk,vk);break;default:throw Error(p$4(329))}}}return Ek(St,B$2()),St.callbackNode===tr?Hk.bind(null,St):null}function Ok(St,er){var tr=tk;return St.current.memoizedState.isDehydrated&&(Lk(St,er).flags|=256),St=Jk(St,er),St!==2&&(er=uk,uk=tr,er!==null&&Gj(er)),St}function Gj(St){uk===null?uk=St:uk.push.apply(uk,St)}function Pk(St){for(var er=St;;){if(er.flags&16384){var tr=er.updateQueue;if(tr!==null&&(tr=tr.stores,tr!==null))for(var rr=0;rr<tr.length;rr++){var nr=tr[rr],ar=nr.getSnapshot;nr=nr.value;try{if(!He(ar(),nr))return!1}catch{return!1}}}if(tr=er.child,er.subtreeFlags&16384&&tr!==null)tr.return=er,er=tr;else{if(er===St)break;for(;er.sibling===null;){if(er.return===null||er.return===St)return!0;er=er.return}er.sibling.return=er.return,er=er.sibling}}return!0}function Dk(St,er){for(er&=~sk,er&=~rk,St.suspendedLanes|=er,St.pingedLanes&=~er,St=St.expirationTimes;0<er;){var tr=31-oc(er),rr=1<<tr;St[tr]=-1,er&=~rr}}function Fk(St){if((K$1&6)!==0)throw Error(p$4(327));Ik();var er=uc(St,0);if((er&1)===0)return Ek(St,B$2()),null;var tr=Jk(St,er);if(St.tag!==0&&tr===2){var rr=xc(St);rr!==0&&(er=rr,tr=Ok(St,rr))}if(tr===1)throw tr=qk,Lk(St,0),Dk(St,er),Ek(St,B$2()),tr;if(tr===6)throw Error(p$4(345));return St.finishedWork=St.current.alternate,St.finishedLanes=er,Qk(St,uk,vk),Ek(St,B$2()),null}function Rk(St,er){var tr=K$1;K$1|=1;try{return St(er)}finally{K$1=tr,K$1===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(St){xk!==null&&xk.tag===0&&(K$1&6)===0&&Ik();var er=K$1;K$1|=1;var tr=pk.transition,rr=C$2;try{if(pk.transition=null,C$2=1,St)return St()}finally{C$2=rr,pk.transition=tr,K$1=er,(K$1&6)===0&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(St,er){St.finishedWork=null,St.finishedLanes=0;var tr=St.timeoutHandle;if(tr!==-1&&(St.timeoutHandle=-1,Gf(tr)),Y$1!==null)for(tr=Y$1.return;tr!==null;){var rr=tr;switch(wg(rr),rr.tag){case 1:rr=rr.type.childContextTypes,rr!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(rr);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(rr.type._context);break;case 22:case 23:Ij()}tr=tr.return}if(R$2=St,Y$1=St=wh(St.current,null),Z$1=gj=er,T$2=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(er=0;er<Wg.length;er++)if(tr=Wg[er],rr=tr.interleaved,rr!==null){tr.interleaved=null;var nr=rr.next,ar=tr.pending;if(ar!==null){var dr=ar.next;ar.next=nr,rr.next=dr}tr.pending=rr}Wg=null}return St}function Nk(St,er){do{var tr=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var rr=N$2.memoizedState;rr!==null;){var nr=rr.queue;nr!==null&&(nr.pending=null),rr=rr.next}Sh=!1}if(Rh=0,P$2=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,tr===null||tr.return===null){T$2=1,qk=er,Y$1=null;break}e:{var ar=St,dr=tr.return,or=tr,ir=er;if(er=Z$1,or.flags|=32768,ir!==null&&typeof ir=="object"&&typeof ir.then=="function"){var lr=ir,fr=or,cr=fr.tag;if((fr.mode&1)===0&&(cr===0||cr===11||cr===15)){var ur=fr.alternate;ur?(fr.updateQueue=ur.updateQueue,fr.memoizedState=ur.memoizedState,fr.lanes=ur.lanes):(fr.updateQueue=null,fr.memoizedState=null)}var sr=Vi(dr);if(sr!==null){sr.flags&=-257,Wi(sr,dr,or,ar,er),sr.mode&1&&Ti(ar,lr,er),er=sr,ir=lr;var hr=er.updateQueue;if(hr===null){var gr=new Set;gr.add(ir),er.updateQueue=gr}else hr.add(ir);break e}else{if((er&1)===0){Ti(ar,lr,er),uj();break e}ir=Error(p$4(426))}}else if(I$2&&or.mode&1){var pr=Vi(dr);if(pr!==null){(pr.flags&65536)===0&&(pr.flags|=256),Wi(pr,dr,or,ar,er),Jg(Ki(ir,or));break e}}ar=ir=Ki(ir,or),T$2!==4&&(T$2=2),tk===null?tk=[ar]:tk.push(ar),ar=dr;do{switch(ar.tag){case 3:ar.flags|=65536,er&=-er,ar.lanes|=er;var mr=Oi(ar,ir,er);fh(ar,mr);break e;case 1:or=ir;var vr=ar.type,yr=ar.stateNode;if((ar.flags&128)===0&&(typeof vr.getDerivedStateFromError=="function"||yr!==null&&typeof yr.componentDidCatch=="function"&&(Si===null||!Si.has(yr)))){ar.flags|=65536,er&=-er,ar.lanes|=er;var br=Ri(ar,or,er);fh(ar,br);break e}}ar=ar.return}while(ar!==null)}Tk(tr)}catch(xr){er=xr,Y$1===tr&&tr!==null&&(Y$1=tr=tr.return);continue}break}while(1)}function Kk(){var St=nk.current;return nk.current=ai,St===null?ai:St}function uj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),R$2===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$2,Z$1)}function Jk(St,er){var tr=K$1;K$1|=2;var rr=Kk();(R$2!==St||Z$1!==er)&&(vk=null,Lk(St,er));do try{Uk();break}catch(nr){Nk(St,nr)}while(1);if(Qg(),K$1=tr,nk.current=rr,Y$1!==null)throw Error(p$4(261));return R$2=null,Z$1=0,T$2}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc$1();)Vk(Y$1)}function Vk(St){var er=Wk(St.alternate,St,gj);St.memoizedProps=St.pendingProps,er===null?Tk(St):Y$1=er,ok.current=null}function Tk(St){var er=St;do{var tr=er.alternate;if(St=er.return,(er.flags&32768)===0){if(tr=Fj(tr,er,gj),tr!==null){Y$1=tr;return}}else{if(tr=Jj(tr,er),tr!==null){tr.flags&=32767,Y$1=tr;return}if(St!==null)St.flags|=32768,St.subtreeFlags=0,St.deletions=null;else{T$2=6,Y$1=null;return}}if(er=er.sibling,er!==null){Y$1=er;return}Y$1=er=St}while(er!==null);T$2===0&&(T$2=5)}function Qk(St,er,tr){var rr=C$2,nr=pk.transition;try{pk.transition=null,C$2=1,Xk(St,er,tr,rr)}finally{pk.transition=nr,C$2=rr}return null}function Xk(St,er,tr,rr){do Ik();while(xk!==null);if((K$1&6)!==0)throw Error(p$4(327));tr=St.finishedWork;var nr=St.finishedLanes;if(tr===null)return null;if(St.finishedWork=null,St.finishedLanes=0,tr===St.current)throw Error(p$4(177));St.callbackNode=null,St.callbackPriority=0;var ar=tr.lanes|tr.childLanes;if(Bc(St,ar),St===R$2&&(Y$1=R$2=null,Z$1=0),(tr.subtreeFlags&2064)===0&&(tr.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),ar=(tr.flags&15990)!==0,(tr.subtreeFlags&15990)!==0||ar){ar=pk.transition,pk.transition=null;var dr=C$2;C$2=1;var or=K$1;K$1|=4,ok.current=null,Pj(St,tr),ek(tr,St),Oe(Df),dd=!!Cf,Df=Cf=null,St.current=tr,ik(tr),dc(),K$1=or,C$2=dr,pk.transition=ar}else St.current=tr;if(wk&&(wk=!1,xk=St,yk=nr),ar=St.pendingLanes,ar===0&&(Si=null),mc(tr.stateNode),Ek(St,B$2()),er!==null)for(rr=St.onRecoverableError,tr=0;tr<er.length;tr++)nr=er[tr],rr(nr.value,{componentStack:nr.stack,digest:nr.digest});if(Pi)throw Pi=!1,St=Qi,Qi=null,St;return(yk&1)!==0&&St.tag!==0&&Ik(),ar=St.pendingLanes,(ar&1)!==0?St===Ak?zk++:(zk=0,Ak=St):zk=0,jg(),null}function Ik(){if(xk!==null){var St=Dc(yk),er=pk.transition,tr=C$2;try{if(pk.transition=null,C$2=16>St?16:St,xk===null)var rr=!1;else{if(St=xk,xk=null,yk=0,(K$1&6)!==0)throw Error(p$4(331));var nr=K$1;for(K$1|=4,V$1=St.current;V$1!==null;){var ar=V$1,dr=ar.child;if((V$1.flags&16)!==0){var or=ar.deletions;if(or!==null){for(var ir=0;ir<or.length;ir++){var lr=or[ir];for(V$1=lr;V$1!==null;){var fr=V$1;switch(fr.tag){case 0:case 11:case 15:Qj(8,fr,ar)}var cr=fr.child;if(cr!==null)cr.return=fr,V$1=cr;else for(;V$1!==null;){fr=V$1;var ur=fr.sibling,sr=fr.return;if(Tj(fr),fr===lr){V$1=null;break}if(ur!==null){ur.return=sr,V$1=ur;break}V$1=sr}}}var hr=ar.alternate;if(hr!==null){var gr=hr.child;if(gr!==null){hr.child=null;do{var pr=gr.sibling;gr.sibling=null,gr=pr}while(gr!==null)}}V$1=ar}}if((ar.subtreeFlags&2064)!==0&&dr!==null)dr.return=ar,V$1=dr;else e:for(;V$1!==null;){if(ar=V$1,(ar.flags&2048)!==0)switch(ar.tag){case 0:case 11:case 15:Qj(9,ar,ar.return)}var mr=ar.sibling;if(mr!==null){mr.return=ar.return,V$1=mr;break e}V$1=ar.return}}var vr=St.current;for(V$1=vr;V$1!==null;){dr=V$1;var yr=dr.child;if((dr.subtreeFlags&2064)!==0&&yr!==null)yr.return=dr,V$1=yr;else e:for(dr=vr;V$1!==null;){if(or=V$1,(or.flags&2048)!==0)try{switch(or.tag){case 0:case 11:case 15:Rj(9,or)}}catch(xr){W$1(or,or.return,xr)}if(or===dr){V$1=null;break e}var br=or.sibling;if(br!==null){br.return=or.return,V$1=br;break e}V$1=or.return}}if(K$1=nr,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,St)}catch{}rr=!0}return rr}finally{C$2=tr,pk.transition=er}}return!1}function Yk(St,er,tr){er=Ki(tr,er),er=Oi(St,er,1),St=dh(St,er,1),er=L$2(),St!==null&&(Ac(St,1,er),Ek(St,er))}function W$1(St,er,tr){if(St.tag===3)Yk(St,St,tr);else for(;er!==null;){if(er.tag===3){Yk(er,St,tr);break}else if(er.tag===1){var rr=er.stateNode;if(typeof er.type.getDerivedStateFromError=="function"||typeof rr.componentDidCatch=="function"&&(Si===null||!Si.has(rr))){St=Ki(tr,St),St=Ri(er,St,1),er=dh(er,St,1),St=L$2(),er!==null&&(Ac(er,1,St),Ek(er,St));break}}er=er.return}}function Ui(St,er,tr){var rr=St.pingCache;rr!==null&&rr.delete(er),er=L$2(),St.pingedLanes|=St.suspendedLanes&tr,R$2===St&&(Z$1&tr)===tr&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(St,0):sk|=tr),Ek(St,er)}function Zk(St,er){er===0&&((St.mode&1)===0?er=1:(er=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var tr=L$2();St=Zg(St,er),St!==null&&(Ac(St,er,tr),Ek(St,tr))}function vj(St){var er=St.memoizedState,tr=0;er!==null&&(tr=er.retryLane),Zk(St,tr)}function ck(St,er){var tr=0;switch(St.tag){case 13:var rr=St.stateNode,nr=St.memoizedState;nr!==null&&(tr=nr.retryLane);break;case 19:rr=St.stateNode;break;default:throw Error(p$4(314))}rr!==null&&rr.delete(er),Zk(St,tr)}var Wk;Wk=function(St,er,tr){if(St!==null)if(St.memoizedProps!==er.pendingProps||Wf.current)Ug=!0;else{if((St.lanes&tr)===0&&(er.flags&128)===0)return Ug=!1,zj(St,er,tr);Ug=(St.flags&131072)!==0}else Ug=!1,I$2&&(er.flags&1048576)!==0&&ug(er,ng,er.index);switch(er.lanes=0,er.tag){case 2:var rr=er.type;jj(St,er),St=er.pendingProps;var nr=Yf(er,H$2.current);Tg(er,tr),nr=Xh(null,er,rr,St,nr,tr);var ar=bi();return er.flags|=1,typeof nr=="object"&&nr!==null&&typeof nr.render=="function"&&nr.$$typeof===void 0?(er.tag=1,er.memoizedState=null,er.updateQueue=null,Zf(rr)?(ar=!0,cg(er)):ar=!1,er.memoizedState=nr.state!==null&&nr.state!==void 0?nr.state:null,ah(er),nr.updater=nh,er.stateNode=nr,nr._reactInternals=er,rh(er,rr,St,tr),er=kj(null,er,rr,!0,ar,tr)):(er.tag=0,I$2&&ar&&vg(er),Yi(null,er,nr,tr),er=er.child),er;case 16:rr=er.elementType;e:{switch(jj(St,er),St=er.pendingProps,nr=rr._init,rr=nr(rr._payload),er.type=rr,nr=er.tag=$k(rr),St=Lg(rr,St),nr){case 0:er=dj(null,er,rr,St,tr);break e;case 1:er=ij(null,er,rr,St,tr);break e;case 11:er=Zi(null,er,rr,St,tr);break e;case 14:er=aj(null,er,rr,Lg(rr.type,St),tr);break e}throw Error(p$4(306,rr,""))}return er;case 0:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Lg(rr,nr),dj(St,er,rr,nr,tr);case 1:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Lg(rr,nr),ij(St,er,rr,nr,tr);case 3:e:{if(lj(er),St===null)throw Error(p$4(387));rr=er.pendingProps,ar=er.memoizedState,nr=ar.element,bh(St,er),gh(er,rr,null,tr);var dr=er.memoizedState;if(rr=dr.element,ar.isDehydrated)if(ar={element:rr,isDehydrated:!1,cache:dr.cache,pendingSuspenseBoundaries:dr.pendingSuspenseBoundaries,transitions:dr.transitions},er.updateQueue.baseState=ar,er.memoizedState=ar,er.flags&256){nr=Ki(Error(p$4(423)),er),er=mj(St,er,rr,tr,nr);break e}else if(rr!==nr){nr=Ki(Error(p$4(424)),er),er=mj(St,er,rr,tr,nr);break e}else for(yg=Lf(er.stateNode.containerInfo.firstChild),xg=er,I$2=!0,zg=null,tr=Ch(er,null,rr,tr),er.child=tr;tr;)tr.flags=tr.flags&-3|4096,tr=tr.sibling;else{if(Ig(),rr===nr){er=$i(St,er,tr);break e}Yi(St,er,rr,tr)}er=er.child}return er;case 5:return Kh(er),St===null&&Eg(er),rr=er.type,nr=er.pendingProps,ar=St!==null?St.memoizedProps:null,dr=nr.children,Ef(rr,nr)?dr=null:ar!==null&&Ef(rr,ar)&&(er.flags|=32),hj(St,er),Yi(St,er,dr,tr),er.child;case 6:return St===null&&Eg(er),null;case 13:return pj(St,er,tr);case 4:return Ih(er,er.stateNode.containerInfo),rr=er.pendingProps,St===null?er.child=Bh(er,null,rr,tr):Yi(St,er,rr,tr),er.child;case 11:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Lg(rr,nr),Zi(St,er,rr,nr,tr);case 7:return Yi(St,er,er.pendingProps,tr),er.child;case 8:return Yi(St,er,er.pendingProps.children,tr),er.child;case 12:return Yi(St,er,er.pendingProps.children,tr),er.child;case 10:e:{if(rr=er.type._context,nr=er.pendingProps,ar=er.memoizedProps,dr=nr.value,G$1(Mg,rr._currentValue),rr._currentValue=dr,ar!==null)if(He(ar.value,dr)){if(ar.children===nr.children&&!Wf.current){er=$i(St,er,tr);break e}}else for(ar=er.child,ar!==null&&(ar.return=er);ar!==null;){var or=ar.dependencies;if(or!==null){dr=ar.child;for(var ir=or.firstContext;ir!==null;){if(ir.context===rr){if(ar.tag===1){ir=ch(-1,tr&-tr),ir.tag=2;var lr=ar.updateQueue;if(lr!==null){lr=lr.shared;var fr=lr.pending;fr===null?ir.next=ir:(ir.next=fr.next,fr.next=ir),lr.pending=ir}}ar.lanes|=tr,ir=ar.alternate,ir!==null&&(ir.lanes|=tr),Sg(ar.return,tr,er),or.lanes|=tr;break}ir=ir.next}}else if(ar.tag===10)dr=ar.type===er.type?null:ar.child;else if(ar.tag===18){if(dr=ar.return,dr===null)throw Error(p$4(341));dr.lanes|=tr,or=dr.alternate,or!==null&&(or.lanes|=tr),Sg(dr,tr,er),dr=ar.sibling}else dr=ar.child;if(dr!==null)dr.return=ar;else for(dr=ar;dr!==null;){if(dr===er){dr=null;break}if(ar=dr.sibling,ar!==null){ar.return=dr.return,dr=ar;break}dr=dr.return}ar=dr}Yi(St,er,nr.children,tr),er=er.child}return er;case 9:return nr=er.type,rr=er.pendingProps.children,Tg(er,tr),nr=Vg(nr),rr=rr(nr),er.flags|=1,Yi(St,er,rr,tr),er.child;case 14:return rr=er.type,nr=Lg(rr,er.pendingProps),nr=Lg(rr.type,nr),aj(St,er,rr,nr,tr);case 15:return cj(St,er,er.type,er.pendingProps,tr);case 17:return rr=er.type,nr=er.pendingProps,nr=er.elementType===rr?nr:Lg(rr,nr),jj(St,er),er.tag=1,Zf(rr)?(St=!0,cg(er)):St=!1,Tg(er,tr),ph(er,rr,nr),rh(er,rr,nr,tr),kj(null,er,rr,!0,St,tr);case 19:return yj(St,er,tr);case 22:return ej(St,er,tr)}throw Error(p$4(156,er.tag))};function Gk(St,er){return ac(St,er)}function al(St,er,tr,rr){this.tag=St,this.key=tr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=er,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(St,er,tr,rr){return new al(St,er,tr,rr)}function bj(St){return St=St.prototype,!(!St||!St.isReactComponent)}function $k(St){if(typeof St=="function")return bj(St)?1:0;if(St!=null){if(St=St.$$typeof,St===Da)return 11;if(St===Ga)return 14}return 2}function wh(St,er){var tr=St.alternate;return tr===null?(tr=Bg(St.tag,er,St.key,St.mode),tr.elementType=St.elementType,tr.type=St.type,tr.stateNode=St.stateNode,tr.alternate=St,St.alternate=tr):(tr.pendingProps=er,tr.type=St.type,tr.flags=0,tr.subtreeFlags=0,tr.deletions=null),tr.flags=St.flags&14680064,tr.childLanes=St.childLanes,tr.lanes=St.lanes,tr.child=St.child,tr.memoizedProps=St.memoizedProps,tr.memoizedState=St.memoizedState,tr.updateQueue=St.updateQueue,er=St.dependencies,tr.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext},tr.sibling=St.sibling,tr.index=St.index,tr.ref=St.ref,tr}function yh(St,er,tr,rr,nr,ar){var dr=2;if(rr=St,typeof St=="function")bj(St)&&(dr=1);else if(typeof St=="string")dr=5;else e:switch(St){case ya:return Ah(tr.children,nr,ar,er);case za:dr=8,nr|=8;break;case Aa:return St=Bg(12,tr,er,nr|2),St.elementType=Aa,St.lanes=ar,St;case Ea:return St=Bg(13,tr,er,nr),St.elementType=Ea,St.lanes=ar,St;case Fa:return St=Bg(19,tr,er,nr),St.elementType=Fa,St.lanes=ar,St;case Ia:return qj(tr,nr,ar,er);default:if(typeof St=="object"&&St!==null)switch(St.$$typeof){case Ba:dr=10;break e;case Ca:dr=9;break e;case Da:dr=11;break e;case Ga:dr=14;break e;case Ha:dr=16,rr=null;break e}throw Error(p$4(130,St==null?St:typeof St,""))}return er=Bg(dr,tr,er,nr),er.elementType=St,er.type=rr,er.lanes=ar,er}function Ah(St,er,tr,rr){return St=Bg(7,St,rr,er),St.lanes=tr,St}function qj(St,er,tr,rr){return St=Bg(22,St,rr,er),St.elementType=Ia,St.lanes=tr,St.stateNode={isHidden:!1},St}function xh(St,er,tr){return St=Bg(6,St,null,er),St.lanes=tr,St}function zh(St,er,tr){return er=Bg(4,St.children!==null?St.children:[],St.key,er),er.lanes=tr,er.stateNode={containerInfo:St.containerInfo,pendingChildren:null,implementation:St.implementation},er}function bl(St,er,tr,rr,nr){this.tag=er,this.containerInfo=St,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rr,this.onRecoverableError=nr,this.mutableSourceEagerHydrationData=null}function cl(St,er,tr,rr,nr,ar,dr,or,ir){return St=new bl(St,er,tr,or,ir),er===1?(er=1,ar===!0&&(er|=8)):er=0,ar=Bg(3,null,null,er),St.current=ar,ar.stateNode=St,ar.memoizedState={element:rr,isDehydrated:tr,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ar),St}function dl(St,er,tr){var rr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rr==null?null:""+rr,children:St,containerInfo:er,implementation:tr}}function el(St){if(!St)return Vf;St=St._reactInternals;e:{if(Vb(St)!==St||St.tag!==1)throw Error(p$4(170));var er=St;do{switch(er.tag){case 3:er=er.stateNode.context;break e;case 1:if(Zf(er.type)){er=er.stateNode.__reactInternalMemoizedMergedChildContext;break e}}er=er.return}while(er!==null);throw Error(p$4(171))}if(St.tag===1){var tr=St.type;if(Zf(tr))return bg(St,tr,er)}return er}function fl$1(St,er,tr,rr,nr,ar,dr,or,ir){return St=cl(tr,rr,!0,St,nr,ar,dr,or,ir),St.context=el(null),tr=St.current,rr=L$2(),nr=lh(tr),ar=ch(rr,nr),ar.callback=er??null,dh(tr,ar,nr),St.current.lanes=nr,Ac(St,nr,rr),Ek(St,rr),St}function gl(St,er,tr,rr){var nr=er.current,ar=L$2(),dr=lh(nr);return tr=el(tr),er.context===null?er.context=tr:er.pendingContext=tr,er=ch(ar,dr),er.payload={element:St},rr=rr===void 0?null:rr,rr!==null&&(er.callback=rr),St=dh(nr,er,dr),St!==null&&(mh(St,nr,dr,ar),eh(St,nr,dr)),dr}function hl(St){if(St=St.current,!St.child)return null;switch(St.child.tag){case 5:return St.child.stateNode;default:return St.child.stateNode}}function il(St,er){if(St=St.memoizedState,St!==null&&St.dehydrated!==null){var tr=St.retryLane;St.retryLane=tr!==0&&tr<er?tr:er}}function jl(St,er){il(St,er),(St=St.alternate)&&il(St,er)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(St){console.error(St)};function ml(St){this._internalRoot=St}nl.prototype.render=ml.prototype.render=function(St){var er=this._internalRoot;if(er===null)throw Error(p$4(409));gl(St,er,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var St=this._internalRoot;if(St!==null){this._internalRoot=null;var er=St.containerInfo;Sk(function(){gl(null,St,null,null)}),er[uf]=null}};function nl(St){this._internalRoot=St}nl.prototype.unstable_scheduleHydration=function(St){if(St){var er=Hc();St={blockedOn:null,target:St,priority:er};for(var tr=0;tr<Qc.length&&er!==0&&er<Qc[tr].priority;tr++);Qc.splice(tr,0,St),tr===0&&Vc(St)}};function ol(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11)}function pl(St){return!(!St||St.nodeType!==1&&St.nodeType!==9&&St.nodeType!==11&&(St.nodeType!==8||St.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(St,er,tr,rr,nr){if(nr){if(typeof rr=="function"){var ar=rr;rr=function(){var lr=hl(dr);ar.call(lr)}}var dr=fl$1(er,rr,St,0,null,!1,!1,"",ql);return St._reactRootContainer=dr,St[uf]=dr.current,sf(St.nodeType===8?St.parentNode:St),Sk(),dr}for(;nr=St.lastChild;)St.removeChild(nr);if(typeof rr=="function"){var or=rr;rr=function(){var lr=hl(ir);or.call(lr)}}var ir=cl(St,0,!1,null,null,!1,!1,"",ql);return St._reactRootContainer=ir,St[uf]=ir.current,sf(St.nodeType===8?St.parentNode:St),Sk(function(){gl(er,ir,tr,rr)}),ir}function sl(St,er,tr,rr,nr){var ar=tr._reactRootContainer;if(ar){var dr=ar;if(typeof nr=="function"){var or=nr;nr=function(){var ir=hl(dr);or.call(ir)}}gl(er,dr,St,nr)}else dr=rl(tr,er,St,nr,rr);return hl(dr)}Ec=function(St){switch(St.tag){case 3:var er=St.stateNode;if(er.current.memoizedState.isDehydrated){var tr=tc(er.pendingLanes);tr!==0&&(Cc(er,tr|1),Ek(er,B$2()),(K$1&6)===0&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var rr=Zg(St,1);if(rr!==null){var nr=L$2();mh(rr,St,1,nr)}}),jl(St,1)}};Fc=function(St){if(St.tag===13){var er=Zg(St,134217728);if(er!==null){var tr=L$2();mh(er,St,134217728,tr)}jl(St,134217728)}};Gc=function(St){if(St.tag===13){var er=lh(St),tr=Zg(St,er);if(tr!==null){var rr=L$2();mh(tr,St,er,rr)}jl(St,er)}};Hc=function(){return C$2};Ic=function(St,er){var tr=C$2;try{return C$2=St,er()}finally{C$2=tr}};yb=function(St,er,tr){switch(er){case"input":if(bb(St,tr),er=tr.name,tr.type==="radio"&&er!=null){for(tr=St;tr.parentNode;)tr=tr.parentNode;for(tr=tr.querySelectorAll("input[name="+JSON.stringify(""+er)+'][type="radio"]'),er=0;er<tr.length;er++){var rr=tr[er];if(rr!==St&&rr.form===St.form){var nr=Db(rr);if(!nr)throw Error(p$4(90));Wa(rr),bb(rr,nr)}}}break;case"textarea":ib(St,tr);break;case"select":er=tr.value,er!=null&&fb(St,!!tr.multiple,er,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(St){return St=Zb(St),St===null?null:St.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(St,er){var tr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(er))throw Error(p$4(200));return dl(St,er,null,tr)};reactDom_production_min.createRoot=function(St,er){if(!ol(St))throw Error(p$4(299));var tr=!1,rr="",nr=ll;return er!=null&&(er.unstable_strictMode===!0&&(tr=!0),er.identifierPrefix!==void 0&&(rr=er.identifierPrefix),er.onRecoverableError!==void 0&&(nr=er.onRecoverableError)),er=cl(St,1,!1,null,null,tr,!1,rr,nr),St[uf]=er.current,sf(St.nodeType===8?St.parentNode:St),new ml(er)};reactDom_production_min.findDOMNode=function(St){if(St==null)return null;if(St.nodeType===1)return St;var er=St._reactInternals;if(er===void 0)throw typeof St.render=="function"?Error(p$4(188)):(St=Object.keys(St).join(","),Error(p$4(268,St)));return St=Zb(er),St=St===null?null:St.stateNode,St};reactDom_production_min.flushSync=function(St){return Sk(St)};reactDom_production_min.hydrate=function(St,er,tr){if(!pl(er))throw Error(p$4(200));return sl(null,St,er,!0,tr)};reactDom_production_min.hydrateRoot=function(St,er,tr){if(!ol(St))throw Error(p$4(405));var rr=tr!=null&&tr.hydratedSources||null,nr=!1,ar="",dr=ll;if(tr!=null&&(tr.unstable_strictMode===!0&&(nr=!0),tr.identifierPrefix!==void 0&&(ar=tr.identifierPrefix),tr.onRecoverableError!==void 0&&(dr=tr.onRecoverableError)),er=fl$1(er,null,St,1,tr??null,nr,!1,ar,dr),St[uf]=er.current,sf(St),rr)for(St=0;St<rr.length;St++)tr=rr[St],nr=tr._getVersion,nr=nr(tr._source),er.mutableSourceEagerHydrationData==null?er.mutableSourceEagerHydrationData=[tr,nr]:er.mutableSourceEagerHydrationData.push(tr,nr);return new nl(er)};reactDom_production_min.render=function(St,er,tr){if(!pl(er))throw Error(p$4(200));return sl(null,St,er,!1,tr)};reactDom_production_min.unmountComponentAtNode=function(St){if(!pl(St))throw Error(p$4(40));return St._reactRootContainer?(Sk(function(){sl(null,null,St,!1,function(){St._reactRootContainer=null,St[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(St,er,tr,rr){if(!pl(tr))throw Error(p$4(200));if(St==null||St._reactInternals===void 0)throw Error(p$4(38));return sl(St,er,tr,!1,rr)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(St){function er(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(er)}catch(tr){console.error(tr)}}er(),St.exports=reactDom_production_min})(reactDom);var m$4=reactDom.exports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;var useSafeLayoutEffect$2=Boolean(globalThis?.document)?react.exports.useLayoutEffect:react.exports.useEffect,jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=react.exports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$3(St,er,tr){var rr,nr={},ar=null,dr=null;tr!==void 0&&(ar=""+tr),er.key!==void 0&&(ar=""+er.key),er.ref!==void 0&&(dr=er.ref);for(rr in er)m$3.call(er,rr)&&!p$3.hasOwnProperty(rr)&&(nr[rr]=er[rr]);if(St&&St.defaultProps)for(rr in er=St.defaultProps,er)nr[rr]===void 0&&(nr[rr]=er[rr]);return{$$typeof:k$3,type:St,key:ar,ref:dr,props:nr,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;(function(St){St.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;var ColorModeContext=react.exports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const St=react.exports.useContext(ColorModeContext);if(St===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return St}var classNames={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(St={}){const{preventTransition:er=!0}=St,tr={setDataset:rr=>{const nr=er?tr.preventTransition():void 0;document.documentElement.dataset.theme=rr,document.documentElement.style.colorScheme=rr,nr?.()},setClassName(rr){document.body.classList.add(rr?classNames.dark:classNames.light),document.body.classList.remove(rr?classNames.light:classNames.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(rr){return tr.query().matches??rr==="dark"?"dark":"light"},addListener(rr){const nr=tr.query(),ar=dr=>{rr(dr.matches?"dark":"light")};return typeof nr.addListener=="function"?nr.addListener(ar):nr.addEventListener("change",ar),()=>{typeof nr.removeListener=="function"?nr.removeListener(ar):nr.removeEventListener("change",ar)}},preventTransition(){const rr=document.createElement("style");return rr.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(rr),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(rr)})})}}};return tr}var STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(St){return{ssr:!1,type:"localStorage",get(er){if(!globalThis?.document)return er;let tr;try{tr=localStorage.getItem(St)||er}catch{}return tr||er},set(er){try{localStorage.setItem(St,er)}catch{}}}}var localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$2=()=>{};function getTheme$1(St,er){return St.type==="cookie"&&St.ssr?St.get(er):er}function ColorModeProvider(St){const{value:er,children:tr,options:{useSystemColorMode:rr,initialColorMode:nr,disableTransitionOnChange:ar}={},colorModeManager:dr=localStorageManager}=St,or=nr==="dark"?"dark":"light",[ir,lr]=react.exports.useState(()=>getTheme$1(dr,or)),[fr,cr]=react.exports.useState(()=>getTheme$1(dr)),{getSystemTheme:ur,setClassName:sr,setDataset:hr,addListener:gr}=react.exports.useMemo(()=>getColorModeUtils({preventTransition:ar}),[ar]),pr=nr==="system"&&!ir?fr:ir,mr=react.exports.useCallback(br=>{const xr=br==="system"?ur():br;lr(xr),sr(xr==="dark"),hr(xr),dr.set(xr)},[dr,ur,sr,hr]);useSafeLayoutEffect$2(()=>{nr==="system"&&cr(ur())},[]),react.exports.useEffect(()=>{const br=dr.get();if(br){mr(br);return}if(nr==="system"){mr("system");return}mr(or)},[dr,or,nr,mr]);const vr=react.exports.useCallback(()=>{mr(pr==="dark"?"light":"dark")},[pr,mr]);react.exports.useEffect(()=>{if(!!rr)return gr(mr)},[rr,gr,mr]);const yr=react.exports.useMemo(()=>({colorMode:er??pr,toggleColorMode:er?noop$2:vr,setColorMode:er?noop$2:mr,forced:er!==void 0}),[pr,vr,mr,er]);return jsx(ColorModeContext.Provider,{value:yr,children:tr})}ColorModeProvider.displayName="ColorModeProvider";var lodash_mergewith={exports:{}};(function(St,er){var tr=200,rr="__lodash_hash_undefined__",nr=800,ar=16,dr=9007199254740991,or="[object Arguments]",ir="[object Array]",lr="[object AsyncFunction]",fr="[object Boolean]",cr="[object Date]",ur="[object Error]",sr="[object Function]",hr="[object GeneratorFunction]",gr="[object Map]",pr="[object Number]",mr="[object Null]",vr="[object Object]",yr="[object Proxy]",br="[object RegExp]",xr="[object Set]",Cr="[object String]",kr="[object Undefined]",Pr="[object WeakMap]",$r="[object ArrayBuffer]",Kr="[object DataView]",Ir="[object Float32Array]",jr="[object Float64Array]",Jr="[object Int8Array]",zr="[object Int16Array]",Hr="[object Int32Array]",Yr="[object Uint8Array]",nn="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Or="[object Uint32Array]",Er=/[\\^$.*+?()[\]{}|]/g,Dr=/^\[object .+?Constructor\]$/,Tr=/^(?:0|[1-9]\d*)$/,Lr={};Lr[Ir]=Lr[jr]=Lr[Jr]=Lr[zr]=Lr[Hr]=Lr[Yr]=Lr[nn]=Lr[Qr]=Lr[Or]=!0,Lr[or]=Lr[ir]=Lr[$r]=Lr[fr]=Lr[Kr]=Lr[cr]=Lr[ur]=Lr[sr]=Lr[gr]=Lr[pr]=Lr[vr]=Lr[br]=Lr[xr]=Lr[Cr]=Lr[Pr]=!1;var _r=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,wr=typeof self=="object"&&self&&self.Object===Object&&self,Fr=_r||wr||Function("return this")(),Nr=er&&!er.nodeType&&er,Br=Nr&&!0&&St&&!St.nodeType&&St,Ur=Br&&Br.exports===Nr,Zr=Ur&&_r.process,an=function(){try{var pn=Br&&Br.require&&Br.require("util").types;return pn||Zr&&Zr.binding&&Zr.binding("util")}catch{}}(),qr=an&&an.isTypedArray;function Gr(pn,An,Dn){switch(Dn.length){case 0:return pn.call(An);case 1:return pn.call(An,Dn[0]);case 2:return pn.call(An,Dn[0],Dn[1]);case 3:return pn.call(An,Dn[0],Dn[1],Dn[2])}return pn.apply(An,Dn)}function Xr(pn,An){for(var Dn=-1,Zn=Array(pn);++Dn<pn;)Zn[Dn]=An(Dn);return Zn}function en(pn){return function(An){return pn(An)}}function Wr(pn,An){return pn?.[An]}function cn(pn,An){return function(Dn){return pn(An(Dn))}}var fn=Array.prototype,gn=Function.prototype,wn=Object.prototype,yn=Fr["__core-js_shared__"],vn=gn.toString,Ln=wn.hasOwnProperty,bn=function(){var pn=/[^.]+$/.exec(yn&&yn.keys&&yn.keys.IE_PROTO||"");return pn?"Symbol(src)_1."+pn:""}(),Mn=wn.toString,Un=vn.call(Object),Hn=RegExp("^"+vn.call(Ln).replace(Er,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yn=Ur?Fr.Buffer:void 0,Gn=Fr.Symbol,Qn=Fr.Uint8Array,zn=Yn?Yn.allocUnsafe:void 0,fo=cn(Object.getPrototypeOf,Object),no=Object.create,Mo=wn.propertyIsEnumerable,ho=fn.splice,so=Gn?Gn.toStringTag:void 0,Rn=function(){try{var pn=Hs(Object,"defineProperty");return pn({},"",{}),pn}catch{}}(),xn=Yn?Yn.isBuffer:void 0,En=Math.max,qn=Date.now,ba=Hs(Fr,"Map"),oo=Hs(Object,"create"),eo=function(){function pn(){}return function(An){if(!Cs(An))return{};if(no)return no(An);pn.prototype=An;var Dn=new pn;return pn.prototype=void 0,Dn}}();function ga(pn){var An=-1,Dn=pn==null?0:pn.length;for(this.clear();++An<Dn;){var Zn=pn[An];this.set(Zn[0],Zn[1])}}function co(){this.__data__=oo?oo(null):{},this.size=0}function Zo(pn){var An=this.has(pn)&&delete this.__data__[pn];return this.size-=An?1:0,An}function go(pn){var An=this.__data__;if(oo){var Dn=An[pn];return Dn===rr?void 0:Dn}return Ln.call(An,pn)?An[pn]:void 0}function qo(pn){var An=this.__data__;return oo?An[pn]!==void 0:Ln.call(An,pn)}function jo(pn,An){var Dn=this.__data__;return this.size+=this.has(pn)?0:1,Dn[pn]=oo&&An===void 0?rr:An,this}ga.prototype.clear=co,ga.prototype.delete=Zo,ga.prototype.get=go,ga.prototype.has=qo,ga.prototype.set=jo;function na(pn){var An=-1,Dn=pn==null?0:pn.length;for(this.clear();++An<Dn;){var Zn=pn[An];this.set(Zn[0],Zn[1])}}function bo(){this.__data__=[],this.size=0}function Jo(pn){var An=this.__data__,Dn=Al(An,pn);if(Dn<0)return!1;var Zn=An.length-1;return Dn==Zn?An.pop():ho.call(An,Dn,1),--this.size,!0}function Bo(pn){var An=this.__data__,Dn=Al(An,pn);return Dn<0?void 0:An[Dn][1]}function Fo(pn){return Al(this.__data__,pn)>-1}function ko(pn,An){var Dn=this.__data__,Zn=Al(Dn,pn);return Zn<0?(++this.size,Dn.push([pn,An])):Dn[Zn][1]=An,this}na.prototype.clear=bo,na.prototype.delete=Jo,na.prototype.get=Bo,na.prototype.has=Fo,na.prototype.set=ko;function Eo(pn){var An=-1,Dn=pn==null?0:pn.length;for(this.clear();++An<Dn;){var Zn=pn[An];this.set(Zn[0],Zn[1])}}function Ro(){this.size=0,this.__data__={hash:new ga,map:new(ba||na),string:new ga}}function es(pn){var An=Go(this,pn).delete(pn);return this.size-=An?1:0,An}function ts(pn){return Go(this,pn).get(pn)}function gs(pn){return Go(this,pn).has(pn)}function ms(pn,An){var Dn=Go(this,pn),Zn=Dn.size;return Dn.set(pn,An),this.size+=Dn.size==Zn?0:1,this}Eo.prototype.clear=Ro,Eo.prototype.delete=es,Eo.prototype.get=ts,Eo.prototype.has=gs,Eo.prototype.set=ms;function rs(pn){var An=this.__data__=new na(pn);this.size=An.size}function cs(){this.__data__=new na,this.size=0}function ws(pn){var An=this.__data__,Dn=An.delete(pn);return this.size=An.size,Dn}function Us(pn){return this.__data__.get(pn)}function xl(pn){return this.__data__.has(pn)}function _l(pn,An){var Dn=this.__data__;if(Dn instanceof na){var Zn=Dn.__data__;if(!ba||Zn.length<tr-1)return Zn.push([pn,An]),this.size=++Dn.size,this;Dn=this.__data__=new Eo(Zn)}return Dn.set(pn,An),this.size=Dn.size,this}rs.prototype.clear=cs,rs.prototype.delete=ws,rs.prototype.get=Us,rs.prototype.has=xl,rs.prototype.set=_l;function Cl(pn,An){var Dn=Dl(pn),Zn=!Dn&&Jl(pn),uo=!Dn&&!Zn&&vu(pn),So=!Dn&&!Zn&&!uo&&yu(pn),_o=Dn||Zn||uo||So,ro=_o?Xr(pn.length,String):[],vo=ro.length;for(var os in pn)(An||Ln.call(pn,os))&&!(_o&&(os=="length"||uo&&(os=="offset"||os=="parent")||So&&(os=="buffer"||os=="byteLength"||os=="byteOffset")||Zl(os,vo)))&&ro.push(os);return ro}function Bs(pn,An,Dn){(Dn!==void 0&&!zo(pn[An],Dn)||Dn===void 0&&!(An in pn))&&Xl(pn,An,Dn)}function su(pn,An,Dn){var Zn=pn[An];(!(Ln.call(pn,An)&&zo(Zn,Dn))||Dn===void 0&&!(An in pn))&&Xl(pn,An,Dn)}function Al(pn,An){for(var Dn=pn.length;Dn--;)if(zo(pn[Dn][0],An))return Dn;return-1}function Xl(pn,An,Dn){An=="__proto__"&&Rn?Rn(pn,An,{configurable:!0,enumerable:!0,value:Dn,writable:!0}):pn[An]=Dn}var Tl=Pl();function Ws(pn){return pn==null?pn===void 0?kr:mr:so&&so in Object(pn)?pu(pn):Wu(pn)}function lu(pn){return As(pn)&&Ws(pn)==or}function Kl(pn){if(!Cs(pn)||Vu(pn))return!1;var An=us(pn)?Hn:Dr;return An.test(mu(pn))}function Nu(pn){return As(pn)&&eu(pn.length)&&!!Lr[Ws(pn)]}function cu(pn){if(!Cs(pn))return Uu(pn);var An=Ol(pn),Dn=[];for(var Zn in pn)Zn=="constructor"&&(An||!Ln.call(pn,Zn))||Dn.push(Zn);return Dn}function uu(pn,An,Dn,Zn,uo){pn!==An&&Tl(An,function(So,_o){if(uo||(uo=new rs),Cs(So))El(pn,An,_o,Dn,uu,Zn,uo);else{var ro=Zn?Zn(ys(pn,_o),So,_o+"",pn,An,uo):void 0;ro===void 0&&(ro=So),Bs(pn,_o,ro)}},bu)}function El(pn,An,Dn,Zn,uo,So,_o){var ro=ys(pn,Dn),vo=ys(An,Dn),os=_o.get(vo);if(os){Bs(pn,Dn,os);return}var Io=So?So(ro,vo,Dn+"",pn,An,_o):void 0,ns=Io===void 0;if(ns){var Gs=Dl(vo),Ms=!Gs&&vu(vo),Su=!Gs&&!Ms&&yu(vo);Io=vo,Gs||Ms||Su?Dl(ro)?Io=ro:qu(ro)?Io=Ql(ro):Ms?(ns=!1,Io=du(vo,!0)):Su?(ns=!1,Io=hu(vo,!0)):Io=[]:tu(vo)||Jl(vo)?(Io=ro,Jl(ro)?Io=Gu(ro):(!Cs(ro)||us(ro))&&(Io=Bu(vo))):ns=!1}ns&&(_o.set(vo,Io),uo(Io,vo,Zn,So,_o),_o.delete(vo)),Bs(pn,Dn,Io)}function $u(pn,An){return Fl(Hu(pn,An,Fs),pn+"")}var Do=Rn?function(pn,An){return Rn(pn,"toString",{configurable:!0,enumerable:!1,value:qs(An),writable:!0})}:Fs;function du(pn,An){if(An)return pn.slice();var Dn=pn.length,Zn=zn?zn(Dn):new pn.constructor(Dn);return pn.copy(Zn),Zn}function fu(pn){var An=new pn.constructor(pn.byteLength);return new Qn(An).set(new Qn(pn)),An}function hu(pn,An){var Dn=An?fu(pn.buffer):pn.buffer;return new pn.constructor(Dn,pn.byteOffset,pn.length)}function Ql(pn,An){var Dn=-1,Zn=pn.length;for(An||(An=Array(Zn));++Dn<Zn;)An[Dn]=pn[Dn];return An}function ju(pn,An,Dn,Zn){var uo=!Dn;Dn||(Dn={});for(var So=-1,_o=An.length;++So<_o;){var ro=An[So],vo=Zn?Zn(Dn[ro],pn[ro],ro,Dn,pn):void 0;vo===void 0&&(vo=pn[ro]),uo?Xl(Dn,ro,vo):su(Dn,ro,vo)}return Dn}function vs(pn){return $u(function(An,Dn){var Zn=-1,uo=Dn.length,So=uo>1?Dn[uo-1]:void 0,_o=uo>2?Dn[2]:void 0;for(So=pn.length>3&&typeof So=="function"?(uo--,So):void 0,_o&&zu(Dn[0],Dn[1],_o)&&(So=uo<3?void 0:So,uo=1),An=Object(An);++Zn<uo;){var ro=Dn[Zn];ro&&pn(An,ro,Zn,So)}return An})}function Pl(pn){return function(An,Dn,Zn){for(var uo=-1,So=Object(An),_o=Zn(An),ro=_o.length;ro--;){var vo=_o[pn?ro:++uo];if(Dn(So[vo],vo,So)===!1)break}return An}}function Go(pn,An){var Dn=pn.__data__;return gu(An)?Dn[typeof An=="string"?"string":"hash"]:Dn.map}function Hs(pn,An){var Dn=Wr(pn,An);return Kl(Dn)?Dn:void 0}function pu(pn){var An=Ln.call(pn,so),Dn=pn[so];try{pn[so]=void 0;var Zn=!0}catch{}var uo=Mn.call(pn);return Zn&&(An?pn[so]=Dn:delete pn[so]),uo}function Bu(pn){return typeof pn.constructor=="function"&&!Ol(pn)?eo(fo(pn)):{}}function Zl(pn,An){var Dn=typeof pn;return An=An??dr,!!An&&(Dn=="number"||Dn!="symbol"&&Tr.test(pn))&&pn>-1&&pn%1==0&&pn<An}function zu(pn,An,Dn){if(!Cs(Dn))return!1;var Zn=typeof An;return(Zn=="number"?to(Dn)&&Zl(An,Dn.length):Zn=="string"&&An in Dn)?zo(Dn[An],pn):!1}function gu(pn){var An=typeof pn;return An=="string"||An=="number"||An=="symbol"||An=="boolean"?pn!=="__proto__":pn===null}function Vu(pn){return!!bn&&bn in pn}function Ol(pn){var An=pn&&pn.constructor,Dn=typeof An=="function"&&An.prototype||wn;return pn===Dn}function Uu(pn){var An=[];if(pn!=null)for(var Dn in Object(pn))An.push(Dn);return An}function Wu(pn){return Mn.call(pn)}function Hu(pn,An,Dn){return An=En(An===void 0?pn.length-1:An,0),function(){for(var Zn=arguments,uo=-1,So=En(Zn.length-An,0),_o=Array(So);++uo<So;)_o[uo]=Zn[An+uo];uo=-1;for(var ro=Array(An+1);++uo<An;)ro[uo]=Zn[uo];return ro[An]=Dn(_o),Gr(pn,this,ro)}}function ys(pn,An){if(!(An==="constructor"&&typeof pn[An]=="function")&&An!="__proto__")return pn[An]}var Fl=Ml(Do);function Ml(pn){var An=0,Dn=0;return function(){var Zn=qn(),uo=ar-(Zn-Dn);if(Dn=Zn,uo>0){if(++An>=nr)return arguments[0]}else An=0;return pn.apply(void 0,arguments)}}function mu(pn){if(pn!=null){try{return vn.call(pn)}catch{}try{return pn+""}catch{}}return""}function zo(pn,An){return pn===An||pn!==pn&&An!==An}var Jl=lu(function(){return arguments}())?lu:function(pn){return As(pn)&&Ln.call(pn,"callee")&&!Mo.call(pn,"callee")},Dl=Array.isArray;function to(pn){return pn!=null&&eu(pn.length)&&!us(pn)}function qu(pn){return As(pn)&&to(pn)}var vu=xn||Yu;function us(pn){if(!Cs(pn))return!1;var An=Ws(pn);return An==sr||An==hr||An==lr||An==yr}function eu(pn){return typeof pn=="number"&&pn>-1&&pn%1==0&&pn<=dr}function Cs(pn){var An=typeof pn;return pn!=null&&(An=="object"||An=="function")}function As(pn){return pn!=null&&typeof pn=="object"}function tu(pn){if(!As(pn)||Ws(pn)!=vr)return!1;var An=fo(pn);if(An===null)return!0;var Dn=Ln.call(An,"constructor")&&An.constructor;return typeof Dn=="function"&&Dn instanceof Dn&&vn.call(Dn)==Un}var yu=qr?en(qr):Nu;function Gu(pn){return ju(pn,bu(pn))}function bu(pn){return to(pn)?Cl(pn,!0):cu(pn)}var ru=vs(function(pn,An,Dn,Zn){uu(pn,An,Dn,Zn)});function qs(pn){return function(){return pn}}function Fs(pn){return pn}function Yu(){return!1}St.exports=ru})(lodash_mergewith,lodash_mergewith.exports);const mergeWith=lodash_mergewith.exports;function isObject$6(St){const er=typeof St;return St!=null&&(er==="object"||er==="function")&&!Array.isArray(St)}function runIfFn$3(St,...er){return isFunction$5(St)?St(...er):St}var isFunction$5=St=>typeof St=="function",isImportant=St=>/!(important)?$/.test(St),withoutImportant=St=>typeof St=="string"?St.replace(/!(important)?$/,"").trim():St,tokenToCSSVar=(St,er)=>tr=>{const rr=String(er),nr=isImportant(rr),ar=withoutImportant(rr),dr=St?`${St}.${ar}`:ar;let or=isObject$6(tr.__cssMap)&&dr in tr.__cssMap?tr.__cssMap[dr].varRef:er;return or=withoutImportant(or),nr?`${or} !important`:or};function createTransform(St){const{scale:er,transform:tr,compose:rr}=St;return(ar,dr)=>{const or=tokenToCSSVar(er,ar)(dr);let ir=tr?.(or,dr)??or;return rr&&(ir=rr(ir,dr)),ir}}var pipe$2=(...St)=>er=>St.reduce((tr,rr)=>rr(tr),er);function toConfig(St,er){return tr=>{const rr={property:tr,scale:St};return rr.transform=createTransform({scale:St,transform:er}),rr}}var getRtl=({rtl:St,ltr:er})=>tr=>tr.direction==="rtl"?St:er;function logical(St){const{property:er,scale:tr,transform:rr}=St;return{scale:tr,property:getRtl(er),transform:tr?createTransform({scale:tr,compose:rr}):rr}}var transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}var filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(St){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":St,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},owlSelector="& > :not(style) ~ :not(style)",spaceXTemplate={[owlSelector]:{marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"}},spaceYTemplate={[owlSelector]:{marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=St=>St.trim();function parseGradient(St,er){var tr;if(St==null||globalSet.has(St))return St;const rr=/(?<type>^[a-z-A-Z]+)\((?<values>(.*))\)/g,{type:nr,values:ar}=((tr=rr.exec(St))==null?void 0:tr.groups)??{};if(!nr||!ar)return St;const dr=nr.includes("-gradient")?nr:`${nr}-gradient`,[or,...ir]=ar.split(",").map(trimSpace).filter(Boolean);if(ir?.length===0)return St;const lr=or in directionMap?directionMap[or]:or;ir.unshift(lr);const fr=ir.map(cr=>{if(valueSet.has(cr))return cr;const ur=cr.indexOf(" "),[sr,hr]=ur!==-1?[cr.substr(0,ur),cr.substr(ur+1)]:[cr],gr=isCSSFunction(hr)?hr:hr&&hr.split(" "),pr=`colors.${sr}`,mr=pr in er.__cssMap?er.__cssMap[pr].varRef:sr;return gr?[mr,...Array.isArray(gr)?gr:[gr]].join(" "):mr});return`${dr}(${fr.join(", ")})`}var isCSSFunction=St=>typeof St=="string"&&St.includes("(")&&St.includes(")"),gradientTransform=(St,er)=>parseGradient(St,er??{});function isCssVar(St){return/^var\(--.+\)$/.test(St)}var analyzeCSSValue=St=>{const er=parseFloat(St.toString()),tr=St.toString().replace(String(er),"");return{unitless:!tr,value:er,unit:tr}},wrap=St=>er=>`${St}(${er})`,transformFunctions={filter(St){return St!=="auto"?St:filterTemplate},backdropFilter(St){return St!=="auto"?St:backdropFilterTemplate},ring(St){return getRingTemplate(transformFunctions.px(St))},bgClip(St){return St==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:St}},transform(St){return St==="auto"?getTransformTemplate():St==="auto-gpu"?getTransformGpuTemplate():St},vh(St){return St==="$100vh"?"var(--chakra-vh)":St},px(St){if(St==null)return St;const{unitless:er}=analyzeCSSValue(St);return er||typeof St=="number"?`${St}px`:St},fraction(St){return typeof St!="number"||St>1?St:`${St*100}%`},float(St,er){const tr={left:"right",right:"left"};return er.direction==="rtl"?tr[St]:St},degree(St){if(isCssVar(St)||St==null)return St;const er=typeof St=="string"&&!St.endsWith("deg");return typeof St=="number"||er?`${St}deg`:St},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:wrap("hue-rotate"),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(St){return St==null||isCSSFunction(St)||globalSet.has(St)?St:`url(${St})`},outline(St){const er=String(St)==="0"||String(St)==="none";return St!==null&&er?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:St}},flexDirection(St){const{space:er,divide:tr}=flexDirectionTemplate[St]??{},rr={flexDirection:St};return er&&(rr[er]=1),tr&&(rr[tr]=1),rr}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(St){return{property:St,transform:transformFunctions.degree}},prop(St,er,tr){return{property:St,scale:er,...er&&{transform:createTransform({scale:er,transform:tr})}}},propT(St,er){return{property:St,transform:er}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.propT("backgroundImage",transformFunctions.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.propT("backgroundImage",transformFunctions.gradient),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});var border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});var color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke")},effect={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect,{shadow:effect.boxShadow});var filter$1={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.degreeT("--chakra-hue-rotate"),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},experimental_spaceX:{static:spaceXTemplate,transform:createTransform({scale:"space",transform:St=>St!==null?{"--chakra-space-x":St}:null})},experimental_spaceY:{static:spaceYTemplate,transform:createTransform({scale:"space",transform:St=>St!=null?{"--chakra-space-y":St}:null})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});var grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},layout={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout,{w:layout.width,h:layout.height,minW:layout.minWidth,maxW:layout.maxWidth,minH:layout.minHeight,maxH:layout.maxHeight,overscroll:layout.overscrollBehavior,overscrollX:layout.overscrollBehaviorX,overscrollY:layout.overscrollBehaviorY});var list={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")};function get$2(St,er,tr,rr){const nr=typeof er=="string"?er.split("."):[er];for(rr=0;rr<nr.length&&St;rr+=1)St=St[nr[rr]];return St===void 0?tr:St}var memoize$2=St=>{const er=new WeakMap;return(rr,nr,ar,dr)=>{if(typeof rr>"u")return St(rr,nr,ar);er.has(rr)||er.set(rr,new Map);const or=er.get(rr);if(or.has(nr))return or.get(nr);const ir=St(rr,nr,ar,dr);return or.set(nr,ir),ir}},memoizedGet$1=memoize$2(get$2),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(St,er,tr)=>{const rr={},nr=memoizedGet$1(St,er,{});for(const ar in nr)ar in tr&&tr[ar]!=null||(rr[ar]=nr[ar]);return rr},others={srOnly:{transform(St){return St===!0?srOnly:St==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(St,er,tr)=>getWithPriority(er,`layerStyles.${St}`,tr)},textStyle:{processResult:!0,transform:(St,er,tr)=>getWithPriority(er,`textStyles.${St}`,tr)},apply:{processResult:!0,transform:(St,er,tr)=>getWithPriority(er,St,tr)}},position$1={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});var ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});var textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},typography$1={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function resolveReference(St){return isObject$6(St)&&St.reference?St.reference:String(St)}var toExpression=(St,...er)=>er.map(resolveReference).join(` ${St} `).replace(/calc/g,""),add$1=(...St)=>`calc(${toExpression("+",...St)})`,subtract$1=(...St)=>`calc(${toExpression("-",...St)})`,multiply$1=(...St)=>`calc(${toExpression("*",...St)})`,divide$1=(...St)=>`calc(${toExpression("/",...St)})`,negate$1=St=>{const er=resolveReference(St);return er!=null&&!Number.isNaN(parseFloat(er))?String(er).startsWith("-")?String(er).slice(1):`-${er}`:multiply$1(er,-1)},calc$1=Object.assign(St=>({add:(...er)=>calc$1(add$1(St,...er)),subtract:(...er)=>calc$1(subtract$1(St,...er)),multiply:(...er)=>calc$1(multiply$1(St,...er)),divide:(...er)=>calc$1(divide$1(St,...er)),negate:()=>calc$1(negate$1(St)),toString:()=>St.toString()}),{add:add$1,subtract:subtract$1,multiply:multiply$1,divide:divide$1,negate:negate$1});function replaceWhiteSpace$1(St,er="-"){return St.replace(/\s+/g,er)}function escape$2(St){const er=replaceWhiteSpace$1(St.toString());return escapeSymbol(escapeDot(er))}function escapeDot(St){return St.includes("\\.")?St:!Number.isInteger(parseFloat(St.toString()))?St.replace(".","\\."):St}function escapeSymbol(St){return St.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(St,er=""){return[er,St].filter(Boolean).join("-")}function toVarReference(St,er){return`var(${St}${er?`, ${er}`:""})`}function toVarDefinition(St,er=""){return escape$2(`--${addPrefix$1(St,er)}`)}function cssVar$1(St,er,tr){const rr=toVarDefinition(St,tr);return{variable:rr,reference:toVarReference(rr,er)}}function getLastItem(St){const er=St==null?0:St.length;return er?St[er-1]:void 0}function analyzeCSSValue2(St){const er=parseFloat(St.toString()),tr=St.toString().replace(String(er),"");return{unitless:!tr,value:er,unit:tr}}function px$2(St){if(St==null)return St;const{unitless:er}=analyzeCSSValue2(St);return er||typeof St=="number"?`${St}px`:St}var sortByBreakpointValue=(St,er)=>parseInt(St[1],10)>parseInt(er[1],10)?1:-1,sortBps=St=>Object.fromEntries(Object.entries(St).sort(sortByBreakpointValue));function normalize(St){const er=sortBps(St);return Object.assign(Object.values(er),er)}function keys(St){const er=Object.keys(sortBps(St));return new Set(er)}function subtract2(St){if(!St)return St;St=px$2(St)??St;const er=St.endsWith("px")?-1:-.0625;return typeof St=="number"?`${St+er}`:St.replace(/(\d+\.?\d*)/u,tr=>`${parseFloat(tr)+er}`)}function toMediaQueryString(St,er){const tr=["@media screen"];return St&&tr.push("and",`(min-width: ${px$2(St)})`),er&&tr.push("and",`(max-width: ${px$2(er)})`),tr.join(" ")}function analyzeBreakpoints(St){if(!St)return null;St.base=St.base??"0px";const er=normalize(St),tr=Object.entries(St).sort(sortByBreakpointValue).map(([ar,dr],or,ir)=>{let[,lr]=ir[or+1]??[];return lr=parseFloat(lr)>0?subtract2(lr):void 0,{_minW:subtract2(dr),breakpoint:ar,minW:dr,maxW:lr,maxWQuery:toMediaQueryString(null,lr),minWQuery:toMediaQueryString(dr),minMaxQuery:toMediaQueryString(dr,lr)}}),rr=keys(St),nr=Array.from(rr.values());return{keys:rr,normalized:er,isResponsive(ar){const dr=Object.keys(ar);return dr.length>0&&dr.every(or=>rr.has(or))},asObject:sortBps(St),asArray:normalize(St),details:tr,media:[null,...er.map(ar=>toMediaQueryString(ar)).slice(1)],toArrayValue(ar){if(!isObject$6(ar))throw new Error("toArrayValue: value must be an object");const dr=nr.map(or=>ar[or]??null);for(;getLastItem(dr)===null;)dr.pop();return dr},toObjectValue(ar){if(!Array.isArray(ar))throw new Error("toObjectValue: value must be an array");return ar.reduce((dr,or,ir)=>{const lr=nr[ir];return lr!=null&&or!=null&&(dr[lr]=or),dr},{})}}}var state={hover:(St,er)=>`${St}:hover ${er}, ${St}[data-hover] ${er}`,focus:(St,er)=>`${St}:focus ${er}, ${St}[data-focus] ${er}`,focusVisible:(St,er)=>`${St}:focus-visible ${er}`,focusWithin:(St,er)=>`${St}:focus-within ${er}`,active:(St,er)=>`${St}:active ${er}, ${St}[data-active] ${er}`,disabled:(St,er)=>`${St}:disabled ${er}, ${St}[data-disabled] ${er}`,invalid:(St,er)=>`${St}:invalid ${er}, ${St}[data-invalid] ${er}`,checked:(St,er)=>`${St}:checked ${er}, ${St}[data-checked] ${er}`,indeterminate:(St,er)=>`${St}:indeterminate ${er}, ${St}[aria-checked=mixed] ${er}, ${St}[data-indeterminate] ${er}`,readOnly:(St,er)=>`${St}:read-only ${er}, ${St}[readonly] ${er}, ${St}[data-read-only] ${er}`,expanded:(St,er)=>`${St}:read-only ${er}, ${St}[aria-expanded=true] ${er}, ${St}[data-expanded] ${er}`,placeholderShown:(St,er)=>`${St}:placeholder-shown ${er}`},toGroup=St=>merge(er=>St(er,"&"),"[role=group]","[data-group]",".group"),toPeer=St=>merge(er=>St(er,"~ &"),"[data-peer]",".peer"),merge=(St,...er)=>er.map(St).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]"},pseudoPropNames=Object.keys(pseudoSelectors);function tokenToCssVar(St,er){return cssVar$1(String(St).replace(/\./g,"-"),void 0,er)}function createThemeVars(St,er){let tr={};const rr={};for(const[nr,ar]of Object.entries(St)){const{isSemantic:dr,value:or}=ar,{variable:ir,reference:lr}=tokenToCssVar(nr,er?.cssVarPrefix);if(!dr){if(nr.startsWith("space")){const ur=nr.split("."),[sr,...hr]=ur,gr=`${sr}.-${hr.join(".")}`,pr=calc$1.negate(or),mr=calc$1.negate(lr);rr[gr]={value:pr,var:ir,varRef:mr}}tr[ir]=or,rr[nr]={value:or,var:ir,varRef:lr};continue}const fr=ur=>{const hr=[String(nr).split(".")[0],ur].join(".");if(!St[hr])return ur;const{reference:pr}=tokenToCssVar(hr,er?.cssVarPrefix);return pr},cr=isObject$6(or)?or:{default:or};tr=mergeWith(tr,Object.entries(cr).reduce((ur,[sr,hr])=>{var gr;const pr=fr(hr);if(sr==="default")return ur[ir]=pr,ur;const mr=((gr=pseudoSelectors)==null?void 0:gr[sr])??sr;return ur[mr]={[ir]:pr},ur},{})),rr[nr]={value:lr,var:ir,varRef:lr}}return{cssVars:tr,cssMap:rr}}function omit$3(St,er=[]){const tr=Object.assign({},St);for(const rr of er)rr in tr&&delete tr[rr];return tr}function pick(St,er){const tr={};for(const rr of er)rr in St&&(tr[rr]=St[rr]);return tr}var tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function extractTokens(St){return pick(St,tokens)}function extractSemanticTokens(St){return St.semanticTokens}function omitVars(St){const{__cssMap:er,__cssVars:tr,__breakpoints:rr,...nr}=St;return nr}function flattenTokens({tokens:St,semanticTokens:er}){const tr=Object.entries(flatten$1(St)??{}).map(([nr,ar])=>[nr,{isSemantic:!1,value:ar}]),rr=Object.entries(flatten$1(er,1)??{}).map(([nr,ar])=>[nr,{isSemantic:!0,value:ar}]);return Object.fromEntries([...tr,...rr])}function flatten$1(St,er=1/0){return!isObject$6(St)&&!Array.isArray(St)||!er?St:Object.entries(St).reduce((tr,[rr,nr])=>(isObject$6(nr)||Array.isArray(nr)?Object.entries(flatten$1(nr,er-1)).forEach(([ar,dr])=>{tr[`${rr}.${ar}`]=dr}):tr[rr]=nr,tr),{})}function toCSSVar(St){var er;const tr=omitVars(St),rr=extractTokens(tr),nr=extractSemanticTokens(tr),ar=flattenTokens({tokens:rr,semanticTokens:nr}),dr=(er=tr.config)==null?void 0:er.cssVarPrefix,{cssMap:or,cssVars:ir}=createThemeVars(ar,{cssVarPrefix:dr});return Object.assign(tr,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...ir},__cssMap:or,__breakpoints:analyzeBreakpoints(tr.breakpoints)}),tr}var systemProps=mergeWith({},background,border,color$1,flexbox,layout,filter$1,ring,interactivity,grid,others,position$1,effect,space,scroll,typography$1,textDecoration,transform,list,transition$1);Object.assign({},space,layout,flexbox,grid,position$1);var propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=St=>St in styleProps,expandResponsive=St=>er=>{if(!er.__breakpoints)return St;const{isResponsive:tr,toArrayValue:rr,media:nr}=er.__breakpoints,ar={};for(const dr in St){let or=runIfFn$3(St[dr],er);if(or==null)continue;if(or=isObject$6(or)&&tr(or)?rr(or):or,!Array.isArray(or)){ar[dr]=or;continue}const ir=or.slice(0,nr.length).length;for(let lr=0;lr<ir;lr+=1){const fr=nr?.[lr];if(!fr){ar[dr]=or[lr];continue}ar[fr]=ar[fr]||{},or[lr]!=null&&(ar[fr][dr]=or[lr])}}return ar};function splitByComma(St){const er=[];let tr="",rr=!1;for(let nr=0;nr<St.length;nr++){const ar=St[nr];ar==="("?(rr=!0,tr+=ar):ar===")"?(rr=!1,tr+=ar):ar===","&&!rr?(er.push(tr),tr=""):tr+=ar}return tr=tr.trim(),tr&&er.push(tr),er}function isCssVar2(St){return/^var\(--.+\)$/.test(St)}var isCSSVariableTokenValue=(St,er)=>St.startsWith("--")&&typeof er=="string"&&!isCssVar2(er),resolveTokenValue=(St,er)=>{if(er==null)return er;const tr=dr=>{var or,ir;return(ir=(or=St.__cssMap)==null?void 0:or[dr])==null?void 0:ir.varRef},rr=dr=>tr(dr)??dr,[nr,ar]=splitByComma(er);return er=tr(nr)??rr(ar)??rr(er),er};function getCss(St){const{configs:er={},pseudos:tr={},theme:rr}=St,nr=(ar,dr=!1)=>{var or;const ir=runIfFn$3(ar,rr),lr=expandResponsive(ir)(rr);let fr={};for(let cr in lr){const ur=lr[cr];let sr=runIfFn$3(ur,rr);cr in tr&&(cr=tr[cr]),isCSSVariableTokenValue(cr,sr)&&(sr=resolveTokenValue(rr,sr));let hr=er[cr];if(hr===!0&&(hr={property:cr}),isObject$6(sr)){fr[cr]=fr[cr]??{},fr[cr]=mergeWith({},fr[cr],nr(sr,!0));continue}let gr=((or=hr?.transform)==null?void 0:or.call(hr,sr,rr,ir))??sr;gr=hr?.processResult?nr(gr,!0):gr;const pr=runIfFn$3(hr?.property,rr);if(!dr&&hr?.static){const mr=runIfFn$3(hr.static,rr);fr=mergeWith({},fr,mr)}if(pr&&Array.isArray(pr)){for(const mr of pr)fr[mr]=gr;continue}if(pr){pr==="&"&&isObject$6(gr)?fr=mergeWith({},fr,gr):fr[pr]=gr;continue}if(isObject$6(gr)){fr=mergeWith({},fr,gr);continue}fr[cr]=gr}return fr};return nr}var css$1=St=>er=>getCss({theme:er,pseudos:pseudoSelectors,configs:systemProps})(St);function defineStyle(St){return St}function defineStyleConfig(St){return St}function createMultiStyleConfigHelpers(St){return{definePartsStyle(er){return er},defineMultiStyleConfig(er){return{parts:St,...er}}}}function normalize2(St,er){if(Array.isArray(St))return St;if(isObject$6(St))return er(St);if(St!=null)return[St]}function getNextIndex$1(St,er){for(let tr=er+1;tr<St.length;tr++)if(St[tr]!=null)return tr;return-1}function createResolver(St){const er=St.__breakpoints;return function(rr,nr,ar,dr){var or,ir;if(!er)return;const lr={},fr=normalize2(ar,er.toArrayValue);if(!fr)return lr;const cr=fr.length,ur=cr===1,sr=!!rr.parts;for(let hr=0;hr<cr;hr++){const gr=er.details[hr],pr=er.details[getNextIndex$1(fr,hr)],mr=toMediaQueryString(gr.minW,pr?._minW),vr=runIfFn$3((or=rr[nr])==null?void 0:or[fr[hr]],dr);if(!!vr){if(sr){(ir=rr.parts)==null||ir.forEach(yr=>{mergeWith(lr,{[yr]:ur?vr[yr]:{[mr]:vr[yr]}})});continue}if(!sr){ur?mergeWith(lr,vr):lr[mr]=vr;continue}lr[mr]=vr}}return lr}}function resolveStyleConfig(St){return er=>{const{variant:tr,size:rr,theme:nr}=er,ar=createResolver(nr);return mergeWith({},runIfFn$3(St.baseStyle??{},er),ar(St,"sizes",rr,er),ar(St,"variants",tr,er))}}function omitThemingProps(St){return omit$3(St,["styleConfig","size","variant","colorScheme"])}function sheetForTag(St){if(St.sheet)return St.sheet;for(var er=0;er<document.styleSheets.length;er++)if(document.styleSheets[er].ownerNode===St)return document.styleSheets[er]}function createStyleElement(St){var er=document.createElement("style");return er.setAttribute("data-emotion",St.key),St.nonce!==void 0&&er.setAttribute("nonce",St.nonce),er.appendChild(document.createTextNode("")),er.setAttribute("data-s",""),er}var StyleSheet=function(){function St(tr){var rr=this;this._insertTag=function(nr){var ar;rr.tags.length===0?rr.insertionPoint?ar=rr.insertionPoint.nextSibling:rr.prepend?ar=rr.container.firstChild:ar=rr.before:ar=rr.tags[rr.tags.length-1].nextSibling,rr.container.insertBefore(nr,ar),rr.tags.push(nr)},this.isSpeedy=tr.speedy===void 0?!0:tr.speedy,this.tags=[],this.ctr=0,this.nonce=tr.nonce,this.key=tr.key,this.container=tr.container,this.prepend=tr.prepend,this.insertionPoint=tr.insertionPoint,this.before=null}var er=St.prototype;return er.hydrate=function(rr){rr.forEach(this._insertTag)},er.insert=function(rr){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nr=this.tags[this.tags.length-1];if(this.isSpeedy){var ar=sheetForTag(nr);try{ar.insertRule(rr,ar.cssRules.length)}catch{}}else nr.appendChild(document.createTextNode(rr));this.ctr++},er.flush=function(){this.tags.forEach(function(rr){return rr.parentNode&&rr.parentNode.removeChild(rr)}),this.tags=[],this.ctr=0},St}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(St,er){return charat(St,0)^45?(((er<<2^charat(St,0))<<2^charat(St,1))<<2^charat(St,2))<<2^charat(St,3):0}function trim(St){return St.trim()}function match$2(St,er){return(St=er.exec(St))?St[0]:St}function replace(St,er,tr){return St.replace(er,tr)}function indexof(St,er){return St.indexOf(er)}function charat(St,er){return St.charCodeAt(er)|0}function substr(St,er,tr){return St.slice(er,tr)}function strlen(St){return St.length}function sizeof(St){return St.length}function append(St,er){return er.push(St),St}function combine(St,er){return St.map(er).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(St,er,tr,rr,nr,ar,dr){return{value:St,root:er,parent:tr,type:rr,props:nr,children:ar,line,column,length:dr,return:""}}function copy(St,er){return assign(node("",null,null,"",null,null,0),St,{length:-St.length},er)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(St,er){return substr(characters,St,er)}function token(St){switch(St){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(St){return line=column=1,length=strlen(characters=St),position=0,[]}function dealloc(St){return characters="",St}function delimit(St){return trim(slice(position-1,delimiter(St===91?St+2:St===40?St+1:St)))}function whitespace(St){for(;(character=peek())&&character<33;)next();return token(St)>2||token(character)>3?"":" "}function escaping(St,er){for(;--er&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(St,caret()+(er<6&&peek()==32&&next()==32))}function delimiter(St){for(;next();)switch(character){case St:return position;case 34:case 39:St!==34&&St!==39&&delimiter(character);break;case 40:St===41&&delimiter(St);break;case 92:next();break}return position}function commenter(St,er){for(;next()&&St+character!==47+10;)if(St+character===42+42&&peek()===47)break;return"/*"+slice(er,position-1)+"*"+from(St===47?St:next())}function identifier(St){for(;!token(peek());)next();return slice(St,position)}function compile(St){return dealloc(parse$2("",null,null,null,[""],St=alloc(St),0,[0],St))}function parse$2(St,er,tr,rr,nr,ar,dr,or,ir){for(var lr=0,fr=0,cr=dr,ur=0,sr=0,hr=0,gr=1,pr=1,mr=1,vr=0,yr="",br=nr,xr=ar,Cr=rr,kr=yr;pr;)switch(hr=vr,vr=next()){case 40:if(hr!=108&&charat(kr,cr-1)==58){indexof(kr+=replace(delimit(vr),"&","&\f"),"&\f")!=-1&&(mr=-1);break}case 34:case 39:case 91:kr+=delimit(vr);break;case 9:case 10:case 13:case 32:kr+=whitespace(hr);break;case 92:kr+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),er,tr),ir);break;default:kr+="/"}break;case 123*gr:or[lr++]=strlen(kr)*mr;case 125*gr:case 59:case 0:switch(vr){case 0:case 125:pr=0;case 59+fr:sr>0&&strlen(kr)-cr&&append(sr>32?declaration(kr+";",rr,tr,cr-1):declaration(replace(kr," ","")+";",rr,tr,cr-2),ir);break;case 59:kr+=";";default:if(append(Cr=ruleset(kr,er,tr,lr,fr,nr,or,yr,br=[],xr=[],cr),ar),vr===123)if(fr===0)parse$2(kr,er,Cr,Cr,br,ar,cr,or,xr);else switch(ur===99&&charat(kr,3)===110?100:ur){case 100:case 109:case 115:parse$2(St,Cr,Cr,rr&&append(ruleset(St,Cr,Cr,0,0,nr,or,yr,nr,br=[],cr),xr),nr,xr,cr,or,rr?br:xr);break;default:parse$2(kr,Cr,Cr,Cr,[""],xr,0,or,xr)}}lr=fr=sr=0,gr=mr=1,yr=kr="",cr=dr;break;case 58:cr=1+strlen(kr),sr=hr;default:if(gr<1){if(vr==123)--gr;else if(vr==125&&gr++==0&&prev()==125)continue}switch(kr+=from(vr),vr*gr){case 38:mr=fr>0?1:(kr+="\f",-1);break;case 44:or[lr++]=(strlen(kr)-1)*mr,mr=1;break;case 64:peek()===45&&(kr+=delimit(next())),ur=peek(),fr=cr=strlen(yr=kr+=identifier(caret())),vr++;break;case 45:hr===45&&strlen(kr)==2&&(gr=0)}}return ar}function ruleset(St,er,tr,rr,nr,ar,dr,or,ir,lr,fr){for(var cr=nr-1,ur=nr===0?ar:[""],sr=sizeof(ur),hr=0,gr=0,pr=0;hr<rr;++hr)for(var mr=0,vr=substr(St,cr+1,cr=abs(gr=dr[hr])),yr=St;mr<sr;++mr)(yr=trim(gr>0?ur[mr]+" "+vr:replace(vr,/&\f/g,ur[mr])))&&(ir[pr++]=yr);return node(St,er,tr,nr===0?RULESET:or,ir,lr,fr)}function comment(St,er,tr){return node(St,er,tr,COMMENT,from(char()),substr(St,2,-2),0)}function declaration(St,er,tr,rr){return node(St,er,tr,DECLARATION,substr(St,0,rr),substr(St,rr+1,-1),rr)}function serialize(St,er){for(var tr="",rr=sizeof(St),nr=0;nr<rr;nr++)tr+=er(St[nr],nr,St,er)||"";return tr}function stringify(St,er,tr,rr){switch(St.type){case IMPORT:case DECLARATION:return St.return=St.return||St.value;case COMMENT:return"";case KEYFRAMES:return St.return=St.value+"{"+serialize(St.children,rr)+"}";case RULESET:St.value=St.props.join(",")}return strlen(tr=serialize(St.children,rr))?St.return=St.value+"{"+tr+"}":""}function middleware(St){var er=sizeof(St);return function(tr,rr,nr,ar){for(var dr="",or=0;or<er;or++)dr+=St[or](tr,rr,nr,ar)||"";return dr}}function rulesheet(St){return function(er){er.root||(er=er.return)&&St(er)}}var weakMemoize=function(er){var tr=new WeakMap;return function(rr){if(tr.has(rr))return tr.get(rr);var nr=er(rr);return tr.set(rr,nr),nr}};function memoize$1(St){var er=Object.create(null);return function(tr){return er[tr]===void 0&&(er[tr]=St(tr)),er[tr]}}var identifierWithPointTracking=function(er,tr,rr){for(var nr=0,ar=0;nr=ar,ar=peek(),nr===38&&ar===12&&(tr[rr]=1),!token(ar);)next();return slice(er,position)},toRules=function(er,tr){var rr=-1,nr=44;do switch(token(nr)){case 0:nr===38&&peek()===12&&(tr[rr]=1),er[rr]+=identifierWithPointTracking(position-1,tr,rr);break;case 2:er[rr]+=delimit(nr);break;case 4:if(nr===44){er[++rr]=peek()===58?"&\f":"",tr[rr]=er[rr].length;break}default:er[rr]+=from(nr)}while(nr=next());return er},getRules=function(er,tr){return dealloc(toRules(alloc(er),tr))},fixedElements=new WeakMap,compat=function(er){if(!(er.type!=="rule"||!er.parent||er.length<1)){for(var tr=er.value,rr=er.parent,nr=er.column===rr.column&&er.line===rr.line;rr.type!=="rule";)if(rr=rr.parent,!rr)return;if(!(er.props.length===1&&tr.charCodeAt(0)!==58&&!fixedElements.get(rr))&&!nr){fixedElements.set(er,!0);for(var ar=[],dr=getRules(tr,ar),or=rr.props,ir=0,lr=0;ir<dr.length;ir++)for(var fr=0;fr<or.length;fr++,lr++)er.props[lr]=ar[ir]?dr[ir].replace(/&\f/g,or[fr]):or[fr]+" "+dr[ir]}}},removeLabel=function(er){if(er.type==="decl"){var tr=er.value;tr.charCodeAt(0)===108&&tr.charCodeAt(2)===98&&(er.return="",er.value="")}};function prefix(St,er){switch(hash(St,er)){case 5103:return WEBKIT+"print-"+St+St;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+St+St;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+St+MOZ+St+MS+St+St;case 6828:case 4268:return WEBKIT+St+MS+St+St;case 6165:return WEBKIT+St+MS+"flex-"+St+St;case 5187:return WEBKIT+St+replace(St,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+St;case 5443:return WEBKIT+St+MS+"flex-item-"+replace(St,/flex-|-self/,"")+St;case 4675:return WEBKIT+St+MS+"flex-line-pack"+replace(St,/align-content|flex-|-self/,"")+St;case 5548:return WEBKIT+St+MS+replace(St,"shrink","negative")+St;case 5292:return WEBKIT+St+MS+replace(St,"basis","preferred-size")+St;case 6060:return WEBKIT+"box-"+replace(St,"-grow","")+WEBKIT+St+MS+replace(St,"grow","positive")+St;case 4554:return WEBKIT+replace(St,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+St;case 6187:return replace(replace(replace(St,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),St,"")+St;case 5495:case 3959:return replace(St,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(St,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+St+St;case 4095:case 3583:case 4068:case 2532:return replace(St,/(.+)-inline(.+)/,WEBKIT+"$1$2")+St;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(St)-1-er>6)switch(charat(St,er+1)){case 109:if(charat(St,er+4)!==45)break;case 102:return replace(St,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(St,er+3)==108?"$3":"$2-$3"))+St;case 115:return~indexof(St,"stretch")?prefix(replace(St,"stretch","fill-available"),er)+St:St}break;case 4949:if(charat(St,er+1)!==115)break;case 6444:switch(charat(St,strlen(St)-3-(~indexof(St,"!important")&&10))){case 107:return replace(St,":",":"+WEBKIT)+St;case 101:return replace(St,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(St,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+St}break;case 5936:switch(charat(St,er+11)){case 114:return WEBKIT+St+MS+replace(St,/[svh]\w+-[tblr]{2}/,"tb")+St;case 108:return WEBKIT+St+MS+replace(St,/[svh]\w+-[tblr]{2}/,"tb-rl")+St;case 45:return WEBKIT+St+MS+replace(St,/[svh]\w+-[tblr]{2}/,"lr")+St}return WEBKIT+St+MS+St+St}return St}var prefixer=function(er,tr,rr,nr){if(er.length>-1&&!er.return)switch(er.type){case DECLARATION:er.return=prefix(er.value,er.length);break;case KEYFRAMES:return serialize([copy(er,{value:replace(er.value,"@","@"+WEBKIT)})],nr);case RULESET:if(er.length)return combine(er.props,function(ar){switch(match$2(ar,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(er,{props:[replace(ar,/:(read-\w+)/,":"+MOZ+"$1")]})],nr);case"::placeholder":return serialize([copy(er,{props:[replace(ar,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(er,{props:[replace(ar,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(er,{props:[replace(ar,/:(plac\w+)/,MS+"input-$1")]})],nr)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(er){var tr=er.key;if(tr==="css"){var rr=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rr,function(gr){var pr=gr.getAttribute("data-emotion");pr.indexOf(" ")!==-1&&(document.head.appendChild(gr),gr.setAttribute("data-s",""))})}var nr=er.stylisPlugins||defaultStylisPlugins,ar={},dr,or=[];dr=er.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tr+' "]'),function(gr){for(var pr=gr.getAttribute("data-emotion").split(" "),mr=1;mr<pr.length;mr++)ar[pr[mr]]=!0;or.push(gr)});var ir,lr=[compat,removeLabel];{var fr,cr=[stringify,rulesheet(function(gr){fr.insert(gr)})],ur=middleware(lr.concat(nr,cr)),sr=function(pr){return serialize(compile(pr),ur)};ir=function(pr,mr,vr,yr){fr=vr,sr(pr?pr+"{"+mr.styles+"}":mr.styles),yr&&(hr.inserted[mr.name]=!0)}}var hr={key:tr,sheet:new StyleSheet({key:tr,container:dr,nonce:er.nonce,speedy:er.speedy,prepend:er.prepend,insertionPoint:er.insertionPoint}),nonce:er.nonce,inserted:ar,registered:{},insert:ir};return hr.sheet.hydrate(or),hr};function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$2.apply(this,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$2=b$3?Symbol.for("react.portal"):60106,e=b$3?Symbol.for("react.fragment"):60107,f$2=b$3?Symbol.for("react.strict_mode"):60108,g$2=b$3?Symbol.for("react.profiler"):60114,h$2=b$3?Symbol.for("react.provider"):60109,k$2=b$3?Symbol.for("react.context"):60110,l$1=b$3?Symbol.for("react.async_mode"):60111,m$2=b$3?Symbol.for("react.concurrent_mode"):60111,n$1=b$3?Symbol.for("react.forward_ref"):60112,p$2=b$3?Symbol.for("react.suspense"):60113,q$2=b$3?Symbol.for("react.suspense_list"):60120,r$1=b$3?Symbol.for("react.memo"):60115,t=b$3?Symbol.for("react.lazy"):60116,v$2=b$3?Symbol.for("react.block"):60121,w$1=b$3?Symbol.for("react.fundamental"):60117,x$2=b$3?Symbol.for("react.responder"):60118,y$2=b$3?Symbol.for("react.scope"):60119;function z$2(St){if(typeof St=="object"&&St!==null){var er=St.$$typeof;switch(er){case c$2:switch(St=St.type,St){case l$1:case m$2:case e:case g$2:case f$2:case p$2:return St;default:switch(St=St&&St.$$typeof,St){case k$2:case n$1:case t:case r$1:case h$2:return St;default:return er}}case d$2:return er}}}function A$2(St){return z$2(St)===m$2}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$2;reactIs_production_min.Element=c$2;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d$2;reactIs_production_min.Profiler=g$2;reactIs_production_min.StrictMode=f$2;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(St){return A$2(St)||z$2(St)===l$1};reactIs_production_min.isConcurrentMode=A$2;reactIs_production_min.isContextConsumer=function(St){return z$2(St)===k$2};reactIs_production_min.isContextProvider=function(St){return z$2(St)===h$2};reactIs_production_min.isElement=function(St){return typeof St=="object"&&St!==null&&St.$$typeof===c$2};reactIs_production_min.isForwardRef=function(St){return z$2(St)===n$1};reactIs_production_min.isFragment=function(St){return z$2(St)===e};reactIs_production_min.isLazy=function(St){return z$2(St)===t};reactIs_production_min.isMemo=function(St){return z$2(St)===r$1};reactIs_production_min.isPortal=function(St){return z$2(St)===d$2};reactIs_production_min.isProfiler=function(St){return z$2(St)===g$2};reactIs_production_min.isStrictMode=function(St){return z$2(St)===f$2};reactIs_production_min.isSuspense=function(St){return z$2(St)===p$2};reactIs_production_min.isValidElementType=function(St){return typeof St=="string"||typeof St=="function"||St===e||St===m$2||St===g$2||St===f$2||St===p$2||St===q$2||typeof St=="object"&&St!==null&&(St.$$typeof===t||St.$$typeof===r$1||St.$$typeof===h$2||St.$$typeof===k$2||St.$$typeof===n$1||St.$$typeof===w$1||St.$$typeof===x$2||St.$$typeof===y$2||St.$$typeof===v$2)};reactIs_production_min.typeOf=z$2;(function(St){St.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(St,er,tr){var rr="";return tr.split(" ").forEach(function(nr){St[nr]!==void 0?er.push(St[nr]+";"):rr+=nr+" "}),rr}var registerStyles=function(er,tr,rr){var nr=er.key+"-"+tr.name;(rr===!1||isBrowser$2===!1)&&er.registered[nr]===void 0&&(er.registered[nr]=tr.styles)},insertStyles=function(er,tr,rr){registerStyles(er,tr,rr);var nr=er.key+"-"+tr.name;if(er.inserted[tr.name]===void 0){var ar=tr;do er.insert(tr===ar?"."+nr:"",ar,er.sheet,!0),ar=ar.next;while(ar!==void 0)}};function murmur2(St){for(var er=0,tr,rr=0,nr=St.length;nr>=4;++rr,nr-=4)tr=St.charCodeAt(rr)&255|(St.charCodeAt(++rr)&255)<<8|(St.charCodeAt(++rr)&255)<<16|(St.charCodeAt(++rr)&255)<<24,tr=(tr&65535)*1540483477+((tr>>>16)*59797<<16),tr^=tr>>>24,er=(tr&65535)*1540483477+((tr>>>16)*59797<<16)^(er&65535)*1540483477+((er>>>16)*59797<<16);switch(nr){case 3:er^=(St.charCodeAt(rr+2)&255)<<16;case 2:er^=(St.charCodeAt(rr+1)&255)<<8;case 1:er^=St.charCodeAt(rr)&255,er=(er&65535)*1540483477+((er>>>16)*59797<<16)}return er^=er>>>13,er=(er&65535)*1540483477+((er>>>16)*59797<<16),((er^er>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(er){return er.charCodeAt(1)===45},isProcessableValue=function(er){return er!=null&&typeof er!="boolean"},processStyleName=memoize$1(function(St){return isCustomProperty(St)?St:St.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(er,tr){switch(er){case"animation":case"animationName":if(typeof tr=="string")return tr.replace(animationRegex,function(rr,nr,ar){return cursor={name:nr,styles:ar,next:cursor},nr})}return unitlessKeys[er]!==1&&!isCustomProperty(er)&&typeof tr=="number"&&tr!==0?tr+"px":tr},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(St,er,tr){if(tr==null)return"";if(tr.__emotion_styles!==void 0)return tr;switch(typeof tr){case"boolean":return"";case"object":{if(tr.anim===1)return cursor={name:tr.name,styles:tr.styles,next:cursor},tr.name;if(tr.styles!==void 0){var rr=tr.next;if(rr!==void 0)for(;rr!==void 0;)cursor={name:rr.name,styles:rr.styles,next:cursor},rr=rr.next;var nr=tr.styles+";";return nr}return createStringFromObject(St,er,tr)}case"function":{if(St!==void 0){var ar=cursor,dr=tr(St);return cursor=ar,handleInterpolation(St,er,dr)}break}}if(er==null)return tr;var or=er[tr];return or!==void 0?or:tr}function createStringFromObject(St,er,tr){var rr="";if(Array.isArray(tr))for(var nr=0;nr<tr.length;nr++)rr+=handleInterpolation(St,er,tr[nr])+";";else for(var ar in tr){var dr=tr[ar];if(typeof dr!="object")er!=null&&er[dr]!==void 0?rr+=ar+"{"+er[dr]+"}":isProcessableValue(dr)&&(rr+=processStyleName(ar)+":"+processStyleValue(ar,dr)+";");else if(Array.isArray(dr)&&typeof dr[0]=="string"&&(er==null||er[dr[0]]===void 0))for(var or=0;or<dr.length;or++)isProcessableValue(dr[or])&&(rr+=processStyleName(ar)+":"+processStyleValue(ar,dr[or])+";");else{var ir=handleInterpolation(St,er,dr);switch(ar){case"animation":case"animationName":{rr+=processStyleName(ar)+":"+ir+";";break}default:rr+=ar+"{"+ir+"}"}}}return rr}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(er,tr,rr){if(er.length===1&&typeof er[0]=="object"&&er[0]!==null&&er[0].styles!==void 0)return er[0];var nr=!0,ar="";cursor=void 0;var dr=er[0];dr==null||dr.raw===void 0?(nr=!1,ar+=handleInterpolation(rr,tr,dr)):ar+=dr[0];for(var or=1;or<er.length;or++)ar+=handleInterpolation(rr,tr,er[or]),nr&&(ar+=dr[or]);labelPattern.lastIndex=0;for(var ir="",lr;(lr=labelPattern.exec(ar))!==null;)ir+="-"+lr[1];var fr=murmur2(ar)+ir;return{name:fr,styles:ar,next:cursor}},syncFallback=function(er){return er()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||react.exports.useLayoutEffect,EmotionCacheContext=react.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(er){return react.exports.forwardRef(function(tr,rr){var nr=react.exports.useContext(EmotionCacheContext);return er(tr,nr,rr)})},ThemeContext=react.exports.createContext({}),getTheme=function(er,tr){if(typeof tr=="function"){var rr=tr(er);return rr}return _extends$2({},er,tr)},createCacheWithTheme=weakMemoize(function(St){return weakMemoize(function(er){return getTheme(St,er)})}),ThemeProvider$1=function(er){var tr=react.exports.useContext(ThemeContext);return er.theme!==tr&&(tr=createCacheWithTheme(tr)(er.theme)),react.exports.createElement(ThemeContext.Provider,{value:tr},er.children)},Global=withEmotionCache(function(St,er){var tr=St.styles,rr=serializeStyles([tr],void 0,react.exports.useContext(ThemeContext)),nr=react.exports.useRef();return useInsertionEffectWithLayoutFallback(function(){var ar=er.key+"-global",dr=new er.sheet.constructor({key:ar,nonce:er.sheet.nonce,container:er.sheet.container,speedy:er.sheet.isSpeedy}),or=!1,ir=document.querySelector('style[data-emotion="'+ar+" "+rr.name+'"]');return er.sheet.tags.length&&(dr.before=er.sheet.tags[0]),ir!==null&&(or=!0,ir.setAttribute("data-emotion",ar),dr.hydrate([ir])),nr.current=[dr,or],function(){dr.flush()}},[er]),useInsertionEffectWithLayoutFallback(function(){var ar=nr.current,dr=ar[0],or=ar[1];if(or){ar[1]=!1;return}if(rr.next!==void 0&&insertStyles(er,rr.next,!0),dr.tags.length){var ir=dr.tags[dr.tags.length-1].nextElementSibling;dr.before=ir,dr.flush()}er.insert("",rr,dr,!1)},[er,rr.name]),null});function css(){for(var St=arguments.length,er=new Array(St),tr=0;tr<St;tr++)er[tr]=arguments[tr];return serializeStyles(er)}var keyframes$2=function(){var er=css.apply(void 0,arguments),tr="animation-"+er.name;return{name:tr,styles:"@keyframes "+tr+"{"+er.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function isFunction$4(St){return typeof St=="function"}function omit$2(St,er){const tr={};return Object.keys(St).forEach(rr=>{er.includes(rr)||(tr[rr]=St[rr])}),tr}function get$1(St,er,tr,rr){const nr=typeof er=="string"?er.split("."):[er];for(rr=0;rr<nr.length&&St;rr+=1)St=St[nr[rr]];return St===void 0?tr:St}var memoize=St=>{const er=new WeakMap;return(rr,nr,ar,dr)=>{if(typeof rr>"u")return St(rr,nr,ar);er.has(rr)||er.set(rr,new Map);const or=er.get(rr);if(or.has(nr))return or.get(nr);const ir=St(rr,nr,ar,dr);return or.set(nr,ir),ir}},memoizedGet=memoize(get$1);function objectFilter(St,er){const tr={};return Object.keys(St).forEach(rr=>{const nr=St[rr];er(nr,rr,St)&&(tr[rr]=nr)}),tr}var filterUndefined=St=>objectFilter(St,er=>er!=null);function canUseDOM$2(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var isBrowser$1=canUseDOM$2();function runIfFn$2(St,...er){return isFunction$4(St)?St(...er):St}function callAllHandlers$3(...St){return function(tr){St.some(rr=>(rr?.(tr),tr?.defaultPrevented))}}Object.freeze(["base","sm","md","lg","xl","2xl"]);function createContext$1(St={}){const{strict:er=!0,errorMessage:tr="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:rr}=St,nr=react.exports.createContext(void 0);nr.displayName=rr;function ar(){var dr;const or=react.exports.useContext(nr);if(!or&&er){const ir=new Error(tr);throw ir.name="ContextError",(dr=Error.captureStackTrace)==null||dr.call(Error,ir,ar),ir}return or}return[nr.Provider,ar,nr]}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(St){return reactPropsRegex.test(St)||St.charCodeAt(0)===111&&St.charCodeAt(1)===110&&St.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(er){return er!=="theme"},getDefaultShouldForwardProp=function(er){return typeof er=="string"&&er.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(er,tr,rr){var nr;if(tr){var ar=tr.shouldForwardProp;nr=er.__emotion_forwardProp&&ar?function(dr){return er.__emotion_forwardProp(dr)&&ar(dr)}:ar}return typeof nr!="function"&&rr&&(nr=er.__emotion_forwardProp),nr},Insertion=function(er){var tr=er.cache,rr=er.serialized,nr=er.isStringTag;return registerStyles(tr,rr,nr),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tr,rr,nr)}),null},createStyled=function St(er,tr){var rr=er.__emotion_real===er,nr=rr&&er.__emotion_base||er,ar,dr;tr!==void 0&&(ar=tr.label,dr=tr.target);var or=composeShouldForwardProps(er,tr,rr),ir=or||getDefaultShouldForwardProp(nr),lr=!ir("as");return function(){var fr=arguments,cr=rr&&er.__emotion_styles!==void 0?er.__emotion_styles.slice(0):[];if(ar!==void 0&&cr.push("label:"+ar+";"),fr[0]==null||fr[0].raw===void 0)cr.push.apply(cr,fr);else{cr.push(fr[0][0]);for(var ur=fr.length,sr=1;sr<ur;sr++)cr.push(fr[sr],fr[0][sr])}var hr=withEmotionCache(function(gr,pr,mr){var vr=lr&&gr.as||nr,yr="",br=[],xr=gr;if(gr.theme==null){xr={};for(var Cr in gr)xr[Cr]=gr[Cr];xr.theme=react.exports.useContext(ThemeContext)}typeof gr.className=="string"?yr=getRegisteredStyles(pr.registered,br,gr.className):gr.className!=null&&(yr=gr.className+" ");var kr=serializeStyles(cr.concat(br),pr.registered,xr);yr+=pr.key+"-"+kr.name,dr!==void 0&&(yr+=" "+dr);var Pr=lr&&or===void 0?getDefaultShouldForwardProp(vr):ir,$r={};for(var Kr in gr)lr&&Kr==="as"||Pr(Kr)&&($r[Kr]=gr[Kr]);return $r.className=yr,$r.ref=mr,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:pr,serialized:kr,isStringTag:typeof vr=="string"}),react.exports.createElement(vr,$r))});return hr.displayName=ar!==void 0?ar:"Styled("+(typeof nr=="string"?nr:nr.displayName||nr.name||"Component")+")",hr.defaultProps=er.defaultProps,hr.__emotion_real=hr,hr.__emotion_base=nr,hr.__emotion_styles=cr,hr.__emotion_forwardProp=or,Object.defineProperty(hr,"toString",{value:function(){return"."+dr}}),hr.withComponent=function(gr,pr){return St(gr,_extends$2({},tr,pr,{shouldForwardProp:composeShouldForwardProps(hr,pr,!0)})).apply(void 0,cr)},hr}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(St){newStyled[St]=newStyled(St)});function anatomy(St,er={}){let tr=!1;function rr(){if(!tr){tr=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function nr(...fr){rr();for(const cr of fr)er[cr]=ir(cr);return anatomy(St,er)}function ar(...fr){for(const cr of fr)cr in er||(er[cr]=ir(cr));return anatomy(St,er)}function dr(){return Object.fromEntries(Object.entries(er).map(([cr,ur])=>[cr,ur.selector]))}function or(){return Object.fromEntries(Object.entries(er).map(([cr,ur])=>[cr,ur.className]))}function ir(fr){const sr=`chakra-${(["container","root"].includes(fr??"")?[St]:[St,fr]).filter(Boolean).join("__")}`;return{className:sr,selector:`.${sr}`,toString:()=>fr}}return{parts:nr,toPart:ir,extend:ar,selectors:dr,classnames:or,get keys(){return Object.keys(er)},__type:{}}}var accordionAnatomy=anatomy("accordion").parts("root","container","button","panel").extend("icon"),alertAnatomy=anatomy("alert").parts("title","description","container").extend("icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container").extend("excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container").extend("separator");anatomy("button").parts();var checkboxAnatomy=anatomy("checkbox").parts("control","icon","container").extend("label");anatomy("progress").parts("track","filledTrack").extend("label");var drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item").extend("groupTitle","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");var popoverAnatomy=anatomy("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton");function bound01(St,er){isOnePointZero(St)&&(St="100%");var tr=isPercentage(St);return St=er===360?St:Math.min(er,Math.max(0,parseFloat(St))),tr&&(St=parseInt(String(St*er),10)/100),Math.abs(St-er)<1e-6?1:(er===360?St=(St<0?St%er+er:St%er)/parseFloat(String(er)):St=St%er/parseFloat(String(er)),St)}function clamp01(St){return Math.min(1,Math.max(0,St))}function isOnePointZero(St){return typeof St=="string"&&St.indexOf(".")!==-1&&parseFloat(St)===1}function isPercentage(St){return typeof St=="string"&&St.indexOf("%")!==-1}function boundAlpha(St){return St=parseFloat(St),(isNaN(St)||St<0||St>1)&&(St=1),St}function convertToPercentage(St){return St<=1?"".concat(Number(St)*100,"%"):St}function pad2(St){return St.length===1?"0"+St:String(St)}function rgbToRgb(St,er,tr){return{r:bound01(St,255)*255,g:bound01(er,255)*255,b:bound01(tr,255)*255}}function rgbToHsl(St,er,tr){St=bound01(St,255),er=bound01(er,255),tr=bound01(tr,255);var rr=Math.max(St,er,tr),nr=Math.min(St,er,tr),ar=0,dr=0,or=(rr+nr)/2;if(rr===nr)dr=0,ar=0;else{var ir=rr-nr;switch(dr=or>.5?ir/(2-rr-nr):ir/(rr+nr),rr){case St:ar=(er-tr)/ir+(er<tr?6:0);break;case er:ar=(tr-St)/ir+2;break;case tr:ar=(St-er)/ir+4;break}ar/=6}return{h:ar,s:dr,l:or}}function hue2rgb(St,er,tr){return tr<0&&(tr+=1),tr>1&&(tr-=1),tr<1/6?St+(er-St)*(6*tr):tr<1/2?er:tr<2/3?St+(er-St)*(2/3-tr)*6:St}function hslToRgb(St,er,tr){var rr,nr,ar;if(St=bound01(St,360),er=bound01(er,100),tr=bound01(tr,100),er===0)nr=tr,ar=tr,rr=tr;else{var dr=tr<.5?tr*(1+er):tr+er-tr*er,or=2*tr-dr;rr=hue2rgb(or,dr,St+1/3),nr=hue2rgb(or,dr,St),ar=hue2rgb(or,dr,St-1/3)}return{r:rr*255,g:nr*255,b:ar*255}}function rgbToHsv(St,er,tr){St=bound01(St,255),er=bound01(er,255),tr=bound01(tr,255);var rr=Math.max(St,er,tr),nr=Math.min(St,er,tr),ar=0,dr=rr,or=rr-nr,ir=rr===0?0:or/rr;if(rr===nr)ar=0;else{switch(rr){case St:ar=(er-tr)/or+(er<tr?6:0);break;case er:ar=(tr-St)/or+2;break;case tr:ar=(St-er)/or+4;break}ar/=6}return{h:ar,s:ir,v:dr}}function hsvToRgb(St,er,tr){St=bound01(St,360)*6,er=bound01(er,100),tr=bound01(tr,100);var rr=Math.floor(St),nr=St-rr,ar=tr*(1-er),dr=tr*(1-nr*er),or=tr*(1-(1-nr)*er),ir=rr%6,lr=[tr,dr,ar,ar,or,tr][ir],fr=[or,tr,tr,dr,ar,ar][ir],cr=[ar,ar,or,tr,tr,dr][ir];return{r:lr*255,g:fr*255,b:cr*255}}function rgbToHex(St,er,tr,rr){var nr=[pad2(Math.round(St).toString(16)),pad2(Math.round(er).toString(16)),pad2(Math.round(tr).toString(16))];return rr&&nr[0].startsWith(nr[0].charAt(1))&&nr[1].startsWith(nr[1].charAt(1))&&nr[2].startsWith(nr[2].charAt(1))?nr[0].charAt(0)+nr[1].charAt(0)+nr[2].charAt(0):nr.join("")}function rgbaToHex(St,er,tr,rr,nr){var ar=[pad2(Math.round(St).toString(16)),pad2(Math.round(er).toString(16)),pad2(Math.round(tr).toString(16)),pad2(convertDecimalToHex(rr))];return nr&&ar[0].startsWith(ar[0].charAt(1))&&ar[1].startsWith(ar[1].charAt(1))&&ar[2].startsWith(ar[2].charAt(1))&&ar[3].startsWith(ar[3].charAt(1))?ar[0].charAt(0)+ar[1].charAt(0)+ar[2].charAt(0)+ar[3].charAt(0):ar.join("")}function convertDecimalToHex(St){return Math.round(parseFloat(St)*255).toString(16)}function convertHexToDecimal(St){return parseIntFromHex(St)/255}function parseIntFromHex(St){return parseInt(St,16)}function numberInputToObject(St){return{r:St>>16,g:(St&65280)>>8,b:St&255}}var names$1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(St){var er={r:0,g:0,b:0},tr=1,rr=null,nr=null,ar=null,dr=!1,or=!1;return typeof St=="string"&&(St=stringInputToObject(St)),typeof St=="object"&&(isValidCSSUnit(St.r)&&isValidCSSUnit(St.g)&&isValidCSSUnit(St.b)?(er=rgbToRgb(St.r,St.g,St.b),dr=!0,or=String(St.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(St.h)&&isValidCSSUnit(St.s)&&isValidCSSUnit(St.v)?(rr=convertToPercentage(St.s),nr=convertToPercentage(St.v),er=hsvToRgb(St.h,rr,nr),dr=!0,or="hsv"):isValidCSSUnit(St.h)&&isValidCSSUnit(St.s)&&isValidCSSUnit(St.l)&&(rr=convertToPercentage(St.s),ar=convertToPercentage(St.l),er=hslToRgb(St.h,rr,ar),dr=!0,or="hsl"),Object.prototype.hasOwnProperty.call(St,"a")&&(tr=St.a)),tr=boundAlpha(tr),{ok:dr,format:St.format||or,r:Math.min(255,Math.max(er.r,0)),g:Math.min(255,Math.max(er.g,0)),b:Math.min(255,Math.max(er.b,0)),a:tr}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(St){if(St=St.trim().toLowerCase(),St.length===0)return!1;var er=!1;if(names$1[St])St=names$1[St],er=!0;else if(St==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var tr=matchers.rgb.exec(St);return tr?{r:tr[1],g:tr[2],b:tr[3]}:(tr=matchers.rgba.exec(St),tr?{r:tr[1],g:tr[2],b:tr[3],a:tr[4]}:(tr=matchers.hsl.exec(St),tr?{h:tr[1],s:tr[2],l:tr[3]}:(tr=matchers.hsla.exec(St),tr?{h:tr[1],s:tr[2],l:tr[3],a:tr[4]}:(tr=matchers.hsv.exec(St),tr?{h:tr[1],s:tr[2],v:tr[3]}:(tr=matchers.hsva.exec(St),tr?{h:tr[1],s:tr[2],v:tr[3],a:tr[4]}:(tr=matchers.hex8.exec(St),tr?{r:parseIntFromHex(tr[1]),g:parseIntFromHex(tr[2]),b:parseIntFromHex(tr[3]),a:convertHexToDecimal(tr[4]),format:er?"name":"hex8"}:(tr=matchers.hex6.exec(St),tr?{r:parseIntFromHex(tr[1]),g:parseIntFromHex(tr[2]),b:parseIntFromHex(tr[3]),format:er?"name":"hex"}:(tr=matchers.hex4.exec(St),tr?{r:parseIntFromHex(tr[1]+tr[1]),g:parseIntFromHex(tr[2]+tr[2]),b:parseIntFromHex(tr[3]+tr[3]),a:convertHexToDecimal(tr[4]+tr[4]),format:er?"name":"hex8"}:(tr=matchers.hex3.exec(St),tr?{r:parseIntFromHex(tr[1]+tr[1]),g:parseIntFromHex(tr[2]+tr[2]),b:parseIntFromHex(tr[3]+tr[3]),format:er?"name":"hex"}:!1)))))))))}function isValidCSSUnit(St){return Boolean(matchers.CSS_UNIT.exec(String(St)))}var TinyColor=function(){function St(er,tr){er===void 0&&(er=""),tr===void 0&&(tr={});var rr;if(er instanceof St)return er;typeof er=="number"&&(er=numberInputToObject(er)),this.originalInput=er;var nr=inputToRGB(er);this.originalInput=er,this.r=nr.r,this.g=nr.g,this.b=nr.b,this.a=nr.a,this.roundA=Math.round(100*this.a)/100,this.format=(rr=tr.format)!==null&&rr!==void 0?rr:nr.format,this.gradientType=tr.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=nr.ok}return St.prototype.isDark=function(){return this.getBrightness()<128},St.prototype.isLight=function(){return!this.isDark()},St.prototype.getBrightness=function(){var er=this.toRgb();return(er.r*299+er.g*587+er.b*114)/1e3},St.prototype.getLuminance=function(){var er=this.toRgb(),tr,rr,nr,ar=er.r/255,dr=er.g/255,or=er.b/255;return ar<=.03928?tr=ar/12.92:tr=Math.pow((ar+.055)/1.055,2.4),dr<=.03928?rr=dr/12.92:rr=Math.pow((dr+.055)/1.055,2.4),or<=.03928?nr=or/12.92:nr=Math.pow((or+.055)/1.055,2.4),.2126*tr+.7152*rr+.0722*nr},St.prototype.getAlpha=function(){return this.a},St.prototype.setAlpha=function(er){return this.a=boundAlpha(er),this.roundA=Math.round(100*this.a)/100,this},St.prototype.toHsv=function(){var er=rgbToHsv(this.r,this.g,this.b);return{h:er.h*360,s:er.s,v:er.v,a:this.a}},St.prototype.toHsvString=function(){var er=rgbToHsv(this.r,this.g,this.b),tr=Math.round(er.h*360),rr=Math.round(er.s*100),nr=Math.round(er.v*100);return this.a===1?"hsv(".concat(tr,", ").concat(rr,"%, ").concat(nr,"%)"):"hsva(".concat(tr,", ").concat(rr,"%, ").concat(nr,"%, ").concat(this.roundA,")")},St.prototype.toHsl=function(){var er=rgbToHsl(this.r,this.g,this.b);return{h:er.h*360,s:er.s,l:er.l,a:this.a}},St.prototype.toHslString=function(){var er=rgbToHsl(this.r,this.g,this.b),tr=Math.round(er.h*360),rr=Math.round(er.s*100),nr=Math.round(er.l*100);return this.a===1?"hsl(".concat(tr,", ").concat(rr,"%, ").concat(nr,"%)"):"hsla(".concat(tr,", ").concat(rr,"%, ").concat(nr,"%, ").concat(this.roundA,")")},St.prototype.toHex=function(er){return er===void 0&&(er=!1),rgbToHex(this.r,this.g,this.b,er)},St.prototype.toHexString=function(er){return er===void 0&&(er=!1),"#"+this.toHex(er)},St.prototype.toHex8=function(er){return er===void 0&&(er=!1),rgbaToHex(this.r,this.g,this.b,this.a,er)},St.prototype.toHex8String=function(er){return er===void 0&&(er=!1),"#"+this.toHex8(er)},St.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},St.prototype.toRgbString=function(){var er=Math.round(this.r),tr=Math.round(this.g),rr=Math.round(this.b);return this.a===1?"rgb(".concat(er,", ").concat(tr,", ").concat(rr,")"):"rgba(".concat(er,", ").concat(tr,", ").concat(rr,", ").concat(this.roundA,")")},St.prototype.toPercentageRgb=function(){var er=function(tr){return"".concat(Math.round(bound01(tr,255)*100),"%")};return{r:er(this.r),g:er(this.g),b:er(this.b),a:this.a}},St.prototype.toPercentageRgbString=function(){var er=function(tr){return Math.round(bound01(tr,255)*100)};return this.a===1?"rgb(".concat(er(this.r),"%, ").concat(er(this.g),"%, ").concat(er(this.b),"%)"):"rgba(".concat(er(this.r),"%, ").concat(er(this.g),"%, ").concat(er(this.b),"%, ").concat(this.roundA,")")},St.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var er="#"+rgbToHex(this.r,this.g,this.b,!1),tr=0,rr=Object.entries(names$1);tr<rr.length;tr++){var nr=rr[tr],ar=nr[0],dr=nr[1];if(er===dr)return ar}return!1},St.prototype.toString=function(er){var tr=Boolean(er);er=er??this.format;var rr=!1,nr=this.a<1&&this.a>=0,ar=!tr&&nr&&(er.startsWith("hex")||er==="name");return ar?er==="name"&&this.a===0?this.toName():this.toRgbString():(er==="rgb"&&(rr=this.toRgbString()),er==="prgb"&&(rr=this.toPercentageRgbString()),(er==="hex"||er==="hex6")&&(rr=this.toHexString()),er==="hex3"&&(rr=this.toHexString(!0)),er==="hex4"&&(rr=this.toHex8String(!0)),er==="hex8"&&(rr=this.toHex8String()),er==="name"&&(rr=this.toName()),er==="hsl"&&(rr=this.toHslString()),er==="hsv"&&(rr=this.toHsvString()),rr||this.toHexString())},St.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},St.prototype.clone=function(){return new St(this.toString())},St.prototype.lighten=function(er){er===void 0&&(er=10);var tr=this.toHsl();return tr.l+=er/100,tr.l=clamp01(tr.l),new St(tr)},St.prototype.brighten=function(er){er===void 0&&(er=10);var tr=this.toRgb();return tr.r=Math.max(0,Math.min(255,tr.r-Math.round(255*-(er/100)))),tr.g=Math.max(0,Math.min(255,tr.g-Math.round(255*-(er/100)))),tr.b=Math.max(0,Math.min(255,tr.b-Math.round(255*-(er/100)))),new St(tr)},St.prototype.darken=function(er){er===void 0&&(er=10);var tr=this.toHsl();return tr.l-=er/100,tr.l=clamp01(tr.l),new St(tr)},St.prototype.tint=function(er){return er===void 0&&(er=10),this.mix("white",er)},St.prototype.shade=function(er){return er===void 0&&(er=10),this.mix("black",er)},St.prototype.desaturate=function(er){er===void 0&&(er=10);var tr=this.toHsl();return tr.s-=er/100,tr.s=clamp01(tr.s),new St(tr)},St.prototype.saturate=function(er){er===void 0&&(er=10);var tr=this.toHsl();return tr.s+=er/100,tr.s=clamp01(tr.s),new St(tr)},St.prototype.greyscale=function(){return this.desaturate(100)},St.prototype.spin=function(er){var tr=this.toHsl(),rr=(tr.h+er)%360;return tr.h=rr<0?360+rr:rr,new St(tr)},St.prototype.mix=function(er,tr){tr===void 0&&(tr=50);var rr=this.toRgb(),nr=new St(er).toRgb(),ar=tr/100,dr={r:(nr.r-rr.r)*ar+rr.r,g:(nr.g-rr.g)*ar+rr.g,b:(nr.b-rr.b)*ar+rr.b,a:(nr.a-rr.a)*ar+rr.a};return new St(dr)},St.prototype.analogous=function(er,tr){er===void 0&&(er=6),tr===void 0&&(tr=30);var rr=this.toHsl(),nr=360/tr,ar=[this];for(rr.h=(rr.h-(nr*er>>1)+720)%360;--er;)rr.h=(rr.h+nr)%360,ar.push(new St(rr));return ar},St.prototype.complement=function(){var er=this.toHsl();return er.h=(er.h+180)%360,new St(er)},St.prototype.monochromatic=function(er){er===void 0&&(er=6);for(var tr=this.toHsv(),rr=tr.h,nr=tr.s,ar=tr.v,dr=[],or=1/er;er--;)dr.push(new St({h:rr,s:nr,v:ar})),ar=(ar+or)%1;return dr},St.prototype.splitcomplement=function(){var er=this.toHsl(),tr=er.h;return[this,new St({h:(tr+72)%360,s:er.s,l:er.l}),new St({h:(tr+216)%360,s:er.s,l:er.l})]},St.prototype.onBackground=function(er){var tr=this.toRgb(),rr=new St(er).toRgb();return new St({r:rr.r+(tr.r-rr.r)*tr.a,g:rr.g+(tr.g-rr.g)*tr.a,b:rr.b+(tr.b-rr.b)*tr.a})},St.prototype.triad=function(){return this.polyad(3)},St.prototype.tetrad=function(){return this.polyad(4)},St.prototype.polyad=function(er){for(var tr=this.toHsl(),rr=tr.h,nr=[this],ar=360/er,dr=1;dr<er;dr++)nr.push(new St({h:(rr+dr*ar)%360,s:tr.s,l:tr.l}));return nr},St.prototype.equals=function(er){return this.toRgbString()===new St(er).toRgbString()},St}();function random(St){if(St===void 0&&(St={}),St.count!==void 0&&St.count!==null){var er=St.count,tr=[];for(St.count=void 0;er>tr.length;)St.count=null,St.seed&&(St.seed+=1),tr.push(random(St));return St.count=er,tr}var rr=pickHue(St.hue,St.seed),nr=pickSaturation(rr,St),ar=pickBrightness(rr,nr,St),dr={h:rr,s:nr,v:ar};return St.alpha!==void 0&&(dr.a=St.alpha),new TinyColor(dr)}function pickHue(St,er){var tr=getHueRange(St),rr=randomWithin(tr,er);return rr<0&&(rr=360+rr),rr}function pickSaturation(St,er){if(er.hue==="monochrome")return 0;if(er.luminosity==="random")return randomWithin([0,100],er.seed);var tr=getColorInfo(St).saturationRange,rr=tr[0],nr=tr[1];switch(er.luminosity){case"bright":rr=55;break;case"dark":rr=nr-10;break;case"light":nr=55;break}return randomWithin([rr,nr],er.seed)}function pickBrightness(St,er,tr){var rr=getMinimumBrightness(St,er),nr=100;switch(tr.luminosity){case"dark":nr=rr+20;break;case"light":rr=(nr+rr)/2;break;case"random":rr=0,nr=100;break}return randomWithin([rr,nr],tr.seed)}function getMinimumBrightness(St,er){for(var tr=getColorInfo(St).lowerBounds,rr=0;rr<tr.length-1;rr++){var nr=tr[rr][0],ar=tr[rr][1],dr=tr[rr+1][0],or=tr[rr+1][1];if(er>=nr&&er<=dr){var ir=(or-ar)/(dr-nr),lr=ar-ir*nr;return ir*er+lr}}return 0}function getHueRange(St){var er=parseInt(St,10);if(!Number.isNaN(er)&&er<360&&er>0)return[er,er];if(typeof St=="string"){var tr=bounds.find(function(dr){return dr.name===St});if(tr){var rr=defineColor(tr);if(rr.hueRange)return rr.hueRange}var nr=new TinyColor(St);if(nr.isValid){var ar=nr.toHsv().h;return[ar,ar]}}return[0,360]}function getColorInfo(St){St>=334&&St<=360&&(St-=360);for(var er=0,tr=bounds;er<tr.length;er++){var rr=tr[er],nr=defineColor(rr);if(nr.hueRange&&St>=nr.hueRange[0]&&St<=nr.hueRange[1])return nr}throw Error("Color not found")}function randomWithin(St,er){if(er===void 0)return Math.floor(St[0]+Math.random()*(St[1]+1-St[0]));var tr=St[1]||1,rr=St[0]||0;er=(er*9301+49297)%233280;var nr=er/233280;return Math.floor(rr+nr*(tr-rr))}function defineColor(St){var er=St.lowerBounds[0][0],tr=St.lowerBounds[St.lowerBounds.length-1][0],rr=St.lowerBounds[St.lowerBounds.length-1][1],nr=St.lowerBounds[0][1];return{name:St.name,hueRange:St.hueRange,lowerBounds:St.lowerBounds,saturationRange:[er,tr],brightnessRange:[rr,nr]}}var bounds=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}];function dlv_es_default(St,er,tr,rr,nr){for(er=er.split?er.split("."):er,rr=0;rr<er.length;rr++)St=St?St[er[rr]]:nr;return St===nr?tr:St}var isEmptyObject$1=St=>Object.keys(St).length===0,getColor=(St,er,tr)=>{const rr=dlv_es_default(St,`colors.${er}`,er),{isValid:nr}=new TinyColor(rr);return nr?rr:tr},tone=St=>er=>{const tr=getColor(er,St);return new TinyColor(tr).isDark()?"dark":"light"},isDark=St=>er=>tone(St)(er)==="dark",transparentize=(St,er)=>tr=>{const rr=getColor(tr,St);return new TinyColor(rr).setAlpha(er).toRgbString()};function generateStripe(St="1rem",er="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${er} 25%,
    transparent 25%,
    transparent 50%,
    ${er} 50%,
    ${er} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${St} ${St}`}}function randomColor(St){const er=random().toHexString();return!St||isEmptyObject$1(St)?er:St.string&&St.colors?randomColorFromList(St.string,St.colors):St.string&&!St.colors?randomColorFromString(St.string):St.colors&&!St.string?randomFromList(St.colors):er}function randomColorFromString(St){let er=0;if(St.length===0)return er.toString();for(let rr=0;rr<St.length;rr+=1)er=St.charCodeAt(rr)+((er<<5)-er),er=er&er;let tr="#";for(let rr=0;rr<3;rr+=1){const nr=er>>rr*8&255;tr+=`00${nr.toString(16)}`.substr(-2)}return tr}function randomColorFromList(St,er){let tr=0;if(St.length===0)return er[0];for(let rr=0;rr<St.length;rr+=1)tr=St.charCodeAt(rr)+((tr<<5)-tr),tr=tr&tr;return tr=(tr%er.length+er.length)%er.length,er[tr]}function randomFromList(St){return St[Math.floor(Math.random()*St.length)]}function mode(St,er){return tr=>tr.colorMode==="dark"?er:St}function orient(St){const{orientation:er,vertical:tr,horizontal:rr}=St;return er?er==="vertical"?tr:rr:{}}function isObject$5(St){const er=typeof St;return St!=null&&(er==="object"||er==="function")&&!Array.isArray(St)}function toRef(St){return isObject$5(St)&&St.reference?St.reference:String(St)}var toExpr=(St,...er)=>er.map(toRef).join(` ${St} `).replace(/calc/g,""),add=(...St)=>`calc(${toExpr("+",...St)})`,subtract=(...St)=>`calc(${toExpr("-",...St)})`,multiply=(...St)=>`calc(${toExpr("*",...St)})`,divide=(...St)=>`calc(${toExpr("/",...St)})`,negate=St=>{const er=toRef(St);return er!=null&&!Number.isNaN(parseFloat(er))?String(er).startsWith("-")?String(er).slice(1):`-${er}`:multiply(er,-1)},calc=Object.assign(St=>({add:(...er)=>calc(add(St,...er)),subtract:(...er)=>calc(subtract(St,...er)),multiply:(...er)=>calc(multiply(St,...er)),divide:(...er)=>calc(divide(St,...er)),negate:()=>calc(negate(St)),toString:()=>St.toString()}),{add,subtract,multiply,divide,negate});function isDecimal(St){return!Number.isInteger(parseFloat(St.toString()))}function replaceWhiteSpace(St,er="-"){return St.replace(/\s+/g,er)}function escape$1(St){const er=replaceWhiteSpace(St.toString());return er.includes("\\.")?St:isDecimal(St)?er.replace(".","\\."):St}function addPrefix(St,er=""){return[er,escape$1(St)].filter(Boolean).join("-")}function toVarRef(St,er){return`var(${escape$1(St)}${er?`, ${er}`:""})`}function toVar(St,er=""){return`--${addPrefix(St,er)}`}function cssVar(St,er){const tr=toVar(St,er?.prefix);return{variable:tr,reference:toVarRef(tr,getFallback(er?.fallback))}}function getFallback(St){return typeof St=="string"?St:St?.reference}var{definePartsStyle,defineMultiStyleConfig}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon={fontSize:"1.25em"},baseStyle=definePartsStyle({container:baseStyleContainer,button:baseStyleButton,panel:baseStylePanel,icon:baseStyleIcon}),accordionTheme=defineMultiStyleConfig({baseStyle}),{definePartsStyle:definePartsStyle2,defineMultiStyleConfig:defineMultiStyleConfig2}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg=cssVar$1("alert-fg"),$bg=cssVar$1("alert-bg"),baseStyle2=definePartsStyle2({container:{bg:$bg.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(St){const{theme:er,colorScheme:tr}=St,rr=transparentize(`${tr}.200`,.16)(er);return{light:`colors.${tr}.100`,dark:rr}}var variantSubtle=definePartsStyle2(St=>{const{colorScheme:er}=St,tr=getBg(St);return{container:{[$fg.variable]:`colors.${er}.500`,[$bg.variable]:tr.light,_dark:{[$fg.variable]:`colors.${er}.200`,[$bg.variable]:tr.dark}}}}),variantLeftAccent=definePartsStyle2(St=>{const{colorScheme:er}=St,tr=getBg(St);return{container:{[$fg.variable]:`colors.${er}.500`,[$bg.variable]:tr.light,_dark:{[$fg.variable]:`colors.${er}.200`,[$bg.variable]:tr.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg.reference}}}),variantTopAccent=definePartsStyle2(St=>{const{colorScheme:er}=St,tr=getBg(St);return{container:{[$fg.variable]:`colors.${er}.500`,[$bg.variable]:tr.light,_dark:{[$fg.variable]:`colors.${er}.200`,[$bg.variable]:tr.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg.reference}}}),variantSolid=definePartsStyle2(St=>{const{colorScheme:er}=St;return{container:{[$fg.variable]:"colors.white",[$bg.variable]:`colors.${er}.500`,_dark:{[$fg.variable]:"colors.gray.900",[$bg.variable]:`colors.${er}.200`},color:$fg.reference}}}),variants$1={subtle:variantSubtle,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid},alertTheme=defineMultiStyleConfig2({baseStyle:baseStyle2,variants:variants$1,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes={...spacing,...largeSizes,container},sizes_default=sizes,isFunction$3=St=>typeof St=="function";function runIfFn$1(St,...er){return isFunction$3(St)?St(...er):St}var{definePartsStyle:definePartsStyle3,defineMultiStyleConfig:defineMultiStyleConfig3}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border=cssVar$1("avatar-border-color"),$bg2=cssVar$1("avatar-bg"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",[$border.variable]:"white",_dark:{[$border.variable]:"colors.gray.800"},borderColor:$border.reference},baseStyleExcessLabel={[$bg2.variable]:"colors.gray.200",_dark:{[$bg2.variable]:"colors.whiteAlpha.400"},bgColor:$bg2.reference},$avatarBg=cssVar$1("avatar-background"),baseStyleContainer2=St=>{const{name:er,theme:tr}=St,rr=er?randomColor({string:er}):"colors.gray.400",nr=isDark(rr)(tr);let ar="white";return nr||(ar="gray.800"),{bg:$avatarBg.reference,"&:not([data-loaded])":{[$avatarBg.variable]:rr},color:ar,[$border.variable]:"colors.white",_dark:{[$border.variable]:"colors.gray.800"},borderColor:$border.reference,verticalAlign:"top"}},baseStyle3=definePartsStyle3(St=>({badge:runIfFn$1(baseStyleBadge,St),excessLabel:runIfFn$1(baseStyleExcessLabel,St),container:runIfFn$1(baseStyleContainer2,St)}));function getSize(St){const er=St!=="100%"?sizes_default[St]:void 0;return definePartsStyle3({container:{width:St,height:St,fontSize:`calc(${er??St} / 2.5)`},excessLabel:{width:St,height:St},label:{fontSize:`calc(${er??St} / 2.5)`,lineHeight:St!=="100%"?er??St:void 0}})}var sizes2={"2xs":getSize(4),xs:getSize(6),sm:getSize(8),md:getSize(12),lg:getSize(16),xl:getSize(24),"2xl":getSize(32),full:getSize("100%")},avatarTheme=defineMultiStyleConfig3({baseStyle:baseStyle3,sizes:sizes2,defaultProps:{size:"md"}}),baseStyle4={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},$bg3=cssVar$1("badge-bg"),$fg2=cssVar$1("badge-color"),variantSolid2=St=>{const{colorScheme:er,theme:tr}=St,rr=transparentize(`${er}.500`,.6)(tr);return{[$bg3.variable]:`colors.${er}.500`,[$fg2.variable]:"colors.white",_dark:{[$bg3.variable]:rr,[$fg2.variable]:"colors.whiteAlpha.800"},bg:$bg3.reference,color:$fg2.reference}},variantSubtle2=St=>{const{colorScheme:er,theme:tr}=St,rr=transparentize(`${er}.200`,.16)(tr);return{[$bg3.variable]:`colors.${er}.100`,[$fg2.variable]:`colors.${er}.800`,_dark:{[$bg3.variable]:rr,[$fg2.variable]:`colors.${er}.200`},bg:$bg3.reference,color:$fg2.reference}},variantOutline=St=>{const{colorScheme:er,theme:tr}=St,rr=transparentize(`${er}.200`,.8)(tr);return{[$fg2.variable]:`colors.${er}.500`,_dark:{[$fg2.variable]:rr},color:$fg2.reference,boxShadow:`inset 0 0 0px 1px ${$fg2.reference}`}},variants2$1={solid:variantSolid2,subtle:variantSubtle2,outline:variantOutline},badgeTheme={baseStyle:baseStyle4,variants:variants2$1,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig4,definePartsStyle:definePartsStyle4}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},baseStyle5=definePartsStyle4({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig4({baseStyle:baseStyle5}),baseStyle6={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=St=>{const{colorScheme:er,theme:tr}=St;if(er==="gray")return{color:mode("inherit","whiteAlpha.900")(St),_hover:{bg:mode("gray.100","whiteAlpha.200")(St)},_active:{bg:mode("gray.200","whiteAlpha.300")(St)}};const rr=transparentize(`${er}.200`,.12)(tr),nr=transparentize(`${er}.200`,.24)(tr);return{color:mode(`${er}.600`,`${er}.200`)(St),bg:"transparent",_hover:{bg:mode(`${er}.50`,rr)(St)},_active:{bg:mode(`${er}.100`,nr)(St)}}},variantOutline2=St=>{const{colorScheme:er}=St,tr=mode("gray.200","whiteAlpha.300")(St);return{border:"1px solid",borderColor:er==="gray"?tr:"currentColor",".chakra-button__group[data-attached] > &:not(:last-of-type)":{marginEnd:"-1px"},...runIfFn$1(variantGhost,St)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid3=St=>{const{colorScheme:er}=St;if(er==="gray"){const or=mode("gray.100","whiteAlpha.200")(St);return{bg:or,_hover:{bg:mode("gray.200","whiteAlpha.300")(St),_disabled:{bg:or}},_active:{bg:mode("gray.300","whiteAlpha.400")(St)}}}const{bg:tr=`${er}.500`,color:rr="white",hoverBg:nr=`${er}.600`,activeBg:ar=`${er}.700`}=accessibleColorMap[er]??{},dr=mode(tr,`${er}.200`)(St);return{bg:dr,color:mode(rr,"gray.800")(St),_hover:{bg:mode(nr,`${er}.300`)(St),_disabled:{bg:dr}},_active:{bg:mode(ar,`${er}.400`)(St)}}},variantLink=St=>{const{colorScheme:er}=St;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${er}.500`,`${er}.200`)(St),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${er}.700`,`${er}.500`)(St)}}},variantUnstyled={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants3$1={ghost:variantGhost,outline:variantOutline2,solid:variantSolid3,link:variantLink,unstyled:variantUnstyled},sizes3={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme={baseStyle:baseStyle6,variants:variants3$1,sizes:sizes3,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle5,defineMultiStyleConfig:defineMultiStyleConfig5}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size=cssVar$1("checkbox-size"),baseStyleControl=St=>{const{colorScheme:er}=St;return{w:$size.reference,h:$size.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${er}.500`,`${er}.200`)(St),borderColor:mode(`${er}.500`,`${er}.200`)(St),color:mode("white","gray.900")(St),_hover:{bg:mode(`${er}.600`,`${er}.300`)(St),borderColor:mode(`${er}.600`,`${er}.300`)(St)},_disabled:{borderColor:mode("gray.200","transparent")(St),bg:mode("gray.200","whiteAlpha.300")(St),color:mode("gray.500","whiteAlpha.500")(St)}},_indeterminate:{bg:mode(`${er}.500`,`${er}.200`)(St),borderColor:mode(`${er}.500`,`${er}.200`)(St),color:mode("white","gray.900")(St)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(St),borderColor:mode("gray.100","transparent")(St)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(St)}}},baseStyleContainer3={_disabled:{cursor:"not-allowed"}},baseStyleLabel={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon2={transitionProperty:"transform",transitionDuration:"normal"},baseStyle7=definePartsStyle5(St=>({icon:baseStyleIcon2,container:baseStyleContainer3,control:runIfFn$1(baseStyleControl,St),label:baseStyleLabel})),sizes4={sm:definePartsStyle5({control:{[$size.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle5({control:{[$size.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle5({control:{[$size.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme=defineMultiStyleConfig5({baseStyle:baseStyle7,sizes:sizes4,defaultProps:{size:"md",colorScheme:"blue"}}),$size2=cssVar("close-button-size"),$bg4=cssVar("close-button-bg"),baseStyle8={w:[$size2.reference],h:[$size2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg4.variable]:"colors.blackAlpha.100",_dark:{[$bg4.variable]:"colors.whiteAlpha.100"}},_active:{[$bg4.variable]:"colors.blackAlpha.200",_dark:{[$bg4.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg4.reference},sizes5={lg:{[$size2.variable]:"sizes.10",fontSize:"md"},md:{[$size2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle8,sizes:sizes5,defaultProps:{size:"md"}},{variants:variants4$1,defaultProps:defaultProps$1}=badgeTheme,baseStyle9={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},codeTheme={baseStyle:baseStyle9,variants:variants4$1,defaultProps:defaultProps$1},baseStyle10={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle10},baseStyle11={opacity:.6,borderColor:"inherit"},variantSolid4={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants5$1={solid:variantSolid4,dashed:variantDashed},dividerTheme={baseStyle:baseStyle11,variants:variants5$1,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle6,defineMultiStyleConfig:defineMultiStyleConfig6}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg5=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize2(St){return definePartsStyle6(St==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:St}})}var baseStyleOverlay={bg:"blackAlpha.600",zIndex:"overlay"},baseStyleDialogContainer={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog=St=>{const{isFullHeight:er}=St;return{...er&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg5.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg5.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg5.reference,boxShadow:$bs.reference}},baseStyleHeader={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter={px:"6",py:"4"},baseStyle12=definePartsStyle6(St=>({overlay:baseStyleOverlay,dialogContainer:baseStyleDialogContainer,dialog:runIfFn$1(baseStyleDialog,St),header:baseStyleHeader,closeButton:baseStyleCloseButton,body:baseStyleBody,footer:baseStyleFooter})),sizes6={xs:getSize2("xs"),sm:getSize2("md"),md:getSize2("lg"),lg:getSize2("2xl"),xl:getSize2("4xl"),full:getSize2("full")},drawerTheme=defineMultiStyleConfig6({baseStyle:baseStyle12,sizes:sizes6,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle7,defineMultiStyleConfig:defineMultiStyleConfig7}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle13=definePartsStyle7({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig7({baseStyle:baseStyle13}),{definePartsStyle:definePartsStyle8,defineMultiStyleConfig:defineMultiStyleConfig8}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg3=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg3.variable]:"colors.red.500",_dark:{[$fg3.variable]:"colors.red.300"},color:$fg3.reference},baseStyleHelperText={mt:"2",[$fg3.variable]:"colors.gray.600",_dark:{[$fg3.variable]:"colors.whiteAlpha.600"},color:$fg3.reference,lineHeight:"normal",fontSize:"sm"},baseStyle14=definePartsStyle8({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme=defineMultiStyleConfig8({baseStyle:baseStyle14}),{definePartsStyle:definePartsStyle9,defineMultiStyleConfig:defineMultiStyleConfig9}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg4=cssVar$1("form-error-color"),baseStyleText={[$fg4.variable]:"colors.red.500",_dark:{[$fg4.variable]:"colors.red.300"},color:$fg4.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon3={marginEnd:"0.5em",[$fg4.variable]:"colors.red.500",_dark:{[$fg4.variable]:"colors.red.300"},color:$fg4.reference},baseStyle15=definePartsStyle9({text:baseStyleText,icon:baseStyleIcon3}),formErrorTheme=defineMultiStyleConfig9({baseStyle:baseStyle15}),baseStyle16={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle16},baseStyle17={fontFamily:"heading",fontWeight:"bold"},sizes7={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme={baseStyle:baseStyle17,sizes:sizes7,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle10,defineMultiStyleConfig:defineMultiStyleConfig10}=createMultiStyleConfigHelpers(inputAnatomy.keys),baseStyle18=definePartsStyle10({field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{fontSize:"lg",px:"4",h:"12",borderRadius:"md"},md:{fontSize:"md",px:"4",h:"10",borderRadius:"md"},sm:{fontSize:"sm",px:"3",h:"8",borderRadius:"sm"},xs:{fontSize:"xs",px:"2",h:"6",borderRadius:"sm"}},sizes8={lg:definePartsStyle10({field:size.lg,addon:size.lg}),md:definePartsStyle10({field:size.md,addon:size.md}),sm:definePartsStyle10({field:size.sm,addon:size.sm}),xs:definePartsStyle10({field:size.xs,addon:size.xs})};function getDefaults(St){const{focusBorderColor:er,errorBorderColor:tr}=St;return{focusBorderColor:er||mode("blue.500","blue.300")(St),errorBorderColor:tr||mode("red.500","red.300")(St)}}var variantOutline3=definePartsStyle10(St=>{const{theme:er}=St,{focusBorderColor:tr,errorBorderColor:rr}=getDefaults(St);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(St)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(er,rr),boxShadow:`0 0 0 1px ${getColor(er,rr)}`},_focusVisible:{zIndex:1,borderColor:getColor(er,tr),boxShadow:`0 0 0 1px ${getColor(er,tr)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(St),bg:mode("gray.100","whiteAlpha.300")(St)}}}),variantFilled=definePartsStyle10(St=>{const{theme:er}=St,{focusBorderColor:tr,errorBorderColor:rr}=getDefaults(St);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(St),_hover:{bg:mode("gray.200","whiteAlpha.100")(St)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(er,rr)},_focusVisible:{bg:"transparent",borderColor:getColor(er,tr)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(St)}}}),variantFlushed=definePartsStyle10(St=>{const{theme:er}=St,{focusBorderColor:tr,errorBorderColor:rr}=getDefaults(St);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(er,rr),boxShadow:`0px 1px 0px 0px ${getColor(er,rr)}`},_focusVisible:{borderColor:getColor(er,tr),boxShadow:`0px 1px 0px 0px ${getColor(er,tr)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled2=definePartsStyle10({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants6={outline:variantOutline3,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled2},inputTheme=defineMultiStyleConfig10({baseStyle:baseStyle18,sizes:sizes8,variants:variants6,defaultProps:{size:"md",variant:"outline"}}),baseStyle19=St=>({bg:mode("gray.100","whiteAlpha")(St),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}),kbdTheme={baseStyle:baseStyle19},baseStyle20={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle20},{defineMultiStyleConfig:defineMultiStyleConfig11,definePartsStyle:definePartsStyle11}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon4={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle21=definePartsStyle11({icon:baseStyleIcon4}),listTheme=defineMultiStyleConfig11({baseStyle:baseStyle21}),{defineMultiStyleConfig:defineMultiStyleConfig12,definePartsStyle:definePartsStyle12}=createMultiStyleConfigHelpers(menuAnatomy.keys),baseStyleList=St=>({bg:mode("#fff","gray.700")(St),boxShadow:mode("sm","dark-lg")(St),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}),baseStyleItem=St=>({py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:mode("gray.100","whiteAlpha.100")(St)},_active:{bg:mode("gray.200","whiteAlpha.200")(St)},_expanded:{bg:mode("gray.100","whiteAlpha.100")(St)},_disabled:{opacity:.4,cursor:"not-allowed"}}),baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton2={transitionProperty:"common",transitionDuration:"normal"},baseStyle22=definePartsStyle12(St=>({button:baseStyleButton2,list:runIfFn$1(baseStyleList,St),item:runIfFn$1(baseStyleItem,St),groupTitle:baseStyleGroupTitle,command:baseStyleCommand,divider:baseStyleDivider})),menuTheme=defineMultiStyleConfig12({baseStyle:baseStyle22}),{defineMultiStyleConfig:defineMultiStyleConfig13,definePartsStyle:definePartsStyle13}=createMultiStyleConfigHelpers(modalAnatomy.keys),baseStyleOverlay2={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer2=St=>{const{isCentered:er,scrollBehavior:tr}=St;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:er?"center":"flex-start",overflow:tr==="inside"?"hidden":"auto"}},baseStyleDialog2=St=>{const{scrollBehavior:er}=St;return{borderRadius:"md",bg:mode("white","gray.700")(St),color:"inherit",my:"16",zIndex:"modal",maxH:er==="inside"?"calc(100% - 7.5rem)":void 0,boxShadow:mode("lg","dark-lg")(St)}},baseStyleHeader2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody2=St=>{const{scrollBehavior:er}=St;return{px:"6",py:"2",flex:"1",overflow:er==="inside"?"auto":void 0}},baseStyleFooter2={px:"6",py:"4"},baseStyle23=definePartsStyle13(St=>({overlay:baseStyleOverlay2,dialogContainer:runIfFn$1(baseStyleDialogContainer2,St),dialog:runIfFn$1(baseStyleDialog2,St),header:baseStyleHeader2,closeButton:baseStyleCloseButton2,body:runIfFn$1(baseStyleBody2,St),footer:baseStyleFooter2}));function getSize3(St){return definePartsStyle13(St==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:St}})}var sizes9={xs:getSize3("xs"),sm:getSize3("sm"),md:getSize3("md"),lg:getSize3("lg"),xl:getSize3("xl"),"2xl":getSize3("2xl"),"3xl":getSize3("3xl"),"4xl":getSize3("4xl"),"5xl":getSize3("5xl"),"6xl":getSize3("6xl"),full:getSize3("full")},modalTheme=defineMultiStyleConfig13({baseStyle:baseStyle23,sizes:sizes9,defaultProps:{size:"md"}}),typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},typography_default=typography,{defineMultiStyleConfig:defineMultiStyleConfig14,definePartsStyle:definePartsStyle14}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),baseStyleRoot={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField=St=>{var er;return((er=runIfFn$1(inputTheme.baseStyle,St))==null?void 0:er.field)??{}},baseStyleStepperGroup={width:[$stepperWidth.reference]},baseStyleStepper=St=>({borderStart:"1px solid",borderStartColor:mode("inherit","whiteAlpha.300")(St),color:mode("inherit","whiteAlpha.800")(St),_active:{bg:mode("gray.200","whiteAlpha.300")(St)},_disabled:{opacity:.4,cursor:"not-allowed"}}),baseStyle24=definePartsStyle14(St=>({root:baseStyleRoot,field:runIfFn$1(baseStyleField,St)??{},stepperGroup:baseStyleStepperGroup,stepper:runIfFn$1(baseStyleStepper,St)??{}}));function getSize4(St){var er,tr;const rr=(er=inputTheme.sizes)==null?void 0:er[St],nr={lg:"md",md:"md",sm:"sm",xs:"sm"},ar=((tr=rr.field)==null?void 0:tr.fontSize)??"md",dr=typography_default.fontSizes[ar];return definePartsStyle14({field:{...rr.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(dr).multiply(.75).toString(),_first:{borderTopEndRadius:nr[St]},_last:{borderBottomEndRadius:nr[St],mt:"-1px",borderTopWidth:1}}})}var sizes10={xs:getSize4("xs"),sm:getSize4("sm"),md:getSize4("md"),lg:getSize4("lg")},numberInputTheme=defineMultiStyleConfig14({baseStyle:baseStyle24,sizes:sizes10,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),_a$1,baseStyle25={...(_a$1=inputTheme.baseStyle)==null?void 0:_a$1.field,textAlign:"center"},sizes11={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},_a2,variants7={outline:St=>{var er,tr;return((tr=runIfFn$1((er=inputTheme.variants)==null?void 0:er.outline,St))==null?void 0:tr.field)??{}},flushed:St=>{var er,tr;return((tr=runIfFn$1((er=inputTheme.variants)==null?void 0:er.flushed,St))==null?void 0:tr.field)??{}},filled:St=>{var er,tr;return((tr=runIfFn$1((er=inputTheme.variants)==null?void 0:er.filled,St))==null?void 0:tr.field)??{}},unstyled:((_a2=inputTheme.variants)==null?void 0:_a2.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle25,sizes:sizes11,variants:variants7,defaultProps:inputTheme.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig15,definePartsStyle:definePartsStyle15}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:10},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader3={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody3={px:3,py:2},baseStyleFooter3={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton3={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle26=definePartsStyle15({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader3,body:baseStyleBody3,footer:baseStyleFooter3,closeButton:baseStyleCloseButton3}),popoverTheme=defineMultiStyleConfig15({baseStyle:baseStyle26}),{defineMultiStyleConfig:defineMultiStyleConfig16,definePartsStyle:definePartsStyle16}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=St=>{const{colorScheme:er,theme:tr,isIndeterminate:rr,hasStripe:nr}=St,ar=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(St),dr=mode(`${er}.500`,`${er}.200`)(St),or=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(tr,dr)} 50%,
    transparent 100%
  )`;return{...!rr&&nr&&ar,...rr?{bgImage:or}:{bgColor:dr}}},baseStyleLabel2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack=St=>({bg:mode("gray.100","whiteAlpha.300")(St)}),baseStyleFilledTrack=St=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(St)}),baseStyle27=definePartsStyle16(St=>({label:baseStyleLabel2,filledTrack:baseStyleFilledTrack(St),track:baseStyleTrack(St)})),sizes12={xs:definePartsStyle16({track:{h:"1"}}),sm:definePartsStyle16({track:{h:"2"}}),md:definePartsStyle16({track:{h:"3"}}),lg:definePartsStyle16({track:{h:"4"}})},progressTheme=defineMultiStyleConfig16({sizes:sizes12,baseStyle:baseStyle27,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig17,definePartsStyle:definePartsStyle17}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl2=St=>{var er;const tr=(er=runIfFn$1(checkboxTheme.baseStyle,St))==null?void 0:er.control;return{...tr,borderRadius:"full",_checked:{...tr?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle28=definePartsStyle17(St=>{var er,tr,rr,nr;return{label:(tr=(er=checkboxTheme).baseStyle)==null?void 0:tr.call(er,St).label,container:(nr=(rr=checkboxTheme).baseStyle)==null?void 0:nr.call(rr,St).container,control:baseStyleControl2(St)}}),sizes13={md:definePartsStyle17({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle17({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle17({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig17({baseStyle:baseStyle28,sizes:sizes13,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig18,definePartsStyle:definePartsStyle18}=createMultiStyleConfigHelpers(selectAnatomy.keys),baseStyleField2=St=>{var er;return{...(er=inputTheme.baseStyle)==null?void 0:er.field,bg:mode("white","gray.700")(St),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:mode("white","gray.700")(St)}}},baseStyleIcon5={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle29=definePartsStyle18(St=>({field:baseStyleField2(St),icon:baseStyleIcon5})),iconSpacing={paddingInlineEnd:"8"},_a3,_b$1,_c,_d,_e,_f,_g,_h,sizes14={lg:{...(_a3=inputTheme.sizes)==null?void 0:_a3.lg,field:{...(_b$1=inputTheme.sizes)==null?void 0:_b$1.lg.field,...iconSpacing}},md:{...(_c=inputTheme.sizes)==null?void 0:_c.md,field:{...(_d=inputTheme.sizes)==null?void 0:_d.md.field,...iconSpacing}},sm:{...(_e=inputTheme.sizes)==null?void 0:_e.sm,field:{...(_f=inputTheme.sizes)==null?void 0:_f.sm.field,...iconSpacing}},xs:{...(_g=inputTheme.sizes)==null?void 0:_g.xs,field:{...(_h=inputTheme.sizes)==null?void 0:_h.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig18({baseStyle:baseStyle29,sizes:sizes14,variants:inputTheme.variants,defaultProps:inputTheme.defaultProps}),$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),baseStyle30=St=>{const er=mode("gray.100","gray.800")(St),tr=mode("gray.400","gray.600")(St),{startColor:rr=er,endColor:nr=tr,theme:ar}=St,dr=getColor(ar,rr),or=getColor(ar,nr);return{[$startColor.variable]:dr,[$endColor.variable]:or,opacity:.7,borderRadius:"2px",borderColor:dr,background:or}},skeletonTheme={baseStyle:baseStyle30},$bg6=cssVar$1("skip-link-bg"),baseStyle31={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg6.variable]:"colors.white",_dark:{[$bg6.variable]:"colors.gray.700"},bg:$bg6.reference}},skipLinkTheme={baseStyle:baseStyle31},{defineMultiStyleConfig:defineMultiStyleConfig19,definePartsStyle:definePartsStyle19}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg7=cssVar$1("slider-bg"),baseStyleContainer4=St=>{const{orientation:er}=St;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient({orientation:er,vertical:{h:"100%"},horizontal:{w:"100%"}})}},baseStyleTrack2=St=>({...orient({orientation:St.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg7.variable]:"colors.gray.200",_dark:{[$bg7.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg7.variable]:"colors.gray.300",_dark:{[$bg7.variable]:"colors.whiteAlpha.300"}},bg:$bg7.reference}),baseStyleThumb=St=>{const{orientation:er}=St;return{...orient({orientation:er,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack2=St=>{const{colorScheme:er}=St;return{width:"inherit",height:"inherit",[$bg7.variable]:`colors.${er}.500`,_dark:{[$bg7.variable]:`colors.${er}.200`},bg:$bg7.reference}},baseStyle32=definePartsStyle19(St=>({container:baseStyleContainer4(St),track:baseStyleTrack2(St),thumb:baseStyleThumb(St),filledTrack:baseStyleFilledTrack2(St)})),sizeLg=definePartsStyle19({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle19({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle19({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes15={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme=defineMultiStyleConfig19({baseStyle:baseStyle32,sizes:sizes15,defaultProps:{size:"md",colorScheme:"blue"}}),$size3=cssVar("spinner-size"),baseStyle33={width:[$size3.reference],height:[$size3.reference]},sizes16={xs:{[$size3.variable]:"sizes.3"},sm:{[$size3.variable]:"sizes.4"},md:{[$size3.variable]:"sizes.6"},lg:{[$size3.variable]:"sizes.8"},xl:{[$size3.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle33,sizes:sizes16,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig20,definePartsStyle:definePartsStyle20}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel3={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon6={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle34=definePartsStyle20({container:{},label:baseStyleLabel3,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon6}),sizes17={md:definePartsStyle20({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig20({baseStyle:baseStyle34,sizes:sizes17,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig21,definePartsStyle:definePartsStyle21}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg8=cssVar("switch-bg"),baseStyleTrack3=St=>{const{colorScheme:er}=St;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg8.variable]:"colors.gray.300",_dark:{[$bg8.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg8.variable]:`colors.${er}.500`,_dark:{[$bg8.variable]:`colors.${er}.200`}},bg:$bg8.reference}},baseStyleThumb2={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle35=definePartsStyle21(St=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack3(St),thumb:baseStyleThumb2})),sizes18={sm:definePartsStyle21({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle21({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle21({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme=defineMultiStyleConfig21({baseStyle:baseStyle35,sizes:sizes18,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig22,definePartsStyle:definePartsStyle22}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle36=definePartsStyle22({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle22(St=>{const{colorScheme:er}=St;return{th:{color:mode("gray.600","gray.400")(St),borderBottom:"1px",borderColor:mode(`${er}.100`,`${er}.700`)(St),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${er}.100`,`${er}.700`)(St),...numericStyles},caption:{color:mode("gray.600","gray.100")(St)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle22(St=>{const{colorScheme:er}=St;return{th:{color:mode("gray.600","gray.400")(St),borderBottom:"1px",borderColor:mode(`${er}.100`,`${er}.700`)(St),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${er}.100`,`${er}.700`)(St),...numericStyles},caption:{color:mode("gray.600","gray.100")(St)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${er}.100`,`${er}.700`)(St)},td:{background:mode(`${er}.100`,`${er}.700`)(St)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants8={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes19={sm:definePartsStyle22({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle22({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle22({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme=defineMultiStyleConfig22({baseStyle:baseStyle36,variants:variants8,sizes:sizes19,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),{defineMultiStyleConfig:defineMultiStyleConfig23,definePartsStyle:definePartsStyle23}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot2=St=>{const{orientation:er}=St;return{display:er==="vertical"?"flex":"block"}},baseStyleTab=St=>{const{isFitted:er}=St;return{flex:er?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=St=>{const{align:er="start",orientation:tr}=St;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[er],flexDirection:tr==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle37=definePartsStyle23(St=>({root:baseStyleRoot2(St),tab:baseStyleTab(St),tablist:baseStyleTablist(St),tabpanel:baseStyleTabpanel})),sizes20={sm:definePartsStyle23({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle23({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle23({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle23(St=>{const{colorScheme:er,orientation:tr}=St,rr=tr==="vertical",nr=tr==="vertical"?"borderStart":"borderBottom",ar=rr?"marginStart":"marginBottom";return{tablist:{[nr]:"2px solid",borderColor:"inherit"},tab:{[nr]:"2px solid",borderColor:"transparent",[ar]:"-2px",_selected:{color:mode(`${er}.600`,`${er}.300`)(St),borderColor:"currentColor"},_active:{bg:mode("gray.200","whiteAlpha.300")(St)},_disabled:{_active:{bg:"none"}}}}}),variantEnclosed=definePartsStyle23(St=>{const{colorScheme:er}=St;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:mode(`${er}.600`,`${er}.300`)(St),borderColor:"inherit",borderBottomColor:mode("white","gray.800")(St)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle23(St=>{const{colorScheme:er}=St;return{tab:{border:"1px solid",borderColor:"inherit",bg:mode("gray.50","whiteAlpha.50")(St),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:mode("#fff","gray.800")(St),color:mode(`${er}.600`,`${er}.300`)(St),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle23(St=>{const{colorScheme:er,theme:tr}=St;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(tr,`${er}.700`),bg:getColor(tr,`${er}.100`)}}}}),variantSolidRounded=definePartsStyle23(St=>{const{colorScheme:er}=St;return{tab:{borderRadius:"full",fontWeight:"semibold",color:mode("gray.600","inherit")(St),_selected:{color:mode("#fff","gray.800")(St),bg:mode(`${er}.600`,`${er}.300`)(St)}}}}),variantUnstyled3=definePartsStyle23({}),variants9={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled3},tabsTheme=defineMultiStyleConfig23({baseStyle:baseStyle37,sizes:sizes20,variants:variants9,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig24,definePartsStyle:definePartsStyle24}=createMultiStyleConfigHelpers(tagAnatomy.keys),baseStyleContainer5={fontWeight:"medium",lineHeight:1.2,outline:0,borderRadius:"md",_focusVisible:{boxShadow:"outline"}},baseStyleLabel4={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton4={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle38=definePartsStyle24({container:baseStyleContainer5,label:baseStyleLabel4,closeButton:baseStyleCloseButton4}),sizes21={sm:definePartsStyle24({container:{minH:"5",minW:"5",fontSize:"xs",px:"2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle24({container:{minH:"6",minW:"6",fontSize:"sm",px:"2"}}),lg:definePartsStyle24({container:{minH:"8",minW:"8",fontSize:"md",px:"3"}})},variants10={subtle:definePartsStyle24(St=>{var er;return{container:(er=badgeTheme.variants)==null?void 0:er.subtle(St)}}),solid:definePartsStyle24(St=>{var er;return{container:(er=badgeTheme.variants)==null?void 0:er.solid(St)}}),outline:definePartsStyle24(St=>{var er;return{container:(er=badgeTheme.variants)==null?void 0:er.outline(St)}})},tagTheme=defineMultiStyleConfig24({variants:variants10,baseStyle:baseStyle38,sizes:sizes21,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),_a4,baseStyle39={...(_a4=inputTheme.baseStyle)==null?void 0:_a4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},_a5,variants11={outline:St=>{var er;return((er=inputTheme.variants)==null?void 0:er.outline(St).field)??{}},flushed:St=>{var er;return((er=inputTheme.variants)==null?void 0:er.flushed(St).field)??{}},filled:St=>{var er;return((er=inputTheme.variants)==null?void 0:er.filled(St).field)??{}},unstyled:((_a5=inputTheme.variants)==null?void 0:_a5.unstyled.field)??{}},_a6,_b2,_c2,_d2,sizes22={xs:((_a6=inputTheme.sizes)==null?void 0:_a6.xs.field)??{},sm:((_b2=inputTheme.sizes)==null?void 0:_b2.sm.field)??{},md:((_c2=inputTheme.sizes)==null?void 0:_c2.md.field)??{},lg:((_d2=inputTheme.sizes)==null?void 0:_d2.lg.field)??{}},textareaTheme={baseStyle:baseStyle39,sizes:sizes22,variants:variants11,defaultProps:{size:"md",variant:"outline"}},$bg9=cssVar("tooltip-bg"),$fg5=cssVar("tooltip-fg"),$arrowBg2=cssVar("popper-arrow-bg"),baseStyle40={bg:$bg9.reference,color:$fg5.reference,[$bg9.variable]:"colors.gray.700",[$fg5.variable]:"colors.whiteAlpha.900",_dark:{[$bg9.variable]:"colors.gray.300",[$fg5.variable]:"colors.gray.900"},[$arrowBg2.variable]:$bg9.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme={baseStyle:baseStyle40},components={Accordion:accordionTheme,Alert:alertTheme,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme,Checkbox:checkboxTheme,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme,Editable:editableTheme,Form:formTheme,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme,Input:inputTheme,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme,Modal:modalTheme,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme,Progress:progressTheme,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme,SkipLink:skipLinkTheme,Slider:sliderTheme,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme,Table:tableTheme,Tabs:tabsTheme,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},borders_default=borders$1,breakpoints={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},breakpoints_default=breakpoints,colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},colors_default=colors$1,radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},radius_default=radii,shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},shadows_default=shadows,transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},transition_default=transition,zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},z_index_default=zIndices,blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},blur_default=blur,foundations={breakpoints:breakpoints_default,zIndices:z_index_default,radii:radius_default,blur:blur_default,colors:colors_default,...typography_default,sizes:sizes_default,shadows:shadows_default,space:spacing,borders:borders_default,transition:transition_default},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color",wordWrap:"break-word"}}};function isObject$4(St){const er=typeof St;return St!=null&&(er==="object"||er==="function")&&!Array.isArray(St)}var requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(St){return isObject$4(St)?requiredChakraThemeKeys.every(er=>Object.prototype.hasOwnProperty.call(St,er)):!1}var direction="ltr",config={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations,components,styles,config};function isFunction$2(St){return typeof St=="function"}function pipe$1(...St){return er=>St.reduce((tr,rr)=>rr(tr),er)}function extendTheme(...St){let er=[...St],tr=St[St.length-1];return isChakraTheme(tr)&&er.length>1?er=er.slice(0,er.length-1):tr=theme$1,pipe$1(...er.map(rr=>nr=>isFunction$2(rr)?rr(nr):mergeThemeOverride(nr,rr)))(tr)}function mergeThemeOverride(...St){return mergeWith({},...St,mergeThemeCustomizer)}function mergeThemeCustomizer(St,er,tr,rr){if((isFunction$2(St)||isFunction$2(er))&&Object.prototype.hasOwnProperty.call(rr,tr))return(...nr)=>{const ar=isFunction$2(St)?St(...nr):St,dr=isFunction$2(er)?er(...nr):er;return mergeWith({},ar,dr,mergeThemeCustomizer)}}function isObject$3(St){const er=typeof St;return St!=null&&(er==="object"||er==="function")&&!Array.isArray(St)}function withDefaultColorScheme({colorScheme:St,components:er}){return tr=>{let rr=Object.keys(tr.components||{});return Array.isArray(er)?rr=er:isObject$3(er)&&(rr=Object.keys(er)),mergeThemeOverride(tr,{components:Object.fromEntries(rr.map(nr=>[nr,{defaultProps:{colorScheme:St}}]))})}}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(St,er){if(St===er)return!0;if(St&&er&&typeof St=="object"&&typeof er=="object"){if(St.constructor!==er.constructor)return!1;var tr,rr,nr;if(Array.isArray(St)){if(tr=St.length,tr!=er.length)return!1;for(rr=tr;rr--!==0;)if(!equal(St[rr],er[rr]))return!1;return!0}var ar;if(hasMap&&St instanceof Map&&er instanceof Map){if(St.size!==er.size)return!1;for(ar=St.entries();!(rr=ar.next()).done;)if(!er.has(rr.value[0]))return!1;for(ar=St.entries();!(rr=ar.next()).done;)if(!equal(rr.value[1],er.get(rr.value[0])))return!1;return!0}if(hasSet&&St instanceof Set&&er instanceof Set){if(St.size!==er.size)return!1;for(ar=St.entries();!(rr=ar.next()).done;)if(!er.has(rr.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(St)&&ArrayBuffer.isView(er)){if(tr=St.length,tr!=er.length)return!1;for(rr=tr;rr--!==0;)if(St[rr]!==er[rr])return!1;return!0}if(St.constructor===RegExp)return St.source===er.source&&St.flags===er.flags;if(St.valueOf!==Object.prototype.valueOf)return St.valueOf()===er.valueOf();if(St.toString!==Object.prototype.toString)return St.toString()===er.toString();if(nr=Object.keys(St),tr=nr.length,tr!==Object.keys(er).length)return!1;for(rr=tr;rr--!==0;)if(!Object.prototype.hasOwnProperty.call(er,nr[rr]))return!1;if(hasElementType&&St instanceof Element)return!1;for(rr=tr;rr--!==0;)if(!((nr[rr]==="_owner"||nr[rr]==="__v"||nr[rr]==="__o")&&St.$$typeof)&&!equal(St[nr[rr]],er[nr[rr]]))return!1;return!0}return St!==St&&er!==er}var reactFastCompare=function(er,tr){try{return equal(er,tr)}catch(rr){if((rr.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw rr}};function useTheme(){const St=react.exports.useContext(ThemeContext);if(!St)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return St}function useChakra(){const St=useColorMode(),er=useTheme();return{...St,theme:er}}function getBreakpointValue(St,er,tr){if(er==null)return er;const rr=nr=>{var ar,dr;return(dr=(ar=St.__breakpoints)==null?void 0:ar.asArray)==null?void 0:dr[nr]};return rr(er)??rr(tr)??tr}function getTokenValue(St,er,tr){if(er==null)return er;const rr=nr=>{var ar,dr;return(dr=(ar=St.__cssMap)==null?void 0:ar[nr])==null?void 0:dr.value};return rr(er)??rr(tr)??tr}function getToken(St,er,tr){const rr=Array.isArray(er)?er:[er],nr=Array.isArray(tr)?tr:[tr];return ar=>{const dr=nr.filter(Boolean),or=rr.map((ir,lr)=>{if(St==="breakpoints")return getBreakpointValue(ar,ir,dr[lr]??ir);const fr=`${St}.${ir}`;return getTokenValue(ar,fr,dr[lr]??ir)});return Array.isArray(er)?or:or[0]}}function ThemeProvider(St){const{cssVarsRoot:er,theme:tr,children:rr}=St,nr=react.exports.useMemo(()=>toCSSVar(tr),[tr]);return jsxs(ThemeProvider$1,{theme:nr,children:[jsx(CSSVars,{root:er}),rr]})}function CSSVars({root:St=":host, :root"}){const er=[St,"[data-theme]"].join(",");return jsx(Global,{styles:tr=>({[er]:tr.__cssVars})})}createContext$1({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:St}=useColorMode();return jsx(Global,{styles:er=>{const tr=memoizedGet(er,"styles.global"),rr=runIfFn$2(tr,{theme:er,colorMode:St});return rr?css$1(rr)(er):void 0}})}var allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize"]);function shouldForwardProp(St){return validHTMLProps.has(St)||!allPropNames.has(St)}var toCSSObject=({baseStyle:St})=>er=>{const{theme:tr,css:rr,__css:nr,sx:ar,...dr}=er,or=objectFilter(dr,(cr,ur)=>isStyleProp(ur)),ir=runIfFn$2(St,er),lr=Object.assign({},nr,ir,filterUndefined(or),ar),fr=css$1(lr)(er.theme);return rr?[fr,rr]:fr};function styled(St,er){const{baseStyle:tr,...rr}=er??{};rr.shouldForwardProp||(rr.shouldForwardProp=shouldForwardProp);const nr=toCSSObject({baseStyle:tr}),ar=newStyled(St,rr)(nr);return React.forwardRef(function(ir,lr){const{colorMode:fr,forced:cr}=useColorMode();return React.createElement(ar,{ref:lr,"data-theme":cr?fr:void 0,...ir})})}function forwardRef(St){return react.exports.forwardRef(St)}function useStyleConfigImpl(St,er={}){const{styleConfig:tr,...rr}=er,{theme:nr,colorMode:ar}=useChakra(),dr=St?memoizedGet(nr,`components.${St}`):void 0,or=tr||dr,ir=mergeWith({theme:nr,colorMode:ar},or?.defaultProps??{},filterUndefined(omit$2(rr,["children"]))),lr=react.exports.useRef({});if(or){const cr=resolveStyleConfig(or)(ir);reactFastCompare(lr.current,cr)||(lr.current=cr)}return lr.current}function useStyleConfig(St,er={}){return useStyleConfigImpl(St,er)}function useMultiStyleConfig(St,er={}){return useStyleConfigImpl(St,er)}function factory(){const St=new Map;return new Proxy(styled,{apply(er,tr,rr){return styled(...rr)},get(er,tr){return St.has(tr)||St.set(tr,styled(tr)),St.get(tr)}})}var chakra=factory();function getErrorMessage(St,er){return`${St} returned \`undefined\`. Seems you forgot to wrap component within ${er}`}function createContext(St={}){const{name:er,strict:tr=!0,hookName:rr="useContext",providerName:nr="Provider",errorMessage:ar}=St,dr=react.exports.createContext(void 0);dr.displayName=er;function or(){var ir;const lr=react.exports.useContext(dr);if(!lr&&tr){const fr=new Error(ar??getErrorMessage(rr,nr));throw fr.name="ContextError",(ir=Error.captureStackTrace)==null||ir.call(Error,fr,or),fr}return lr}return[dr.Provider,or,dr]}function assignRef$1(St,er){if(St!=null){if(typeof St=="function"){St(er);return}try{St.current=er}catch{throw new Error(`Cannot assign value '${er}' to ref '${St}'`)}}}function mergeRefs(...St){return er=>{St.forEach(tr=>{assignRef$1(tr,er)})}}function useMergeRefs$1(...St){return react.exports.useMemo(()=>mergeRefs(...St),St)}function sortNodes(St){return St.sort((er,tr)=>{const rr=er.compareDocumentPosition(tr);if(rr&Node.DOCUMENT_POSITION_FOLLOWING||rr&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(rr&Node.DOCUMENT_POSITION_PRECEDING||rr&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(rr&Node.DOCUMENT_POSITION_DISCONNECTED||rr&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var isElement$1=St=>typeof St=="object"&&"nodeType"in St&&St.nodeType===Node.ELEMENT_NODE;function getNextIndex(St,er,tr){let rr=St+1;return tr&&rr>=er&&(rr=0),rr}function getPrevIndex(St,er,tr){let rr=St-1;return tr&&rr<0&&(rr=er),rr}var useSafeLayoutEffect$1=typeof window<"u"?react.exports.useLayoutEffect:react.exports.useEffect,cast=St=>St,DescendantsManager=class{descendants=new Map;register=St=>{if(St!=null)return isElement$1(St)?this.registerNode(St):er=>{this.registerNode(er,St)}};unregister=St=>{this.descendants.delete(St);const er=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(er)};destroy=()=>{this.descendants.clear()};assignIndex=St=>{this.descendants.forEach(er=>{const tr=St.indexOf(er.node);er.index=tr,er.node.dataset.index=er.index.toString()})};count=()=>this.descendants.size;enabledCount=()=>this.enabledValues().length;values=()=>Array.from(this.descendants.values()).sort((er,tr)=>er.index-tr.index);enabledValues=()=>this.values().filter(St=>!St.disabled);item=St=>{if(this.count()!==0)return this.values()[St]};enabledItem=St=>{if(this.enabledCount()!==0)return this.enabledValues()[St]};first=()=>this.item(0);firstEnabled=()=>this.enabledItem(0);last=()=>this.item(this.descendants.size-1);lastEnabled=()=>{const St=this.enabledValues().length-1;return this.enabledItem(St)};indexOf=St=>{var er;return St?((er=this.descendants.get(St))==null?void 0:er.index)??-1:-1};enabledIndexOf=St=>St==null?-1:this.enabledValues().findIndex(er=>er.node.isSameNode(St));next=(St,er=!0)=>{const tr=getNextIndex(St,this.count(),er);return this.item(tr)};nextEnabled=(St,er=!0)=>{const tr=this.item(St);if(!tr)return;const rr=this.enabledIndexOf(tr.node),nr=getNextIndex(rr,this.enabledCount(),er);return this.enabledItem(nr)};prev=(St,er=!0)=>{const tr=getPrevIndex(St,this.count()-1,er);return this.item(tr)};prevEnabled=(St,er=!0)=>{const tr=this.item(St);if(!tr)return;const rr=this.enabledIndexOf(tr.node),nr=getPrevIndex(rr,this.enabledCount()-1,er);return this.enabledItem(nr)};registerNode=(St,er)=>{if(!St||this.descendants.has(St))return;const tr=Array.from(this.descendants.keys()).concat(St),rr=sortNodes(tr);er?.disabled&&(er.disabled=!!er.disabled);const nr={node:St,index:-1,...er};this.descendants.set(St,nr),this.assignIndex(rr)}};function useDescendants(){const St=react.exports.useRef(new DescendantsManager);return useSafeLayoutEffect$1(()=>()=>St.current.destroy()),St.current}var[DescendantsContextProvider,useDescendantsContext]=createContext({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function useDescendant(St){const er=useDescendantsContext(),[tr,rr]=react.exports.useState(-1),nr=react.exports.useRef(null);useSafeLayoutEffect$1(()=>()=>{!nr.current||er.unregister(nr.current)},[]),useSafeLayoutEffect$1(()=>{if(!nr.current)return;const dr=Number(nr.current.dataset.index);tr!=dr&&!Number.isNaN(dr)&&rr(dr)});const ar=cast(St?er.register(St):er.register);return{descendants:er,index:tr,enabledIndex:er.enabledIndexOf(nr.current),register:mergeRefs(ar,nr)}}function createDescendantContext(){return[cast(DescendantsContextProvider),()=>cast(useDescendantsContext()),()=>useDescendants(),nr=>useDescendant(nr)]}var cx$8=(...St)=>St.filter(Boolean).join(" "),fallbackIcon={path:jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon=forwardRef((St,er)=>{const{as:tr,viewBox:rr,color:nr="currentColor",focusable:ar=!1,children:dr,className:or,__css:ir,...lr}=St,fr=cx$8("chakra-icon",or),cr={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:nr,...ir},ur={ref:er,focusable:ar,className:fr,__css:cr},sr=rr??fallbackIcon.viewBox;if(tr&&typeof tr!="string")return React.createElement(chakra.svg,{as:tr,...ur,...lr});const hr=dr??fallbackIcon.path;return React.createElement(chakra.svg,{verticalAlign:"middle",viewBox:sr,...ur,...lr},hr)});Icon.displayName="Icon";function useCallbackRef$2(St,er=[]){const tr=react.exports.useRef(St);return react.exports.useEffect(()=>{tr.current=St}),react.exports.useCallback((...rr)=>{var nr;return(nr=tr.current)==null?void 0:nr.call(tr,...rr)},er)}function useControllableState(St){const{value:er,defaultValue:tr,onChange:rr,shouldUpdate:nr=(ur,sr)=>ur!==sr}=St,ar=useCallbackRef$2(rr),dr=useCallbackRef$2(nr),[or,ir]=react.exports.useState(tr),lr=er!==void 0,fr=lr?er:or,cr=useCallbackRef$2(ur=>{const hr=typeof ur=="function"?ur(fr):ur;!dr(fr,hr)||(lr||ir(hr),ar(hr))},[lr,ar,fr,dr]);return[fr,cr]}var extendStatics=function(St,er){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tr,rr){tr.__proto__=rr}||function(tr,rr){for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])},extendStatics(St,er)};function __extends(St,er){if(typeof er!="function"&&er!==null)throw new TypeError("Class extends value "+String(er)+" is not a constructor or null");extendStatics(St,er);function tr(){this.constructor=St}St.prototype=er===null?Object.create(er):(tr.prototype=er.prototype,new tr)}var __assign$1=function(){return __assign$1=Object.assign||function(er){for(var tr,rr=1,nr=arguments.length;rr<nr;rr++){tr=arguments[rr];for(var ar in tr)Object.prototype.hasOwnProperty.call(tr,ar)&&(er[ar]=tr[ar])}return er},__assign$1.apply(this,arguments)};function __rest$1(St,er){var tr={};for(var rr in St)Object.prototype.hasOwnProperty.call(St,rr)&&er.indexOf(rr)<0&&(tr[rr]=St[rr]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(St);nr<rr.length;nr++)er.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(St,rr[nr])&&(tr[rr[nr]]=St[rr[nr]]);return tr}function __awaiter(St,er,tr,rr){function nr(ar){return ar instanceof tr?ar:new tr(function(dr){dr(ar)})}return new(tr||(tr=Promise))(function(ar,dr){function or(fr){try{lr(rr.next(fr))}catch(cr){dr(cr)}}function ir(fr){try{lr(rr.throw(fr))}catch(cr){dr(cr)}}function lr(fr){fr.done?ar(fr.value):nr(fr.value).then(or,ir)}lr((rr=rr.apply(St,er||[])).next())})}function __generator(St,er){var tr={label:0,sent:function(){if(ar[0]&1)throw ar[1];return ar[1]},trys:[],ops:[]},rr,nr,ar,dr;return dr={next:or(0),throw:or(1),return:or(2)},typeof Symbol=="function"&&(dr[Symbol.iterator]=function(){return this}),dr;function or(lr){return function(fr){return ir([lr,fr])}}function ir(lr){if(rr)throw new TypeError("Generator is already executing.");for(;dr&&(dr=0,lr[0]&&(tr=0)),tr;)try{if(rr=1,nr&&(ar=lr[0]&2?nr.return:lr[0]?nr.throw||((ar=nr.return)&&ar.call(nr),0):nr.next)&&!(ar=ar.call(nr,lr[1])).done)return ar;switch(nr=0,ar&&(lr=[lr[0]&2,ar.value]),lr[0]){case 0:case 1:ar=lr;break;case 4:return tr.label++,{value:lr[1],done:!1};case 5:tr.label++,nr=lr[1],lr=[0];continue;case 7:lr=tr.ops.pop(),tr.trys.pop();continue;default:if(ar=tr.trys,!(ar=ar.length>0&&ar[ar.length-1])&&(lr[0]===6||lr[0]===2)){tr=0;continue}if(lr[0]===3&&(!ar||lr[1]>ar[0]&&lr[1]<ar[3])){tr.label=lr[1];break}if(lr[0]===6&&tr.label<ar[1]){tr.label=ar[1],ar=lr;break}if(ar&&tr.label<ar[2]){tr.label=ar[2],tr.ops.push(lr);break}ar[2]&&tr.ops.pop(),tr.trys.pop();continue}lr=er.call(St,tr)}catch(fr){lr=[6,fr],nr=0}finally{rr=ar=0}if(lr[0]&5)throw lr[1];return{value:lr[0]?lr[1]:void 0,done:!0}}}function __values(St){var er=typeof Symbol=="function"&&Symbol.iterator,tr=er&&St[er],rr=0;if(tr)return tr.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&rr>=St.length&&(St=void 0),{value:St&&St[rr++],done:!St}}};throw new TypeError(er?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(St,er){var tr=typeof Symbol=="function"&&St[Symbol.iterator];if(!tr)return St;var rr=tr.call(St),nr,ar=[],dr;try{for(;(er===void 0||er-- >0)&&!(nr=rr.next()).done;)ar.push(nr.value)}catch(or){dr={error:or}}finally{try{nr&&!nr.done&&(tr=rr.return)&&tr.call(rr)}finally{if(dr)throw dr.error}}return ar}function __spreadArray$1(St,er,tr){if(tr||arguments.length===2)for(var rr=0,nr=er.length,ar;rr<nr;rr++)(ar||!(rr in er))&&(ar||(ar=Array.prototype.slice.call(er,0,rr)),ar[rr]=er[rr]);return St.concat(ar||Array.prototype.slice.call(er))}var defaultEnvironment="production",env=typeof process>"u"||process.env===void 0?defaultEnvironment:"production",createDefinition=function(St){return{isEnabled:function(er){return St.some(function(tr){return!!er[tr]})}}},featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(St){for(var er in St)St[er]!==null&&(er==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=St[er]:featureDefinitions[er].Component=St[er])}var warning$2=function(){},invariant$1=function(){},LazyContext=react.exports.createContext({strict:!1}),featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length;function useFeatures(St,er,tr){var rr=[],nr=react.exports.useContext(LazyContext);if(!er)return null;env!=="production"&&tr&&nr.strict;for(var ar=0;ar<numFeatures;ar++){var dr=featureNames[ar],or=featureDefinitions[dr],ir=or.isEnabled,lr=or.Component;ir(St)&&lr&&rr.push(jsx(lr,{...__assign$1({key:dr},St,{visualElement:er})}))}return rr}var MotionConfigContext=react.exports.createContext({transformPagePoint:function(St){return St},isStatic:!1,reducedMotion:"never"}),MotionContext=react.exports.createContext({});function useVisualElementContext(){return react.exports.useContext(MotionContext).visualElement}var PresenceContext=react.exports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect$1=isBrowser?react.exports.useLayoutEffect:react.exports.useEffect,prefersReducedMotion={current:null},hasDetected=!1;function initPrefersReducedMotion(){if(hasDetected=!0,!!isBrowser)if(window.matchMedia){var St=window.matchMedia("(prefers-reduced-motion)"),er=function(){return prefersReducedMotion.current=St.matches};St.addListener(er),er()}else prefersReducedMotion.current=!1}function useReducedMotion(){!hasDetected&&initPrefersReducedMotion();var St=__read(react.exports.useState(prefersReducedMotion.current),1),er=St[0];return er}function useReducedMotionConfig(){var St=useReducedMotion(),er=react.exports.useContext(MotionConfigContext).reducedMotion;return er==="never"?!1:er==="always"?!0:St}function useVisualElement(St,er,tr,rr){var nr=react.exports.useContext(LazyContext),ar=useVisualElementContext(),dr=react.exports.useContext(PresenceContext),or=useReducedMotionConfig(),ir=react.exports.useRef(void 0);rr||(rr=nr.renderer),!ir.current&&rr&&(ir.current=rr(St,{visualState:er,parent:ar,props:tr,presenceId:dr?.id,blockInitialAnimation:dr?.initial===!1,shouldReduceMotion:or}));var lr=ir.current;return useIsomorphicLayoutEffect$1(function(){lr?.syncRender()}),react.exports.useEffect(function(){var fr;(fr=lr?.animationState)===null||fr===void 0||fr.animateChanges()}),useIsomorphicLayoutEffect$1(function(){return function(){return lr?.notifyUnmount()}},[]),lr}function isRefObject(St){return typeof St=="object"&&Object.prototype.hasOwnProperty.call(St,"current")}function useMotionRef(St,er,tr){return react.exports.useCallback(function(rr){var nr;rr&&((nr=St.mount)===null||nr===void 0||nr.call(St,rr)),er&&(rr?er.mount(rr):er.unmount()),tr&&(typeof tr=="function"?tr(rr):isRefObject(tr)&&(tr.current=rr))},[er])}function isVariantLabels(St){return Array.isArray(St)}function isVariantLabel(St){return typeof St=="string"||isVariantLabels(St)}function getCurrent(St){var er={};return St.forEachValue(function(tr,rr){return er[rr]=tr.get()}),er}function getVelocity$1(St){var er={};return St.forEachValue(function(tr,rr){return er[rr]=tr.getVelocity()}),er}function resolveVariantFromProps(St,er,tr,rr,nr){var ar;return rr===void 0&&(rr={}),nr===void 0&&(nr={}),typeof er=="function"&&(er=er(tr??St.custom,rr,nr)),typeof er=="string"&&(er=(ar=St.variants)===null||ar===void 0?void 0:ar[er]),typeof er=="function"&&(er=er(tr??St.custom,rr,nr)),er}function resolveVariant(St,er,tr){var rr=St.getProps();return resolveVariantFromProps(rr,er,tr??rr.custom,getCurrent(St),getVelocity$1(St))}function checkIfControllingVariants(St){var er;return typeof((er=St.animate)===null||er===void 0?void 0:er.start)=="function"||isVariantLabel(St.initial)||isVariantLabel(St.animate)||isVariantLabel(St.whileHover)||isVariantLabel(St.whileDrag)||isVariantLabel(St.whileTap)||isVariantLabel(St.whileFocus)||isVariantLabel(St.exit)}function checkIfVariantNode(St){return Boolean(checkIfControllingVariants(St)||St.variants)}function getCurrentTreeVariants(St,er){if(checkIfControllingVariants(St)){var tr=St.initial,rr=St.animate;return{initial:tr===!1||isVariantLabel(tr)?tr:void 0,animate:isVariantLabel(rr)?rr:void 0}}return St.inherit!==!1?er:{}}function useCreateMotionContext(St){var er=getCurrentTreeVariants(St,react.exports.useContext(MotionContext)),tr=er.initial,rr=er.animate;return react.exports.useMemo(function(){return{initial:tr,animate:rr}},[variantLabelsAsDependency(tr),variantLabelsAsDependency(rr)])}function variantLabelsAsDependency(St){return Array.isArray(St)?St.join(" "):St}function useConstant(St){var er=react.exports.useRef(null);return er.current===null&&(er.current=St()),er.current}var globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1},id$1=1;function useProjectionId(){return useConstant(function(){if(globalProjectionState.hasEverUpdated)return id$1++})}var LayoutGroupContext=react.exports.createContext({}),SwitchLayoutGroupContext=react.exports.createContext({});function useProjection(St,er,tr,rr){var nr,ar=er.layoutId,dr=er.layout,or=er.drag,ir=er.dragConstraints,lr=er.layoutScroll,fr=react.exports.useContext(SwitchLayoutGroupContext);!rr||!tr||tr?.projection||(tr.projection=new rr(St,tr.getLatestValues(),(nr=tr.parent)===null||nr===void 0?void 0:nr.projection),tr.projection.setOptions({layoutId:ar,layout:dr,alwaysMeasureLayout:Boolean(or)||ir&&isRefObject(ir),visualElement:tr,scheduleRender:function(){return tr.scheduleRender()},animationType:typeof dr=="string"?dr:"both",initialPromotionConfig:fr,layoutScroll:lr}))}var VisualElementHandler=function(St){__extends(er,St);function er(){return St!==null&&St.apply(this,arguments)||this}return er.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},er.prototype.componentDidUpdate=function(){},er.prototype.updateProps=function(){var tr=this.props,rr=tr.visualElement,nr=tr.props;rr&&rr.setProps(nr)},er.prototype.render=function(){return this.props.children},er}(React.Component);function createMotionComponent(St){var er=St.preloadedFeatures,tr=St.createVisualElement,rr=St.projectionNodeConstructor,nr=St.useRender,ar=St.useVisualState,dr=St.Component;er&&loadFeatures(er);function or(ir,lr){var fr=useLayoutId(ir);ir=__assign$1(__assign$1({},ir),{layoutId:fr});var cr=react.exports.useContext(MotionConfigContext),ur=null,sr=useCreateMotionContext(ir),hr=cr.isStatic?void 0:useProjectionId(),gr=ar(ir,cr.isStatic);return!cr.isStatic&&isBrowser&&(sr.visualElement=useVisualElement(dr,gr,__assign$1(__assign$1({},cr),ir),tr),useProjection(hr,ir,sr.visualElement,rr||featureDefinitions.projectionNodeConstructor),ur=useFeatures(ir,sr.visualElement,er)),jsxs(VisualElementHandler,{visualElement:sr.visualElement,props:__assign$1(__assign$1({},cr),ir),children:[ur,jsx(MotionContext.Provider,{value:sr,children:nr(dr,ir,hr,useMotionRef(gr,sr.visualElement,lr),gr,cr.isStatic,sr.visualElement)})]})}return react.exports.forwardRef(or)}function useLayoutId(St){var er,tr=St.layoutId,rr=(er=react.exports.useContext(LayoutGroupContext))===null||er===void 0?void 0:er.id;return rr&&tr!==void 0?rr+"-"+tr:tr}function createMotionProxy(St){function er(rr,nr){return nr===void 0&&(nr={}),createMotionComponent(St(rr,nr))}if(typeof Proxy>"u")return er;var tr=new Map;return new Proxy(er,{get:function(rr,nr){return tr.has(nr)||tr.set(nr,er(nr)),tr.get(nr)}})}var lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function isSVGComponent(St){return typeof St!="string"||St.includes("-")?!1:!!(lowercaseSVGElements.indexOf(St)>-1||/[A-Z]/.test(St))}var scaleCorrectors={};function addScaleCorrector(St){Object.assign(scaleCorrectors,St)}var transformAxes=["","X","Y","Z"],order=["translate","scale","rotate","skew"],transformProps=["transformPerspective","x","y","z"];order.forEach(function(St){return transformAxes.forEach(function(er){return transformProps.push(St+er)})});function sortTransformProps(St,er){return transformProps.indexOf(St)-transformProps.indexOf(er)}var transformPropSet=new Set(transformProps);function isTransformProp(St){return transformPropSet.has(St)}var transformOriginProps=new Set(["originX","originY","originZ"]);function isTransformOriginProp(St){return transformOriginProps.has(St)}function isForcedMotionValue(St,er){var tr=er.layout,rr=er.layoutId;return isTransformProp(St)||isTransformOriginProp(St)||(tr||rr!==void 0)&&(!!scaleCorrectors[St]||St==="opacity")}var isMotionValue=function(St){return Boolean(St!==null&&typeof St=="object"&&St.getVelocity)},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function buildTransform(St,er,tr,rr){var nr=St.transform,ar=St.transformKeys,dr=er.enableHardwareAcceleration,or=dr===void 0?!0:dr,ir=er.allowTransformNone,lr=ir===void 0?!0:ir,fr="";ar.sort(sortTransformProps);for(var cr=!1,ur=ar.length,sr=0;sr<ur;sr++){var hr=ar[sr];fr+="".concat(translateAlias[hr]||hr,"(").concat(nr[hr],") "),hr==="z"&&(cr=!0)}return!cr&&or?fr+="translateZ(0)":fr=fr.trim(),rr?fr=rr(nr,tr?"":fr):lr&&tr&&(fr="none"),fr}function buildTransformOrigin(St){var er=St.originX,tr=er===void 0?"50%":er,rr=St.originY,nr=rr===void 0?"50%":rr,ar=St.originZ,dr=ar===void 0?0:ar;return"".concat(tr," ").concat(nr," ").concat(dr)}function isCSSVariable$1(St){return St.startsWith("--")}var getValueAsType=function(St,er){return er&&typeof St=="number"?er.transform(St):St};const clamp$1=(St,er)=>tr=>Math.max(Math.min(tr,er),St),sanitize=St=>St%1?Number(St.toFixed(5)):St,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function isString$1(St){return typeof St=="string"}const number={test:St=>typeof St=="number",parse:parseFloat,transform:St=>St},alpha=Object.assign(Object.assign({},number),{transform:clamp$1(0,1)}),scale=Object.assign(Object.assign({},number),{default:1}),createUnitType=St=>({test:er=>isString$1(er)&&er.endsWith(St)&&er.split(" ").length===1,parse:parseFloat,transform:er=>`${er}${St}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage=Object.assign(Object.assign({},percent),{parse:St=>percent.parse(St)/100,transform:St=>percent.transform(St*100)}),isColorString=(St,er)=>tr=>Boolean(isString$1(tr)&&singleColorRegex.test(tr)&&tr.startsWith(St)||er&&Object.prototype.hasOwnProperty.call(tr,er)),splitColor=(St,er,tr)=>rr=>{if(!isString$1(rr))return rr;const[nr,ar,dr,or]=rr.match(floatRegex);return{[St]:parseFloat(nr),[er]:parseFloat(ar),[tr]:parseFloat(dr),alpha:or!==void 0?parseFloat(or):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:St,saturation:er,lightness:tr,alpha:rr=1})=>"hsla("+Math.round(St)+", "+percent.transform(sanitize(er))+", "+percent.transform(sanitize(tr))+", "+sanitize(alpha.transform(rr))+")"},clampRgbUnit=clamp$1(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:St=>Math.round(clampRgbUnit(St))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:St,green:er,blue:tr,alpha:rr=1})=>"rgba("+rgbUnit.transform(St)+", "+rgbUnit.transform(er)+", "+rgbUnit.transform(tr)+", "+sanitize(alpha.transform(rr))+")"};function parseHex(St){let er="",tr="",rr="",nr="";return St.length>5?(er=St.substr(1,2),tr=St.substr(3,2),rr=St.substr(5,2),nr=St.substr(7,2)):(er=St.substr(1,1),tr=St.substr(2,1),rr=St.substr(3,1),nr=St.substr(4,1),er+=er,tr+=tr,rr+=rr,nr+=nr),{red:parseInt(er,16),green:parseInt(tr,16),blue:parseInt(rr,16),alpha:nr?parseInt(nr,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color={test:St=>rgba.test(St)||hex.test(St)||hsla.test(St),parse:St=>rgba.test(St)?rgba.parse(St):hsla.test(St)?hsla.parse(St):hex.parse(St),transform:St=>isString$1(St)?St:St.hasOwnProperty("red")?rgba.transform(St):hsla.transform(St)},colorToken="${c}",numberToken="${n}";function test(St){var er,tr,rr,nr;return isNaN(St)&&isString$1(St)&&((tr=(er=St.match(floatRegex))===null||er===void 0?void 0:er.length)!==null&&tr!==void 0?tr:0)+((nr=(rr=St.match(colorRegex))===null||rr===void 0?void 0:rr.length)!==null&&nr!==void 0?nr:0)>0}function analyse$1(St){typeof St=="number"&&(St=`${St}`);const er=[];let tr=0;const rr=St.match(colorRegex);rr&&(tr=rr.length,St=St.replace(colorRegex,colorToken),er.push(...rr.map(color.parse)));const nr=St.match(floatRegex);return nr&&(St=St.replace(floatRegex,numberToken),er.push(...nr.map(number.parse))),{values:er,numColors:tr,tokenised:St}}function parse$1(St){return analyse$1(St).values}function createTransformer(St){const{values:er,numColors:tr,tokenised:rr}=analyse$1(St),nr=er.length;return ar=>{let dr=rr;for(let or=0;or<nr;or++)dr=dr.replace(or<tr?colorToken:numberToken,or<tr?color.transform(ar[or]):sanitize(ar[or]));return dr}}const convertNumbersToZero=St=>typeof St=="number"?0:St;function getAnimatableNone$1(St){const er=parse$1(St);return createTransformer(St)(er.map(convertNumbersToZero))}const complex={test,parse:parse$1,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(St){let[er,tr]=St.slice(0,-1).split("(");if(er==="drop-shadow")return St;const[rr]=tr.match(floatRegex)||[];if(!rr)return St;const nr=tr.replace(rr,"");let ar=maxDefaults.has(er)?1:0;return rr!==tr&&(ar*=100),er+"("+ar+nr+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter=Object.assign(Object.assign({},complex),{getAnimatableNone:St=>{const er=St.match(functionRegex);return er?er.map(applyDefaultFilter).join(" "):St}});var int=__assign$1(__assign$1({},number),{transform:Math.round}),numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(St,er,tr,rr){var nr,ar=St.style,dr=St.vars,or=St.transform,ir=St.transformKeys,lr=St.transformOrigin;ir.length=0;var fr=!1,cr=!1,ur=!0;for(var sr in er){var hr=er[sr];if(isCSSVariable$1(sr)){dr[sr]=hr;continue}var gr=numberValueTypes[sr],pr=getValueAsType(hr,gr);if(isTransformProp(sr)){if(fr=!0,or[sr]=pr,ir.push(sr),!ur)continue;hr!==((nr=gr.default)!==null&&nr!==void 0?nr:0)&&(ur=!1)}else isTransformOriginProp(sr)?(lr[sr]=pr,cr=!0):ar[sr]=pr}fr?ar.transform=buildTransform(St,tr,ur,rr):rr?ar.transform=rr({},""):!er.transform&&ar.transform&&(ar.transform="none"),cr&&(ar.transformOrigin=buildTransformOrigin(lr))}var createHtmlRenderState=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function copyRawValuesOnly(St,er,tr){for(var rr in er)!isMotionValue(er[rr])&&!isForcedMotionValue(rr,tr)&&(St[rr]=er[rr])}function useInitialMotionValues(St,er,tr){var rr=St.transformTemplate;return react.exports.useMemo(function(){var nr=createHtmlRenderState();buildHTMLStyles(nr,er,{enableHardwareAcceleration:!tr},rr);var ar=nr.vars,dr=nr.style;return __assign$1(__assign$1({},ar),dr)},[er])}function useStyle(St,er,tr){var rr=St.style||{},nr={};return copyRawValuesOnly(nr,rr,St),Object.assign(nr,useInitialMotionValues(St,er,tr)),St.transformValues&&(nr=St.transformValues(nr)),nr}function useHTMLProps(St,er,tr){var rr={},nr=useStyle(St,er,tr);return Boolean(St.drag)&&St.dragListener!==!1&&(rr.draggable=!1,nr.userSelect=nr.WebkitUserSelect=nr.WebkitTouchCallout="none",nr.touchAction=St.drag===!0?"none":"pan-".concat(St.drag==="x"?"y":"x")),rr.style=nr,rr}var validMotionProps=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function isValidMotionProp(St){return validMotionProps.has(St)}var shouldForward=function(St){return!isValidMotionProp(St)};function loadExternalIsValidProp(St){!St||(shouldForward=function(er){return er.startsWith("on")?!isValidMotionProp(er):St(er)})}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(St,er,tr){var rr={};for(var nr in St)(shouldForward(nr)||tr===!0&&isValidMotionProp(nr)||!er&&!isValidMotionProp(nr)||St.draggable&&nr.startsWith("onDrag"))&&(rr[nr]=St[nr]);return rr}function calcOrigin$1(St,er,tr){return typeof St=="string"?St:px$1.transform(er+tr*St)}function calcSVGTransformOrigin(St,er,tr){var rr=calcOrigin$1(er,St.x,St.width),nr=calcOrigin$1(tr,St.y,St.height);return"".concat(rr," ").concat(nr)}var dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(St,er,tr,rr,nr){tr===void 0&&(tr=1),rr===void 0&&(rr=0),nr===void 0&&(nr=!0),St.pathLength=1;var ar=nr?dashKeys:camelKeys;St[ar.offset]=px$1.transform(-rr);var dr=px$1.transform(er),or=px$1.transform(tr);St[ar.array]="".concat(dr," ").concat(or)}function buildSVGAttrs(St,er,tr,rr){var nr=er.attrX,ar=er.attrY,dr=er.originX,or=er.originY,ir=er.pathLength,lr=er.pathSpacing,fr=lr===void 0?1:lr,cr=er.pathOffset,ur=cr===void 0?0:cr,sr=__rest$1(er,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);buildHTMLStyles(St,sr,tr,rr),St.attrs=St.style,St.style={};var hr=St.attrs,gr=St.style,pr=St.dimensions;hr.transform&&(pr&&(gr.transform=hr.transform),delete hr.transform),pr&&(dr!==void 0||or!==void 0||gr.transform)&&(gr.transformOrigin=calcSVGTransformOrigin(pr,dr!==void 0?dr:.5,or!==void 0?or:.5)),nr!==void 0&&(hr.x=nr),ar!==void 0&&(hr.y=ar),ir!==void 0&&buildSVGPath(hr,ir,fr,ur,!1)}var createSvgRenderState=function(){return __assign$1(__assign$1({},createHtmlRenderState()),{attrs:{}})};function useSVGProps(St,er){var tr=react.exports.useMemo(function(){var nr=createSvgRenderState();return buildSVGAttrs(nr,er,{enableHardwareAcceleration:!1},St.transformTemplate),__assign$1(__assign$1({},nr.attrs),{style:__assign$1({},nr.style)})},[er]);if(St.style){var rr={};copyRawValuesOnly(rr,St.style,St),tr.style=__assign$1(__assign$1({},rr),tr.style)}return tr}function createUseRender(St){St===void 0&&(St=!1);var er=function(tr,rr,nr,ar,dr,or){var ir=dr.latestValues,lr=isSVGComponent(tr)?useSVGProps:useHTMLProps,fr=lr(rr,ir,or),cr=filterProps(rr,typeof tr=="string",St),ur=__assign$1(__assign$1(__assign$1({},cr),fr),{ref:ar});return nr&&(ur["data-projection-id"]=nr),react.exports.createElement(tr,ur)};return er}var CAMEL_CASE_PATTERN=/([a-z])([A-Z])/g,REPLACE_TEMPLATE="$1-$2",camelToDash=function(St){return St.replace(CAMEL_CASE_PATTERN,REPLACE_TEMPLATE).toLowerCase()};function renderHTML(St,er,tr,rr){var nr=er.style,ar=er.vars;Object.assign(St.style,nr,rr&&rr.getProjectionStyles(tr));for(var dr in ar)St.style.setProperty(dr,ar[dr])}var camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function renderSVG(St,er,tr,rr){renderHTML(St,er,void 0,rr);for(var nr in er.attrs)St.setAttribute(camelCaseAttributes.has(nr)?nr:camelToDash(nr),er.attrs[nr])}function scrapeMotionValuesFromProps$1(St){var er=St.style,tr={};for(var rr in er)(isMotionValue(er[rr])||isForcedMotionValue(rr,St))&&(tr[rr]=er[rr]);return tr}function scrapeMotionValuesFromProps(St){var er=scrapeMotionValuesFromProps$1(St);for(var tr in St)if(isMotionValue(St[tr])){var rr=tr==="x"||tr==="y"?"attr"+tr.toUpperCase():tr;er[rr]=St[tr]}return er}function isAnimationControls(St){return typeof St=="object"&&typeof St.start=="function"}var isKeyframesTarget=function(St){return Array.isArray(St)},isCustomValue=function(St){return Boolean(St&&typeof St=="object"&&St.mix&&St.toValue)},resolveFinalValueInKeyframes=function(St){return isKeyframesTarget(St)?St[St.length-1]||0:St};function resolveMotionValue(St){var er=isMotionValue(St)?St.get():St;return isCustomValue(er)?er.toValue():er}function makeState(St,er,tr,rr){var nr=St.scrapeMotionValuesFromProps,ar=St.createRenderState,dr=St.onMount,or={latestValues:makeLatestValues(er,tr,rr,nr),renderState:ar()};return dr&&(or.mount=function(ir){return dr(er,ir,or)}),or}var makeUseVisualState=function(St){return function(er,tr){var rr=react.exports.useContext(MotionContext),nr=react.exports.useContext(PresenceContext);return tr?makeState(St,er,rr,nr):useConstant(function(){return makeState(St,er,rr,nr)})}};function makeLatestValues(St,er,tr,rr){var nr={},ar=tr?.initial===!1,dr=rr(St);for(var or in dr)nr[or]=resolveMotionValue(dr[or]);var ir=St.initial,lr=St.animate,fr=checkIfControllingVariants(St),cr=checkIfVariantNode(St);er&&cr&&!fr&&St.inherit!==!1&&(ir??(ir=er.initial),lr??(lr=er.animate));var ur=ar||ir===!1,sr=ur?lr:ir;if(sr&&typeof sr!="boolean"&&!isAnimationControls(sr)){var hr=Array.isArray(sr)?sr:[sr];hr.forEach(function(gr){var pr=resolveVariantFromProps(St,gr);if(!!pr){var mr=pr.transitionEnd;pr.transition;var vr=__rest$1(pr,["transitionEnd","transition"]);for(var yr in vr){var br=vr[yr];if(Array.isArray(br)){var xr=ur?br.length-1:0;br=br[xr]}br!==null&&(nr[yr]=br)}for(var yr in mr)nr[yr]=mr[yr]}})}return nr}var svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:function(St,er,tr){var rr=tr.renderState,nr=tr.latestValues;try{rr.dimensions=typeof er.getBBox=="function"?er.getBBox():er.getBoundingClientRect()}catch{rr.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(rr,nr,{enableHardwareAcceleration:!1},St.transformTemplate),renderSVG(er,rr)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(St,er,tr,rr,nr){var ar=er.forwardMotionProps,dr=ar===void 0?!1:ar,or=isSVGComponent(St)?svgMotionConfig:htmlMotionConfig;return __assign$1(__assign$1({},or),{preloadedFeatures:tr,useRender:createUseRender(dr),createVisualElement:rr,projectionNodeConstructor:nr,Component:St})}var AnimationType;(function(St){St.Animate="animate",St.Hover="whileHover",St.Tap="whileTap",St.Drag="whileDrag",St.Focus="whileFocus",St.InView="whileInView",St.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(St,er,tr,rr){return rr===void 0&&(rr={passive:!0}),St.addEventListener(er,tr,rr),function(){return St.removeEventListener(er,tr)}}function useDomEvent(St,er,tr,rr){react.exports.useEffect(function(){var nr=St.current;if(tr&&nr)return addDomEvent(nr,er,tr,rr)},[St,er,tr,rr])}function useFocusGesture(St){var er=St.whileFocus,tr=St.visualElement,rr=function(){var ar;(ar=tr.animationState)===null||ar===void 0||ar.setActive(AnimationType.Focus,!0)},nr=function(){var ar;(ar=tr.animationState)===null||ar===void 0||ar.setActive(AnimationType.Focus,!1)};useDomEvent(tr,"focus",er?rr:void 0),useDomEvent(tr,"blur",er?nr:void 0)}function isMouseEvent(St){return typeof PointerEvent<"u"&&St instanceof PointerEvent?St.pointerType==="mouse":St instanceof MouseEvent}function isTouchEvent(St){var er=!!St.touches;return er}function filterPrimaryPointer(St){return function(er){var tr=er instanceof MouseEvent,rr=!tr||tr&&er.button===0;rr&&St(er)}}var defaultPagePoint={pageX:0,pageY:0};function pointFromTouch(St,er){er===void 0&&(er="page");var tr=St.touches[0]||St.changedTouches[0],rr=tr||defaultPagePoint;return{x:rr[er+"X"],y:rr[er+"Y"]}}function pointFromMouse(St,er){return er===void 0&&(er="page"),{x:St[er+"X"],y:St[er+"Y"]}}function extractEventInfo(St,er){return er===void 0&&(er="page"),{point:isTouchEvent(St)?pointFromTouch(St,er):pointFromMouse(St,er)}}var wrapHandler=function(St,er){er===void 0&&(er=!1);var tr=function(rr){return St(rr,extractEventInfo(rr))};return er?filterPrimaryPointer(tr):tr},supportsPointerEvents=function(){return isBrowser&&window.onpointerdown===null},supportsTouchEvents=function(){return isBrowser&&window.ontouchstart===null},supportsMouseEvents=function(){return isBrowser&&window.onmousedown===null},mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(St){return supportsPointerEvents()?St:supportsTouchEvents()?touchEventNames[St]:supportsMouseEvents()?mouseEventNames[St]:St}function addPointerEvent(St,er,tr,rr){return addDomEvent(St,getPointerEventName(er),wrapHandler(tr,er==="pointerdown"),rr)}function usePointerEvent(St,er,tr,rr){return useDomEvent(St,getPointerEventName(er),tr&&wrapHandler(tr,er==="pointerdown"),rr)}function createLock(St){var er=null;return function(){var tr=function(){er=null};return er===null?(er=St,tr):!1}}var globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(St){var er=!1;if(St==="y")er=globalVerticalLock();else if(St==="x")er=globalHorizontalLock();else{var tr=globalHorizontalLock(),rr=globalVerticalLock();tr&&rr?er=function(){tr(),rr()}:(tr&&tr(),rr&&rr())}return er}function isDragActive(){var St=getGlobalLock(!0);return St?(St(),!1):!0}function createHoverEvent(St,er,tr){return function(rr,nr){var ar;!isMouseEvent(rr)||isDragActive()||((ar=St.animationState)===null||ar===void 0||ar.setActive(AnimationType.Hover,er),tr?.(rr,nr))}}function useHoverGesture(St){var er=St.onHoverStart,tr=St.onHoverEnd,rr=St.whileHover,nr=St.visualElement;usePointerEvent(nr,"pointerenter",er||rr?createHoverEvent(nr,!0,er):void 0,{passive:!er}),usePointerEvent(nr,"pointerleave",tr||rr?createHoverEvent(nr,!1,tr):void 0,{passive:!tr})}var isNodeOrChild=function(St,er){return er?St===er?!0:isNodeOrChild(St,er.parentElement):!1};function useUnmountEffect(St){return react.exports.useEffect(function(){return function(){return St()}},[])}const clamp=(St,er,tr)=>Math.min(Math.max(tr,St),er),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:St=800,bounce:er=.25,velocity:tr=0,mass:rr=1}){let nr,ar;warning$2(St<=maxDuration*1e3);let dr=1-er;dr=clamp(minDamping,maxDamping,dr),St=clamp(minDuration,maxDuration,St/1e3),dr<1?(nr=lr=>{const fr=lr*dr,cr=fr*St,ur=fr-tr,sr=calcAngularFreq(lr,dr),hr=Math.exp(-cr);return safeMin-ur/sr*hr},ar=lr=>{const cr=lr*dr*St,ur=cr*tr+tr,sr=Math.pow(dr,2)*Math.pow(lr,2)*St,hr=Math.exp(-cr),gr=calcAngularFreq(Math.pow(lr,2),dr);return(-nr(lr)+safeMin>0?-1:1)*((ur-sr)*hr)/gr}):(nr=lr=>{const fr=Math.exp(-lr*St),cr=(lr-tr)*St+1;return-safeMin+fr*cr},ar=lr=>{const fr=Math.exp(-lr*St),cr=(tr-lr)*(St*St);return fr*cr});const or=5/St,ir=approximateRoot(nr,ar,or);if(St=St*1e3,isNaN(ir))return{stiffness:100,damping:10,duration:St};{const lr=Math.pow(ir,2)*rr;return{stiffness:lr,damping:dr*2*Math.sqrt(rr*lr),duration:St}}}const rootIterations=12;function approximateRoot(St,er,tr){let rr=tr;for(let nr=1;nr<rootIterations;nr++)rr=rr-St(rr)/er(rr);return rr}function calcAngularFreq(St,er){return St*Math.sqrt(1-er*er)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(St,er){return er.some(tr=>St[tr]!==void 0)}function getSpringOptions(St){let er=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},St);if(!isSpringType(St,physicsKeys)&&isSpringType(St,durationKeys)){const tr=findSpring(St);er=Object.assign(Object.assign(Object.assign({},er),tr),{velocity:0,mass:1}),er.isResolvedFromDuration=!0}return er}function spring(St){var{from:er=0,to:tr=1,restSpeed:rr=2,restDelta:nr}=St,ar=__rest$1(St,["from","to","restSpeed","restDelta"]);const dr={done:!1,value:er};let{stiffness:or,damping:ir,mass:lr,velocity:fr,duration:cr,isResolvedFromDuration:ur}=getSpringOptions(ar),sr=zero,hr=zero;function gr(){const pr=fr?-(fr/1e3):0,mr=tr-er,vr=ir/(2*Math.sqrt(or*lr)),yr=Math.sqrt(or/lr)/1e3;if(nr===void 0&&(nr=Math.min(Math.abs(tr-er)/100,.4)),vr<1){const br=calcAngularFreq(yr,vr);sr=xr=>{const Cr=Math.exp(-vr*yr*xr);return tr-Cr*((pr+vr*yr*mr)/br*Math.sin(br*xr)+mr*Math.cos(br*xr))},hr=xr=>{const Cr=Math.exp(-vr*yr*xr);return vr*yr*Cr*(Math.sin(br*xr)*(pr+vr*yr*mr)/br+mr*Math.cos(br*xr))-Cr*(Math.cos(br*xr)*(pr+vr*yr*mr)-br*mr*Math.sin(br*xr))}}else if(vr===1)sr=br=>tr-Math.exp(-yr*br)*(mr+(pr+yr*mr)*br);else{const br=yr*Math.sqrt(vr*vr-1);sr=xr=>{const Cr=Math.exp(-vr*yr*xr),kr=Math.min(br*xr,300);return tr-Cr*((pr+vr*yr*mr)*Math.sinh(kr)+br*mr*Math.cosh(kr))/br}}}return gr(),{next:pr=>{const mr=sr(pr);if(ur)dr.done=pr>=cr;else{const vr=hr(pr)*1e3,yr=Math.abs(vr)<=rr,br=Math.abs(tr-mr)<=nr;dr.done=yr&&br}return dr.value=dr.done?tr:mr,dr},flipTarget:()=>{fr=-fr,[er,tr]=[tr,er],gr()}}}spring.needsInterpolation=(St,er)=>typeof St=="string"||typeof er=="string";const zero=St=>0,progress=(St,er,tr)=>{const rr=er-St;return rr===0?1:(tr-St)/rr},mix=(St,er,tr)=>-tr*St+tr*er+St;function hueToRgb(St,er,tr){return tr<0&&(tr+=1),tr>1&&(tr-=1),tr<1/6?St+(er-St)*6*tr:tr<1/2?er:tr<2/3?St+(er-St)*(2/3-tr)*6:St}function hslaToRgba({hue:St,saturation:er,lightness:tr,alpha:rr}){St/=360,er/=100,tr/=100;let nr=0,ar=0,dr=0;if(!er)nr=ar=dr=tr;else{const or=tr<.5?tr*(1+er):tr+er-tr*er,ir=2*tr-or;nr=hueToRgb(ir,or,St+1/3),ar=hueToRgb(ir,or,St),dr=hueToRgb(ir,or,St-1/3)}return{red:Math.round(nr*255),green:Math.round(ar*255),blue:Math.round(dr*255),alpha:rr}}const mixLinearColor=(St,er,tr)=>{const rr=St*St,nr=er*er;return Math.sqrt(Math.max(0,tr*(nr-rr)+rr))},colorTypes=[hex,rgba,hsla],getColorType=St=>colorTypes.find(er=>er.test(St)),mixColor=(St,er)=>{let tr=getColorType(St),rr=getColorType(er),nr=tr.parse(St),ar=rr.parse(er);tr===hsla&&(nr=hslaToRgba(nr),tr=rgba),rr===hsla&&(ar=hslaToRgba(ar),rr=rgba);const dr=Object.assign({},nr);return or=>{for(const ir in dr)ir!=="alpha"&&(dr[ir]=mixLinearColor(nr[ir],ar[ir],or));return dr.alpha=mix(nr.alpha,ar.alpha,or),tr.transform(dr)}},isNum=St=>typeof St=="number",combineFunctions=(St,er)=>tr=>er(St(tr)),pipe=(...St)=>St.reduce(combineFunctions);function getMixer(St,er){return isNum(St)?tr=>mix(St,er,tr):color.test(St)?mixColor(St,er):mixComplex(St,er)}const mixArray=(St,er)=>{const tr=[...St],rr=tr.length,nr=St.map((ar,dr)=>getMixer(ar,er[dr]));return ar=>{for(let dr=0;dr<rr;dr++)tr[dr]=nr[dr](ar);return tr}},mixObject=(St,er)=>{const tr=Object.assign(Object.assign({},St),er),rr={};for(const nr in tr)St[nr]!==void 0&&er[nr]!==void 0&&(rr[nr]=getMixer(St[nr],er[nr]));return nr=>{for(const ar in rr)tr[ar]=rr[ar](nr);return tr}};function analyse(St){const er=complex.parse(St),tr=er.length;let rr=0,nr=0,ar=0;for(let dr=0;dr<tr;dr++)rr||typeof er[dr]=="number"?rr++:er[dr].hue!==void 0?ar++:nr++;return{parsed:er,numNumbers:rr,numRGB:nr,numHSL:ar}}const mixComplex=(St,er)=>{const tr=complex.createTransformer(er),rr=analyse(St),nr=analyse(er);return rr.numHSL===nr.numHSL&&rr.numRGB===nr.numRGB&&rr.numNumbers>=nr.numNumbers?pipe(mixArray(rr.parsed,nr.parsed),tr):dr=>`${dr>0?er:St}`},mixNumber=(St,er)=>tr=>mix(St,er,tr);function detectMixerFactory(St){if(typeof St=="number")return mixNumber;if(typeof St=="string")return color.test(St)?mixColor:mixComplex;if(Array.isArray(St))return mixArray;if(typeof St=="object")return mixObject}function createMixers(St,er,tr){const rr=[],nr=tr||detectMixerFactory(St[0]),ar=St.length-1;for(let dr=0;dr<ar;dr++){let or=nr(St[dr],St[dr+1]);if(er){const ir=Array.isArray(er)?er[dr]:er;or=pipe(ir,or)}rr.push(or)}return rr}function fastInterpolate([St,er],[tr]){return rr=>tr(progress(St,er,rr))}function slowInterpolate(St,er){const tr=St.length,rr=tr-1;return nr=>{let ar=0,dr=!1;if(nr<=St[0]?dr=!0:nr>=St[rr]&&(ar=rr-1,dr=!0),!dr){let ir=1;for(;ir<tr&&!(St[ir]>nr||ir===rr);ir++);ar=ir-1}const or=progress(St[ar],St[ar+1],nr);return er[ar](or)}}function interpolate(St,er,{clamp:tr=!0,ease:rr,mixer:nr}={}){const ar=St.length;invariant$1(ar===er.length),invariant$1(!rr||!Array.isArray(rr)||rr.length===ar-1),St[0]>St[ar-1]&&(St=[].concat(St),er=[].concat(er),St.reverse(),er.reverse());const dr=createMixers(er,rr,nr),or=ar===2?fastInterpolate(St,dr):slowInterpolate(St,dr);return tr?ir=>or(clamp(St[0],St[ar-1],ir)):or}const reverseEasing=St=>er=>1-St(1-er),mirrorEasing=St=>er=>er<=.5?St(2*er)/2:(2-St(2*(1-er)))/2,createExpoIn=St=>er=>Math.pow(er,St),createBackIn=St=>er=>er*er*((St+1)*er-St),createAnticipate=St=>{const er=createBackIn(St);return tr=>(tr*=2)<1?.5*er(tr):.5*(2-Math.pow(2,-10*(tr-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=St=>St,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=St=>1-Math.sin(Math.acos(St)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=St=>{if(St===1||St===0)return St;const er=St*St;return St<BOUNCE_FIRST_THRESHOLD?7.5625*er:St<BOUNCE_SECOND_THRESHOLD?9.075*er-9.9*St+3.4:St<BOUNCE_THIRD_THRESHOLD?ca*er-cb*St+cc:10.8*St*St-20.52*St+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=St=>St<.5?.5*(1-bounceOut(1-St*2)):.5*bounceOut(St*2-1)+.5;function defaultEasing(St,er){return St.map(()=>er||easeInOut).splice(0,St.length-1)}function defaultOffset(St){const er=St.length;return St.map((tr,rr)=>rr!==0?rr/(er-1):0)}function convertOffsetToTimes(St,er){return St.map(tr=>tr*er)}function keyframes$1({from:St=0,to:er=1,ease:tr,offset:rr,duration:nr=300}){const ar={done:!1,value:St},dr=Array.isArray(er)?er:[St,er],or=convertOffsetToTimes(rr&&rr.length===dr.length?rr:defaultOffset(dr),nr);function ir(){return interpolate(or,dr,{ease:Array.isArray(tr)?tr:defaultEasing(dr,tr)})}let lr=ir();return{next:fr=>(ar.value=lr(fr),ar.done=fr>=nr,ar),flipTarget:()=>{dr.reverse(),lr=ir()}}}function decay({velocity:St=0,from:er=0,power:tr=.8,timeConstant:rr=350,restDelta:nr=.5,modifyTarget:ar}){const dr={done:!1,value:er};let or=tr*St;const ir=er+or,lr=ar===void 0?ir:ar(ir);return lr!==ir&&(or=lr-er),{next:fr=>{const cr=-or*Math.exp(-fr/rr);return dr.done=!(cr>nr||cr<-nr),dr.value=dr.done?lr:lr+cr,dr},flipTarget:()=>{}}}const types={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(St){if(Array.isArray(St.to))return keyframes$1;if(types[St.type])return types[St.type];const er=new Set(Object.keys(St));return er.has("ease")||er.has("duration")&&!er.has("dampingRatio")?keyframes$1:er.has("dampingRatio")||er.has("stiffness")||er.has("mass")||er.has("damping")||er.has("restSpeed")||er.has("restDelta")?spring:keyframes$1}const defaultTimestep$1=1/60*1e3,getCurrentTime$1=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame$1=typeof window<"u"?St=>window.requestAnimationFrame(St):St=>setTimeout(()=>St(getCurrentTime$1()),defaultTimestep$1);function createRenderStep$1(St){let er=[],tr=[],rr=0,nr=!1,ar=!1;const dr=new WeakSet,or={schedule:(ir,lr=!1,fr=!1)=>{const cr=fr&&nr,ur=cr?er:tr;return lr&&dr.add(ir),ur.indexOf(ir)===-1&&(ur.push(ir),cr&&nr&&(rr=er.length)),ir},cancel:ir=>{const lr=tr.indexOf(ir);lr!==-1&&tr.splice(lr,1),dr.delete(ir)},process:ir=>{if(nr){ar=!0;return}if(nr=!0,[er,tr]=[tr,er],tr.length=0,rr=er.length,rr)for(let lr=0;lr<rr;lr++){const fr=er[lr];fr(ir),dr.has(fr)&&(or.schedule(fr),St())}nr=!1,ar&&(ar=!1,or.process(ir))}};return or}const maxElapsed$1=40;let useDefaultElapsed$1=!0,runNextFrame$1=!1,isProcessing$1=!1;const frame$1={delta:0,timestamp:0},stepsOrder$1=["read","update","preRender","render","postRender"],steps$1=stepsOrder$1.reduce((St,er)=>(St[er]=createRenderStep$1(()=>runNextFrame$1=!0),St),{}),sync$1=stepsOrder$1.reduce((St,er)=>{const tr=steps$1[er];return St[er]=(rr,nr=!1,ar=!1)=>(runNextFrame$1||startLoop$1(),tr.schedule(rr,nr,ar)),St},{}),cancelSync$1=stepsOrder$1.reduce((St,er)=>(St[er]=steps$1[er].cancel,St),{});stepsOrder$1.reduce((St,er)=>(St[er]=()=>steps$1[er].process(frame$1),St),{});const processStep$1=St=>steps$1[St].process(frame$1),processFrame$1=St=>{runNextFrame$1=!1,frame$1.delta=useDefaultElapsed$1?defaultTimestep$1:Math.max(Math.min(St-frame$1.timestamp,maxElapsed$1),1),frame$1.timestamp=St,isProcessing$1=!0,stepsOrder$1.forEach(processStep$1),isProcessing$1=!1,runNextFrame$1&&(useDefaultElapsed$1=!1,onNextFrame$1(processFrame$1))},startLoop$1=()=>{runNextFrame$1=!0,useDefaultElapsed$1=!0,isProcessing$1||onNextFrame$1(processFrame$1)},getFrameData$1=()=>frame$1;function loopElapsed(St,er,tr=0){return St-er-tr}function reverseElapsed(St,er,tr=0,rr=!0){return rr?loopElapsed(er+-St,er,tr):er-(St-er)+tr}function hasRepeatDelayElapsed(St,er,tr,rr){return rr?St>=er+tr:St<=-tr}const framesync=St=>{const er=({delta:tr})=>St(tr);return{start:()=>sync$1.update(er,!0),stop:()=>cancelSync$1.update(er)}};function animate$1(St){var er,tr,{from:rr,autoplay:nr=!0,driver:ar=framesync,elapsed:dr=0,repeat:or=0,repeatType:ir="loop",repeatDelay:lr=0,onPlay:fr,onStop:cr,onComplete:ur,onRepeat:sr,onUpdate:hr}=St,gr=__rest$1(St,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:pr}=gr,mr,vr=0,yr=gr.duration,br,xr=!1,Cr=!0,kr;const Pr=detectAnimationFromOptions(gr);!((tr=(er=Pr).needsInterpolation)===null||tr===void 0)&&tr.call(er,rr,pr)&&(kr=interpolate([0,100],[rr,pr],{clamp:!1}),rr=0,pr=100);const $r=Pr(Object.assign(Object.assign({},gr),{from:rr,to:pr}));function Kr(){vr++,ir==="reverse"?(Cr=vr%2===0,dr=reverseElapsed(dr,yr,lr,Cr)):(dr=loopElapsed(dr,yr,lr),ir==="mirror"&&$r.flipTarget()),xr=!1,sr&&sr()}function Ir(){mr.stop(),ur&&ur()}function jr(zr){if(Cr||(zr=-zr),dr+=zr,!xr){const Hr=$r.next(Math.max(0,dr));br=Hr.value,kr&&(br=kr(br)),xr=Cr?Hr.done:dr<=0}hr?.(br),xr&&(vr===0&&(yr??(yr=dr)),vr<or?hasRepeatDelayElapsed(dr,yr,lr,Cr)&&Kr():Ir())}function Jr(){fr?.(),mr=ar(jr),mr.start()}return nr&&Jr(),{stop:()=>{cr?.(),mr.stop()}}}function velocityPerSecond(St,er){return er?St*(1e3/er):0}function inertia({from:St=0,velocity:er=0,min:tr,max:rr,power:nr=.8,timeConstant:ar=750,bounceStiffness:dr=500,bounceDamping:or=10,restDelta:ir=1,modifyTarget:lr,driver:fr,onUpdate:cr,onComplete:ur,onStop:sr}){let hr;function gr(yr){return tr!==void 0&&yr<tr||rr!==void 0&&yr>rr}function pr(yr){return tr===void 0?rr:rr===void 0||Math.abs(tr-yr)<Math.abs(rr-yr)?tr:rr}function mr(yr){hr?.stop(),hr=animate$1(Object.assign(Object.assign({},yr),{driver:fr,onUpdate:br=>{var xr;cr?.(br),(xr=yr.onUpdate)===null||xr===void 0||xr.call(yr,br)},onComplete:ur,onStop:sr}))}function vr(yr){mr(Object.assign({type:"spring",stiffness:dr,damping:or,restDelta:ir},yr))}if(gr(St))vr({from:St,velocity:er,to:pr(St)});else{let yr=nr*er+St;typeof lr<"u"&&(yr=lr(yr));const br=pr(yr),xr=br===tr?-1:1;let Cr,kr;const Pr=$r=>{Cr=kr,kr=$r,er=velocityPerSecond($r-Cr,getFrameData$1().delta),(xr===1&&$r>br||xr===-1&&$r<br)&&vr({from:$r,to:br,velocity:er})};mr({type:"decay",from:St,velocity:er,timeConstant:ar,power:nr,restDelta:ir,modifyTarget:lr,onUpdate:gr(yr)?Pr:void 0})}return{stop:()=>hr?.stop()}}const isPoint=St=>St.hasOwnProperty("x")&&St.hasOwnProperty("y"),isPoint3D=St=>isPoint(St)&&St.hasOwnProperty("z"),distance1D=(St,er)=>Math.abs(St-er);function distance(St,er){if(isNum(St)&&isNum(er))return distance1D(St,er);if(isPoint(St)&&isPoint(er)){const tr=distance1D(St.x,er.x),rr=distance1D(St.y,er.y),nr=isPoint3D(St)&&isPoint3D(er)?distance1D(St.z,er.z):0;return Math.sqrt(Math.pow(tr,2)+Math.pow(rr,2)+Math.pow(nr,2))}}const a$1=(St,er)=>1-3*er+3*St,b$2=(St,er)=>3*er-6*St,c$1=St=>3*St,calcBezier=(St,er,tr)=>((a$1(er,tr)*St+b$2(er,tr))*St+c$1(er))*St,getSlope=(St,er,tr)=>3*a$1(er,tr)*St*St+2*b$2(er,tr)*St+c$1(er),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(St,er,tr,rr,nr){let ar,dr,or=0;do dr=er+(tr-er)/2,ar=calcBezier(dr,rr,nr)-St,ar>0?tr=dr:er=dr;while(Math.abs(ar)>subdivisionPrecision&&++or<subdivisionMaxIterations);return dr}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(St,er,tr,rr){for(let nr=0;nr<newtonIterations;++nr){const ar=getSlope(er,tr,rr);if(ar===0)return er;const dr=calcBezier(er,tr,rr)-St;er-=dr/ar}return er}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(St,er,tr,rr){if(St===er&&tr===rr)return linear;const nr=new Float32Array(kSplineTableSize);for(let dr=0;dr<kSplineTableSize;++dr)nr[dr]=calcBezier(dr*kSampleStepSize,St,tr);function ar(dr){let or=0,ir=1;const lr=kSplineTableSize-1;for(;ir!==lr&&nr[ir]<=dr;++ir)or+=kSampleStepSize;--ir;const fr=(dr-nr[ir])/(nr[ir+1]-nr[ir]),cr=or+fr*kSampleStepSize,ur=getSlope(cr,St,tr);return ur>=newtonMinSlope?newtonRaphsonIterate(dr,cr,St,tr):ur===0?cr:binarySubdivide(dr,or,or+kSampleStepSize,St,tr)}return dr=>dr===0||dr===1?dr:calcBezier(ar(dr),er,rr)}function useTapGesture(St){var er=St.onTap,tr=St.onTapStart,rr=St.onTapCancel,nr=St.whileTap,ar=St.visualElement,dr=er||tr||rr||nr,or=react.exports.useRef(!1),ir=react.exports.useRef(null),lr={passive:!(tr||er||rr||hr)};function fr(){var gr;(gr=ir.current)===null||gr===void 0||gr.call(ir),ir.current=null}function cr(){var gr;return fr(),or.current=!1,(gr=ar.animationState)===null||gr===void 0||gr.setActive(AnimationType.Tap,!1),!isDragActive()}function ur(gr,pr){!cr()||(isNodeOrChild(ar.getInstance(),gr.target)?er?.(gr,pr):rr?.(gr,pr))}function sr(gr,pr){!cr()||rr?.(gr,pr)}function hr(gr,pr){var mr;fr(),!or.current&&(or.current=!0,ir.current=pipe(addPointerEvent(window,"pointerup",ur,lr),addPointerEvent(window,"pointercancel",sr,lr)),(mr=ar.animationState)===null||mr===void 0||mr.setActive(AnimationType.Tap,!0),tr?.(gr,pr))}usePointerEvent(ar,"pointerdown",dr?hr:void 0,lr),useUnmountEffect(fr)}var warned=new Set;function warnOnce(St,er,tr){St||warned.has(er)||(console.warn(er),tr&&console.warn(tr),warned.add(er))}var observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=function(St){var er;(er=observerCallbacks.get(St.target))===null||er===void 0||er(St)},fireAllObserverCallbacks=function(St){St.forEach(fireObserverCallback)};function initIntersectionObserver(St){var er=St.root,tr=__rest$1(St,["root"]),rr=er||document;observers.has(rr)||observers.set(rr,{});var nr=observers.get(rr),ar=JSON.stringify(tr);return nr[ar]||(nr[ar]=new IntersectionObserver(fireAllObserverCallbacks,__assign$1({root:er},tr))),nr[ar]}function observeIntersection(St,er,tr){var rr=initIntersectionObserver(er);return observerCallbacks.set(St,tr),rr.observe(St),function(){observerCallbacks.delete(St),rr.unobserve(St)}}function useViewport(St){var er=St.visualElement,tr=St.whileInView,rr=St.onViewportEnter,nr=St.onViewportLeave,ar=St.viewport,dr=ar===void 0?{}:ar,or=react.exports.useRef({hasEnteredView:!1,isInView:!1}),ir=Boolean(tr||rr||nr);dr.once&&or.current.hasEnteredView&&(ir=!1);var lr=typeof IntersectionObserver>"u"?useMissingIntersectionObserver:useIntersectionObserver;lr(ir,or.current,er,dr)}var thresholdNames={some:0,all:1};function useIntersectionObserver(St,er,tr,rr){var nr=rr.root,ar=rr.margin,dr=rr.amount,or=dr===void 0?"some":dr,ir=rr.once;react.exports.useEffect(function(){if(!!St){var lr={root:nr?.current,rootMargin:ar,threshold:typeof or=="number"?or:thresholdNames[or]},fr=function(cr){var ur,sr=cr.isIntersecting;if(er.isInView!==sr&&(er.isInView=sr,!(ir&&!sr&&er.hasEnteredView))){sr&&(er.hasEnteredView=!0),(ur=tr.animationState)===null||ur===void 0||ur.setActive(AnimationType.InView,sr);var hr=tr.getProps(),gr=sr?hr.onViewportEnter:hr.onViewportLeave;gr?.(cr)}};return observeIntersection(tr.getInstance(),lr,fr)}},[St,nr,ar,or])}function useMissingIntersectionObserver(St,er,tr,rr){var nr=rr.fallback,ar=nr===void 0?!0:nr;react.exports.useEffect(function(){!St||!ar||(env!=="production"&&warnOnce(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var dr;er.hasEnteredView=!0;var or=tr.getProps().onViewportEnter;or?.(null),(dr=tr.animationState)===null||dr===void 0||dr.setActive(AnimationType.InView,!0)}))},[St])}var makeRenderlessComponent=function(St){return function(er){return St(er),null}},gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)},counter$1=0,incrementId=function(){return counter$1++},useId$2=function(){return useConstant(incrementId)};function usePresence(){var St=react.exports.useContext(PresenceContext);if(St===null)return[!0,null];var er=St.isPresent,tr=St.onExitComplete,rr=St.register,nr=useId$2();react.exports.useEffect(function(){return rr(nr)},[]);var ar=function(){return tr?.(nr)};return!er&&tr?[!1,ar]:[!0]}function useIsPresent(){return isPresent(react.exports.useContext(PresenceContext))}function isPresent(St){return St===null?!0:St.isPresent}function shallowCompare(St,er){if(!Array.isArray(er))return!1;var tr=er.length;if(tr!==St.length)return!1;for(var rr=0;rr<tr;rr++)if(er[rr]!==St[rr])return!1;return!0}var secondsToMilliseconds=function(St){return St*1e3},easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=function(St){if(Array.isArray(St)){invariant$1(St.length===4);var er=__read(St,4),tr=er[0],rr=er[1],nr=er[2],ar=er[3];return cubicBezier(tr,rr,nr,ar)}else if(typeof St=="string")return easingLookup[St];return St},isEasingArray=function(St){return Array.isArray(St)&&typeof St[0]!="number"},isAnimatable=function(St,er){return St==="zIndex"?!1:!!(typeof er=="number"||Array.isArray(er)||typeof er=="string"&&complex.test(er)&&!er.startsWith("url("))},underDampedSpring=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},criticallyDampedSpring=function(St){return{type:"spring",stiffness:550,damping:St===0?2*Math.sqrt(550):30,restSpeed:10}},linearTween=function(){return{type:"keyframes",ease:"linear",duration:.3}},keyframes=function(St){return{type:"keyframes",duration:.8,values:St}},defaultTransitions$1={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=function(St,er){var tr;return isKeyframesTarget(er)?tr=keyframes:tr=defaultTransitions$1[St]||defaultTransitions$1.default,__assign$1({to:er},tr(er))},defaultValueTypes=__assign$1(__assign$1({},numberValueTypes),{color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter}),getDefaultValueType=function(St){return defaultValueTypes[St]};function getAnimatableNone(St,er){var tr,rr=getDefaultValueType(St);return rr!==filter&&(rr=complex),(tr=rr.getAnimatableNone)===null||tr===void 0?void 0:tr.call(rr,er)}var instantAnimationState={current:!1};function isTransitionDefined(St){St.when,St.delay,St.delayChildren,St.staggerChildren,St.staggerDirection,St.repeat,St.repeatType,St.repeatDelay,St.from;var er=__rest$1(St,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(er).length}function convertTransitionToAnimationOptions(St){var er=St.ease,tr=St.times,rr=St.yoyo,nr=St.flip,ar=St.loop,dr=__rest$1(St,["ease","times","yoyo","flip","loop"]),or=__assign$1({},dr);return tr&&(or.offset=tr),dr.duration&&(or.duration=secondsToMilliseconds(dr.duration)),dr.repeatDelay&&(or.repeatDelay=secondsToMilliseconds(dr.repeatDelay)),er&&(or.ease=isEasingArray(er)?er.map(easingDefinitionToFunction):easingDefinitionToFunction(er)),dr.type==="tween"&&(or.type="keyframes"),(rr||ar||nr)&&(rr?or.repeatType="reverse":ar?or.repeatType="loop":nr&&(or.repeatType="mirror"),or.repeat=ar||rr||nr||dr.repeat),dr.type!=="spring"&&(or.type="keyframes"),or}function getDelayFromTransition(St,er){var tr,rr,nr=getValueTransition(St,er)||{};return(rr=(tr=nr.delay)!==null&&tr!==void 0?tr:St.delay)!==null&&rr!==void 0?rr:0}function hydrateKeyframes(St){return Array.isArray(St.to)&&St.to[0]===null&&(St.to=__spreadArray$1([],__read(St.to),!1),St.to[0]=St.from),St}function getPopmotionAnimationOptions(St,er,tr){var rr;return Array.isArray(er.to)&&((rr=St.duration)!==null&&rr!==void 0||(St.duration=.8)),hydrateKeyframes(er),isTransitionDefined(St)||(St=__assign$1(__assign$1({},St),getDefaultTransition(tr,er.to))),__assign$1(__assign$1({},er),convertTransitionToAnimationOptions(St))}function getAnimation(St,er,tr,rr,nr){var ar,dr=getValueTransition(rr,St),or=(ar=dr.from)!==null&&ar!==void 0?ar:er.get(),ir=isAnimatable(St,tr);or==="none"&&ir&&typeof tr=="string"?or=getAnimatableNone(St,tr):isZero(or)&&typeof tr=="string"?or=getZeroUnit(tr):!Array.isArray(tr)&&isZero(tr)&&typeof or=="string"&&(tr=getZeroUnit(or));var lr=isAnimatable(St,or);function fr(){var ur={from:or,to:tr,velocity:er.getVelocity(),onComplete:nr,onUpdate:function(sr){return er.set(sr)}};return dr.type==="inertia"||dr.type==="decay"?inertia(__assign$1(__assign$1({},ur),dr)):animate$1(__assign$1(__assign$1({},getPopmotionAnimationOptions(dr,ur,St)),{onUpdate:function(sr){var hr;ur.onUpdate(sr),(hr=dr.onUpdate)===null||hr===void 0||hr.call(dr,sr)},onComplete:function(){var sr;ur.onComplete(),(sr=dr.onComplete)===null||sr===void 0||sr.call(dr)}}))}function cr(){var ur,sr,hr=resolveFinalValueInKeyframes(tr);return er.set(hr),nr(),(ur=dr?.onUpdate)===null||ur===void 0||ur.call(dr,hr),(sr=dr?.onComplete)===null||sr===void 0||sr.call(dr),{stop:function(){}}}return!lr||!ir||dr.type===!1?cr:fr}function isZero(St){return St===0||typeof St=="string"&&parseFloat(St)===0&&St.indexOf(" ")===-1}function getZeroUnit(St){return typeof St=="number"?0:getAnimatableNone("",St)}function getValueTransition(St,er){return St[er]||St.default||St}function startAnimation(St,er,tr,rr){return rr===void 0&&(rr={}),instantAnimationState.current&&(rr={type:!1}),er.start(function(nr){var ar,dr,or=getAnimation(St,er,tr,rr,nr),ir=getDelayFromTransition(rr,St),lr=function(){return dr=or()};return ir?ar=window.setTimeout(lr,secondsToMilliseconds(ir)):lr(),function(){clearTimeout(ar),dr?.stop()}})}var isNumericalString=function(St){return/^\-?\d*\.?\d+$/.test(St)},isZeroValueString=function(St){return/^0[^.\s]+$/.test(St)};const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?St=>window.requestAnimationFrame(St):St=>setTimeout(()=>St(getCurrentTime()),defaultTimestep);function createRenderStep(St){let er=[],tr=[],rr=0,nr=!1,ar=!1;const dr=new WeakSet,or={schedule:(ir,lr=!1,fr=!1)=>{const cr=fr&&nr,ur=cr?er:tr;return lr&&dr.add(ir),ur.indexOf(ir)===-1&&(ur.push(ir),cr&&nr&&(rr=er.length)),ir},cancel:ir=>{const lr=tr.indexOf(ir);lr!==-1&&tr.splice(lr,1),dr.delete(ir)},process:ir=>{if(nr){ar=!0;return}if(nr=!0,[er,tr]=[tr,er],tr.length=0,rr=er.length,rr)for(let lr=0;lr<rr;lr++){const fr=er[lr];fr(ir),dr.has(fr)&&(or.schedule(fr),St())}nr=!1,ar&&(ar=!1,or.process(ir))}};return or}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((St,er)=>(St[er]=createRenderStep(()=>runNextFrame=!0),St),{}),sync=stepsOrder.reduce((St,er)=>{const tr=steps[er];return St[er]=(rr,nr=!1,ar=!1)=>(runNextFrame||startLoop(),tr.schedule(rr,nr,ar)),St},{}),cancelSync=stepsOrder.reduce((St,er)=>(St[er]=steps[er].cancel,St),{}),flushSync=stepsOrder.reduce((St,er)=>(St[er]=()=>steps[er].process(frame),St),{}),processStep=St=>steps[St].process(frame),processFrame=St=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(St-frame.timestamp,maxElapsed),1),frame.timestamp=St,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;function addUniqueItem(St,er){St.indexOf(er)===-1&&St.push(er)}function removeItem(St,er){var tr=St.indexOf(er);tr>-1&&St.splice(tr,1)}var SubscriptionManager=function(){function St(){this.subscriptions=[]}return St.prototype.add=function(er){var tr=this;return addUniqueItem(this.subscriptions,er),function(){return removeItem(tr.subscriptions,er)}},St.prototype.notify=function(er,tr,rr){var nr=this.subscriptions.length;if(!!nr)if(nr===1)this.subscriptions[0](er,tr,rr);else for(var ar=0;ar<nr;ar++){var dr=this.subscriptions[ar];dr&&dr(er,tr,rr)}},St.prototype.getSize=function(){return this.subscriptions.length},St.prototype.clear=function(){this.subscriptions.length=0},St}(),isFloat=function(St){return!isNaN(parseFloat(St))},MotionValue=function(){function St(er){var tr=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.velocityUpdateSubscribers=new SubscriptionManager,this.renderSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=function(rr,nr){nr===void 0&&(nr=!0),tr.prev=tr.current,tr.current=rr;var ar=getFrameData(),dr=ar.delta,or=ar.timestamp;tr.lastUpdated!==or&&(tr.timeDelta=dr,tr.lastUpdated=or,sync.postRender(tr.scheduleVelocityCheck)),tr.prev!==tr.current&&tr.updateSubscribers.notify(tr.current),tr.velocityUpdateSubscribers.getSize()&&tr.velocityUpdateSubscribers.notify(tr.getVelocity()),nr&&tr.renderSubscribers.notify(tr.current)},this.scheduleVelocityCheck=function(){return sync.postRender(tr.velocityCheck)},this.velocityCheck=function(rr){var nr=rr.timestamp;nr!==tr.lastUpdated&&(tr.prev=tr.current,tr.velocityUpdateSubscribers.notify(tr.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=er,this.canTrackVelocity=isFloat(this.current)}return St.prototype.onChange=function(er){return this.updateSubscribers.add(er)},St.prototype.clearListeners=function(){this.updateSubscribers.clear()},St.prototype.onRenderRequest=function(er){return er(this.get()),this.renderSubscribers.add(er)},St.prototype.attach=function(er){this.passiveEffect=er},St.prototype.set=function(er,tr){tr===void 0&&(tr=!0),!tr||!this.passiveEffect?this.updateAndNotify(er,tr):this.passiveEffect(er,this.updateAndNotify)},St.prototype.get=function(){return this.current},St.prototype.getPrevious=function(){return this.prev},St.prototype.getVelocity=function(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},St.prototype.start=function(er){var tr=this;return this.stop(),new Promise(function(rr){tr.hasAnimated=!0,tr.stopAnimation=er(rr)}).then(function(){return tr.clearAnimation()})},St.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},St.prototype.isAnimating=function(){return!!this.stopAnimation},St.prototype.clearAnimation=function(){this.stopAnimation=null},St.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},St}();function motionValue(St){return new MotionValue(St)}var testValueType=function(St){return function(er){return er.test(St)}},auto={test:function(St){return St==="auto"},parse:function(St){return St}},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=function(St){return dimensionValueTypes.find(testValueType(St))},valueTypes=__spreadArray$1(__spreadArray$1([],__read(dimensionValueTypes),!1),[color,complex],!1),findValueType=function(St){return valueTypes.find(testValueType(St))};function setMotionValue(St,er,tr){St.hasValue(er)?St.getValue(er).set(tr):St.addValue(er,motionValue(tr))}function setTarget(St,er){var tr=resolveVariant(St,er),rr=tr?St.makeTargetAnimatable(tr,!1):{},nr=rr.transitionEnd,ar=nr===void 0?{}:nr;rr.transition;var dr=__rest$1(rr,["transitionEnd","transition"]);dr=__assign$1(__assign$1({},dr),ar);for(var or in dr){var ir=resolveFinalValueInKeyframes(dr[or]);setMotionValue(St,or,ir)}}function checkTargetForNewValues(St,er,tr){var rr,nr,ar,dr,or=Object.keys(er).filter(function(sr){return!St.hasValue(sr)}),ir=or.length;if(!!ir)for(var lr=0;lr<ir;lr++){var fr=or[lr],cr=er[fr],ur=null;Array.isArray(cr)&&(ur=cr[0]),ur===null&&(ur=(nr=(rr=tr[fr])!==null&&rr!==void 0?rr:St.readValue(fr))!==null&&nr!==void 0?nr:er[fr]),ur!=null&&(typeof ur=="string"&&(isNumericalString(ur)||isZeroValueString(ur))?ur=parseFloat(ur):!findValueType(ur)&&complex.test(cr)&&(ur=getAnimatableNone(fr,cr)),St.addValue(fr,motionValue(ur)),(ar=(dr=tr)[fr])!==null&&ar!==void 0||(dr[fr]=ur),St.setBaseTarget(fr,ur))}}function getOriginFromTransition(St,er){if(!!er){var tr=er[St]||er.default||er;return tr.from}}function getOrigin(St,er,tr){var rr,nr,ar={};for(var dr in St)ar[dr]=(rr=getOriginFromTransition(dr,er))!==null&&rr!==void 0?rr:(nr=tr.getValue(dr))===null||nr===void 0?void 0:nr.get();return ar}function animateVisualElement(St,er,tr){tr===void 0&&(tr={}),St.notifyAnimationStart(er);var rr;if(Array.isArray(er)){var nr=er.map(function(dr){return animateVariant(St,dr,tr)});rr=Promise.all(nr)}else if(typeof er=="string")rr=animateVariant(St,er,tr);else{var ar=typeof er=="function"?resolveVariant(St,er,tr.custom):er;rr=animateTarget(St,ar,tr)}return rr.then(function(){return St.notifyAnimationComplete(er)})}function animateVariant(St,er,tr){var rr;tr===void 0&&(tr={});var nr=resolveVariant(St,er,tr.custom),ar=(nr||{}).transition,dr=ar===void 0?St.getDefaultTransition()||{}:ar;tr.transitionOverride&&(dr=tr.transitionOverride);var or=nr?function(){return animateTarget(St,nr,tr)}:function(){return Promise.resolve()},ir=!((rr=St.variantChildren)===null||rr===void 0)&&rr.size?function(sr){sr===void 0&&(sr=0);var hr=dr.delayChildren,gr=hr===void 0?0:hr,pr=dr.staggerChildren,mr=dr.staggerDirection;return animateChildren(St,er,gr+sr,pr,mr,tr)}:function(){return Promise.resolve()},lr=dr.when;if(lr){var fr=__read(lr==="beforeChildren"?[or,ir]:[ir,or],2),cr=fr[0],ur=fr[1];return cr().then(ur)}else return Promise.all([or(),ir(tr.delay)])}function animateTarget(St,er,tr){var rr,nr=tr===void 0?{}:tr,ar=nr.delay,dr=ar===void 0?0:ar,or=nr.transitionOverride,ir=nr.type,lr=St.makeTargetAnimatable(er),fr=lr.transition,cr=fr===void 0?St.getDefaultTransition():fr,ur=lr.transitionEnd,sr=__rest$1(lr,["transition","transitionEnd"]);or&&(cr=or);var hr=[],gr=ir&&((rr=St.animationState)===null||rr===void 0?void 0:rr.getState()[ir]);for(var pr in sr){var mr=St.getValue(pr),vr=sr[pr];if(!(!mr||vr===void 0||gr&&shouldBlockAnimation(gr,pr))){var yr=__assign$1({delay:dr},cr);St.shouldReduceMotion&&isTransformProp(pr)&&(yr=__assign$1(__assign$1({},yr),{type:!1,delay:0}));var br=startAnimation(pr,mr,vr,yr);hr.push(br)}}return Promise.all(hr).then(function(){ur&&setTarget(St,ur)})}function animateChildren(St,er,tr,rr,nr,ar){tr===void 0&&(tr=0),rr===void 0&&(rr=0),nr===void 0&&(nr=1);var dr=[],or=(St.variantChildren.size-1)*rr,ir=nr===1?function(lr){return lr===void 0&&(lr=0),lr*rr}:function(lr){return lr===void 0&&(lr=0),or-lr*rr};return Array.from(St.variantChildren).sort(sortByTreeOrder).forEach(function(lr,fr){dr.push(animateVariant(lr,er,__assign$1(__assign$1({},ar),{delay:tr+ir(fr)})).then(function(){return lr.notifyAnimationComplete(er)}))}),Promise.all(dr)}function sortByTreeOrder(St,er){return St.sortNodePosition(er)}function shouldBlockAnimation(St,er){var tr=St.protectedKeys,rr=St.needsAnimating,nr=tr.hasOwnProperty(er)&&rr[er]!==!0;return rr[er]=!1,nr}var variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=__spreadArray$1([],__read(variantPriorityOrder),!1).reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(St){return function(er){return Promise.all(er.map(function(tr){var rr=tr.animation,nr=tr.options;return animateVisualElement(St,rr,nr)}))}}function createAnimationState(St){var er=animateList(St),tr=createState(),rr={},nr=!0,ar=function(fr,cr){var ur=resolveVariant(St,cr);if(ur){ur.transition;var sr=ur.transitionEnd,hr=__rest$1(ur,["transition","transitionEnd"]);fr=__assign$1(__assign$1(__assign$1({},fr),hr),sr)}return fr};function dr(fr){return rr[fr]!==void 0}function or(fr){er=fr(St)}function ir(fr,cr){for(var ur,sr=St.getProps(),hr=St.getVariantContext(!0)||{},gr=[],pr=new Set,mr={},vr=1/0,yr=function(kr){var Pr=reversePriorityOrder[kr],$r=tr[Pr],Kr=(ur=sr[Pr])!==null&&ur!==void 0?ur:hr[Pr],Ir=isVariantLabel(Kr),jr=Pr===cr?$r.isActive:null;jr===!1&&(vr=kr);var Jr=Kr===hr[Pr]&&Kr!==sr[Pr]&&Ir;if(Jr&&nr&&St.manuallyAnimateOnMount&&(Jr=!1),$r.protectedKeys=__assign$1({},mr),!$r.isActive&&jr===null||!Kr&&!$r.prevProp||isAnimationControls(Kr)||typeof Kr=="boolean")return"continue";var zr=checkVariantsDidChange($r.prevProp,Kr),Hr=zr||Pr===cr&&$r.isActive&&!Jr&&Ir||kr>vr&&Ir,Yr=Array.isArray(Kr)?Kr:[Kr],nn=Yr.reduce(ar,{});jr===!1&&(nn={});var Qr=$r.prevResolvedValues,Or=Qr===void 0?{}:Qr,Er=__assign$1(__assign$1({},Or),nn),Dr=function(wr){Hr=!0,pr.delete(wr),$r.needsAnimating[wr]=!0};for(var Tr in Er){var Lr=nn[Tr],_r=Or[Tr];mr.hasOwnProperty(Tr)||(Lr!==_r?isKeyframesTarget(Lr)&&isKeyframesTarget(_r)?!shallowCompare(Lr,_r)||zr?Dr(Tr):$r.protectedKeys[Tr]=!0:Lr!==void 0?Dr(Tr):pr.add(Tr):Lr!==void 0&&pr.has(Tr)?Dr(Tr):$r.protectedKeys[Tr]=!0)}$r.prevProp=Kr,$r.prevResolvedValues=nn,$r.isActive&&(mr=__assign$1(__assign$1({},mr),nn)),nr&&St.blockInitialAnimation&&(Hr=!1),Hr&&!Jr&&gr.push.apply(gr,__spreadArray$1([],__read(Yr.map(function(wr){return{animation:wr,options:__assign$1({type:Pr},fr)}})),!1))},br=0;br<numAnimationTypes;br++)yr(br);if(rr=__assign$1({},mr),pr.size){var xr={};pr.forEach(function(kr){var Pr=St.getBaseTarget(kr);Pr!==void 0&&(xr[kr]=Pr)}),gr.push({animation:xr})}var Cr=Boolean(gr.length);return nr&&sr.initial===!1&&!St.manuallyAnimateOnMount&&(Cr=!1),nr=!1,Cr?er(gr):Promise.resolve()}function lr(fr,cr,ur){var sr;if(tr[fr].isActive===cr)return Promise.resolve();(sr=St.variantChildren)===null||sr===void 0||sr.forEach(function(pr){var mr;return(mr=pr.animationState)===null||mr===void 0?void 0:mr.setActive(fr,cr)}),tr[fr].isActive=cr;var hr=ir(ur,fr);for(var gr in tr)tr[gr].protectedKeys={};return hr}return{isAnimated:dr,animateChanges:ir,setActive:lr,setAnimateFunction:or,getState:function(){return tr}}}function checkVariantsDidChange(St,er){return typeof er=="string"?er!==St:isVariantLabels(er)?!shallowCompare(er,St):!1}function createTypeState(St){return St===void 0&&(St=!1),{isActive:St,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){var St;return St={},St[AnimationType.Animate]=createTypeState(!0),St[AnimationType.InView]=createTypeState(),St[AnimationType.Hover]=createTypeState(),St[AnimationType.Tap]=createTypeState(),St[AnimationType.Drag]=createTypeState(),St[AnimationType.Focus]=createTypeState(),St[AnimationType.Exit]=createTypeState(),St}var animations={animation:makeRenderlessComponent(function(St){var er=St.visualElement,tr=St.animate;er.animationState||(er.animationState=createAnimationState(er)),isAnimationControls(tr)&&react.exports.useEffect(function(){return tr.subscribe(er)},[tr])}),exit:makeRenderlessComponent(function(St){var er=St.custom,tr=St.visualElement,rr=__read(usePresence(),2),nr=rr[0],ar=rr[1],dr=react.exports.useContext(PresenceContext);react.exports.useEffect(function(){var or,ir;tr.isPresent=nr;var lr=(or=tr.animationState)===null||or===void 0?void 0:or.setActive(AnimationType.Exit,!nr,{custom:(ir=dr?.custom)!==null&&ir!==void 0?ir:er});!nr&&lr?.then(ar)},[nr])})},PanSession=function(){function St(er,tr,rr){var nr=this,ar=rr===void 0?{}:rr,dr=ar.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(nr.lastMoveEvent&&nr.lastMoveEventInfo)){var ur=getPanInfo(nr.lastMoveEventInfo,nr.history),sr=nr.startEvent!==null,hr=distance(ur.offset,{x:0,y:0})>=3;if(!(!sr&&!hr)){var gr=ur.point,pr=getFrameData().timestamp;nr.history.push(__assign$1(__assign$1({},gr),{timestamp:pr}));var mr=nr.handlers,vr=mr.onStart,yr=mr.onMove;sr||(vr&&vr(nr.lastMoveEvent,ur),nr.startEvent=nr.lastMoveEvent),yr&&yr(nr.lastMoveEvent,ur)}}},this.handlePointerMove=function(ur,sr){if(nr.lastMoveEvent=ur,nr.lastMoveEventInfo=transformPoint(sr,nr.transformPagePoint),isMouseEvent(ur)&&ur.buttons===0){nr.handlePointerUp(ur,sr);return}sync.update(nr.updatePoint,!0)},this.handlePointerUp=function(ur,sr){nr.end();var hr=nr.handlers,gr=hr.onEnd,pr=hr.onSessionEnd,mr=getPanInfo(transformPoint(sr,nr.transformPagePoint),nr.history);nr.startEvent&&gr&&gr(ur,mr),pr&&pr(ur,mr)},!(isTouchEvent(er)&&er.touches.length>1)){this.handlers=tr,this.transformPagePoint=dr;var or=extractEventInfo(er),ir=transformPoint(or,this.transformPagePoint),lr=ir.point,fr=getFrameData().timestamp;this.history=[__assign$1(__assign$1({},lr),{timestamp:fr})];var cr=tr.onSessionStart;cr&&cr(er,getPanInfo(ir,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}}return St.prototype.updateHandlers=function(er){this.handlers=er},St.prototype.end=function(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)},St}();function transformPoint(St,er){return er?{point:er(St.point)}:St}function subtractPoint(St,er){return{x:St.x-er.x,y:St.y-er.y}}function getPanInfo(St,er){var tr=St.point;return{point:tr,delta:subtractPoint(tr,lastDevicePoint(er)),offset:subtractPoint(tr,startDevicePoint(er)),velocity:getVelocity(er,.1)}}function startDevicePoint(St){return St[0]}function lastDevicePoint(St){return St[St.length-1]}function getVelocity(St,er){if(St.length<2)return{x:0,y:0};for(var tr=St.length-1,rr=null,nr=lastDevicePoint(St);tr>=0&&(rr=St[tr],!(nr.timestamp-rr.timestamp>secondsToMilliseconds(er)));)tr--;if(!rr)return{x:0,y:0};var ar=(nr.timestamp-rr.timestamp)/1e3;if(ar===0)return{x:0,y:0};var dr={x:(nr.x-rr.x)/ar,y:(nr.y-rr.y)/ar};return dr.x===1/0&&(dr.x=0),dr.y===1/0&&(dr.y=0),dr}function calcLength(St){return St.max-St.min}function isNear(St,er,tr){return er===void 0&&(er=0),tr===void 0&&(tr=.01),distance(St,er)<tr}function calcAxisDelta(St,er,tr,rr){rr===void 0&&(rr=.5),St.origin=rr,St.originPoint=mix(er.min,er.max,St.origin),St.scale=calcLength(tr)/calcLength(er),(isNear(St.scale,1,1e-4)||isNaN(St.scale))&&(St.scale=1),St.translate=mix(tr.min,tr.max,St.origin)-St.originPoint,(isNear(St.translate)||isNaN(St.translate))&&(St.translate=0)}function calcBoxDelta(St,er,tr,rr){calcAxisDelta(St.x,er.x,tr.x,rr?.originX),calcAxisDelta(St.y,er.y,tr.y,rr?.originY)}function calcRelativeAxis(St,er,tr){St.min=tr.min+er.min,St.max=St.min+calcLength(er)}function calcRelativeBox(St,er,tr){calcRelativeAxis(St.x,er.x,tr.x),calcRelativeAxis(St.y,er.y,tr.y)}function calcRelativeAxisPosition(St,er,tr){St.min=er.min-tr.min,St.max=St.min+calcLength(er)}function calcRelativePosition(St,er,tr){calcRelativeAxisPosition(St.x,er.x,tr.x),calcRelativeAxisPosition(St.y,er.y,tr.y)}function applyConstraints(St,er,tr){var rr=er.min,nr=er.max;return rr!==void 0&&St<rr?St=tr?mix(rr,St,tr.min):Math.max(St,rr):nr!==void 0&&St>nr&&(St=tr?mix(nr,St,tr.max):Math.min(St,nr)),St}function calcRelativeAxisConstraints(St,er,tr){return{min:er!==void 0?St.min+er:void 0,max:tr!==void 0?St.max+tr-(St.max-St.min):void 0}}function calcRelativeConstraints(St,er){var tr=er.top,rr=er.left,nr=er.bottom,ar=er.right;return{x:calcRelativeAxisConstraints(St.x,rr,ar),y:calcRelativeAxisConstraints(St.y,tr,nr)}}function calcViewportAxisConstraints(St,er){var tr,rr=er.min-St.min,nr=er.max-St.max;return er.max-er.min<St.max-St.min&&(tr=__read([nr,rr],2),rr=tr[0],nr=tr[1]),{min:rr,max:nr}}function calcViewportConstraints(St,er){return{x:calcViewportAxisConstraints(St.x,er.x),y:calcViewportAxisConstraints(St.y,er.y)}}function calcOrigin(St,er){var tr=.5,rr=calcLength(St),nr=calcLength(er);return nr>rr?tr=progress(er.min,er.max-rr,St.min):rr>nr&&(tr=progress(St.min,St.max-nr,er.min)),clamp(0,1,tr)}function rebaseAxisConstraints(St,er){var tr={};return er.min!==void 0&&(tr.min=er.min-St.min),er.max!==void 0&&(tr.max=er.max-St.min),tr}var defaultElastic=.35;function resolveDragElastic(St){return St===void 0&&(St=defaultElastic),St===!1?St=0:St===!0&&(St=defaultElastic),{x:resolveAxisElastic(St,"left","right"),y:resolveAxisElastic(St,"top","bottom")}}function resolveAxisElastic(St,er,tr){return{min:resolvePointElastic(St,er),max:resolvePointElastic(St,tr)}}function resolvePointElastic(St,er){var tr;return typeof St=="number"?St:(tr=St[er])!==null&&tr!==void 0?tr:0}var createAxisDelta=function(){return{translate:0,scale:1,origin:0,originPoint:0}},createDelta=function(){return{x:createAxisDelta(),y:createAxisDelta()}},createAxis=function(){return{min:0,max:0}},createBox=function(){return{x:createAxis(),y:createAxis()}};function eachAxis(St){return[St("x"),St("y")]}function convertBoundingBoxToBox(St){var er=St.top,tr=St.left,rr=St.right,nr=St.bottom;return{x:{min:tr,max:rr},y:{min:er,max:nr}}}function convertBoxToBoundingBox(St){var er=St.x,tr=St.y;return{top:tr.min,right:er.max,bottom:tr.max,left:er.min}}function transformBoxPoints(St,er){if(!er)return St;var tr=er({x:St.left,y:St.top}),rr=er({x:St.right,y:St.bottom});return{top:tr.y,left:tr.x,bottom:rr.y,right:rr.x}}function isIdentityScale(St){return St===void 0||St===1}function hasScale(St){var er=St.scale,tr=St.scaleX,rr=St.scaleY;return!isIdentityScale(er)||!isIdentityScale(tr)||!isIdentityScale(rr)}function hasTransform(St){return hasScale(St)||hasTranslate(St.x)||hasTranslate(St.y)||St.z||St.rotate||St.rotateX||St.rotateY}function hasTranslate(St){return St&&St!=="0%"}function scalePoint(St,er,tr){var rr=St-tr,nr=er*rr;return tr+nr}function applyPointDelta(St,er,tr,rr,nr){return nr!==void 0&&(St=scalePoint(St,nr,rr)),scalePoint(St,tr,rr)+er}function applyAxisDelta(St,er,tr,rr,nr){er===void 0&&(er=0),tr===void 0&&(tr=1),St.min=applyPointDelta(St.min,er,tr,rr,nr),St.max=applyPointDelta(St.max,er,tr,rr,nr)}function applyBoxDelta(St,er){var tr=er.x,rr=er.y;applyAxisDelta(St.x,tr.translate,tr.scale,tr.originPoint),applyAxisDelta(St.y,rr.translate,rr.scale,rr.originPoint)}function applyTreeDeltas(St,er,tr,rr){var nr,ar;rr===void 0&&(rr=!1);var dr=tr.length;if(!!dr){er.x=er.y=1;for(var or,ir,lr=0;lr<dr;lr++)or=tr[lr],ir=or.projectionDelta,((ar=(nr=or.instance)===null||nr===void 0?void 0:nr.style)===null||ar===void 0?void 0:ar.display)!=="contents"&&(rr&&or.options.layoutScroll&&or.scroll&&or!==or.root&&transformBox(St,{x:-or.scroll.x,y:-or.scroll.y}),ir&&(er.x*=ir.x.scale,er.y*=ir.y.scale,applyBoxDelta(St,ir)),rr&&hasTransform(or.latestValues)&&transformBox(St,or.latestValues))}}function translateAxis(St,er){St.min=St.min+er,St.max=St.max+er}function transformAxis(St,er,tr){var rr=__read(tr,3),nr=rr[0],ar=rr[1],dr=rr[2],or=er[dr]!==void 0?er[dr]:.5,ir=mix(St.min,St.max,or);applyAxisDelta(St,er[nr],er[ar],ir,er.scale)}var xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(St,er){transformAxis(St.x,er,xKeys$1),transformAxis(St.y,er,yKeys$1)}function measureViewportBox(St,er){return convertBoundingBoxToBox(transformBoxPoints(St.getBoundingClientRect(),er))}function measurePageBox(St,er,tr){var rr=measureViewportBox(St,tr),nr=er.scroll;return nr&&(translateAxis(rr.x,nr.x),translateAxis(rr.y,nr.y)),rr}var elementDragControls=new WeakMap,VisualElementDragControls=function(){function St(er){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=er}return St.prototype.start=function(er,tr){var rr=this,nr=tr===void 0?{}:tr,ar=nr.snapToCursor,dr=ar===void 0?!1:ar;if(this.visualElement.isPresent!==!1){var or=function(cr){rr.stopAnimation(),dr&&rr.snapToCursor(extractEventInfo(cr,"page").point)},ir=function(cr,ur){var sr,hr=rr.getProps(),gr=hr.drag,pr=hr.dragPropagation,mr=hr.onDragStart;gr&&!pr&&(rr.openGlobalLock&&rr.openGlobalLock(),rr.openGlobalLock=getGlobalLock(gr),!rr.openGlobalLock)||(rr.isDragging=!0,rr.currentDirection=null,rr.resolveConstraints(),rr.visualElement.projection&&(rr.visualElement.projection.isAnimationBlocked=!0,rr.visualElement.projection.target=void 0),eachAxis(function(vr){var yr,br,xr=rr.getAxisMotionValue(vr).get()||0;if(percent.test(xr)){var Cr=(br=(yr=rr.visualElement.projection)===null||yr===void 0?void 0:yr.layout)===null||br===void 0?void 0:br.actual[vr];if(Cr){var kr=calcLength(Cr);xr=kr*(parseFloat(xr)/100)}}rr.originPoint[vr]=xr}),mr?.(cr,ur),(sr=rr.visualElement.animationState)===null||sr===void 0||sr.setActive(AnimationType.Drag,!0))},lr=function(cr,ur){var sr=rr.getProps(),hr=sr.dragPropagation,gr=sr.dragDirectionLock,pr=sr.onDirectionLock,mr=sr.onDrag;if(!(!hr&&!rr.openGlobalLock)){var vr=ur.offset;if(gr&&rr.currentDirection===null){rr.currentDirection=getCurrentDirection(vr),rr.currentDirection!==null&&pr?.(rr.currentDirection);return}rr.updateAxis("x",ur.point,vr),rr.updateAxis("y",ur.point,vr),rr.visualElement.syncRender(),mr?.(cr,ur)}},fr=function(cr,ur){return rr.stop(cr,ur)};this.panSession=new PanSession(er,{onSessionStart:or,onStart:ir,onMove:lr,onSessionEnd:fr},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},St.prototype.stop=function(er,tr){var rr=this.isDragging;if(this.cancel(),!!rr){var nr=tr.velocity;this.startAnimation(nr);var ar=this.getProps().onDragEnd;ar?.(er,tr)}},St.prototype.cancel=function(){var er,tr;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(er=this.panSession)===null||er===void 0||er.end(),this.panSession=void 0;var rr=this.getProps().dragPropagation;!rr&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(tr=this.visualElement.animationState)===null||tr===void 0||tr.setActive(AnimationType.Drag,!1)},St.prototype.updateAxis=function(er,tr,rr){var nr=this.getProps().drag;if(!(!rr||!shouldDrag(er,nr,this.currentDirection))){var ar=this.getAxisMotionValue(er),dr=this.originPoint[er]+rr[er];this.constraints&&this.constraints[er]&&(dr=applyConstraints(dr,this.constraints[er],this.elastic[er])),ar.set(dr)}},St.prototype.resolveConstraints=function(){var er=this,tr=this.getProps(),rr=tr.dragConstraints,nr=tr.dragElastic,ar=(this.visualElement.projection||{}).layout,dr=this.constraints;rr&&isRefObject(rr)?this.constraints||(this.constraints=this.resolveRefConstraints()):rr&&ar?this.constraints=calcRelativeConstraints(ar.actual,rr):this.constraints=!1,this.elastic=resolveDragElastic(nr),dr!==this.constraints&&ar&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(function(or){er.getAxisMotionValue(or)&&(er.constraints[or]=rebaseAxisConstraints(ar.actual[or],er.constraints[or]))})},St.prototype.resolveRefConstraints=function(){var er=this.getProps(),tr=er.dragConstraints,rr=er.onMeasureDragConstraints;if(!tr||!isRefObject(tr))return!1;var nr=tr.current,ar=this.visualElement.projection;if(!ar||!ar.layout)return!1;var dr=measurePageBox(nr,ar.root,this.visualElement.getTransformPagePoint()),or=calcViewportConstraints(ar.layout.actual,dr);if(rr){var ir=rr(convertBoxToBoundingBox(or));this.hasMutatedConstraints=!!ir,ir&&(or=convertBoundingBoxToBox(ir))}return or},St.prototype.startAnimation=function(er){var tr=this,rr=this.getProps(),nr=rr.drag,ar=rr.dragMomentum,dr=rr.dragElastic,or=rr.dragTransition,ir=rr.dragSnapToOrigin,lr=rr.onDragTransitionEnd,fr=this.constraints||{},cr=eachAxis(function(ur){var sr;if(!!shouldDrag(ur,nr,tr.currentDirection)){var hr=(sr=fr?.[ur])!==null&&sr!==void 0?sr:{};ir&&(hr={min:0,max:0});var gr=dr?200:1e6,pr=dr?40:1e7,mr=__assign$1(__assign$1({type:"inertia",velocity:ar?er[ur]:0,bounceStiffness:gr,bounceDamping:pr,timeConstant:750,restDelta:1,restSpeed:10},or),hr);return tr.startAxisValueAnimation(ur,mr)}});return Promise.all(cr).then(lr)},St.prototype.startAxisValueAnimation=function(er,tr){var rr=this.getAxisMotionValue(er);return startAnimation(er,rr,0,tr)},St.prototype.stopAnimation=function(){var er=this;eachAxis(function(tr){return er.getAxisMotionValue(tr).stop()})},St.prototype.getAxisMotionValue=function(er){var tr,rr,nr="_drag"+er.toUpperCase(),ar=this.visualElement.getProps()[nr];return ar||this.visualElement.getValue(er,(rr=(tr=this.visualElement.getProps().initial)===null||tr===void 0?void 0:tr[er])!==null&&rr!==void 0?rr:0)},St.prototype.snapToCursor=function(er){var tr=this;eachAxis(function(rr){var nr=tr.getProps().drag;if(!!shouldDrag(rr,nr,tr.currentDirection)){var ar=tr.visualElement.projection,dr=tr.getAxisMotionValue(rr);if(ar&&ar.layout){var or=ar.layout.actual[rr],ir=or.min,lr=or.max;dr.set(er[rr]-mix(ir,lr,.5))}}})},St.prototype.scalePositionWithinConstraints=function(){var er=this,tr,rr=this.getProps(),nr=rr.drag,ar=rr.dragConstraints,dr=this.visualElement.projection;if(!(!isRefObject(ar)||!dr||!this.constraints)){this.stopAnimation();var or={x:0,y:0};eachAxis(function(lr){var fr=er.getAxisMotionValue(lr);if(fr){var cr=fr.get();or[lr]=calcOrigin({min:cr,max:cr},er.constraints[lr])}});var ir=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=ir?ir({},""):"none",(tr=dr.root)===null||tr===void 0||tr.updateScroll(),dr.updateLayout(),this.resolveConstraints(),eachAxis(function(lr){if(!!shouldDrag(lr,nr,null)){var fr=er.getAxisMotionValue(lr),cr=er.constraints[lr],ur=cr.min,sr=cr.max;fr.set(mix(ur,sr,or[lr]))}})}},St.prototype.addListeners=function(){var er=this,tr;elementDragControls.set(this.visualElement,this);var rr=this.visualElement.getInstance(),nr=addPointerEvent(rr,"pointerdown",function(lr){var fr=er.getProps(),cr=fr.drag,ur=fr.dragListener,sr=ur===void 0?!0:ur;cr&&sr&&er.start(lr)}),ar=function(){var lr=er.getProps().dragConstraints;isRefObject(lr)&&(er.constraints=er.resolveRefConstraints())},dr=this.visualElement.projection,or=dr.addEventListener("measure",ar);dr&&!dr.layout&&((tr=dr.root)===null||tr===void 0||tr.updateScroll(),dr.updateLayout()),ar();var ir=addDomEvent(window,"resize",function(){return er.scalePositionWithinConstraints()});return dr.addEventListener("didUpdate",function(lr){var fr=lr.delta,cr=lr.hasLayoutChanged;er.isDragging&&cr&&(eachAxis(function(ur){var sr=er.getAxisMotionValue(ur);!sr||(er.originPoint[ur]+=fr[ur].translate,sr.set(sr.get()+fr[ur].translate))}),er.visualElement.syncRender())}),function(){ir(),nr(),or()}},St.prototype.getProps=function(){var er=this.visualElement.getProps(),tr=er.drag,rr=tr===void 0?!1:tr,nr=er.dragDirectionLock,ar=nr===void 0?!1:nr,dr=er.dragPropagation,or=dr===void 0?!1:dr,ir=er.dragConstraints,lr=ir===void 0?!1:ir,fr=er.dragElastic,cr=fr===void 0?defaultElastic:fr,ur=er.dragMomentum,sr=ur===void 0?!0:ur;return __assign$1(__assign$1({},er),{drag:rr,dragDirectionLock:ar,dragPropagation:or,dragConstraints:lr,dragElastic:cr,dragMomentum:sr})},St}();function shouldDrag(St,er,tr){return(er===!0||er===St)&&(tr===null||tr===St)}function getCurrentDirection(St,er){er===void 0&&(er=10);var tr=null;return Math.abs(St.y)>er?tr="y":Math.abs(St.x)>er&&(tr="x"),tr}function useDrag(St){var er=St.dragControls,tr=St.visualElement,rr=useConstant(function(){return new VisualElementDragControls(tr)});react.exports.useEffect(function(){return er&&er.subscribe(rr)},[rr,er]),react.exports.useEffect(function(){return rr.addListeners()},[rr])}function usePanGesture(St){var er=St.onPan,tr=St.onPanStart,rr=St.onPanEnd,nr=St.onPanSessionStart,ar=St.visualElement,dr=er||tr||rr||nr,or=react.exports.useRef(null),ir=react.exports.useContext(MotionConfigContext).transformPagePoint,lr={onSessionStart:nr,onStart:tr,onMove:er,onEnd:function(cr,ur){or.current=null,rr&&rr(cr,ur)}};react.exports.useEffect(function(){or.current!==null&&or.current.updateHandlers(lr)});function fr(cr){or.current=new PanSession(cr,lr,{transformPagePoint:ir})}usePointerEvent(ar,"pointerdown",dr&&fr),useUnmountEffect(function(){return or.current&&or.current.end()})}var drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)},names=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function createLifecycles(){var St=names.map(function(){return new SubscriptionManager}),er={},tr={clearAllListeners:function(){return St.forEach(function(rr){return rr.clear()})},updatePropListeners:function(rr){names.forEach(function(nr){var ar,dr="on"+nr,or=rr[dr];(ar=er[nr])===null||ar===void 0||ar.call(er),or&&(er[nr]=tr[dr](or))})}};return St.forEach(function(rr,nr){tr["on"+names[nr]]=function(ar){return rr.add(ar)},tr["notify"+names[nr]]=function(){for(var ar=[],dr=0;dr<arguments.length;dr++)ar[dr]=arguments[dr];return rr.notify.apply(rr,__spreadArray$1([],__read(ar),!1))}}),tr}function updateMotionValuesFromProps(St,er,tr){var rr;for(var nr in er){var ar=er[nr],dr=tr[nr];if(isMotionValue(ar))St.addValue(nr,ar);else if(isMotionValue(dr))St.addValue(nr,motionValue(ar));else if(dr!==ar)if(St.hasValue(nr)){var or=St.getValue(nr);!or.hasAnimated&&or.set(ar)}else St.addValue(nr,motionValue((rr=St.getStaticValue(nr))!==null&&rr!==void 0?rr:ar))}for(var nr in tr)er[nr]===void 0&&St.removeValue(nr);return er}var visualElement=function(St){var er=St.treeType,tr=er===void 0?"":er,rr=St.build,nr=St.getBaseTarget,ar=St.makeTargetAnimatable,dr=St.measureViewportBox,or=St.render,ir=St.readValueFromInstance,lr=St.removeValueFromRenderState,fr=St.sortNodePosition,cr=St.scrapeMotionValuesFromProps;return function(ur,sr){var hr=ur.parent,gr=ur.props,pr=ur.presenceId,mr=ur.blockInitialAnimation,vr=ur.visualState,yr=ur.shouldReduceMotion;sr===void 0&&(sr={});var br=!1,xr=vr.latestValues,Cr=vr.renderState,kr,Pr=createLifecycles(),$r=new Map,Kr=new Map,Ir={},jr=__assign$1({},xr),Jr;function zr(){!kr||!br||(Hr(),or(kr,Cr,gr.style,Lr.projection))}function Hr(){rr(Lr,Cr,xr,sr,gr)}function Yr(){Pr.notifyUpdate(xr)}function nn(_r,wr){var Fr=wr.onChange(function(Br){xr[_r]=Br,gr.onUpdate&&sync.update(Yr,!1,!0)}),Nr=wr.onRenderRequest(Lr.scheduleRender);Kr.set(_r,function(){Fr(),Nr()})}var Qr=cr(gr);for(var Or in Qr){var Er=Qr[Or];xr[Or]!==void 0&&isMotionValue(Er)&&Er.set(xr[Or],!1)}var Dr=checkIfControllingVariants(gr),Tr=checkIfVariantNode(gr),Lr=__assign$1(__assign$1({treeType:tr,current:null,depth:hr?hr.depth+1:0,parent:hr,children:new Set,presenceId:pr,shouldReduceMotion:yr,variantChildren:Tr?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(hr?.isMounted()),blockInitialAnimation:mr,isMounted:function(){return Boolean(kr)},mount:function(_r){br=!0,kr=Lr.current=_r,Lr.projection&&Lr.projection.mount(_r),Tr&&hr&&!Dr&&(Jr=hr?.addVariantChild(Lr)),$r.forEach(function(wr,Fr){return nn(Fr,wr)}),hr?.children.add(Lr),Lr.setProps(gr)},unmount:function(){var _r;(_r=Lr.projection)===null||_r===void 0||_r.unmount(),cancelSync.update(Yr),cancelSync.render(zr),Kr.forEach(function(wr){return wr()}),Jr?.(),hr?.children.delete(Lr),Pr.clearAllListeners(),kr=void 0,br=!1},addVariantChild:function(_r){var wr,Fr=Lr.getClosestVariantNode();if(Fr)return(wr=Fr.variantChildren)===null||wr===void 0||wr.add(_r),function(){return Fr.variantChildren.delete(_r)}},sortNodePosition:function(_r){return!fr||tr!==_r.treeType?0:fr(Lr.getInstance(),_r.getInstance())},getClosestVariantNode:function(){return Tr?Lr:hr?.getClosestVariantNode()},getLayoutId:function(){return gr.layoutId},getInstance:function(){return kr},getStaticValue:function(_r){return xr[_r]},setStaticValue:function(_r,wr){return xr[_r]=wr},getLatestValues:function(){return xr},setVisibility:function(_r){Lr.isVisible!==_r&&(Lr.isVisible=_r,Lr.scheduleRender())},makeTargetAnimatable:function(_r,wr){return wr===void 0&&(wr=!0),ar(Lr,_r,gr,wr)},measureViewportBox:function(){return dr(kr,gr)},addValue:function(_r,wr){Lr.hasValue(_r)&&Lr.removeValue(_r),$r.set(_r,wr),xr[_r]=wr.get(),nn(_r,wr)},removeValue:function(_r){var wr;$r.delete(_r),(wr=Kr.get(_r))===null||wr===void 0||wr(),Kr.delete(_r),delete xr[_r],lr(_r,Cr)},hasValue:function(_r){return $r.has(_r)},getValue:function(_r,wr){var Fr=$r.get(_r);return Fr===void 0&&wr!==void 0&&(Fr=motionValue(wr),Lr.addValue(_r,Fr)),Fr},forEachValue:function(_r){return $r.forEach(_r)},readValue:function(_r){var wr;return(wr=xr[_r])!==null&&wr!==void 0?wr:ir(kr,_r,sr)},setBaseTarget:function(_r,wr){jr[_r]=wr},getBaseTarget:function(_r){if(nr){var wr=nr(gr,_r);if(wr!==void 0&&!isMotionValue(wr))return wr}return jr[_r]}},Pr),{build:function(){return Hr(),Cr},scheduleRender:function(){sync.render(zr,!1,!0)},syncRender:zr,setProps:function(_r){(_r.transformTemplate||gr.transformTemplate)&&Lr.scheduleRender(),gr=_r,Pr.updatePropListeners(_r),Ir=updateMotionValuesFromProps(Lr,cr(gr),Ir)},getProps:function(){return gr},getVariant:function(_r){var wr;return(wr=gr.variants)===null||wr===void 0?void 0:wr[_r]},getDefaultTransition:function(){return gr.transition},getTransformPagePoint:function(){return gr.transformPagePoint},getVariantContext:function(_r){if(_r===void 0&&(_r=!1),_r)return hr?.getVariantContext();if(!Dr){var wr=hr?.getVariantContext()||{};return gr.initial!==void 0&&(wr.initial=gr.initial),wr}for(var Fr={},Nr=0;Nr<numVariantProps;Nr++){var Br=variantProps[Nr],Ur=gr[Br];(isVariantLabel(Ur)||Ur===!1)&&(Fr[Br]=Ur)}return Fr}});return Lr}},variantProps=__spreadArray$1(["initial"],__read(variantPriorityOrder),!1),numVariantProps=variantProps.length;function isCSSVariable(St){return typeof St=="string"&&St.startsWith("var(--")}var cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(St){var er=cssVariableRegex.exec(St);if(!er)return[,];var tr=__read(er,3),rr=tr[1],nr=tr[2];return[rr,nr]}function getVariableValue(St,er,tr){var rr=__read(parseCSSVariable(St),2),nr=rr[0],ar=rr[1];if(!!nr){var dr=window.getComputedStyle(er).getPropertyValue(nr);return dr?dr.trim():isCSSVariable(ar)?getVariableValue(ar,er):ar}}function resolveCSSVariables(St,er,tr){var rr,nr=__rest$1(er,[]),ar=St.getInstance();if(!(ar instanceof Element))return{target:nr,transitionEnd:tr};tr&&(tr=__assign$1({},tr)),St.forEachValue(function(lr){var fr=lr.get();if(!!isCSSVariable(fr)){var cr=getVariableValue(fr,ar);cr&&lr.set(cr)}});for(var dr in nr){var or=nr[dr];if(!!isCSSVariable(or)){var ir=getVariableValue(or,ar);!ir||(nr[dr]=ir,tr&&((rr=tr[dr])!==null&&rr!==void 0||(tr[dr]=or)))}}return{target:nr,transitionEnd:tr}}var positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=function(St){return positionalKeys.has(St)},hasPositionalKey=function(St){return Object.keys(St).some(isPositionalKey)},setAndResetVelocity=function(St,er){St.set(er,!1),St.set(er)},isNumOrPxType=function(St){return St===number||St===px$1},BoundingBoxDimension;(function(St){St.width="width",St.height="height",St.left="left",St.right="right",St.top="top",St.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));var getPosFromMatrix=function(St,er){return parseFloat(St.split(", ")[er])},getTranslateFromMatrix=function(St,er){return function(tr,rr){var nr=rr.transform;if(nr==="none"||!nr)return 0;var ar=nr.match(/^matrix3d\((.+)\)$/);if(ar)return getPosFromMatrix(ar[1],er);var dr=nr.match(/^matrix\((.+)\)$/);return dr?getPosFromMatrix(dr[1],St):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformProps.filter(function(St){return!transformKeys.has(St)});function removeNonTranslationalTransform(St){var er=[];return nonTranslationalTransformKeys.forEach(function(tr){var rr=St.getValue(tr);rr!==void 0&&(er.push([tr,rr.get()]),rr.set(tr.startsWith("scale")?1:0))}),er.length&&St.syncRender(),er}var positionalValues={width:function(St,er){var tr=St.x,rr=er.paddingLeft,nr=rr===void 0?"0":rr,ar=er.paddingRight,dr=ar===void 0?"0":ar;return tr.max-tr.min-parseFloat(nr)-parseFloat(dr)},height:function(St,er){var tr=St.y,rr=er.paddingTop,nr=rr===void 0?"0":rr,ar=er.paddingBottom,dr=ar===void 0?"0":ar;return tr.max-tr.min-parseFloat(nr)-parseFloat(dr)},top:function(St,er){var tr=er.top;return parseFloat(tr)},left:function(St,er){var tr=er.left;return parseFloat(tr)},bottom:function(St,er){var tr=St.y,rr=er.top;return parseFloat(rr)+(tr.max-tr.min)},right:function(St,er){var tr=St.x,rr=er.left;return parseFloat(rr)+(tr.max-tr.min)},x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=function(St,er,tr){var rr=er.measureViewportBox(),nr=er.getInstance(),ar=getComputedStyle(nr),dr=ar.display,or={};dr==="none"&&er.setStaticValue("display",St.display||"block"),tr.forEach(function(lr){or[lr]=positionalValues[lr](rr,ar)}),er.syncRender();var ir=er.measureViewportBox();return tr.forEach(function(lr){var fr=er.getValue(lr);setAndResetVelocity(fr,or[lr]),St[lr]=positionalValues[lr](ir,ar)}),St},checkAndConvertChangedValueTypes=function(St,er,tr,rr){tr===void 0&&(tr={}),rr===void 0&&(rr={}),er=__assign$1({},er),rr=__assign$1({},rr);var nr=Object.keys(er).filter(isPositionalKey),ar=[],dr=!1,or=[];if(nr.forEach(function(fr){var cr=St.getValue(fr);if(!!St.hasValue(fr)){var ur=tr[fr],sr=findDimensionValueType(ur),hr=er[fr],gr;if(isKeyframesTarget(hr)){var pr=hr.length,mr=hr[0]===null?1:0;ur=hr[mr],sr=findDimensionValueType(ur);for(var vr=mr;vr<pr;vr++)gr?invariant$1(findDimensionValueType(hr[vr])===gr):gr=findDimensionValueType(hr[vr])}else gr=findDimensionValueType(hr);if(sr!==gr)if(isNumOrPxType(sr)&&isNumOrPxType(gr)){var yr=cr.get();typeof yr=="string"&&cr.set(parseFloat(yr)),typeof hr=="string"?er[fr]=parseFloat(hr):Array.isArray(hr)&&gr===px$1&&(er[fr]=hr.map(parseFloat))}else sr?.transform&&gr?.transform&&(ur===0||hr===0)?ur===0?cr.set(gr.transform(ur)):er[fr]=sr.transform(hr):(dr||(ar=removeNonTranslationalTransform(St),dr=!0),or.push(fr),rr[fr]=rr[fr]!==void 0?rr[fr]:er[fr],setAndResetVelocity(cr,hr))}}),or.length){var ir=or.indexOf("height")>=0?window.pageYOffset:null,lr=convertChangedValueTypes(er,St,or);return ar.length&&ar.forEach(function(fr){var cr=__read(fr,2),ur=cr[0],sr=cr[1];St.getValue(ur).set(sr)}),St.syncRender(),ir!==null&&window.scrollTo({top:ir}),{target:lr,transitionEnd:rr}}else return{target:er,transitionEnd:rr}};function unitConversion(St,er,tr,rr){return hasPositionalKey(er)?checkAndConvertChangedValueTypes(St,er,tr,rr):{target:er,transitionEnd:rr}}var parseDomVariant=function(St,er,tr,rr){var nr=resolveCSSVariables(St,er,rr);return er=nr.target,rr=nr.transitionEnd,unitConversion(St,er,tr,rr)};function getComputedStyle$1(St){return window.getComputedStyle(St)}var htmlConfig={treeType:"dom",readValueFromInstance:function(St,er){if(isTransformProp(er)){var tr=getDefaultValueType(er);return tr&&tr.default||0}else{var rr=getComputedStyle$1(St);return(isCSSVariable$1(er)?rr.getPropertyValue(er):rr[er])||0}},sortNodePosition:function(St,er){return St.compareDocumentPosition(er)&2?1:-1},getBaseTarget:function(St,er){var tr;return(tr=St.style)===null||tr===void 0?void 0:tr[er]},measureViewportBox:function(St,er){var tr=er.transformPagePoint;return measureViewportBox(St,tr)},resetTransform:function(St,er,tr){var rr=tr.transformTemplate;er.style.transform=rr?rr({},""):"none",St.scheduleRender()},restoreTransform:function(St,er){St.style.transform=er.style.transform},removeValueFromRenderState:function(St,er){var tr=er.vars,rr=er.style;delete tr[St],delete rr[St]},makeTargetAnimatable:function(St,er,tr,rr){var nr=tr.transformValues;rr===void 0&&(rr=!0);var ar=er.transition,dr=er.transitionEnd,or=__rest$1(er,["transition","transitionEnd"]),ir=getOrigin(or,ar||{},St);if(nr&&(dr&&(dr=nr(dr)),or&&(or=nr(or)),ir&&(ir=nr(ir))),rr){checkTargetForNewValues(St,or,ir);var lr=parseDomVariant(St,or,ir,dr);dr=lr.transitionEnd,or=lr.target}return __assign$1({transition:ar,transitionEnd:dr},or)},scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,build:function(St,er,tr,rr,nr){St.isVisible!==void 0&&(er.style.visibility=St.isVisible?"visible":"hidden"),buildHTMLStyles(er,tr,rr,nr.transformTemplate)},render:renderHTML},htmlVisualElement=visualElement(htmlConfig),svgVisualElement=visualElement(__assign$1(__assign$1({},htmlConfig),{getBaseTarget:function(St,er){return St[er]},readValueFromInstance:function(St,er){var tr;return isTransformProp(er)?((tr=getDefaultValueType(er))===null||tr===void 0?void 0:tr.default)||0:(er=camelCaseAttributes.has(er)?er:camelToDash(er),St.getAttribute(er))},scrapeMotionValuesFromProps,build:function(St,er,tr,rr,nr){buildSVGAttrs(er,tr,rr,nr.transformTemplate)},render:renderSVG})),createDomVisualElement=function(St,er){return isSVGComponent(St)?svgVisualElement(er,{enableHardwareAcceleration:!1}):htmlVisualElement(er,{enableHardwareAcceleration:!0})};function pixelsToPercent(St,er){return er.max===er.min?0:St/(er.max-er.min)*100}var correctBorderRadius={correct:function(St,er){if(!er.target)return St;if(typeof St=="string")if(px$1.test(St))St=parseFloat(St);else return St;var tr=pixelsToPercent(St,er.target.x),rr=pixelsToPercent(St,er.target.y);return"".concat(tr,"% ").concat(rr,"%")}},varToken="_$css",correctBoxShadow={correct:function(St,er){var tr=er.treeScale,rr=er.projectionDelta,nr=St,ar=St.includes("var("),dr=[];ar&&(St=St.replace(cssVariableRegex,function(gr){return dr.push(gr),varToken}));var or=complex.parse(St);if(or.length>5)return nr;var ir=complex.createTransformer(St),lr=typeof or[0]!="number"?1:0,fr=rr.x.scale*tr.x,cr=rr.y.scale*tr.y;or[0+lr]/=fr,or[1+lr]/=cr;var ur=mix(fr,cr,.5);typeof or[2+lr]=="number"&&(or[2+lr]/=ur),typeof or[3+lr]=="number"&&(or[3+lr]/=ur);var sr=ir(or);if(ar){var hr=0;sr=sr.replace(varToken,function(){var gr=dr[hr];return hr++,gr})}return sr}},MeasureLayoutWithContext=function(St){__extends(er,St);function er(){return St!==null&&St.apply(this,arguments)||this}return er.prototype.componentDidMount=function(){var tr=this,rr=this.props,nr=rr.visualElement,ar=rr.layoutGroup,dr=rr.switchLayoutGroup,or=rr.layoutId,ir=nr.projection;addScaleCorrector(defaultScaleCorrectors),ir&&(ar?.group&&ar.group.add(ir),dr?.register&&or&&dr.register(ir),ir.root.didUpdate(),ir.addEventListener("animationComplete",function(){tr.safeToRemove()}),ir.setOptions(__assign$1(__assign$1({},ir.options),{onExitComplete:function(){return tr.safeToRemove()}}))),globalProjectionState.hasEverUpdated=!0},er.prototype.getSnapshotBeforeUpdate=function(tr){var rr=this,nr=this.props,ar=nr.layoutDependency,dr=nr.visualElement,or=nr.drag,ir=nr.isPresent,lr=dr.projection;return lr&&(lr.isPresent=ir,or||tr.layoutDependency!==ar||ar===void 0?lr.willUpdate():this.safeToRemove(),tr.isPresent!==ir&&(ir?lr.promote():lr.relegate()||sync.postRender(function(){var fr;!((fr=lr.getStack())===null||fr===void 0)&&fr.members.length||rr.safeToRemove()}))),null},er.prototype.componentDidUpdate=function(){var tr=this.props.visualElement.projection;tr&&(tr.root.didUpdate(),!tr.currentAnimation&&tr.isLead()&&this.safeToRemove())},er.prototype.componentWillUnmount=function(){var tr=this.props,rr=tr.visualElement,nr=tr.layoutGroup,ar=tr.switchLayoutGroup,dr=rr.projection;dr&&(dr.scheduleCheckAfterUnmount(),nr?.group&&nr.group.remove(dr),ar?.deregister&&ar.deregister(dr))},er.prototype.safeToRemove=function(){var tr=this.props.safeToRemove;tr?.()},er.prototype.render=function(){return null},er}(React.Component);function MeasureLayout(St){var er=__read(usePresence(),2),tr=er[0],rr=er[1],nr=react.exports.useContext(LayoutGroupContext);return jsx(MeasureLayoutWithContext,{...__assign$1({},St,{layoutGroup:nr,switchLayoutGroup:react.exports.useContext(SwitchLayoutGroupContext),isPresent:tr,safeToRemove:rr})})}var defaultScaleCorrectors={borderRadius:__assign$1(__assign$1({},correctBorderRadius),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(St,er,tr){tr===void 0&&(tr={});var rr=isMotionValue(St)?St:motionValue(St);return startAnimation("",rr,er,tr),{stop:function(){return rr.stop()},isAnimating:function(){return rr.isAnimating()}}}var borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=function(St){return typeof St=="string"?parseFloat(St):St},isPx=function(St){return typeof St=="number"||px$1.test(St)};function mixValues(St,er,tr,rr,nr,ar){var dr,or,ir,lr;nr?(St.opacity=mix(0,(dr=tr.opacity)!==null&&dr!==void 0?dr:1,easeCrossfadeIn(rr)),St.opacityExit=mix((or=er.opacity)!==null&&or!==void 0?or:1,0,easeCrossfadeOut(rr))):ar&&(St.opacity=mix((ir=er.opacity)!==null&&ir!==void 0?ir:1,(lr=tr.opacity)!==null&&lr!==void 0?lr:1,rr));for(var fr=0;fr<numBorders;fr++){var cr="border".concat(borders[fr],"Radius"),ur=getRadius(er,cr),sr=getRadius(tr,cr);if(!(ur===void 0&&sr===void 0)){ur||(ur=0),sr||(sr=0);var hr=ur===0||sr===0||isPx(ur)===isPx(sr);hr?(St[cr]=Math.max(mix(asNumber(ur),asNumber(sr),rr),0),(percent.test(sr)||percent.test(ur))&&(St[cr]+="%")):St[cr]=sr}}(er.rotate||tr.rotate)&&(St.rotate=mix(er.rotate||0,tr.rotate||0,rr))}function getRadius(St,er){var tr;return(tr=St[er])!==null&&tr!==void 0?tr:St.borderRadius}var easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,linear);function compress(St,er,tr){return function(rr){return rr<St?0:rr>er?1:tr(progress(St,er,rr))}}function copyAxisInto(St,er){St.min=er.min,St.max=er.max}function copyBoxInto(St,er){copyAxisInto(St.x,er.x),copyAxisInto(St.y,er.y)}function removePointDelta(St,er,tr,rr,nr){return St-=er,St=scalePoint(St,1/tr,rr),nr!==void 0&&(St=scalePoint(St,1/nr,rr)),St}function removeAxisDelta(St,er,tr,rr,nr,ar,dr){if(er===void 0&&(er=0),tr===void 0&&(tr=1),rr===void 0&&(rr=.5),ar===void 0&&(ar=St),dr===void 0&&(dr=St),percent.test(er)){er=parseFloat(er);var or=mix(dr.min,dr.max,er/100);er=or-dr.min}if(typeof er=="number"){var ir=mix(ar.min,ar.max,rr);St===ar&&(ir-=er),St.min=removePointDelta(St.min,er,tr,ir,nr),St.max=removePointDelta(St.max,er,tr,ir,nr)}}function removeAxisTransforms(St,er,tr,rr,nr){var ar=__read(tr,3),dr=ar[0],or=ar[1],ir=ar[2];removeAxisDelta(St,er[dr],er[or],er[ir],er.scale,rr,nr)}var xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(St,er,tr,rr){removeAxisTransforms(St.x,er,xKeys,tr?.x,rr?.x),removeAxisTransforms(St.y,er,yKeys,tr?.y,rr?.y)}function isAxisDeltaZero(St){return St.translate===0&&St.scale===1}function isDeltaZero(St){return isAxisDeltaZero(St.x)&&isAxisDeltaZero(St.y)}function boxEquals(St,er){return St.x.min===er.x.min&&St.x.max===er.x.max&&St.y.min===er.y.min&&St.y.max===er.y.max}var NodeStack=function(){function St(){this.members=[]}return St.prototype.add=function(er){addUniqueItem(this.members,er),er.scheduleRender()},St.prototype.remove=function(er){if(removeItem(this.members,er),er===this.prevLead&&(this.prevLead=void 0),er===this.lead){var tr=this.members[this.members.length-1];tr&&this.promote(tr)}},St.prototype.relegate=function(er){var tr=this.members.findIndex(function(dr){return er===dr});if(tr===0)return!1;for(var rr,nr=tr;nr>=0;nr--){var ar=this.members[nr];if(ar.isPresent!==!1){rr=ar;break}}return rr?(this.promote(rr),!0):!1},St.prototype.promote=function(er,tr){var rr,nr=this.lead;if(er!==nr&&(this.prevLead=nr,this.lead=er,er.show(),nr)){nr.instance&&nr.scheduleRender(),er.scheduleRender(),er.resumeFrom=nr,tr&&(er.resumeFrom.preserveOpacity=!0),nr.snapshot&&(er.snapshot=nr.snapshot,er.snapshot.latestValues=nr.animationValues||nr.latestValues,er.snapshot.isShared=!0),!((rr=er.root)===null||rr===void 0)&&rr.isUpdating&&(er.isLayoutDirty=!0);var ar=er.options.crossfade;ar===!1&&nr.hide()}},St.prototype.exitAnimationComplete=function(){this.members.forEach(function(er){var tr,rr,nr,ar,dr;(rr=(tr=er.options).onExitComplete)===null||rr===void 0||rr.call(tr),(dr=(nr=er.resumingFrom)===null||nr===void 0?void 0:(ar=nr.options).onExitComplete)===null||dr===void 0||dr.call(ar)})},St.prototype.scheduleRender=function(){this.members.forEach(function(er){er.instance&&er.scheduleRender(!1)})},St.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},St}(),identityProjection="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function buildProjectionTransform(St,er,tr){var rr=St.x.translate/er.x,nr=St.y.translate/er.y,ar="translate3d(".concat(rr,"px, ").concat(nr,"px, 0) ");if(ar+="scale(".concat(1/er.x,", ").concat(1/er.y,") "),tr){var dr=tr.rotate,or=tr.rotateX,ir=tr.rotateY;dr&&(ar+="rotate(".concat(dr,"deg) ")),or&&(ar+="rotateX(".concat(or,"deg) ")),ir&&(ar+="rotateY(".concat(ir,"deg) "))}var lr=St.x.scale*er.x,fr=St.y.scale*er.y;return ar+="scale(".concat(lr,", ").concat(fr,")"),ar===identityProjection?"none":ar}var compareByDepth=function(St,er){return St.depth-er.depth},FlatTree=function(){function St(){this.children=[],this.isDirty=!1}return St.prototype.add=function(er){addUniqueItem(this.children,er),this.isDirty=!0},St.prototype.remove=function(er){removeItem(this.children,er),this.isDirty=!0},St.prototype.forEach=function(er){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(er)},St}(),animationTarget=1e3;function createProjectionNode(St){var er=St.attachResizeListener,tr=St.defaultParent,rr=St.measureScroll,nr=St.checkIsScrollRoot,ar=St.resetTransform;return function(){function dr(or,ir,lr){var fr=this;ir===void 0&&(ir={}),lr===void 0&&(lr=tr?.()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){fr.isUpdating&&(fr.isUpdating=!1,fr.clearAllSnapshots())},this.updateProjection=function(){fr.nodes.forEach(resolveTargetDelta),fr.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=or,this.latestValues=ir,this.root=lr?lr.root||lr:this,this.path=lr?__spreadArray$1(__spreadArray$1([],__read(lr.path),!1),[lr],!1):[],this.parent=lr,this.depth=lr?lr.depth+1:0,or&&this.root.registerPotentialNode(or,this);for(var cr=0;cr<this.path.length;cr++)this.path[cr].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}return dr.prototype.addEventListener=function(or,ir){return this.eventHandlers.has(or)||this.eventHandlers.set(or,new SubscriptionManager),this.eventHandlers.get(or).add(ir)},dr.prototype.notifyListeners=function(or){for(var ir=[],lr=1;lr<arguments.length;lr++)ir[lr-1]=arguments[lr];var fr=this.eventHandlers.get(or);fr?.notify.apply(fr,__spreadArray$1([],__read(ir),!1))},dr.prototype.hasListeners=function(or){return this.eventHandlers.has(or)},dr.prototype.registerPotentialNode=function(or,ir){this.potentialNodes.set(or,ir)},dr.prototype.mount=function(or,ir){var lr=this,fr;if(ir===void 0&&(ir=!1),!this.instance){this.isSVG=or instanceof SVGElement&&or.tagName!=="svg",this.instance=or;var cr=this.options,ur=cr.layoutId,sr=cr.layout,hr=cr.visualElement;if(hr&&!hr.getInstance()&&hr.mount(or),this.root.nodes.add(this),(fr=this.parent)===null||fr===void 0||fr.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),ir&&(sr||ur)&&(this.isLayoutDirty=!0),er){var gr,pr=function(){return lr.root.updateBlockedByResize=!1};er(or,function(){lr.root.updateBlockedByResize=!0,clearTimeout(gr),gr=window.setTimeout(pr,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,lr.nodes.forEach(finishAnimation))})}ur&&this.root.registerSharedNode(ur,this),this.options.animate!==!1&&hr&&(ur||sr)&&this.addEventListener("didUpdate",function(mr){var vr,yr,br,xr,Cr,kr=mr.delta,Pr=mr.hasLayoutChanged,$r=mr.hasRelativeTargetChanged,Kr=mr.layout;if(lr.isTreeAnimationBlocked()){lr.target=void 0,lr.relativeTarget=void 0;return}var Ir=(yr=(vr=lr.options.transition)!==null&&vr!==void 0?vr:hr.getDefaultTransition())!==null&&yr!==void 0?yr:defaultLayoutTransition,jr=hr.getProps(),Jr=jr.onLayoutAnimationStart,zr=jr.onLayoutAnimationComplete,Hr=!lr.targetLayout||!boxEquals(lr.targetLayout,Kr)||$r,Yr=!Pr&&$r;if(((br=lr.resumeFrom)===null||br===void 0?void 0:br.instance)||Yr||Pr&&(Hr||!lr.currentAnimation)){lr.resumeFrom&&(lr.resumingFrom=lr.resumeFrom,lr.resumingFrom.resumingFrom=void 0),lr.setAnimationOrigin(kr,Yr);var nn=__assign$1(__assign$1({},getValueTransition(Ir,"layout")),{onPlay:Jr,onComplete:zr});hr.shouldReduceMotion&&(nn.delay=0,nn.type=!1),lr.startAnimation(nn)}else!Pr&&lr.animationProgress===0&&lr.finishAnimation(),lr.isLead()&&((Cr=(xr=lr.options).onExitComplete)===null||Cr===void 0||Cr.call(xr));lr.targetLayout=Kr})}},dr.prototype.unmount=function(){var or,ir;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(or=this.getStack())===null||or===void 0||or.remove(this),(ir=this.parent)===null||ir===void 0||ir.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)},dr.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},dr.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},dr.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},dr.prototype.isTreeAnimationBlocked=function(){var or;return this.isAnimationBlocked||((or=this.parent)===null||or===void 0?void 0:or.isTreeAnimationBlocked())||!1},dr.prototype.startUpdate=function(){var or;this.isUpdateBlocked()||(this.isUpdating=!0,(or=this.nodes)===null||or===void 0||or.forEach(resetRotation))},dr.prototype.willUpdate=function(or){var ir,lr,fr;if(or===void 0&&(or=!0),this.root.isUpdateBlocked()){(lr=(ir=this.options).onExitComplete)===null||lr===void 0||lr.call(ir);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var cr=0;cr<this.path.length;cr++){var ur=this.path[cr];ur.shouldResetTransform=!0,ur.updateScroll()}var sr=this.options,hr=sr.layoutId,gr=sr.layout;if(!(hr===void 0&&!gr)){var pr=(fr=this.options.visualElement)===null||fr===void 0?void 0:fr.getProps().transformTemplate;this.prevTransformTemplateValue=pr?.(this.latestValues,""),this.updateSnapshot(),or&&this.notifyListeners("willUpdate")}}},dr.prototype.didUpdate=function(){var or=this.isUpdateBlocked();if(or){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())},dr.prototype.clearAllSnapshots=function(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)},dr.prototype.scheduleUpdateProjection=function(){sync.preRender(this.updateProjection,!1,!0)},dr.prototype.scheduleCheckAfterUnmount=function(){var or=this;sync.postRender(function(){or.isLayoutDirty?or.root.didUpdate():or.root.checkUpdateFailed()})},dr.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var or=this.measure(),ir=this.removeTransform(this.removeElementScroll(or));roundBox(ir),this.snapshot={measured:or,layout:ir,latestValues:{}}}},dr.prototype.updateLayout=function(){var or;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var ir=0;ir<this.path.length;ir++){var lr=this.path[ir];lr.updateScroll()}var fr=this.measure();roundBox(fr);var cr=this.layout;this.layout={measured:fr,actual:this.removeElementScroll(fr)},this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(or=this.options.visualElement)===null||or===void 0||or.notifyLayoutMeasure(this.layout.actual,cr?.actual)}},dr.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=nr(this.instance),this.scroll=rr(this.instance))},dr.prototype.resetTransform=function(){var or;if(!!ar){var ir=this.isLayoutDirty||this.shouldResetTransform,lr=this.projectionDelta&&!isDeltaZero(this.projectionDelta),fr=(or=this.options.visualElement)===null||or===void 0?void 0:or.getProps().transformTemplate,cr=fr?.(this.latestValues,""),ur=cr!==this.prevTransformTemplateValue;ir&&(lr||hasTransform(this.latestValues)||ur)&&(ar(this.instance,cr),this.shouldResetTransform=!1,this.scheduleRender())}},dr.prototype.measure=function(){var or=this.options.visualElement;if(!or)return createBox();var ir=or.measureViewportBox(),lr=this.root.scroll;return lr&&(translateAxis(ir.x,lr.x),translateAxis(ir.y,lr.y)),ir},dr.prototype.removeElementScroll=function(or){var ir=createBox();copyBoxInto(ir,or);for(var lr=0;lr<this.path.length;lr++){var fr=this.path[lr],cr=fr.scroll,ur=fr.options,sr=fr.isScrollRoot;if(fr!==this.root&&cr&&ur.layoutScroll){if(sr){copyBoxInto(ir,or);var hr=this.root.scroll;hr&&(translateAxis(ir.x,-hr.x),translateAxis(ir.y,-hr.y))}translateAxis(ir.x,cr.x),translateAxis(ir.y,cr.y)}}return ir},dr.prototype.applyTransform=function(or,ir){ir===void 0&&(ir=!1);var lr=createBox();copyBoxInto(lr,or);for(var fr=0;fr<this.path.length;fr++){var cr=this.path[fr];!ir&&cr.options.layoutScroll&&cr.scroll&&cr!==cr.root&&transformBox(lr,{x:-cr.scroll.x,y:-cr.scroll.y}),hasTransform(cr.latestValues)&&transformBox(lr,cr.latestValues)}return hasTransform(this.latestValues)&&transformBox(lr,this.latestValues),lr},dr.prototype.removeTransform=function(or){var ir,lr=createBox();copyBoxInto(lr,or);for(var fr=0;fr<this.path.length;fr++){var cr=this.path[fr];if(!!cr.instance&&!!hasTransform(cr.latestValues)){hasScale(cr.latestValues)&&cr.updateSnapshot();var ur=createBox(),sr=cr.measure();copyBoxInto(ur,sr),removeBoxTransforms(lr,cr.latestValues,(ir=cr.snapshot)===null||ir===void 0?void 0:ir.layout,ur)}}return hasTransform(this.latestValues)&&removeBoxTransforms(lr,this.latestValues),lr},dr.prototype.setTargetDelta=function(or){this.targetDelta=or,this.root.scheduleUpdateProjection()},dr.prototype.setOptions=function(or){var ir;this.options=__assign$1(__assign$1(__assign$1({},this.options),or),{crossfade:(ir=or.crossfade)!==null&&ir!==void 0?ir:!0})},dr.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},dr.prototype.resolveTargetDelta=function(){var or,ir=this.options,lr=ir.layout,fr=ir.layoutId;!this.layout||!(lr||fr)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&((or=this.relativeParent)===null||or===void 0?void 0:or.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):copyBoxInto(this.target,this.layout.actual),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,this.relativeParent.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)))))},dr.prototype.getClosestProjectingParent=function(){if(!(!this.parent||hasTransform(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},dr.prototype.calcProjection=function(){var or,ir=this.options,lr=ir.layout,fr=ir.layoutId;if(this.isTreeAnimating=Boolean(((or=this.parent)===null||or===void 0?void 0:or.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(lr||fr))){var cr=this.getLead();copyBoxInto(this.layoutCorrected,this.layout.actual),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==cr);var ur=cr.target;if(!!ur){this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());var sr=this.treeScale.x,hr=this.treeScale.y,gr=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,ur,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==gr||this.treeScale.x!==sr||this.treeScale.y!==hr)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",ur))}}},dr.prototype.hide=function(){this.isVisible=!1},dr.prototype.show=function(){this.isVisible=!0},dr.prototype.scheduleRender=function(or){var ir,lr,fr;or===void 0&&(or=!0),(lr=(ir=this.options).scheduleRender)===null||lr===void 0||lr.call(ir),or&&((fr=this.getStack())===null||fr===void 0||fr.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},dr.prototype.setAnimationOrigin=function(or,ir){var lr=this,fr;ir===void 0&&(ir=!1);var cr=this.snapshot,ur=cr?.latestValues||{},sr=__assign$1({},this.latestValues),hr=createDelta();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!ir;var gr=createBox(),pr=cr?.isShared,mr=(((fr=this.getStack())===null||fr===void 0?void 0:fr.members.length)||0)<=1,vr=Boolean(pr&&!mr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=function(yr){var br,xr=yr/1e3;mixAxisDelta(hr.x,or.x,xr),mixAxisDelta(hr.y,or.y,xr),lr.setTargetDelta(hr),lr.relativeTarget&&lr.relativeTargetOrigin&&lr.layout&&((br=lr.relativeParent)===null||br===void 0?void 0:br.layout)&&(calcRelativePosition(gr,lr.layout.actual,lr.relativeParent.layout.actual),mixBox(lr.relativeTarget,lr.relativeTargetOrigin,gr,xr)),pr&&(lr.animationValues=sr,mixValues(sr,ur,lr.latestValues,xr,vr,mr)),lr.root.scheduleUpdateProjection(),lr.scheduleRender(),lr.animationProgress=xr},this.mixTargetDelta(0)},dr.prototype.startAnimation=function(or){var ir=this,lr,fr;this.notifyListeners("animationStart"),(lr=this.currentAnimation)===null||lr===void 0||lr.stop(),this.resumingFrom&&((fr=this.resumingFrom.currentAnimation)===null||fr===void 0||fr.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(function(){globalProjectionState.hasAnimatedSinceResize=!0,ir.currentAnimation=animate(0,animationTarget,__assign$1(__assign$1({},or),{onUpdate:function(cr){var ur;ir.mixTargetDelta(cr),(ur=or.onUpdate)===null||ur===void 0||ur.call(or,cr)},onComplete:function(){var cr;(cr=or.onComplete)===null||cr===void 0||cr.call(or),ir.completeAnimation()}})),ir.resumingFrom&&(ir.resumingFrom.currentAnimation=ir.currentAnimation),ir.pendingAnimation=void 0})},dr.prototype.completeAnimation=function(){var or;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(or=this.getStack())===null||or===void 0||or.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},dr.prototype.finishAnimation=function(){var or;this.currentAnimation&&((or=this.mixTargetDelta)===null||or===void 0||or.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()},dr.prototype.applyTransformsToTarget=function(){var or=this.getLead(),ir=or.targetWithTransforms,lr=or.target,fr=or.layout,cr=or.latestValues;!ir||!lr||!fr||(copyBoxInto(ir,lr),transformBox(ir,cr),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ir,cr))},dr.prototype.registerSharedNode=function(or,ir){var lr,fr,cr;this.sharedNodes.has(or)||this.sharedNodes.set(or,new NodeStack);var ur=this.sharedNodes.get(or);ur.add(ir),ir.promote({transition:(lr=ir.options.initialPromotionConfig)===null||lr===void 0?void 0:lr.transition,preserveFollowOpacity:(cr=(fr=ir.options.initialPromotionConfig)===null||fr===void 0?void 0:fr.shouldPreserveFollowOpacity)===null||cr===void 0?void 0:cr.call(fr,ir)})},dr.prototype.isLead=function(){var or=this.getStack();return or?or.lead===this:!0},dr.prototype.getLead=function(){var or,ir=this.options.layoutId;return ir?((or=this.getStack())===null||or===void 0?void 0:or.lead)||this:this},dr.prototype.getPrevLead=function(){var or,ir=this.options.layoutId;return ir?(or=this.getStack())===null||or===void 0?void 0:or.prevLead:void 0},dr.prototype.getStack=function(){var or=this.options.layoutId;if(or)return this.root.sharedNodes.get(or)},dr.prototype.promote=function(or){var ir=or===void 0?{}:or,lr=ir.needsReset,fr=ir.transition,cr=ir.preserveFollowOpacity,ur=this.getStack();ur&&ur.promote(this,cr),lr&&(this.projectionDelta=void 0,this.needsReset=!0),fr&&this.setOptions({transition:fr})},dr.prototype.relegate=function(){var or=this.getStack();return or?or.relegate(this):!1},dr.prototype.resetRotation=function(){var or=this.options.visualElement;if(!!or){for(var ir=!1,lr={},fr=0;fr<transformAxes.length;fr++){var cr=transformAxes[fr],ur="rotate"+cr;!or.getStaticValue(ur)||(ir=!0,lr[ur]=or.getStaticValue(ur),or.setStaticValue(ur,0))}if(!!ir){or?.syncRender();for(var ur in lr)or.setStaticValue(ur,lr[ur]);or.scheduleRender()}}},dr.prototype.getProjectionStyles=function(or){var ir,lr,fr,cr,ur,sr;or===void 0&&(or={});var hr={};if(!this.instance||this.isSVG)return hr;if(this.isVisible)hr.visibility="";else return{visibility:"hidden"};var gr=(ir=this.options.visualElement)===null||ir===void 0?void 0:ir.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,hr.opacity="",hr.pointerEvents=resolveMotionValue(or.pointerEvents)||"",hr.transform=gr?gr(this.latestValues,""):"none",hr;var pr=this.getLead();if(!this.projectionDelta||!this.layout||!pr.target){var mr={};return this.options.layoutId&&(mr.opacity=(lr=this.latestValues.opacity)!==null&&lr!==void 0?lr:1,mr.pointerEvents=resolveMotionValue(or.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(mr.transform=gr?gr({},""):"none",this.hasProjected=!1),mr}var vr=pr.animationValues||pr.latestValues;this.applyTransformsToTarget(),hr.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,vr),gr&&(hr.transform=gr(vr,hr.transform));var yr=this.projectionDelta,br=yr.x,xr=yr.y;hr.transformOrigin="".concat(br.origin*100,"% ").concat(xr.origin*100,"% 0"),pr.animationValues?hr.opacity=pr===this?(cr=(fr=vr.opacity)!==null&&fr!==void 0?fr:this.latestValues.opacity)!==null&&cr!==void 0?cr:1:this.preserveOpacity?this.latestValues.opacity:vr.opacityExit:hr.opacity=pr===this?(ur=vr.opacity)!==null&&ur!==void 0?ur:"":(sr=vr.opacityExit)!==null&&sr!==void 0?sr:0;for(var Cr in scaleCorrectors)if(vr[Cr]!==void 0){var kr=scaleCorrectors[Cr],Pr=kr.correct,$r=kr.applyTo,Kr=Pr(vr[Cr],pr);if($r)for(var Ir=$r.length,jr=0;jr<Ir;jr++)hr[$r[jr]]=Kr;else hr[Cr]=Kr}return this.options.layoutId&&(hr.pointerEvents=pr===this?resolveMotionValue(or.pointerEvents)||"":"none"),hr},dr.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},dr.prototype.resetTree=function(){this.root.nodes.forEach(function(or){var ir;return(ir=or.currentAnimation)===null||ir===void 0?void 0:ir.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()},dr}()}function updateLayout(St){St.updateLayout()}function notifyLayoutUpdate(St){var er,tr,rr,nr,ar=(tr=(er=St.resumeFrom)===null||er===void 0?void 0:er.snapshot)!==null&&tr!==void 0?tr:St.snapshot;if(St.isLead()&&St.layout&&ar&&St.hasListeners("didUpdate")){var dr=St.layout,or=dr.actual,ir=dr.measured;St.options.animationType==="size"?eachAxis(function(vr){var yr=ar.isShared?ar.measured[vr]:ar.layout[vr],br=calcLength(yr);yr.min=or[vr].min,yr.max=yr.min+br}):St.options.animationType==="position"&&eachAxis(function(vr){var yr=ar.isShared?ar.measured[vr]:ar.layout[vr],br=calcLength(or[vr]);yr.max=yr.min+br});var lr=createDelta();calcBoxDelta(lr,or,ar.layout);var fr=createDelta();ar.isShared?calcBoxDelta(fr,St.applyTransform(ir,!0),ar.measured):calcBoxDelta(fr,or,ar.layout);var cr=!isDeltaZero(lr),ur=!1;if(!St.resumeFrom&&(St.relativeParent=St.getClosestProjectingParent(),St.relativeParent&&!St.relativeParent.resumeFrom)){var sr=St.relativeParent,hr=sr.snapshot,gr=sr.layout;if(hr&&gr){var pr=createBox();calcRelativePosition(pr,ar.layout,hr.layout);var mr=createBox();calcRelativePosition(mr,or,gr.actual),boxEquals(pr,mr)||(ur=!0)}}St.notifyListeners("didUpdate",{layout:or,snapshot:ar,delta:fr,layoutDelta:lr,hasLayoutChanged:cr,hasRelativeTargetChanged:ur})}else St.isLead()&&((nr=(rr=St.options).onExitComplete)===null||nr===void 0||nr.call(rr));St.options.transition=void 0}function clearSnapshot(St){St.clearSnapshot()}function clearMeasurements(St){St.clearMeasurements()}function resetTransformStyle(St){var er=St.options.visualElement;er?.getProps().onBeforeLayoutMeasure&&er.notifyBeforeLayoutMeasure(),St.resetTransform()}function finishAnimation(St){St.finishAnimation(),St.targetDelta=St.relativeTarget=St.target=void 0}function resolveTargetDelta(St){St.resolveTargetDelta()}function calcProjection(St){St.calcProjection()}function resetRotation(St){St.resetRotation()}function removeLeadSnapshots(St){St.removeLeadSnapshot()}function mixAxisDelta(St,er,tr){St.translate=mix(er.translate,0,tr),St.scale=mix(er.scale,1,tr),St.origin=er.origin,St.originPoint=er.originPoint}function mixAxis(St,er,tr,rr){St.min=mix(er.min,tr.min,rr),St.max=mix(er.max,tr.max,rr)}function mixBox(St,er,tr,rr){mixAxis(St.x,er.x,tr.x,rr),mixAxis(St.y,er.y,tr.y,rr)}function hasOpacityCrossfade(St){return St.animationValues&&St.animationValues.opacityExit!==void 0}var defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(St,er){for(var tr=St.root,rr=St.path.length-1;rr>=0;rr--)if(Boolean(St.path[rr].instance)){tr=St.path[rr];break}var nr=tr&&tr!==St.root?tr.instance:document,ar=nr.querySelector('[data-projection-id="'.concat(er,'"]'));ar&&St.mount(ar,!0)}function roundAxis(St){St.min=Math.round(St.min),St.max=Math.round(St.max)}function roundBox(St){roundAxis(St.x),roundAxis(St.y)}var DocumentProjectionNode=createProjectionNode({attachResizeListener:function(St,er){return addDomEvent(St,"resize",er)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:function(St){return{x:St.scrollLeft,y:St.scrollTop}},defaultParent:function(){if(!rootProjectionNode.current){var St=new DocumentProjectionNode(0,{});St.mount(window),St.setOptions({layoutScroll:!0}),rootProjectionNode.current=St}return rootProjectionNode.current},resetTransform:function(St,er){St.style.transform=er??"none"},checkIsScrollRoot:function(St){return Boolean(window.getComputedStyle(St).position==="fixed")}}),featureBundle=__assign$1(__assign$1(__assign$1(__assign$1({},animations),gestureAnimations),drag),layoutFeatures),motion=createMotionProxy(function(St,er){return createDomMotionConfig(St,er,featureBundle,createDomVisualElement,HTMLProjectionNode)});function useIsMounted(){var St=react.exports.useRef(!1);return useIsomorphicLayoutEffect$1(function(){return St.current=!0,function(){St.current=!1}},[]),St}function useForceUpdate(){var St=useIsMounted(),er=__read(react.exports.useState(0),2),tr=er[0],rr=er[1],nr=react.exports.useCallback(function(){St.current&&rr(tr+1)},[tr]),ar=react.exports.useCallback(function(){return sync.postRender(nr)},[nr]);return[ar,tr]}var PresenceChild=function(St){var er=St.children,tr=St.initial,rr=St.isPresent,nr=St.onExitComplete,ar=St.custom,dr=St.presenceAffectsLayout,or=useConstant(newChildrenMap),ir=useId$2(),lr=react.exports.useMemo(function(){return{id:ir,initial:tr,isPresent:rr,custom:ar,onExitComplete:function(fr){var cr,ur;or.set(fr,!0);try{for(var sr=__values(or.values()),hr=sr.next();!hr.done;hr=sr.next()){var gr=hr.value;if(!gr)return}}catch(pr){cr={error:pr}}finally{try{hr&&!hr.done&&(ur=sr.return)&&ur.call(sr)}finally{if(cr)throw cr.error}}nr?.()},register:function(fr){return or.set(fr,!1),function(){return or.delete(fr)}}}},dr?void 0:[rr]);return react.exports.useMemo(function(){or.forEach(function(fr,cr){return or.set(cr,!1)})},[rr]),react.exports.useEffect(function(){!rr&&!or.size&&nr?.()},[rr]),jsx(PresenceContext.Provider,{value:lr,children:er})};function newChildrenMap(){return new Map}var getChildKey=function(St){return St.key||""};function updateChildLookup(St,er){St.forEach(function(tr){var rr=getChildKey(tr);er.set(rr,tr)})}function onlyElements(St){var er=[];return react.exports.Children.forEach(St,function(tr){react.exports.isValidElement(tr)&&er.push(tr)}),er}var AnimatePresence=function(St){var er=St.children,tr=St.custom,rr=St.initial,nr=rr===void 0?!0:rr,ar=St.onExitComplete,dr=St.exitBeforeEnter,or=St.presenceAffectsLayout,ir=or===void 0?!0:or,lr=__read(useForceUpdate(),1),fr=lr[0],cr=react.exports.useContext(LayoutGroupContext).forceRender;cr&&(fr=cr);var ur=useIsMounted(),sr=onlyElements(er),hr=sr,gr=new Set,pr=react.exports.useRef(hr),mr=react.exports.useRef(new Map).current,vr=react.exports.useRef(!0);if(useIsomorphicLayoutEffect$1(function(){vr.current=!1,updateChildLookup(sr,mr),pr.current=hr}),useUnmountEffect(function(){vr.current=!0,mr.clear(),gr.clear()}),vr.current)return jsx(Fragment,{children:hr.map(function(Pr){return jsx(PresenceChild,{isPresent:!0,initial:nr?void 0:!1,presenceAffectsLayout:ir,children:Pr},getChildKey(Pr))})});hr=__spreadArray$1([],__read(hr),!1);for(var yr=pr.current.map(getChildKey),br=sr.map(getChildKey),xr=yr.length,Cr=0;Cr<xr;Cr++){var kr=yr[Cr];br.indexOf(kr)===-1&&gr.add(kr)}return dr&&gr.size&&(hr=[]),gr.forEach(function(Pr){if(br.indexOf(Pr)===-1){var $r=mr.get(Pr);if(!!$r){var Kr=yr.indexOf(Pr),Ir=function(){mr.delete(Pr),gr.delete(Pr);var jr=pr.current.findIndex(function(Jr){return Jr.key===Pr});if(pr.current.splice(jr,1),!gr.size){if(pr.current=sr,ur.current===!1)return;fr(),ar&&ar()}};hr.splice(Kr,0,jsx(PresenceChild,{isPresent:!1,onExitComplete:Ir,custom:tr,presenceAffectsLayout:ir,children:$r},getChildKey($r)))}}}),hr=hr.map(function(Pr){var $r=Pr.key;return gr.has($r)?Pr:jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:ir,children:Pr},getChildKey(Pr))}),env!=="production"&&dr&&hr.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),jsx(Fragment,{children:gr.size?hr:hr.map(function(Pr){return react.exports.cloneElement(Pr)})})},cx$7=(...St)=>St.filter(Boolean).join(" ");function isDev(){return!1}var warn=St=>{const{condition:er,message:tr}=St;er&&isDev()&&console.warn(tr)},TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(St){switch(St?.direction??"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}var TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(St,er)=>({...St,delay:typeof er=="number"?er:er?.enter}),exit:(St,er)=>({...St,delay:typeof er=="number"?er:er?.exit})},isNumeric=St=>St!=null&&parseInt(St.toString(),10)>0,defaultTransitions={exit:{height:{duration:.2,ease:TRANSITION_EASINGS.ease},opacity:{duration:.3,ease:TRANSITION_EASINGS.ease}},enter:{height:{duration:.3,ease:TRANSITION_EASINGS.ease},opacity:{duration:.4,ease:TRANSITION_EASINGS.ease}}},variants={exit:({animateOpacity:St,startingHeight:er,transition:tr,transitionEnd:rr,delay:nr})=>({...St&&{opacity:isNumeric(er)?1:0},height:er,transitionEnd:rr?.exit,transition:tr?.exit??withDelay.exit(defaultTransitions.exit,nr)}),enter:({animateOpacity:St,endingHeight:er,transition:tr,transitionEnd:rr,delay:nr})=>({...St&&{opacity:1},height:er,transitionEnd:rr?.enter,transition:tr?.enter??withDelay.enter(defaultTransitions.enter,nr)})},Collapse=react.exports.forwardRef((St,er)=>{const{in:tr,unmountOnExit:rr,animateOpacity:nr=!0,startingHeight:ar=0,endingHeight:dr="auto",style:or,className:ir,transition:lr,transitionEnd:fr,...cr}=St,[ur,sr]=react.exports.useState(!1);react.exports.useEffect(()=>{const vr=setTimeout(()=>{sr(!0)});return()=>clearTimeout(vr)},[]),warn({condition:Boolean(ar>0&&rr),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const hr=parseFloat(ar.toString())>0,gr={startingHeight:ar,endingHeight:dr,animateOpacity:nr,transition:ur?lr:{enter:{duration:0}},transitionEnd:{enter:fr?.enter,exit:rr?fr?.exit:{...fr?.exit,display:hr?"block":"none"}}},pr=rr?tr:!0,mr=tr||rr?"enter":"exit";return jsx(AnimatePresence,{initial:!1,custom:gr,children:pr&&React.createElement(motion.div,{ref:er,...cr,className:cx$7("chakra-collapse",ir),style:{overflow:"hidden",display:"block",...or},custom:gr,variants,initial:rr?"exit":!1,animate:mr,exit:"exit"})})});Collapse.displayName="Collapse";var variants2={enter:({transition:St,transitionEnd:er,delay:tr}={})=>({opacity:1,transition:St?.enter??withDelay.enter(TRANSITION_DEFAULTS.enter,tr),transitionEnd:er?.enter}),exit:({transition:St,transitionEnd:er,delay:tr}={})=>({opacity:0,transition:St?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,tr),transitionEnd:er?.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants2},Fade=react.exports.forwardRef(function(er,tr){const{unmountOnExit:rr,in:nr,className:ar,transition:dr,transitionEnd:or,delay:ir,...lr}=er,fr=nr||rr?"enter":"exit",cr=rr?nr&&rr:!0,ur={transition:dr,transitionEnd:or,delay:ir};return jsx(AnimatePresence,{custom:ur,children:cr&&React.createElement(motion.div,{ref:tr,className:cx$7("chakra-fade",ar),custom:ur,...fadeConfig,animate:fr,...lr})})});Fade.displayName="Fade";var variants3={exit:({reverse:St,initialScale:er,transition:tr,transitionEnd:rr,delay:nr})=>({opacity:0,...St?{scale:er,transitionEnd:rr?.exit}:{transitionEnd:{scale:er,...rr?.exit}},transition:tr?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,nr)}),enter:({transitionEnd:St,transition:er,delay:tr})=>({opacity:1,scale:1,transition:er?.enter??withDelay.enter(TRANSITION_DEFAULTS.enter,tr),transitionEnd:St?.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants3},ScaleFade=react.exports.forwardRef(function(er,tr){const{unmountOnExit:rr,in:nr,reverse:ar=!0,initialScale:dr=.95,className:or,transition:ir,transitionEnd:lr,delay:fr,...cr}=er,ur=rr?nr&&rr:!0,sr=nr||rr?"enter":"exit",hr={initialScale:dr,reverse:ar,transition:ir,transitionEnd:lr,delay:fr};return jsx(AnimatePresence,{custom:hr,children:ur&&React.createElement(motion.div,{ref:tr,className:cx$7("chakra-offset-slide",or),...scaleFadeConfig,animate:sr,custom:hr,...cr})})});ScaleFade.displayName="ScaleFade";var defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants4={exit:({direction:St,transition:er,transitionEnd:tr,delay:rr})=>{const{exit:nr}=getSlideTransition({direction:St});return{...nr,transition:er?.exit??withDelay.exit(defaultTransition.exit,rr),transitionEnd:tr?.exit}},enter:({direction:St,transitionEnd:er,transition:tr,delay:rr})=>{const{enter:nr}=getSlideTransition({direction:St});return{...nr,transition:tr?.enter??withDelay.enter(defaultTransition.enter,rr),transitionEnd:er?.enter}}},Slide=react.exports.forwardRef(function(er,tr){const{direction:rr="right",style:nr,unmountOnExit:ar,in:dr,className:or,transition:ir,transitionEnd:lr,delay:fr,motionProps:cr,...ur}=er,sr=getSlideTransition({direction:rr}),hr=Object.assign({position:"fixed"},sr.position,nr),gr=ar?dr&&ar:!0,pr=dr||ar?"enter":"exit",mr={transitionEnd:lr,transition:ir,direction:rr,delay:fr};return jsx(AnimatePresence,{custom:mr,children:gr&&React.createElement(motion.div,{...ur,ref:tr,initial:"exit",className:cx$7("chakra-slide",or),animate:pr,exit:"exit",custom:mr,variants:variants4,style:hr,...cr})})});Slide.displayName="Slide";var variants5={initial:({offsetX:St,offsetY:er,transition:tr,transitionEnd:rr,delay:nr})=>({opacity:0,x:St,y:er,transition:tr?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,nr),transitionEnd:rr?.exit}),enter:({transition:St,transitionEnd:er,delay:tr})=>({opacity:1,x:0,y:0,transition:St?.enter??withDelay.enter(TRANSITION_DEFAULTS.enter,tr),transitionEnd:er?.enter}),exit:({offsetY:St,offsetX:er,transition:tr,transitionEnd:rr,reverse:nr,delay:ar})=>{const dr={x:er,y:St};return{opacity:0,transition:tr?.exit??withDelay.exit(TRANSITION_DEFAULTS.exit,ar),...nr?{...dr,transitionEnd:rr?.exit}:{transitionEnd:{...dr,...rr?.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants5},SlideFade=react.exports.forwardRef(function(er,tr){const{unmountOnExit:rr,in:nr,reverse:ar=!0,className:dr,offsetX:or=0,offsetY:ir=8,transition:lr,transitionEnd:fr,delay:cr,...ur}=er,sr=rr?nr&&rr:!0,hr=nr||rr?"enter":"exit",gr={offsetX:or,offsetY:ir,reverse:ar,transition:lr,transitionEnd:fr,delay:cr};return jsx(AnimatePresence,{custom:gr,children:sr&&React.createElement(motion.div,{ref:tr,className:cx$7("chakra-offset-slide",dr),custom:gr,...slideFadeConfig,animate:hr,...ur})})});SlideFade.displayName="SlideFade";var cx$6=(...St)=>St.filter(Boolean).join(" "),spin=keyframes$2({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=forwardRef((St,er)=>{const tr=useStyleConfig("Spinner",St),{label:rr="Loading...",thickness:nr="2px",speed:ar="0.45s",emptyColor:dr="transparent",className:or,...ir}=omitThemingProps(St),lr=cx$6("chakra-spinner",or),fr={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:nr,borderBottomColor:dr,borderLeftColor:dr,animation:`${spin} ${ar} linear infinite`,...tr};return React.createElement(chakra.div,{ref:er,__css:fr,className:lr,...ir},rr&&React.createElement(chakra.span,{srOnly:!0},rr))});Spinner.displayName="Spinner";var cx$5=(...St)=>St.filter(Boolean).join(" ");function CheckIcon(St){return jsx(Icon,{viewBox:"0 0 24 24",...St,children:jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(St){return jsx(Icon,{viewBox:"0 0 24 24",...St,children:jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(St){return jsx(Icon,{viewBox:"0 0 24 24",...St,children:jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var[AlertProvider,useAlertContext]=createContext({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner,colorScheme:"blue"}};function getStatusColorScheme(St){return STATUSES[St].colorScheme}function getStatusIcon(St){return STATUSES[St].icon}var Alert=forwardRef(function(er,tr){const{status:rr="info",addRole:nr=!0,...ar}=omitThemingProps(er),dr=er.colorScheme??getStatusColorScheme(rr),or=useMultiStyleConfig("Alert",{...er,colorScheme:dr}),ir={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...or.container};return React.createElement(AlertProvider,{value:{status:rr}},React.createElement(AlertStylesProvider,{value:or},React.createElement(chakra.div,{role:nr?"alert":void 0,ref:tr,...ar,className:cx$5("chakra-alert",er.className),__css:ir})))});Alert.displayName="Alert";var AlertDescription=forwardRef(function(er,tr){const nr={display:"inline",...useAlertStyles().description};return React.createElement(chakra.div,{ref:tr,...er,className:cx$5("chakra-alert__desc",er.className),__css:nr})});AlertDescription.displayName="AlertDescription";function AlertIcon(St){const{status:er}=useAlertContext(),tr=getStatusIcon(er),rr=useAlertStyles(),nr=er==="loading"?rr.spinner:rr.icon;return React.createElement(chakra.span,{display:"inherit",...St,className:cx$5("chakra-alert__icon",St.className),__css:nr},St.children||jsx(tr,{h:"100%",w:"100%"}))}AlertIcon.displayName="AlertIcon";var AlertTitle=forwardRef(function(er,tr){const rr=useAlertStyles();return React.createElement(chakra.div,{ref:tr,...er,className:cx$5("chakra-alert__title",er.className),__css:rr.title})});AlertTitle.displayName="AlertTitle";function omit$1(St,er=[]){const tr=Object.assign({},St);for(const rr of er)rr in tr&&delete tr[rr];return tr}function useImage(St){const{loading:er,src:tr,srcSet:rr,onLoad:nr,onError:ar,crossOrigin:dr,sizes:or,ignoreFallback:ir}=St,[lr,fr]=react.exports.useState("pending");react.exports.useEffect(()=>{fr(tr?"loading":"pending")},[tr]);const cr=react.exports.useRef(),ur=react.exports.useCallback(()=>{if(!tr)return;sr();const hr=new Image;hr.src=tr,dr&&(hr.crossOrigin=dr),rr&&(hr.srcset=rr),or&&(hr.sizes=or),er&&(hr.loading=er),hr.onload=gr=>{sr(),fr("loaded"),nr?.(gr)},hr.onerror=gr=>{sr(),fr("failed"),ar?.(gr)},cr.current=hr},[tr,dr,rr,or,nr,ar,er]),sr=()=>{cr.current&&(cr.current.onload=null,cr.current.onerror=null,cr.current=null)};return useSafeLayoutEffect$2(()=>{if(!ir)return lr==="loading"&&ur(),()=>{sr()}},[lr,ur,ir]),ir?"loaded":lr}var shouldShowFallbackImage=(St,er)=>St!=="loaded"&&er==="beforeLoadOrError"||St==="failed"&&er==="onError",NativeImage=forwardRef(function(er,tr){const{htmlWidth:rr,htmlHeight:nr,alt:ar,...dr}=er;return jsx("img",{width:rr,height:nr,ref:tr,alt:ar,...dr})});NativeImage.displayName="NativeImage";var Image2=forwardRef(function(er,tr){const{fallbackSrc:rr,fallback:nr,src:ar,srcSet:dr,align:or,fit:ir,loading:lr,ignoreFallback:fr,crossOrigin:cr,fallbackStrategy:ur="beforeLoadOrError",referrerPolicy:sr,...hr}=er,gr=rr!==void 0||nr!==void 0,pr=lr!=null||fr||!gr,mr=useImage({...er,ignoreFallback:pr}),vr=shouldShowFallbackImage(mr,ur),yr={ref:tr,objectFit:ir,objectPosition:or,...pr?hr:omit$1(hr,["onError","onLoad"])};return vr?nr||React.createElement(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:rr,...yr}):React.createElement(chakra.img,{as:NativeImage,src:ar,srcSet:dr,crossOrigin:cr,loading:lr,referrerPolicy:sr,className:"chakra-image",...yr})});Image2.displayName="Image";forwardRef((St,er)=>React.createElement(chakra.img,{ref:er,as:NativeImage,className:"chakra-image",...St}));function getValidChildren(St){return react.exports.Children.toArray(St).filter(er=>react.exports.isValidElement(er))}var cx$4=(...St)=>St.filter(Boolean).join(" "),dataAttr$2=St=>St?"":void 0,[ButtonGroupProvider,useButtonGroup]=createContext({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(St){const{children:er,className:tr,...rr}=St,nr=react.exports.isValidElement(er)?react.exports.cloneElement(er,{"aria-hidden":!0,focusable:!1}):er,ar=cx$4("chakra-button__icon",tr);return React.createElement(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...rr,className:ar},nr)}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(St){const{label:er,placement:tr,spacing:rr="0.5rem",children:nr=jsx(Spinner,{color:"currentColor",width:"1em",height:"1em"}),className:ar,__css:dr,...or}=St,ir=cx$4("chakra-button__spinner",ar),lr=tr==="start"?"marginEnd":"marginStart",fr=react.exports.useMemo(()=>({display:"flex",alignItems:"center",position:er?"relative":"absolute",[lr]:er?rr:0,fontSize:"1em",lineHeight:"normal",...dr}),[dr,er,lr,rr]);return React.createElement(chakra.div,{className:ir,...or,__css:fr},nr)}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(St){const[er,tr]=react.exports.useState(!St);return{ref:react.exports.useCallback(ar=>{!ar||tr(ar.tagName==="BUTTON")},[]),type:er?"button":void 0}}var Button$2=forwardRef((St,er)=>{const tr=useButtonGroup(),rr=useStyleConfig("Button",{...tr,...St}),{isDisabled:nr=tr?.isDisabled,isLoading:ar,isActive:dr,children:or,leftIcon:ir,rightIcon:lr,loadingText:fr,iconSpacing:cr="0.5rem",type:ur,spinner:sr,spinnerPlacement:hr="start",className:gr,as:pr,...mr}=omitThemingProps(St),vr=react.exports.useMemo(()=>{const Cr={...rr?._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...rr,...!!tr&&{_focus:Cr}}},[rr,tr]),{ref:yr,type:br}=useButtonType(pr),xr={rightIcon:lr,leftIcon:ir,iconSpacing:cr,children:or};return React.createElement(chakra.button,{disabled:nr||ar,ref:useMergeRefs$1(er,yr),as:pr,type:ur??br,"data-active":dataAttr$2(dr),"data-loading":dataAttr$2(ar),__css:vr,className:cx$4("chakra-button",gr),...mr},ar&&hr==="start"&&jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:fr,placement:"start",spacing:cr,children:sr}),ar?fr||React.createElement(chakra.span,{opacity:0},jsx(ButtonContent,{...xr})):jsx(ButtonContent,{...xr}),ar&&hr==="end"&&jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:fr,placement:"end",spacing:cr,children:sr}))});Button$2.displayName="Button";function ButtonContent(St){const{leftIcon:er,rightIcon:tr,children:rr,iconSpacing:nr}=St;return jsxs(Fragment,{children:[er&&jsx(ButtonIcon,{marginEnd:nr,children:er}),rr,tr&&jsx(ButtonIcon,{marginStart:nr,children:tr})]})}var ButtonGroup=forwardRef(function(er,tr){const{size:rr,colorScheme:nr,variant:ar,className:dr,spacing:or="0.5rem",isAttached:ir,isDisabled:lr,...fr}=er,cr=cx$4("chakra-button__group",dr),ur=react.exports.useMemo(()=>({size:rr,colorScheme:nr,variant:ar,isDisabled:lr}),[rr,nr,ar,lr]);let sr={display:"inline-flex"};return ir?sr={...sr,"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:sr={...sr,"& > *:not(style) ~ *:not(style)":{marginStart:or}},React.createElement(ButtonGroupProvider,{value:ur},React.createElement(chakra.div,{ref:tr,role:"group",__css:sr,className:cr,"data-attached":ir?"":void 0,...fr}))});ButtonGroup.displayName="ButtonGroup";var IconButton=forwardRef((St,er)=>{const{icon:tr,children:rr,isRound:nr,"aria-label":ar,...dr}=St,or=tr||rr,ir=react.exports.isValidElement(or)?react.exports.cloneElement(or,{"aria-hidden":!0,focusable:!1}):null;return jsx(Button$2,{padding:"0",borderRadius:nr?"full":void 0,ref:er,"aria-label":ar,...dr,children:ir})});IconButton.displayName="IconButton";var cx$3=(...St)=>St.filter(Boolean).join(" "),dataAttr$1=St=>St?"":void 0,ariaAttr=St=>St?!0:void 0;function callAllHandlers$2(...St){return function(tr){St.some(rr=>(rr?.(tr),tr?.defaultPrevented))}}var[FormControlStylesProvider,useFormControlStyles]=createContext({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext({strict:!1,name:"FormControlContext"});function useFormControlProvider(St){const{id:er,isRequired:tr,isInvalid:rr,isDisabled:nr,isReadOnly:ar,...dr}=St,or=react.exports.useId(),ir=er||`field-${or}`,lr=`${ir}-label`,fr=`${ir}-feedback`,cr=`${ir}-helptext`,[ur,sr]=react.exports.useState(!1),[hr,gr]=react.exports.useState(!1),[pr,mr]=react.exports.useState(!1),vr=react.exports.useCallback((kr={},Pr=null)=>({id:cr,...kr,ref:mergeRefs(Pr,$r=>{!$r||gr(!0)})}),[cr]),yr=react.exports.useCallback((kr={},Pr=null)=>({...kr,ref:Pr,"data-focus":dataAttr$1(pr),"data-disabled":dataAttr$1(nr),"data-invalid":dataAttr$1(rr),"data-readonly":dataAttr$1(ar),id:kr.id??lr,htmlFor:kr.htmlFor??ir}),[ir,nr,pr,rr,ar,lr]),br=react.exports.useCallback((kr={},Pr=null)=>({id:fr,...kr,ref:mergeRefs(Pr,$r=>{!$r||sr(!0)}),"aria-live":"polite"}),[fr]),xr=react.exports.useCallback((kr={},Pr=null)=>({...kr,...dr,ref:Pr,role:"group"}),[dr]),Cr=react.exports.useCallback((kr={},Pr=null)=>({...kr,ref:Pr,role:"presentation","aria-hidden":!0,children:kr.children||"*"}),[]);return{isRequired:!!tr,isInvalid:!!rr,isReadOnly:!!ar,isDisabled:!!nr,isFocused:!!pr,onFocus:()=>mr(!0),onBlur:()=>mr(!1),hasFeedbackText:ur,setHasFeedbackText:sr,hasHelpText:hr,setHasHelpText:gr,id:ir,labelId:lr,feedbackId:fr,helpTextId:cr,htmlProps:dr,getHelpTextProps:vr,getErrorMessageProps:br,getRootProps:xr,getLabelProps:yr,getRequiredIndicatorProps:Cr}}var FormControl=forwardRef(function(er,tr){const rr=useMultiStyleConfig("Form",er),nr=omitThemingProps(er),{getRootProps:ar,htmlProps:dr,...or}=useFormControlProvider(nr),ir=cx$3("chakra-form-control",er.className);return React.createElement(FormControlProvider,{value:or},React.createElement(FormControlStylesProvider,{value:rr},React.createElement(chakra.div,{...ar({},tr),className:ir,__css:rr.container})))});FormControl.displayName="FormControl";var FormHelperText=forwardRef(function(er,tr){const rr=useFormControlContext(),nr=useFormControlStyles(),ar=cx$3("chakra-form__helper-text",er.className);return React.createElement(chakra.div,{...rr?.getHelpTextProps(er,tr),__css:nr.helperText,className:ar})});FormHelperText.displayName="FormHelperText";function useFormControl(St){const{isDisabled:er,isInvalid:tr,isReadOnly:rr,isRequired:nr,...ar}=useFormControlProps(St);return{...ar,disabled:er,readOnly:rr,required:nr,"aria-invalid":ariaAttr(tr),"aria-required":ariaAttr(nr),"aria-readonly":ariaAttr(rr)}}function useFormControlProps(St){const er=useFormControlContext(),{id:tr,disabled:rr,readOnly:nr,required:ar,isRequired:dr,isInvalid:or,isReadOnly:ir,isDisabled:lr,onFocus:fr,onBlur:cr,...ur}=St,sr=St["aria-describedby"]?[St["aria-describedby"]]:[];return er?.hasFeedbackText&&er?.isInvalid&&sr.push(er.feedbackId),er?.hasHelpText&&sr.push(er.helpTextId),{...ur,"aria-describedby":sr.join(" ")||void 0,id:tr??er?.id,isDisabled:rr??lr??er?.isDisabled,isReadOnly:nr??ir??er?.isReadOnly,isRequired:ar??dr??er?.isRequired,isInvalid:or??er?.isInvalid,onFocus:callAllHandlers$2(er?.onFocus,fr),onBlur:callAllHandlers$2(er?.onBlur,cr)}}var[FormErrorStylesProvider,useFormErrorStyles]=createContext({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),FormErrorMessage=forwardRef((St,er)=>{const tr=useMultiStyleConfig("FormError",St),rr=omitThemingProps(St),nr=useFormControlContext();return nr?.isInvalid?React.createElement(FormErrorStylesProvider,{value:tr},React.createElement(chakra.div,{...nr?.getErrorMessageProps(rr,er),className:cx$3("chakra-form__error-message",St.className),__css:{display:"flex",alignItems:"center",...tr.text}})):null});FormErrorMessage.displayName="FormErrorMessage";var FormErrorIcon=forwardRef((St,er)=>{const tr=useFormErrorStyles(),rr=useFormControlContext();if(!rr?.isInvalid)return null;const nr=cx$3("chakra-form__error-icon",St.className);return jsx(Icon,{ref:er,"aria-hidden":!0,...St,__css:tr.icon,className:nr,children:jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});FormErrorIcon.displayName="FormErrorIcon";var FormLabel=forwardRef(function(er,tr){const rr=useStyleConfig("FormLabel",er),nr=omitThemingProps(er),{className:ar,children:dr,requiredIndicator:or=jsx(RequiredIndicator,{}),optionalIndicator:ir=null,...lr}=nr,fr=useFormControlContext(),cr=fr?.getLabelProps(lr,tr)??{ref:tr,...lr};return React.createElement(chakra.label,{...cr,className:cx$3("chakra-form__label",nr.className),__css:{display:"block",textAlign:"start",...rr}},dr,fr?.isRequired?or:ir)});FormLabel.displayName="FormLabel";var RequiredIndicator=forwardRef(function(er,tr){const rr=useFormControlContext(),nr=useFormControlStyles();if(!rr?.isRequired)return null;const ar=cx$3("chakra-form__required-indicator",er.className);return React.createElement(chakra.span,{...rr?.getRequiredIndicatorProps(er,tr),__css:nr.requiredIndicator,className:ar})});RequiredIndicator.displayName="RequiredIndicator";function useUpdateEffect(St,er){const tr=react.exports.useRef(!1),rr=react.exports.useRef(!1);react.exports.useEffect(()=>{if(tr.current&&rr.current)return St();rr.current=!0},er),react.exports.useEffect(()=>(tr.current=!0,()=>{tr.current=!1}),[])}function CloseIcon(St){return jsx(Icon,{focusable:"false","aria-hidden":!0,...St,children:jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var CloseButton=forwardRef(function(er,tr){const rr=useStyleConfig("CloseButton",er),{children:nr,isDisabled:ar,__css:dr,...or}=omitThemingProps(er),ir={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return React.createElement(chakra.button,{type:"button","aria-label":"Close",ref:tr,disabled:ar,__css:{...ir,...rr,...dr},...or},nr||jsx(CloseIcon,{width:"1em",height:"1em"}))});CloseButton.displayName="CloseButton";var vhPolyfill=`
  :root {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsx(Global,{styles:vhPolyfill}),CSSReset=()=>jsx(Global,{styles:`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        font-feature-settings: 'kern';
      }

      *,
      *::before,
      *::after {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
      }

      main {
        display: block;
      }

      hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      pre,
      code,
      kbd,
      samp {
        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      b,
      strong {
        font-weight: bold;
      }

      small {
        font-size: 80%;
      }

      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      sub {
        bottom: -0.25em;
      }

      sup {
        top: -0.5em;
      }

      img {
        border-style: none;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      button,
      input {
        overflow: visible;
      }

      button,
      select {
        text-transform: none;
      }

      button::-moz-focus-inner,
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }

      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      progress {
        vertical-align: baseline;
      }

      textarea {
        overflow: auto;
      }

      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }

      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      input[type="number"] {
        -moz-appearance: textfield;
      }

      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      details {
        display: block;
      }

      summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      body,
      blockquote,
      dl,
      dd,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      hr,
      figure,
      p,
      pre {
        margin: 0;
      }

      button {
        background: transparent;
        padding: 0;
      }

      fieldset {
        margin: 0;
        padding: 0;
      }

      ol,
      ul {
        margin: 0;
        padding: 0;
      }

      textarea {
        resize: vertical;
      }

      button,
      [role="button"] {
        cursor: pointer;
      }

      button::-moz-focus-inner {
        border: 0 !important;
      }

      table {
        border-collapse: collapse;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-size: inherit;
        font-weight: inherit;
      }

      button,
      input,
      optgroup,
      select,
      textarea {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      img,
      svg,
      video,
      canvas,
      audio,
      iframe,
      embed,
      object {
        display: block;
      }

      img,
      video {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible] :focus:not([data-focus-visible-added]):not([data-focus-visible-disabled]) {
        outline: none;
        box-shadow: none;
      }

      select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `}),useSafeLayoutEffect=isBrowser$1?react.exports.useLayoutEffect:react.exports.useEffect;function useCallbackRef$1(St,er=[]){const tr=react.exports.useRef(St);return useSafeLayoutEffect(()=>{tr.current=St}),react.exports.useCallback((...rr)=>{var nr;return(nr=tr.current)==null?void 0:nr.call(tr,...rr)},er)}function useControllableProp(St,er){const tr=St!==void 0;return[tr,tr&&typeof St<"u"?St:er]}function useId$1(St,er){const tr=react.exports.useId();return react.exports.useMemo(()=>St||[er,tr].filter(Boolean).join("-"),[St,er,tr])}function useDisclosure(St={}){const{onClose:er,onOpen:tr,isOpen:rr,id:nr}=St,ar=useCallbackRef$1(tr),dr=useCallbackRef$1(er),[or,ir]=react.exports.useState(St.defaultIsOpen||!1),[lr,fr]=useControllableProp(rr,or),cr=useId$1(nr,"disclosure"),ur=react.exports.useCallback(()=>{lr||ir(!1),dr?.()},[lr,dr]),sr=react.exports.useCallback(()=>{lr||ir(!0),ar?.()},[lr,ar]),hr=react.exports.useCallback(()=>{(fr?ur:sr)()},[fr,sr,ur]);return{isOpen:!!fr,onOpen:sr,onClose:ur,onToggle:hr,isControlled:lr,getButtonProps:(gr={})=>({...gr,"aria-expanded":fr,"aria-controls":cr,onClick:callAllHandlers$3(gr.onClick,hr)}),getDisclosureProps:(gr={})=>({...gr,hidden:!fr,id:cr})}}function compact$1(St){const er=Object.assign({},St);for(let tr in er)er[tr]===void 0&&delete er[tr];return er}var Input=forwardRef(function(er,tr){const{htmlSize:rr,...nr}=er,ar=useMultiStyleConfig("Input",nr),dr=omitThemingProps(nr),or=useFormControl(dr),ir=cx$8("chakra-input",er.className);return React.createElement(chakra.input,{size:rr,...or,__css:ar.field,ref:tr,className:ir})});Input.displayName="Input";Input.id="Input";var[InputGroupStylesProvider,useInputGroupStyles]=createContext({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function(er,tr){const rr=useMultiStyleConfig("Input",er),{children:nr,className:ar,...dr}=omitThemingProps(er),or=cx$8("chakra-input__group",ar),ir={},lr=getValidChildren(nr),fr=rr.field;lr.forEach(ur=>{!rr||(fr&&ur.type.id==="InputLeftElement"&&(ir.paddingStart=fr.height??fr.h),fr&&ur.type.id==="InputRightElement"&&(ir.paddingEnd=fr.height??fr.h),ur.type.id==="InputRightAddon"&&(ir.borderEndRadius=0),ur.type.id==="InputLeftAddon"&&(ir.borderStartRadius=0))});const cr=lr.map(ur=>{var sr,hr;const gr=compact$1({size:((sr=ur.props)==null?void 0:sr.size)||er.size,variant:((hr=ur.props)==null?void 0:hr.variant)||er.variant});return ur.type.id!=="Input"?react.exports.cloneElement(ur,gr):react.exports.cloneElement(ur,Object.assign(gr,ir,ur.props))});return React.createElement(chakra.div,{className:or,ref:tr,__css:{width:"100%",display:"flex",position:"relative"},...dr},jsx(InputGroupStylesProvider,{value:rr,children:cr}))});InputGroup.displayName="InputGroup";var placements={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},StyledAddon=chakra("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),InputAddon=forwardRef(function(er,tr){const{placement:rr="left",...nr}=er,ar=placements[rr]??{},dr=useInputGroupStyles();return jsx(StyledAddon,{ref:tr,...nr,__css:{...dr.addon,...ar}})});InputAddon.displayName="InputAddon";var InputLeftAddon=forwardRef(function(er,tr){return jsx(InputAddon,{ref:tr,placement:"left",...er,className:cx$8("chakra-input__left-addon",er.className)})});InputLeftAddon.displayName="InputLeftAddon";InputLeftAddon.id="InputLeftAddon";var InputRightAddon=forwardRef(function(er,tr){return jsx(InputAddon,{ref:tr,placement:"right",...er,className:cx$8("chakra-input__right-addon",er.className)})});InputRightAddon.displayName="InputRightAddon";InputRightAddon.id="InputRightAddon";var StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function(er,tr){const{placement:rr="left",...nr}=er,ar=useInputGroupStyles(),dr=ar.field,ir={[rr==="left"?"insetStart":"insetEnd"]:"0",width:dr?.height??dr?.h,height:dr?.height??dr?.h,fontSize:dr?.fontSize,...ar.element};return jsx(StyledInputElement,{ref:tr,__css:ir,...nr})});InputElement.id="InputElement";InputElement.displayName="InputElement";var InputLeftElement=forwardRef(function(er,tr){const{className:rr,...nr}=er,ar=cx$8("chakra-input__left-element",rr);return jsx(InputElement,{ref:tr,placement:"left",className:ar,...nr})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";var InputRightElement=forwardRef(function(er,tr){const{className:rr,...nr}=er,ar=cx$8("chakra-input__right-element",rr);return jsx(InputElement,{ref:tr,placement:"right",className:ar,...nr})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";function isObject$2(St){const er=typeof St;return St!=null&&(er==="object"||er==="function")&&!Array.isArray(St)}Object.freeze(["base","sm","md","lg","xl","2xl"]);function mapResponsive(St,er){return Array.isArray(St)?St.map(tr=>tr===null?null:er(tr)):isObject$2(St)?Object.keys(St).reduce((tr,rr)=>(tr[rr]=er(St[rr]),tr),{}):St!=null?er(St):null}var AspectRatio=forwardRef(function(St,er){const{ratio:tr=4/3,children:rr,className:nr,...ar}=St,dr=react.exports.Children.only(rr),or=cx$8("chakra-aspect-ratio",nr);return React.createElement(chakra.div,{ref:er,position:"relative",className:or,_before:{height:0,content:'""',display:"block",paddingBottom:mapResponsive(tr,ir=>`${1/ir*100}%`)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}},...ar},dr)});AspectRatio.displayName="AspectRatio";var Badge=forwardRef(function(er,tr){const rr=useStyleConfig("Badge",er),{className:nr,...ar}=omitThemingProps(er);return React.createElement(chakra.span,{ref:tr,className:cx$8("chakra-badge",er.className),...ar,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...rr}})});Badge.displayName="Badge";var Box=chakra("div");Box.displayName="Box";var Square=forwardRef(function(er,tr){const{size:rr,centerContent:nr=!0,...ar}=er;return jsx(Box,{ref:tr,boxSize:rr,__css:{...nr?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...ar})});Square.displayName="Square";var Circle=forwardRef(function(er,tr){const{size:rr,...nr}=er;return jsx(Square,{size:rr,ref:tr,borderRadius:"9999px",...nr})});Circle.displayName="Circle";var Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";var centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function(er,tr){const{axis:rr="both",...nr}=er;return React.createElement(chakra.div,{ref:tr,__css:centerStyles[rr],...nr,position:"absolute"})});var Code=forwardRef(function(er,tr){const rr=useStyleConfig("Code",er),{className:nr,...ar}=omitThemingProps(er);return React.createElement(chakra.code,{ref:tr,className:cx$8("chakra-code",er.className),...ar,__css:{display:"inline-block",...rr}})});Code.displayName="Code";var Container$1=forwardRef(function(er,tr){const{className:rr,centerContent:nr,...ar}=omitThemingProps(er),dr=useStyleConfig("Container",er);return React.createElement(chakra.div,{ref:tr,className:cx$8("chakra-container",rr),...ar,__css:{...dr,...nr&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});Container$1.displayName="Container";var Divider=forwardRef(function(er,tr){const{borderLeftWidth:rr,borderBottomWidth:nr,borderTopWidth:ar,borderRightWidth:dr,borderWidth:or,borderStyle:ir,borderColor:lr,...fr}=useStyleConfig("Divider",er),{className:cr,orientation:ur="horizontal",__css:sr,...hr}=omitThemingProps(er),gr={vertical:{borderLeftWidth:rr||dr||or||"1px",height:"100%"},horizontal:{borderBottomWidth:nr||ar||or||"1px",width:"100%"}};return React.createElement(chakra.hr,{ref:tr,"aria-orientation":ur,...hr,__css:{...fr,border:"0",borderColor:lr,borderStyle:ir,...gr[ur],...sr},className:cx$8("chakra-divider",cr)})});Divider.displayName="Divider";var Flex=forwardRef(function(er,tr){const{direction:rr,align:nr,justify:ar,wrap:dr,basis:or,grow:ir,shrink:lr,...fr}=er,cr={display:"flex",flexDirection:rr,alignItems:nr,justifyContent:ar,flexWrap:dr,flexBasis:or,flexGrow:ir,flexShrink:lr};return React.createElement(chakra.div,{ref:tr,__css:cr,...fr})});Flex.displayName="Flex";var Grid=forwardRef(function(er,tr){const{templateAreas:rr,gap:nr,rowGap:ar,columnGap:dr,column:or,row:ir,autoFlow:lr,autoRows:fr,templateRows:cr,autoColumns:ur,templateColumns:sr,...hr}=er,gr={display:"grid",gridTemplateAreas:rr,gridGap:nr,gridRowGap:ar,gridColumnGap:dr,gridAutoColumns:ur,gridColumn:or,gridRow:ir,gridAutoFlow:lr,gridAutoRows:fr,gridTemplateRows:cr,gridTemplateColumns:sr};return React.createElement(chakra.div,{ref:tr,__css:gr,...hr})});Grid.displayName="Grid";function spanFn(St){return mapResponsive(St,er=>er==="auto"?"auto":`span ${er}/span ${er}`)}var GridItem=forwardRef(function(er,tr){const{area:rr,colSpan:nr,colStart:ar,colEnd:dr,rowEnd:or,rowSpan:ir,rowStart:lr,...fr}=er,cr=compact$1({gridArea:rr,gridColumn:spanFn(nr),gridRow:spanFn(ir),gridColumnStart:ar,gridColumnEnd:dr,gridRowStart:lr,gridRowEnd:or});return React.createElement(chakra.div,{ref:tr,__css:cr,...fr})});GridItem.displayName="GridItem";var Heading=forwardRef(function(er,tr){const rr=useStyleConfig("Heading",er),{className:nr,...ar}=omitThemingProps(er);return React.createElement(chakra.h2,{ref:tr,className:cx$8("chakra-heading",er.className),...ar,__css:rr})});Heading.displayName="Heading";forwardRef(function(er,tr){const rr=useStyleConfig("Mark",er),nr=omitThemingProps(er);return jsx(Box,{ref:tr,...nr,as:"mark",__css:{bg:"transparent",whiteSpace:"nowrap",...rr}})});var Kbd=forwardRef(function(er,tr){const rr=useStyleConfig("Kbd",er),{className:nr,...ar}=omitThemingProps(er);return React.createElement(chakra.kbd,{ref:tr,className:cx$8("chakra-kbd",nr),...ar,__css:{fontFamily:"mono",...rr}})});Kbd.displayName="Kbd";var Link$1=forwardRef(function(er,tr){const rr=useStyleConfig("Link",er),{className:nr,isExternal:ar,...dr}=omitThemingProps(er);return React.createElement(chakra.a,{target:ar?"_blank":void 0,rel:ar?"noopener":void 0,ref:tr,className:cx$8("chakra-link",nr),...dr,__css:rr})});Link$1.displayName="Link";forwardRef(function(er,tr){const{isExternal:rr,target:nr,rel:ar,className:dr,...or}=er;return React.createElement(chakra.a,{...or,ref:tr,className:cx$8("chakra-linkbox__overlay",dr),rel:rr?"noopener noreferrer":ar,target:rr?"_blank":nr,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})});forwardRef(function(er,tr){const{className:rr,...nr}=er;return React.createElement(chakra.div,{ref:tr,position:"relative",...nr,className:cx$8("chakra-linkbox",rr),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})});var[ListStylesProvider,useListStyles]=createContext({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),List=forwardRef(function(er,tr){const rr=useMultiStyleConfig("List",er),{children:nr,styleType:ar="none",stylePosition:dr,spacing:or,...ir}=omitThemingProps(er),lr=getValidChildren(nr),cr=or?{["& > *:not(style) ~ *:not(style)"]:{mt:or}}:{};return React.createElement(ListStylesProvider,{value:rr},React.createElement(chakra.ul,{ref:tr,listStyleType:ar,listStylePosition:dr,role:"list",__css:{...rr.container,...cr},...ir},lr))});List.displayName="List";var OrderedList=forwardRef((St,er)=>{const{as:tr,...rr}=St;return jsx(List,{ref:er,as:"ol",styleType:"decimal",marginStart:"1em",...rr})});OrderedList.displayName="OrderedList";var UnorderedList=forwardRef(function(er,tr){const{as:rr,...nr}=er;return jsx(List,{ref:tr,as:"ul",styleType:"initial",marginStart:"1em",...nr})});UnorderedList.displayName="UnorderedList";var ListItem=forwardRef(function(er,tr){const rr=useListStyles();return React.createElement(chakra.li,{ref:tr,...er,__css:rr.item})});ListItem.displayName="ListItem";var ListIcon=forwardRef(function(er,tr){const rr=useListStyles();return jsx(Icon,{ref:tr,role:"presentation",...er,__css:rr.icon})});ListIcon.displayName="ListIcon";var SimpleGrid=forwardRef(function(er,tr){const{columns:rr,spacingX:nr,spacingY:ar,spacing:dr,minChildWidth:or,...ir}=er,lr=useTheme(),fr=or?widthToColumns(or,lr):countToColumns(rr);return jsx(Grid,{ref:tr,gap:dr,columnGap:nr,rowGap:ar,templateColumns:fr,...ir})});SimpleGrid.displayName="SimpleGrid";function toPx(St){return typeof St=="number"?`${St}px`:St}function widthToColumns(St,er){return mapResponsive(St,tr=>{const rr=getToken("sizes",tr,toPx(tr))(er);return tr===null?null:`repeat(auto-fit, minmax(${rr}, 1fr))`})}function countToColumns(St){return mapResponsive(St,er=>er===null?null:`repeat(${er}, minmax(0, 1fr))`)}var Spacer=chakra("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Spacer.displayName="Spacer";var selector="& > *:not(style) ~ *:not(style)";function getStackStyles(St){const{spacing:er,direction:tr}=St,rr={column:{marginTop:er,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:er},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:er,marginStart:0},"row-reverse":{marginTop:0,marginEnd:er,marginBottom:0,marginStart:0}};return{flexDirection:tr,[selector]:mapResponsive(tr,nr=>rr[nr])}}function getDividerStyles(St){const{spacing:er,direction:tr}=St,rr={column:{my:er,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:er,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:er,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:er,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(tr,nr=>rr[nr])}}var StackItem=St=>React.createElement(chakra.div,{className:"chakra-stack__item",...St,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...St.__css}});StackItem.displayName="StackItem";var Stack=forwardRef((St,er)=>{const{isInline:tr,direction:rr,align:nr,justify:ar,spacing:dr="0.5rem",wrap:or,children:ir,divider:lr,className:fr,shouldWrapChildren:cr,...ur}=St,sr=tr?"row":rr??"column",hr=react.exports.useMemo(()=>getStackStyles({direction:sr,spacing:dr}),[sr,dr]),gr=react.exports.useMemo(()=>getDividerStyles({spacing:dr,direction:sr}),[dr,sr]),pr=!!lr,mr=!cr&&!pr,vr=react.exports.useMemo(()=>{const br=getValidChildren(ir);return mr?br:br.map((xr,Cr)=>{const kr=typeof xr.key<"u"?xr.key:Cr,Pr=Cr+1===br.length,Kr=cr?jsx(StackItem,{children:xr},kr):xr;if(!pr)return Kr;const Ir=react.exports.cloneElement(lr,{__css:gr}),jr=Pr?null:Ir;return jsxs(react.exports.Fragment,{children:[Kr,jr]},kr)})},[lr,gr,pr,mr,cr,ir]),yr=cx$8("chakra-stack",fr);return React.createElement(chakra.div,{ref:er,display:"flex",alignItems:nr,justifyContent:ar,flexDirection:hr.flexDirection,flexWrap:or,className:yr,__css:pr?{}:{[selector]:hr[selector]},...ur},vr)});Stack.displayName="Stack";var HStack=forwardRef((St,er)=>jsx(Stack,{align:"center",...St,direction:"row",ref:er}));HStack.displayName="HStack";var VStack=forwardRef((St,er)=>jsx(Stack,{align:"center",...St,direction:"column",ref:er}));VStack.displayName="VStack";var Text$1=forwardRef(function(er,tr){const rr=useStyleConfig("Text",er),{className:nr,align:ar,decoration:dr,casing:or,...ir}=omitThemingProps(er),lr=compact$1({textAlign:er.align,textDecoration:er.decoration,textTransform:er.casing});return React.createElement(chakra.p,{ref:tr,className:cx$8("chakra-text",er.className),...lr,...ir,__css:rr})});Text$1.displayName="Text";function px(St){return typeof St=="number"?`${St}px`:St}var Wrap=forwardRef(function(er,tr){const{spacing:rr="0.5rem",spacingX:nr,spacingY:ar,children:dr,justify:or,direction:ir,align:lr,className:fr,shouldWrapChildren:cr,...ur}=er,sr=react.exports.useMemo(()=>{const{spacingX:gr=rr,spacingY:pr=rr}={spacingX:nr,spacingY:ar};return{"--chakra-wrap-x-spacing":mr=>mapResponsive(gr,vr=>px(tokenToCSSVar("space",vr)(mr))),"--chakra-wrap-y-spacing":mr=>mapResponsive(pr,vr=>px(tokenToCSSVar("space",vr)(mr))),"--wrap-x-spacing":"calc(var(--chakra-wrap-x-spacing) / 2)","--wrap-y-spacing":"calc(var(--chakra-wrap-y-spacing) / 2)",display:"flex",flexWrap:"wrap",justifyContent:or,alignItems:lr,flexDirection:ir,listStyleType:"none",padding:"0",margin:"calc(var(--wrap-y-spacing) * -1) calc(var(--wrap-x-spacing) * -1)","& > *:not(style)":{margin:"var(--wrap-y-spacing) var(--wrap-x-spacing)"}}},[rr,nr,ar,or,lr,ir]),hr=react.exports.useMemo(()=>cr?react.exports.Children.map(dr,(gr,pr)=>jsx(WrapItem,{children:gr},pr)):dr,[dr,cr]);return React.createElement(chakra.div,{ref:tr,className:cx$8("chakra-wrap",fr),overflow:"hidden",...ur},React.createElement(chakra.ul,{className:"chakra-wrap__list",__css:sr},hr))});Wrap.displayName="Wrap";var WrapItem=forwardRef(function(er,tr){const{className:rr,...nr}=er;return React.createElement(chakra.li,{ref:tr,__css:{display:"flex",alignItems:"flex-start"},className:cx$8("chakra-wrap__listitem",rr),...nr})});WrapItem.displayName="WrapItem";var doc={body:{classList:{add(){},remove(){}}},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}}},ssrDocument=doc,noop$1=()=>{},win={document:ssrDocument,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:noop$1,removeEventListener:noop$1,getComputedStyle(){return{getPropertyValue(){return""}}},matchMedia(){return{matches:!1,addListener:noop$1,removeListener:noop$1}},requestAnimationFrame(St){return typeof setTimeout>"u"?(St(),null):setTimeout(St,0)},cancelAnimationFrame(St){typeof setTimeout>"u"||clearTimeout(St)},setTimeout:()=>0,clearTimeout:noop$1,setInterval:()=>0,clearInterval:noop$1},ssrWindow=win,mockEnv={window:ssrWindow,document:ssrDocument},defaultEnv=typeof window<"u"?{window,document}:mockEnv,EnvironmentContext=react.exports.createContext(defaultEnv);EnvironmentContext.displayName="EnvironmentContext";function useEnvironment(){return react.exports.useContext(EnvironmentContext)}function EnvironmentProvider(St){const{children:er,environment:tr}=St,[rr,nr]=react.exports.useState(null),[ar,dr]=react.exports.useState(!1);react.exports.useEffect(()=>dr(!0),[]);const or=react.exports.useMemo(()=>{if(tr)return tr;const ir=rr?.ownerDocument,lr=rr?.ownerDocument.defaultView;return ir?{document:ir,window:lr}:defaultEnv},[rr,tr]);return jsxs(EnvironmentContext.Provider,{value:or,children:[er,!tr&&ar&&jsx("span",{id:"__chakra_env",hidden:!0,ref:ir=>{react.exports.startTransition(()=>{ir&&nr(ir)})}})]})}EnvironmentProvider.displayName="EnvironmentProvider";function useMediaQuery(St,er={}){const{ssr:tr=!0,fallback:rr}=er,nr=useEnvironment(),ar=Array.isArray(St)?St:[St];let dr=Array.isArray(rr)?rr:[rr];dr=dr.filter(lr=>lr!=null);const[or,ir]=react.exports.useState(()=>ar.map((lr,fr)=>({media:lr,matches:tr?!!dr[fr]:nr.window.matchMedia(lr).matches})));return react.exports.useEffect(()=>{ir(ar.map(cr=>({media:cr,matches:nr.window.matchMedia(cr).matches})));const lr=ar.map(cr=>nr.window.matchMedia(cr)),fr=cr=>{ir(ur=>ur.slice().map(sr=>sr.media===cr.media?{...sr,matches:cr.matches}:sr))};return lr.forEach(cr=>{typeof cr.addListener=="function"?cr.addListener(fr):cr.addEventListener("change",fr)}),()=>{lr.forEach(cr=>{typeof cr.removeListener=="function"?cr.removeListener(fr):cr.removeEventListener("change",fr)})}},[nr.window]),or.map(lr=>lr.matches)}var dataAttr=St=>St?"":void 0;function useEventListeners(){const St=react.exports.useRef(new Map),er=St.current,tr=react.exports.useCallback((nr,ar,dr,or)=>{St.current.set(dr,{type:ar,el:nr,options:or}),nr.addEventListener(ar,dr,or)},[]),rr=react.exports.useCallback((nr,ar,dr,or)=>{nr.removeEventListener(ar,dr,or),St.current.delete(dr)},[]);return react.exports.useEffect(()=>()=>{er.forEach((nr,ar)=>{rr(nr.el,nr.type,ar,nr.options)})},[rr,er]),{add:tr,remove:rr}}function isValidElement(St){const er=St.target,{tagName:tr,isContentEditable:rr}=er;return tr!=="INPUT"&&tr!=="TEXTAREA"&&rr!==!0}function useClickable(St={}){const{ref:er,isDisabled:tr,isFocusable:rr,clickOnEnter:nr=!0,clickOnSpace:ar=!0,onMouseDown:dr,onMouseUp:or,onClick:ir,onKeyDown:lr,onKeyUp:fr,tabIndex:cr,onMouseOver:ur,onMouseLeave:sr,...hr}=St,[gr,pr]=react.exports.useState(!0),[mr,vr]=react.exports.useState(!1),yr=useEventListeners(),br=nn=>{!nn||nn.tagName!=="BUTTON"&&pr(!1)},xr=gr?cr:cr||0,Cr=tr&&!rr,kr=react.exports.useCallback(nn=>{if(tr){nn.stopPropagation(),nn.preventDefault();return}nn.currentTarget.focus(),ir?.(nn)},[tr,ir]),Pr=react.exports.useCallback(nn=>{mr&&isValidElement(nn)&&(nn.preventDefault(),nn.stopPropagation(),vr(!1),yr.remove(document,"keyup",Pr,!1))},[mr,yr]),$r=react.exports.useCallback(nn=>{if(lr?.(nn),tr||nn.defaultPrevented||nn.metaKey||!isValidElement(nn.nativeEvent)||gr)return;const Qr=nr&&nn.key==="Enter";ar&&nn.key===" "&&(nn.preventDefault(),vr(!0)),Qr&&(nn.preventDefault(),nn.currentTarget.click()),yr.add(document,"keyup",Pr,!1)},[tr,gr,lr,nr,ar,yr,Pr]),Kr=react.exports.useCallback(nn=>{if(fr?.(nn),tr||nn.defaultPrevented||nn.metaKey||!isValidElement(nn.nativeEvent)||gr)return;ar&&nn.key===" "&&(nn.preventDefault(),vr(!1),nn.currentTarget.click())},[ar,gr,tr,fr]),Ir=react.exports.useCallback(nn=>{nn.button===0&&(vr(!1),yr.remove(document,"mouseup",Ir,!1))},[yr]),jr=react.exports.useCallback(nn=>{if(nn.button!==0)return;if(tr){nn.stopPropagation(),nn.preventDefault();return}gr||vr(!0),nn.currentTarget.focus({preventScroll:!0}),yr.add(document,"mouseup",Ir,!1),dr?.(nn)},[tr,gr,dr,yr,Ir]),Jr=react.exports.useCallback(nn=>{nn.button===0&&(gr||vr(!1),or?.(nn))},[or,gr]),zr=react.exports.useCallback(nn=>{if(tr){nn.preventDefault();return}ur?.(nn)},[tr,ur]),Hr=react.exports.useCallback(nn=>{mr&&(nn.preventDefault(),vr(!1)),sr?.(nn)},[mr,sr]),Yr=mergeRefs(er,br);return gr?{...hr,ref:Yr,type:"button","aria-disabled":Cr?void 0:tr,disabled:Cr,onClick:kr,onMouseDown:dr,onMouseUp:or,onKeyUp:fr,onKeyDown:lr,onMouseOver:ur,onMouseLeave:sr}:{...hr,ref:Yr,role:"button","data-active":dataAttr(mr),"aria-disabled":tr?"true":void 0,tabIndex:Cr?void 0:xr,onClick:kr,onMouseDown:jr,onMouseUp:Jr,onKeyUp:Kr,onKeyDown:$r,onMouseOver:zr,onMouseLeave:Hr}}function isElement(St){return St!=null&&typeof St=="object"&&"nodeType"in St&&St.nodeType===Node.ELEMENT_NODE}function isHTMLElement$1(St){if(!isElement(St))return!1;const er=St.ownerDocument.defaultView??window;return St instanceof er.HTMLElement}var hasTabIndex=St=>St.hasAttribute("tabindex");function isDisabled(St){return Boolean(St.getAttribute("disabled"))===!0||Boolean(St.getAttribute("aria-disabled"))===!0}function isHidden(St){return St.parentElement&&isHidden(St.parentElement)?!0:St.hidden}function isContentEditable(St){const er=St.getAttribute("contenteditable");return er!=="false"&&er!=null}function isFocusable(St){if(!isHTMLElement$1(St)||isHidden(St)||isDisabled(St))return!1;const{localName:er}=St;if(["input","select","textarea","button"].indexOf(er)>=0)return!0;const rr={a:()=>St.hasAttribute("href"),audio:()=>St.hasAttribute("controls"),video:()=>St.hasAttribute("controls")};return er in rr?rr[er]():isContentEditable(St)?!0:hasTabIndex(St)}var focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=St=>St.offsetWidth>0&&St.offsetHeight>0;function getAllFocusable(St){const er=Array.from(St.querySelectorAll(focusableElSelector));return er.unshift(St),er.filter(tr=>isFocusable(tr)&&isVisible(tr))}function lazyDisclosure(St){const{wasSelected:er,enabled:tr,isSelected:rr,mode:nr="unmount"}=St;return!!(!tr||rr||nr==="keepMounted"&&er)}var[PortalManagerContextProvider,usePortalManager]=createContext({strict:!1,name:"PortalManagerContext"});function PortalManager(St){const{children:er,zIndex:tr}=St;return jsx(PortalManagerContextProvider,{value:{zIndex:tr},children:er})}PortalManager.displayName="PortalManager";var[PortalContextProvider,usePortalContext]=createContext({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=St=>jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:St.zIndex,top:0,left:0,right:0},children:St.children}),DefaultPortal=St=>{const{appendToParentPortal:er,children:tr}=St,[rr,nr]=react.exports.useState(null),ar=react.exports.useRef(null),[,dr]=react.exports.useState({});react.exports.useEffect(()=>dr({}),[]);const or=usePortalContext(),ir=usePortalManager();useSafeLayoutEffect$2(()=>{if(!rr)return;const fr=rr.ownerDocument,cr=er?or??fr.body:fr.body;if(!cr)return;ar.current=fr.createElement("div"),ar.current.className=PORTAL_CLASSNAME,cr.appendChild(ar.current),dr({});const ur=ar.current;return()=>{cr.contains(ur)&&cr.removeChild(ur)}},[rr]);const lr=ir?.zIndex?jsx(Container,{zIndex:ir?.zIndex,children:tr}):tr;return ar.current?reactDom.exports.createPortal(jsx(PortalContextProvider,{value:ar.current,children:lr}),ar.current):jsx("span",{ref:fr=>{fr&&nr(fr)}})},ContainerPortal=St=>{const{children:er,containerRef:tr,appendToParentPortal:rr}=St,nr=tr.current,ar=nr??(typeof window<"u"?document.body:void 0),dr=react.exports.useMemo(()=>{const ir=nr?.ownerDocument.createElement("div");return ir&&(ir.className=PORTAL_CLASSNAME),ir},[nr]),[,or]=react.exports.useState({});return useSafeLayoutEffect$2(()=>or({}),[]),useSafeLayoutEffect$2(()=>{if(!(!dr||!ar))return ar.appendChild(dr),()=>{ar.removeChild(dr)}},[dr,ar]),ar&&dr?reactDom.exports.createPortal(jsx(PortalContextProvider,{value:rr?dr:null,children:er}),dr):null};function Portal(St){const{containerRef:er,...tr}=St;return er?jsx(ContainerPortal,{containerRef:er,...tr}):jsx(DefaultPortal,{...tr})}Portal.defaultProps={appendToParentPortal:!0};Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";var getDefaultParent=function(St){if(typeof document>"u")return null;var er=Array.isArray(St)?St[0]:St;return er.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(St){return St&&(St.host||unwrapHost(St.parentNode))},correctTargets=function(St,er){return er.map(function(tr){if(St.contains(tr))return tr;var rr=unwrapHost(tr);return rr&&St.contains(rr)?rr:(console.error("aria-hidden",tr,"in not contained inside",St,". Doing nothing"),null)}).filter(function(tr){return Boolean(tr)})},applyAttributeToOthers=function(St,er,tr,rr){var nr=correctTargets(er,Array.isArray(St)?St:[St]);markerMap[tr]||(markerMap[tr]=new WeakMap);var ar=markerMap[tr],dr=[],or=new Set,ir=new Set(nr),lr=function(cr){!cr||or.has(cr)||(or.add(cr),lr(cr.parentNode))};nr.forEach(lr);var fr=function(cr){!cr||ir.has(cr)||Array.prototype.forEach.call(cr.children,function(ur){if(or.has(ur))fr(ur);else{var sr=ur.getAttribute(rr),hr=sr!==null&&sr!=="false",gr=(counterMap.get(ur)||0)+1,pr=(ar.get(ur)||0)+1;counterMap.set(ur,gr),ar.set(ur,pr),dr.push(ur),gr===1&&hr&&uncontrolledNodes.set(ur,!0),pr===1&&ur.setAttribute(tr,"true"),hr||ur.setAttribute(rr,"true")}})};return fr(er),or.clear(),lockCount++,function(){dr.forEach(function(cr){var ur=counterMap.get(cr)-1,sr=ar.get(cr)-1;counterMap.set(cr,ur),ar.set(cr,sr),ur||(uncontrolledNodes.has(cr)||cr.removeAttribute(rr),uncontrolledNodes.delete(cr)),sr||cr.removeAttribute(tr)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(St,er,tr){tr===void 0&&(tr="data-aria-hidden");var rr=Array.from(Array.isArray(St)?St:[St]),nr=er||getDefaultParent(St);return nr?(rr.push.apply(rr,Array.from(nr.querySelectorAll("[aria-live]"))),applyAttributeToOthers(rr,nr,tr,"aria-hidden")):function(){return null}};function _objectWithoutPropertiesLoose$2(St,er){if(St==null)return{};var tr={},rr=Object.keys(St),nr,ar;for(ar=0;ar<rr.length;ar++)nr=rr[ar],!(er.indexOf(nr)>=0)&&(tr[nr]=St[nr]);return tr}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function St(rr,nr,ar,dr,or,ir){if(ir!==ReactPropTypesSecret){var lr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lr.name="Invariant Violation",lr}}St.isRequired=St;function er(){return St}var tr={array:St,bigint:St,bool:St,func:St,number:St,object:St,string:St,symbol:St,any:St,arrayOf:er,element:St,elementType:St,instanceOf:er,node:St,objectOf:er,oneOf:er,oneOfType:er,shape:er,exact:er,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return tr.PropTypes=tr,tr};propTypes.exports=factoryWithThrowingShims();var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus";function assignRef(St,er){return typeof St=="function"?St(er):St&&(St.current=er),St}function useCallbackRef(St,er){var tr=react.exports.useState(function(){return{value:St,callback:er,facade:{get current(){return tr.value},set current(rr){var nr=tr.value;nr!==rr&&(tr.value=rr,tr.callback(rr,nr))}}}})[0];return tr.callback=er,tr.facade}function useMergeRefs(St,er){return useCallbackRef(er||null,function(tr){return St.forEach(function(rr){return assignRef(rr,tr)})})}var hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function ItoI(St){return St}function innerCreateMedium(St,er){er===void 0&&(er=ItoI);var tr=[],rr=!1,nr={read:function(){if(rr)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return tr.length?tr[tr.length-1]:St},useMedium:function(ar){var dr=er(ar,rr);return tr.push(dr),function(){tr=tr.filter(function(or){return or!==dr})}},assignSyncMedium:function(ar){for(rr=!0;tr.length;){var dr=tr;tr=[],dr.forEach(ar)}tr={push:function(or){return ar(or)},filter:function(){return tr}}},assignMedium:function(ar){rr=!0;var dr=[];if(tr.length){var or=tr;tr=[],or.forEach(ar),dr=tr}var ir=function(){var fr=dr;dr=[],fr.forEach(ar)},lr=function(){return Promise.resolve().then(ir)};lr(),tr={push:function(fr){dr.push(fr),lr()},filter:function(fr){return dr=dr.filter(fr),tr}}}};return nr}function createMedium(St,er){return er===void 0&&(er=ItoI),innerCreateMedium(St,er)}function createSidecarMedium(St){St===void 0&&(St={});var er=innerCreateMedium(null);return er.options=__assign$1({async:!0,ssr:!1},St),er}var SideCar$1=function(St){var er=St.sideCar,tr=__rest$1(St,["sideCar"]);if(!er)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var rr=er.read();if(!rr)throw new Error("Sidecar medium not found");return jsx(rr,{...__assign$1({},tr)})};SideCar$1.isSideCarExport=!0;function exportSidecar(St,er){return St.useMedium(er),SideCar$1}var mediumFocus=createMedium({},function(St){var er=St.target,tr=St.currentTarget;return{target:er,currentTarget:tr}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0}),emptyArray=[],FocusLock$2=react.exports.forwardRef(function(er,tr){var rr,nr=react.exports.useState(),ar=nr[0],dr=nr[1],or=react.exports.useRef(),ir=react.exports.useRef(!1),lr=react.exports.useRef(null),fr=er.children,cr=er.disabled,ur=er.noFocusGuards,sr=er.persistentFocus,hr=er.crossFrame,gr=er.autoFocus;er.allowTextSelection;var pr=er.group,mr=er.className,vr=er.whiteList,yr=er.hasPositiveIndices,br=er.shards,xr=br===void 0?emptyArray:br,Cr=er.as,kr=Cr===void 0?"div":Cr,Pr=er.lockProps,$r=Pr===void 0?{}:Pr,Kr=er.sideCar,Ir=er.returnFocus,jr=er.focusOptions,Jr=er.onActivation,zr=er.onDeactivation,Hr=react.exports.useState({}),Yr=Hr[0],nn=react.exports.useCallback(function(){lr.current=lr.current||document&&document.activeElement,or.current&&Jr&&Jr(or.current),ir.current=!0},[Jr]),Qr=react.exports.useCallback(function(){ir.current=!1,zr&&zr(or.current)},[zr]);react.exports.useEffect(function(){cr||(lr.current=null)},[]);var Or=react.exports.useCallback(function(Nr){var Br=lr.current;if(Br&&Br.focus){var Ur=typeof Ir=="function"?Ir(Br):Ir;if(Ur){var Zr=typeof Ur=="object"?Ur:void 0;lr.current=null,Nr?Promise.resolve().then(function(){return Br.focus(Zr)}):Br.focus(Zr)}}},[Ir]),Er=react.exports.useCallback(function(Nr){ir.current&&mediumFocus.useMedium(Nr)},[]),Dr=mediumBlur.useMedium,Tr=react.exports.useCallback(function(Nr){or.current!==Nr&&(or.current=Nr,dr(Nr))},[]),Lr=_extends$2((rr={},rr[FOCUS_DISABLED]=cr&&"disabled",rr[FOCUS_GROUP]=pr,rr),$r),_r=ur!==!0,wr=_r&&ur!=="tail",Fr=useMergeRefs([tr,Tr]);return jsxs(Fragment,{children:[_r&&[jsx("div",{"data-focus-guard":!0,tabIndex:cr?-1:0,style:hiddenGuard},"guard-first"),yr?jsx("div",{"data-focus-guard":!0,tabIndex:cr?-1:1,style:hiddenGuard},"guard-nearest"):null],!cr&&jsx(Kr,{id:Yr,sideCar:mediumSidecar,observed:ar,disabled:cr,persistentFocus:sr,crossFrame:hr,autoFocus:gr,whiteList:vr,shards:xr,onActivation:nn,onDeactivation:Qr,returnFocus:Or,focusOptions:jr}),jsx(kr,{ref:Fr,...Lr,className:mr,onBlur:Dr,onFocus:Er,children:fr}),wr&&jsx("div",{"data-focus-guard":!0,tabIndex:cr?-1:0,style:hiddenGuard})]})});FocusLock$2.propTypes={};FocusLock$2.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const FocusLockUI=FocusLock$2;function _setPrototypeOf(St,er){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rr,nr){return rr.__proto__=nr,rr},_setPrototypeOf(St,er)}function _inheritsLoose(St,er){St.prototype=Object.create(er.prototype),St.prototype.constructor=St,_setPrototypeOf(St,er)}function _defineProperty$2(St,er,tr){return er in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function withSideEffect(St,er){function tr(rr){return rr.displayName||rr.name||"Component"}return function(nr){var ar=[],dr;function or(){dr=St(ar.map(function(lr){return lr.props})),er(dr)}var ir=function(lr){_inheritsLoose(fr,lr);function fr(){return lr.apply(this,arguments)||this}fr.peek=function(){return dr};var cr=fr.prototype;return cr.componentDidMount=function(){ar.push(this),or()},cr.componentDidUpdate=function(){or()},cr.componentWillUnmount=function(){var sr=ar.indexOf(this);ar.splice(sr,1),or()},cr.render=function(){return jsx(nr,{...this.props})},fr}(react.exports.PureComponent);return _defineProperty$2(ir,"displayName","SideEffect("+tr(nr)+")"),ir}}var toArray=function(St){for(var er=Array(St.length),tr=0;tr<St.length;++tr)er[tr]=St[tr];return er},asArray=function(St){return Array.isArray(St)?St:[St]},isElementHidden=function(St){if(St.nodeType!==Node.ELEMENT_NODE)return!1;var er=window.getComputedStyle(St,null);return!er||!er.getPropertyValue?!1:er.getPropertyValue("display")==="none"||er.getPropertyValue("visibility")==="hidden"},getParentNode=function(St){return St.parentNode&&St.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?St.parentNode.host:St.parentNode},isTopNode=function(St){return St===document||St&&St.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(St,er){return!St||isTopNode(St)||!isElementHidden(St)&&er(getParentNode(St))},isVisibleCached=function(St,er){var tr=St.get(er);if(tr!==void 0)return tr;var rr=isVisibleUncached(er,isVisibleCached.bind(void 0,St));return St.set(er,rr),rr},isAutoFocusAllowedUncached=function(St,er){return St&&!isTopNode(St)?isAutoFocusAllowed(St)?er(getParentNode(St)):!1:!0},isAutoFocusAllowedCached=function(St,er){var tr=St.get(er);if(tr!==void 0)return tr;var rr=isAutoFocusAllowedUncached(er,isAutoFocusAllowedCached.bind(void 0,St));return St.set(er,rr),rr},getDataset=function(St){return St.dataset},isHTMLButtonElement=function(St){return St.tagName==="BUTTON"},isHTMLInputElement=function(St){return St.tagName==="INPUT"},isRadioElement=function(St){return isHTMLInputElement(St)&&St.type==="radio"},notHiddenInput=function(St){return!((isHTMLInputElement(St)||isHTMLButtonElement(St))&&(St.type==="hidden"||St.disabled))},isAutoFocusAllowed=function(St){var er=St.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(er)},isGuard=function(St){var er;return Boolean(St&&((er=getDataset(St))===null||er===void 0?void 0:er.focusGuard))},isNotAGuard=function(St){return!isGuard(St)},isDefined$1=function(St){return Boolean(St)},tabSort=function(St,er){var tr=St.tabIndex-er.tabIndex,rr=St.index-er.index;if(tr){if(!St.tabIndex)return 1;if(!er.tabIndex)return-1}return tr||rr},orderByTabIndex=function(St,er,tr){return toArray(St).map(function(rr,nr){return{node:rr,index:nr,tabIndex:tr&&rr.tabIndex===-1?(rr.dataset||{}).focusGuard?0:-1:rr.tabIndex}}).filter(function(rr){return!er||rr.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(St,er){var tr;return toArray(((tr=St.shadowRoot)===null||tr===void 0?void 0:tr.children)||St.children).reduce(function(rr,nr){return rr.concat(nr.matches(er?queryGuardTabbables:queryTabbables)?[nr]:[],getFocusablesWithShadowDom(nr))},[])},getFocusables=function(St,er){return St.reduce(function(tr,rr){return tr.concat(getFocusablesWithShadowDom(rr,er),rr.parentNode?toArray(rr.parentNode.querySelectorAll(queryTabbables)).filter(function(nr){return nr===rr}):[])},[])},getParentAutofocusables=function(St){var er=St.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray(er).map(function(tr){return getFocusables([tr])}).reduce(function(tr,rr){return tr.concat(rr)},[])},filterFocusable=function(St,er){return toArray(St).filter(function(tr){return isVisibleCached(er,tr)}).filter(function(tr){return notHiddenInput(tr)})},filterAutoFocusable=function(St,er){return er===void 0&&(er=new Map),toArray(St).filter(function(tr){return isAutoFocusAllowedCached(er,tr)})},getTabbableNodes=function(St,er,tr){return orderByTabIndex(filterFocusable(getFocusables(St,tr),er),!0,tr)},getAllTabbableNodes=function(St,er){return orderByTabIndex(filterFocusable(getFocusables(St),er),!1)},parentAutofocusables=function(St,er){return filterFocusable(getParentAutofocusables(St),er)},contains=function(St,er){return St.shadowRoot?contains(St.shadowRoot,er):Object.getPrototypeOf(St).contains!==void 0&&Object.getPrototypeOf(St).contains.call(St,er)?!0:toArray(St.children).some(function(tr){return contains(tr,er)})},filterNested=function(St){for(var er=new Set,tr=St.length,rr=0;rr<tr;rr+=1)for(var nr=rr+1;nr<tr;nr+=1){var ar=St[rr].compareDocumentPosition(St[nr]);(ar&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&er.add(nr),(ar&Node.DOCUMENT_POSITION_CONTAINS)>0&&er.add(rr)}return St.filter(function(dr,or){return!er.has(or)})},getTopParent=function(St){return St.parentNode?getTopParent(St.parentNode):St},getAllAffectedNodes=function(St){var er=asArray(St);return er.filter(Boolean).reduce(function(tr,rr){var nr=rr.getAttribute(FOCUS_GROUP);return tr.push.apply(tr,nr?filterNested(toArray(getTopParent(rr).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(nr,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[rr]),tr},[])},getNestedShadowActiveElement=function(St){return St.activeElement?St.activeElement.shadowRoot?getNestedShadowActiveElement(St.activeElement.shadowRoot):St.activeElement:void 0},getActiveElement=function(){return document.activeElement?document.activeElement.shadowRoot?getNestedShadowActiveElement(document.activeElement.shadowRoot):document.activeElement:void 0},focusInFrame=function(St){return St===document.activeElement},focusInsideIframe=function(St){return Boolean(toArray(St.querySelectorAll("iframe")).some(function(er){return focusInFrame(er)}))},focusInside=function(St){var er=document&&getActiveElement();return!er||er.dataset&&er.dataset.focusGuard?!1:getAllAffectedNodes(St).some(function(tr){return contains(tr,er)||focusInsideIframe(tr)})},focusIsHidden=function(){var St=document&&getActiveElement();return St?toArray(document.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(er){return contains(er,St)}):!1},findSelectedRadio=function(St,er){return er.filter(isRadioElement).filter(function(tr){return tr.name===St.name}).filter(function(tr){return tr.checked})[0]||St},correctNode=function(St,er){return isRadioElement(St)&&St.name?findSelectedRadio(St,er):St},correctNodes=function(St){var er=new Set;return St.forEach(function(tr){return er.add(correctNode(tr,St))}),St.filter(function(tr){return er.has(tr)})},pickFirstFocus=function(St){return St[0]&&St.length>1?correctNode(St[0],St):St[0]},pickFocusable=function(St,er){return St.length>1?St.indexOf(correctNode(St[er],St)):er},NEW_FOCUS="NEW_FOCUS",newFocus=function(St,er,tr,rr){var nr=St.length,ar=St[0],dr=St[nr-1],or=isGuard(tr);if(!(tr&&St.indexOf(tr)>=0)){var ir=tr!==void 0?er.indexOf(tr):-1,lr=rr?er.indexOf(rr):ir,fr=rr?St.indexOf(rr):-1,cr=ir-lr,ur=er.indexOf(ar),sr=er.indexOf(dr),hr=correctNodes(er),gr=tr!==void 0?hr.indexOf(tr):-1,pr=gr-(rr?hr.indexOf(rr):ir),mr=pickFocusable(St,0),vr=pickFocusable(St,nr-1);if(ir===-1||fr===-1)return NEW_FOCUS;if(!cr&&fr>=0)return fr;if(ir<=ur&&or&&Math.abs(cr)>1)return vr;if(ir>=sr&&or&&Math.abs(cr)>1)return mr;if(cr&&Math.abs(pr)>1)return fr;if(ir<=ur)return vr;if(ir>sr)return mr;if(cr)return Math.abs(cr)>1?fr:(nr+fr+cr)%nr}},findAutoFocused=function(St){return function(er){var tr,rr=(tr=getDataset(er))===null||tr===void 0?void 0:tr.autofocus;return er.autofocus||rr!==void 0&&rr!=="false"||St.indexOf(er)>=0}},pickAutofocus=function(St,er,tr){var rr=St.map(function(ar){var dr=ar.node;return dr}),nr=filterAutoFocusable(rr.filter(findAutoFocused(tr)));return nr&&nr.length?pickFirstFocus(nr):pickFirstFocus(filterAutoFocusable(er))},getParents=function(St,er){return er===void 0&&(er=[]),er.push(St),St.parentNode&&getParents(St.parentNode.host||St.parentNode,er),er},getCommonParent=function(St,er){for(var tr=getParents(St),rr=getParents(er),nr=0;nr<tr.length;nr+=1){var ar=tr[nr];if(rr.indexOf(ar)>=0)return ar}return!1},getTopCommonParent=function(St,er,tr){var rr=asArray(St),nr=asArray(er),ar=rr[0],dr=!1;return nr.filter(Boolean).forEach(function(or){dr=getCommonParent(dr||or,or)||dr,tr.filter(Boolean).forEach(function(ir){var lr=getCommonParent(ar,ir);lr&&(!dr||contains(lr,dr)?dr=lr:dr=getCommonParent(lr,dr))})}),dr},allParentAutofocusables=function(St,er){return St.reduce(function(tr,rr){return tr.concat(parentAutofocusables(rr,er))},[])},reorderNodes=function(St,er){var tr=new Map;return er.forEach(function(rr){return tr.set(rr.node,rr)}),St.map(function(rr){return tr.get(rr)}).filter(isDefined$1)},getFocusMerge=function(St,er){var tr=document&&getActiveElement(),rr=getAllAffectedNodes(St).filter(isNotAGuard),nr=getTopCommonParent(tr||St,St,rr),ar=new Map,dr=getAllTabbableNodes(rr,ar),or=getTabbableNodes(rr,ar).filter(function(ur){var sr=ur.node;return isNotAGuard(sr)});if(!(!or[0]&&(or=dr,!or[0]))){var ir=getAllTabbableNodes([nr],ar).map(function(ur){var sr=ur.node;return sr}),lr=reorderNodes(ir,or),fr=lr.map(function(ur){var sr=ur.node;return sr}),cr=newFocus(fr,ir,tr,er);return cr===NEW_FOCUS?{node:pickAutofocus(dr,fr,allParentAutofocusables(rr,ar))}:cr===void 0?cr:lr[cr]}},getFocusabledIn=function(St){var er=getAllAffectedNodes(St).filter(isNotAGuard),tr=getTopCommonParent(St,St,er),rr=new Map,nr=getTabbableNodes([tr],rr,!0),ar=getTabbableNodes(er,rr).filter(function(dr){var or=dr.node;return isNotAGuard(or)}).map(function(dr){var or=dr.node;return or});return nr.map(function(dr){var or=dr.node,ir=dr.index;return{node:or,index:ir,lockItem:ar.indexOf(or)>=0,guard:isGuard(or)}})},focusOn=function(St,er){"focus"in St&&St.focus(er),"contentWindow"in St&&St.contentWindow&&St.contentWindow.focus()},guardCount=0,lockDisabled=!1,setFocus=function(St,er,tr){tr===void 0&&(tr={});var rr=getFocusMerge(St,er);if(!lockDisabled&&rr){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(rr.node,tr.focusOptions),guardCount--}};const moveFocusInside=setFocus;function deferAction(St){var er=window,tr=er.setImmediate;typeof tr<"u"?tr(St):setTimeout(St,1)}var focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,lastPortaledElement=null,focusWasOutsideWindow=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(er){return(lastActiveTrap.whiteList||defaultWhitelist)(er)},recordPortal=function(er,tr){lastPortaledElement={observerNode:er,portaledElement:tr}},focusIsPortaledPair=function(er){return lastPortaledElement&&lastPortaledElement.portaledElement===er};function autoGuard(St,er,tr,rr){var nr=null,ar=St;do{var dr=rr[ar];if(dr.guard)dr.node.dataset.focusAutoGuard&&(nr=dr);else if(dr.lockItem){if(ar!==St)return;nr=null}else break}while((ar+=tr)!==er);nr&&(nr.node.tabIndex=0)}var extractRef$1=function(er){return er&&"current"in er?er.current:er},focusWasOutside=function(er){return er?Boolean(focusWasOutsideWindow):focusWasOutsideWindow==="meanwhile"},checkInHost=function St(er,tr,rr){return tr&&(tr.host===er&&(!tr.activeElement||rr.contains(tr.activeElement))||tr.parentNode&&St(er,tr.parentNode,rr))},withinHost=function(er,tr){return tr.some(function(rr){return checkInHost(er,rr,rr)})},activateTrap=function(){var er=!1;if(lastActiveTrap){var tr=lastActiveTrap,rr=tr.observed,nr=tr.persistentFocus,ar=tr.autoFocus,dr=tr.shards,or=tr.crossFrame,ir=tr.focusOptions,lr=rr||lastPortaledElement&&lastPortaledElement.portaledElement,fr=document&&document.activeElement;if(lr){var cr=[lr].concat(dr.map(extractRef$1).filter(Boolean));if((!fr||focusWhitelisted(fr))&&(nr||focusWasOutside(or)||!isFreeFocus()||!lastActiveFocus&&ar)&&(lr&&!(focusInside(cr)||fr&&withinHost(fr,cr)||focusIsPortaledPair(fr))&&(document&&!lastActiveFocus&&fr&&!ar?(fr.blur&&fr.blur(),document.body.focus()):(er=moveFocusInside(cr,lastActiveFocus,{focusOptions:ir}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement),document){var ur=document&&document.activeElement,sr=getFocusabledIn(cr),hr=sr.map(function(gr){var pr=gr.node;return pr}).indexOf(ur);hr>-1&&(sr.filter(function(gr){var pr=gr.guard,mr=gr.node;return pr&&mr.dataset.focusAutoGuard}).forEach(function(gr){var pr=gr.node;return pr.removeAttribute("tabIndex")}),autoGuard(hr,sr.length,1,sr),autoGuard(hr,-1,-1,sr))}}}return er},onTrap=function(er){activateTrap()&&er&&(er.stopPropagation(),er.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(er){var tr=er.target,rr=er.currentTarget;rr.contains(tr)||recordPortal(rr,tr)},FocusWatcher=function(){return null},onWindowBlur=function(){focusWasOutsideWindow="just",setTimeout(function(){focusWasOutsideWindow="meanwhile"},0)},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(St){return St.filter(function(er){var tr=er.disabled;return!tr})}function handleStateChangeOnClient(St){var er=St.slice(-1)[0];er&&!lastActiveTrap&&attachHandler();var tr=lastActiveTrap,rr=tr&&er&&er.id===tr.id;lastActiveTrap=er,tr&&!rr&&(tr.onDeactivation(),St.filter(function(nr){var ar=nr.id;return ar===tr.id}).length||tr.returnFocus(!er)),er?(lastActiveFocus=null,(!rr||tr.observed!==er.observed)&&er.onActivation(),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(St){return St({moveFocusInside,focusInside})});const FocusTrap=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=react.exports.forwardRef(function(er,tr){return jsx(FocusLockUI,{sideCar:FocusTrap,ref:tr,...er})}),_ref=FocusLockUI.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose$2(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusLock$1=FocusLockCombination;var FocusLock=St=>{const{initialFocusRef:er,finalFocusRef:tr,contentRef:rr,restoreFocus:nr,children:ar,isDisabled:dr,autoFocus:or,persistentFocus:ir,lockFocusAcrossFrames:lr}=St,fr=react.exports.useCallback(()=>{er?.current?er.current.focus():rr?.current&&getAllFocusable(rr.current).length===0&&requestAnimationFrame(()=>{var hr;(hr=rr.current)==null||hr.focus()})},[er,rr]),cr=react.exports.useCallback(()=>{var sr;(sr=tr?.current)==null||sr.focus()},[tr]);return jsx(FocusLock$1,{crossFrame:lr,persistentFocus:ir,autoFocus:or,disabled:dr,onActivation:fr,onDeactivation:cr,returnFocus:nr&&!tr,children:ar})};FocusLock.displayName="FocusLock";var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size",effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll$1=react.exports.forwardRef(function(St,er){var tr=react.exports.useRef(null),rr=react.exports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),nr=rr[0],ar=rr[1],dr=St.forwardProps,or=St.children,ir=St.className,lr=St.removeScrollBar,fr=St.enabled,cr=St.shards,ur=St.sideCar,sr=St.noIsolation,hr=St.inert,gr=St.allowPinchZoom,pr=St.as,mr=pr===void 0?"div":pr,vr=__rest$1(St,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),yr=ur,br=useMergeRefs([tr,er]),xr=__assign$1(__assign$1({},vr),nr);return jsxs(Fragment,{children:[fr&&jsx(yr,{sideCar:effectCar,removeScrollBar:lr,shards:cr,noIsolation:sr,inert:hr,setCallbacks:ar,allowPinchZoom:!!gr,lockRef:tr}),dr?react.exports.cloneElement(react.exports.Children.only(or),__assign$1(__assign$1({},xr),{ref:br})):jsx(mr,{...__assign$1({},xr,{className:ir,ref:br}),children:or})]})});RemoveScroll$1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll$1.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var St=document.createElement("style");St.type="text/css";var er=getNonce();return er&&St.setAttribute("nonce",er),St}function injectStyles(St,er){St.styleSheet?St.styleSheet.cssText=er:St.appendChild(document.createTextNode(er))}function insertStyleTag(St){var er=document.head||document.getElementsByTagName("head")[0];er.appendChild(St)}var stylesheetSingleton=function(){var St=0,er=null;return{add:function(tr){St==0&&(er=makeStyleTag())&&(injectStyles(er,tr),insertStyleTag(er)),St++},remove:function(){St--,!St&&er&&(er.parentNode&&er.parentNode.removeChild(er),er=null)}}},styleHookSingleton=function(){var St=stylesheetSingleton();return function(er,tr){react.exports.useEffect(function(){return St.add(er),function(){St.remove()}},[er&&tr])}},styleSingleton=function(){var St=styleHookSingleton(),er=function(tr){var rr=tr.styles,nr=tr.dynamic;return St(rr,nr),null};return er},zeroGap={left:0,top:0,right:0,gap:0},parse=function(St){return parseInt(St||"",10)||0},getOffset=function(St){var er=window.getComputedStyle(document.body),tr=er[St==="padding"?"paddingLeft":"marginLeft"],rr=er[St==="padding"?"paddingTop":"marginTop"],nr=er[St==="padding"?"paddingRight":"marginRight"];return[parse(tr),parse(rr),parse(nr)]},getGapWidth=function(St){if(St===void 0&&(St="margin"),typeof window>"u")return zeroGap;var er=getOffset(St),tr=document.documentElement.clientWidth,rr=window.innerWidth;return{left:er[0],top:er[1],right:er[2],gap:Math.max(0,rr-tr+er[2]-er[0])}},Style=styleSingleton(),getStyles=function(St,er,tr,rr){var nr=St.left,ar=St.top,dr=St.right,or=St.gap;return tr===void 0&&(tr="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(rr,`;
   padding-right: `).concat(or,"px ").concat(rr,`;
  }
  body {
    overflow: hidden `).concat(rr,`;
    overscroll-behavior: contain;
    `).concat([er&&"position: relative ".concat(rr,";"),tr==="margin"&&`
    padding-left: `.concat(nr,`px;
    padding-top: `).concat(ar,`px;
    padding-right: `).concat(dr,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(or,"px ").concat(rr,`;
    `),tr==="padding"&&"padding-right: ".concat(or,"px ").concat(rr,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(or,"px ").concat(rr,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(or,"px ").concat(rr,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(rr,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(rr,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(or,`px;
  }
`)},RemoveScrollBar=function(St){var er=St.noRelative,tr=St.noImportant,rr=St.gapMode,nr=rr===void 0?"margin":rr,ar=react.exports.useMemo(function(){return getGapWidth(nr)},[nr]);return jsx(Style,{styles:getStyles(ar,!er,nr,tr?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(St){return St.tagName==="TEXTAREA"},elementCanBeScrolled=function(St,er){var tr=window.getComputedStyle(St);return tr[er]!=="hidden"&&!(tr.overflowY===tr.overflowX&&!alwaysContainsScroll(St)&&tr[er]==="visible")},elementCouldBeVScrolled=function(St){return elementCanBeScrolled(St,"overflowY")},elementCouldBeHScrolled=function(St){return elementCanBeScrolled(St,"overflowX")},locationCouldBeScrolled=function(St,er){var tr=er;do{typeof ShadowRoot<"u"&&tr instanceof ShadowRoot&&(tr=tr.host);var rr=elementCouldBeScrolled(St,tr);if(rr){var nr=getScrollVariables(St,tr),ar=nr[1],dr=nr[2];if(ar>dr)return!0}tr=tr.parentNode}while(tr&&tr!==document.body);return!1},getVScrollVariables=function(St){var er=St.scrollTop,tr=St.scrollHeight,rr=St.clientHeight;return[er,tr,rr]},getHScrollVariables=function(St){var er=St.scrollLeft,tr=St.scrollWidth,rr=St.clientWidth;return[er,tr,rr]},elementCouldBeScrolled=function(St,er){return St==="v"?elementCouldBeVScrolled(er):elementCouldBeHScrolled(er)},getScrollVariables=function(St,er){return St==="v"?getVScrollVariables(er):getHScrollVariables(er)},getDirectionFactor=function(St,er){return St==="h"&&er==="rtl"?-1:1},handleScroll=function(St,er,tr,rr,nr){var ar=getDirectionFactor(St,window.getComputedStyle(er).direction),dr=ar*rr,or=tr.target,ir=er.contains(or),lr=!1,fr=dr>0,cr=0,ur=0;do{var sr=getScrollVariables(St,or),hr=sr[0],gr=sr[1],pr=sr[2],mr=gr-pr-ar*hr;(hr||mr)&&elementCouldBeScrolled(St,or)&&(cr+=mr,ur+=hr),or=or.parentNode}while(!ir&&or!==document.body||ir&&(er.contains(or)||er===or));return(fr&&(nr&&cr===0||!nr&&dr>cr)||!fr&&(nr&&ur===0||!nr&&-dr>ur))&&(lr=!0),lr},getTouchXY=function(St){return"changedTouches"in St?[St.changedTouches[0].clientX,St.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(St){return[St.deltaX,St.deltaY]},extractRef=function(St){return St&&"current"in St?St.current:St},deltaCompare=function(St,er){return St[0]===er[0]&&St[1]===er[1]},generateStyle=function(St){return`
  .block-interactivity-`.concat(St,` {pointer-events: none;}
  .allow-interactivity-`).concat(St,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(St){var er=react.exports.useRef([]),tr=react.exports.useRef([0,0]),rr=react.exports.useRef(),nr=react.exports.useState(idCounter++)[0],ar=react.exports.useState(function(){return styleSingleton()})[0],dr=react.exports.useRef(St);react.exports.useEffect(function(){dr.current=St},[St]),react.exports.useEffect(function(){if(St.inert){document.body.classList.add("block-interactivity-".concat(nr));var gr=__spreadArray$1([St.lockRef.current],(St.shards||[]).map(extractRef),!0).filter(Boolean);return gr.forEach(function(pr){return pr.classList.add("allow-interactivity-".concat(nr))}),function(){document.body.classList.remove("block-interactivity-".concat(nr)),gr.forEach(function(pr){return pr.classList.remove("allow-interactivity-".concat(nr))})}}},[St.inert,St.lockRef.current,St.shards]);var or=react.exports.useCallback(function(gr,pr){if("touches"in gr&&gr.touches.length===2)return!dr.current.allowPinchZoom;var mr=getTouchXY(gr),vr=tr.current,yr="deltaX"in gr?gr.deltaX:vr[0]-mr[0],br="deltaY"in gr?gr.deltaY:vr[1]-mr[1],xr,Cr=gr.target,kr=Math.abs(yr)>Math.abs(br)?"h":"v";if("touches"in gr&&kr==="h"&&Cr.type==="range")return!1;var Pr=locationCouldBeScrolled(kr,Cr);if(!Pr)return!0;if(Pr?xr=kr:(xr=kr==="v"?"h":"v",Pr=locationCouldBeScrolled(kr,Cr)),!Pr)return!1;if(!rr.current&&"changedTouches"in gr&&(yr||br)&&(rr.current=xr),!xr)return!0;var $r=rr.current||xr;return handleScroll($r,pr,gr,$r==="h"?yr:br,!0)},[]),ir=react.exports.useCallback(function(gr){var pr=gr;if(!(!lockStack.length||lockStack[lockStack.length-1]!==ar)){var mr="deltaY"in pr?getDeltaXY(pr):getTouchXY(pr),vr=er.current.filter(function(xr){return xr.name===pr.type&&xr.target===pr.target&&deltaCompare(xr.delta,mr)})[0];if(vr&&vr.should){pr.cancelable&&pr.preventDefault();return}if(!vr){var yr=(dr.current.shards||[]).map(extractRef).filter(Boolean).filter(function(xr){return xr.contains(pr.target)}),br=yr.length>0?or(pr,yr[0]):!dr.current.noIsolation;br&&pr.cancelable&&pr.preventDefault()}}},[]),lr=react.exports.useCallback(function(gr,pr,mr,vr){var yr={name:gr,delta:pr,target:mr,should:vr};er.current.push(yr),setTimeout(function(){er.current=er.current.filter(function(br){return br!==yr})},1)},[]),fr=react.exports.useCallback(function(gr){tr.current=getTouchXY(gr),rr.current=void 0},[]),cr=react.exports.useCallback(function(gr){lr(gr.type,getDeltaXY(gr),gr.target,or(gr,St.lockRef.current))},[]),ur=react.exports.useCallback(function(gr){lr(gr.type,getTouchXY(gr),gr.target,or(gr,St.lockRef.current))},[]);react.exports.useEffect(function(){return lockStack.push(ar),St.setCallbacks({onScrollCapture:cr,onWheelCapture:cr,onTouchMoveCapture:ur}),document.addEventListener("wheel",ir,nonPassive),document.addEventListener("touchmove",ir,nonPassive),document.addEventListener("touchstart",fr,nonPassive),function(){lockStack=lockStack.filter(function(gr){return gr!==ar}),document.removeEventListener("wheel",ir,nonPassive),document.removeEventListener("touchmove",ir,nonPassive),document.removeEventListener("touchstart",fr,nonPassive)}},[]);var sr=St.removeScrollBar,hr=St.inert;return jsxs(Fragment,{children:[hr?jsx(ar,{styles:generateStyle(nr)}):null,sr?jsx(RemoveScrollBar,{gapMode:"margin"}):null]})}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=react.exports.forwardRef(function(St,er){return jsx(RemoveScroll$1,{...__assign$1({},St,{ref:er,sideCar:SideCar})})});ReactRemoveScroll.classNames=RemoveScroll$1.classNames;const RemoveScroll=ReactRemoveScroll;var cx$2=(...St)=>St.filter(Boolean).join(" ");function callAllHandlers$1(...St){return function(tr){St.some(rr=>(rr?.(tr),tr?.defaultPrevented))}}var ModalManager=class{modals;constructor(){this.modals=[]}add(St){this.modals.push(St)}remove(St){this.modals=this.modals.filter(er=>er!==St)}isTopModal(St){return this.modals[this.modals.length-1]===St}},manager=new ModalManager;function useModalManager(St,er){react.exports.useEffect(()=>(er&&manager.add(St),()=>{manager.remove(St)}),[er,St])}function useModal(St){const{isOpen:er,onClose:tr,id:rr,closeOnOverlayClick:nr=!0,closeOnEsc:ar=!0,useInert:dr=!0,onOverlayClick:or,onEsc:ir}=St,lr=react.exports.useRef(null),fr=react.exports.useRef(null),[cr,ur,sr]=useIds(rr,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(lr,er&&dr),useModalManager(lr,er);const hr=react.exports.useRef(null),gr=react.exports.useCallback(Pr=>{hr.current=Pr.target},[]),pr=react.exports.useCallback(Pr=>{Pr.key==="Escape"&&(Pr.stopPropagation(),ar&&tr?.(),ir?.())},[ar,tr,ir]),[mr,vr]=react.exports.useState(!1),[yr,br]=react.exports.useState(!1),xr=react.exports.useCallback((Pr={},$r=null)=>({role:"dialog",...Pr,ref:mergeRefs($r,lr),id:cr,tabIndex:-1,"aria-modal":!0,"aria-labelledby":mr?ur:void 0,"aria-describedby":yr?sr:void 0,onClick:callAllHandlers$1(Pr.onClick,Kr=>Kr.stopPropagation())}),[sr,yr,cr,ur,mr]),Cr=react.exports.useCallback(Pr=>{Pr.stopPropagation(),hr.current===Pr.target&&(!manager.isTopModal(lr)||(nr&&tr?.(),or?.()))},[tr,nr,or]),kr=react.exports.useCallback((Pr={},$r=null)=>({...Pr,ref:mergeRefs($r,fr),onClick:callAllHandlers$1(Pr.onClick,Cr),onKeyDown:callAllHandlers$1(Pr.onKeyDown,pr),onMouseDown:callAllHandlers$1(Pr.onMouseDown,gr)}),[pr,gr,Cr]);return{isOpen:er,onClose:tr,headerId:ur,bodyId:sr,setBodyMounted:br,setHeaderMounted:vr,dialogRef:lr,overlayRef:fr,getDialogProps:xr,getDialogContainerProps:kr}}function useAriaHidden(St,er){const tr=St.current;react.exports.useEffect(()=>{if(!(!St.current||!er))return hideOthers(St.current)},[er,St,tr])}function useIds(St,...er){const tr=react.exports.useId(),rr=St||tr;return react.exports.useMemo(()=>er.map(nr=>`${nr}-${rr}`),[rr,er])}var[ModalStylesProvider,useModalStyles]=createContext({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal=St=>{const{portalProps:er,children:tr,autoFocus:rr,trapFocus:nr,initialFocusRef:ar,finalFocusRef:dr,returnFocusOnClose:or,blockScrollOnMount:ir,allowPinchZoom:lr,preserveScrollBarGap:fr,motionPreset:cr,lockFocusAcrossFrames:ur,onCloseComplete:sr}=St,hr=useMultiStyleConfig("Modal",St),pr={...useModal(St),autoFocus:rr,trapFocus:nr,initialFocusRef:ar,finalFocusRef:dr,returnFocusOnClose:or,blockScrollOnMount:ir,allowPinchZoom:lr,preserveScrollBarGap:fr,motionPreset:cr,lockFocusAcrossFrames:ur};return jsx(ModalContextProvider,{value:pr,children:jsx(ModalStylesProvider,{value:hr,children:jsx(AnimatePresence,{onExitComplete:sr,children:pr.isOpen&&jsx(Portal,{...er,children:tr})})})})};Modal.defaultProps={lockFocusAcrossFrames:!0,returnFocusOnClose:!0,scrollBehavior:"outside",trapFocus:!0,autoFocus:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale"};Modal.displayName="Modal";var ModalBody=forwardRef((St,er)=>{const{className:tr,...rr}=St,{bodyId:nr,setBodyMounted:ar}=useModalContext();react.exports.useEffect(()=>(ar(!0),()=>ar(!1)),[ar]);const dr=cx$2("chakra-modal__body",tr),or=useModalStyles();return React.createElement(chakra.div,{ref:er,className:dr,id:nr,...rr,__css:or.body})});ModalBody.displayName="ModalBody";var ModalCloseButton=forwardRef((St,er)=>{const{onClick:tr,className:rr,...nr}=St,{onClose:ar}=useModalContext(),dr=cx$2("chakra-modal__close-btn",rr),or=useModalStyles();return jsx(CloseButton,{ref:er,__css:or.closeButton,className:dr,onClick:callAllHandlers$1(tr,ir=>{ir.stopPropagation(),ar()}),...nr})});ModalCloseButton.displayName="ModalCloseButton";function ModalFocusScope(St){const{autoFocus:er,trapFocus:tr,dialogRef:rr,initialFocusRef:nr,blockScrollOnMount:ar,allowPinchZoom:dr,finalFocusRef:or,returnFocusOnClose:ir,preserveScrollBarGap:lr,lockFocusAcrossFrames:fr}=useModalContext(),[cr,ur]=usePresence();return react.exports.useEffect(()=>{!cr&&ur&&setTimeout(ur)},[cr,ur]),jsx(FocusLock,{autoFocus:er,isDisabled:!tr,initialFocusRef:nr,finalFocusRef:or,restoreFocus:ir,contentRef:rr,lockFocusAcrossFrames:fr,children:jsx(RemoveScroll,{removeScrollBar:!lr,allowPinchZoom:dr,enabled:ar,forwardProps:!0,children:St.children})})}var transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection=chakra(motion.section),getMotionProps=St=>transitions[St||"none"],ModalTransition=react.exports.forwardRef((St,er)=>{const{preset:tr,motionProps:rr=getMotionProps(tr),...nr}=St;return jsx(MotionSection,{ref:er,...rr,...nr})});ModalTransition.displayName="ModalTransition";var ModalContent=forwardRef((St,er)=>{const{className:tr,children:rr,containerProps:nr,motionProps:ar,...dr}=St,{getDialogProps:or,getDialogContainerProps:ir}=useModalContext(),lr=or(dr,er),fr=ir(nr),cr=cx$2("chakra-modal__content",tr),ur=useModalStyles(),sr={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...ur.dialog},hr={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...ur.dialogContainer},{motionPreset:gr}=useModalContext();return React.createElement(ModalFocusScope,null,React.createElement(chakra.div,{...fr,className:"chakra-modal__content-container",tabIndex:-1,__css:hr},jsx(ModalTransition,{preset:gr,motionProps:ar,className:cr,...lr,__css:sr,children:rr})))});ModalContent.displayName="ModalContent";var ModalFooter=forwardRef((St,er)=>{const{className:tr,...rr}=St,nr=cx$2("chakra-modal__footer",tr),dr={display:"flex",alignItems:"center",justifyContent:"flex-end",...useModalStyles().footer};return React.createElement(chakra.footer,{ref:er,...rr,__css:dr,className:nr})});ModalFooter.displayName="ModalFooter";var ModalHeader=forwardRef((St,er)=>{const{className:tr,...rr}=St,{headerId:nr,setHeaderMounted:ar}=useModalContext();react.exports.useEffect(()=>(ar(!0),()=>ar(!1)),[ar]);const dr=cx$2("chakra-modal__header",tr),ir={flex:0,...useModalStyles().header};return React.createElement(chakra.header,{ref:er,className:dr,id:nr,...rr,__css:ir})});ModalHeader.displayName="ModalHeader";var MotionDiv=chakra(motion.div),ModalOverlay=forwardRef((St,er)=>{const{className:tr,transition:rr,motionProps:nr,...ar}=St,dr=cx$2("chakra-modal__overlay",tr),ir={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:lr}=useModalContext();return jsx(MotionDiv,{...nr||(lr==="none"?{}:fadeConfig),__css:ir,ref:er,className:dr,...ar})});ModalOverlay.displayName="ModalOverlay";forwardRef((St,er)=>jsx(ModalContent,{ref:er,role:"alertdialog",...St}));var[DrawerContextProvider,useDrawerContext]=createContext(),MotionDiv2=chakra(Slide),DrawerContent=forwardRef((St,er)=>{const{className:tr,children:rr,motionProps:nr,containerProps:ar,...dr}=St,{getDialogProps:or,getDialogContainerProps:ir,isOpen:lr}=useModalContext(),fr=or(dr,er),cr=ir(ar),ur=cx$2("chakra-modal__content",tr),sr=useModalStyles(),hr={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...sr.dialog},gr={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...sr.dialogContainer},{placement:pr}=useDrawerContext();return React.createElement(ModalFocusScope,null,React.createElement(chakra.div,{...cr,className:"chakra-modal__content-container",__css:gr},jsx(MotionDiv2,{motionProps:nr,direction:pr,in:lr,className:ur,...fr,__css:hr,children:rr})))});DrawerContent.displayName="DrawerContent";var cx$1=(...St)=>St.filter(Boolean).join(" ");function callAllHandlers(...St){return function(tr){St.some(rr=>(rr?.(tr),tr?.defaultPrevented))}}var[TabsDescendantsProvider,useTabsDescendantsContext,useTabsDescendants,useTabsDescendant]=createDescendantContext();function useTabs(St){const{defaultIndex:er,onChange:tr,index:rr,isManual:nr,isLazy:ar,lazyBehavior:dr="unmount",orientation:or="horizontal",direction:ir="ltr",...lr}=St,[fr,cr]=react.exports.useState(er??0),[ur,sr]=useControllableState({defaultValue:er??0,value:rr,onChange:tr});react.exports.useEffect(()=>{rr!=null&&cr(rr)},[rr]);const hr=useTabsDescendants(),gr=react.exports.useId();return{id:`tabs-${St.id??gr}`,selectedIndex:ur,focusedIndex:fr,setSelectedIndex:sr,setFocusedIndex:cr,isManual:nr,isLazy:ar,lazyBehavior:dr,orientation:or,descendants:hr,direction:ir,htmlProps:lr}}var[TabsProvider,useTabsContext]=createContext({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function useTabList(St){const{focusedIndex:er,orientation:tr,direction:rr}=useTabsContext(),nr=useTabsDescendantsContext(),ar=react.exports.useCallback(dr=>{const or=()=>{var vr;const yr=nr.nextEnabled(er);yr&&((vr=yr.node)==null||vr.focus())},ir=()=>{var vr;const yr=nr.prevEnabled(er);yr&&((vr=yr.node)==null||vr.focus())},lr=()=>{var vr;const yr=nr.firstEnabled();yr&&((vr=yr.node)==null||vr.focus())},fr=()=>{var vr;const yr=nr.lastEnabled();yr&&((vr=yr.node)==null||vr.focus())},cr=tr==="horizontal",ur=tr==="vertical",sr=dr.key,hr=rr==="ltr"?"ArrowLeft":"ArrowRight",gr=rr==="ltr"?"ArrowRight":"ArrowLeft",mr={[hr]:()=>cr&&ir(),[gr]:()=>cr&&or(),ArrowDown:()=>ur&&or(),ArrowUp:()=>ur&&ir(),Home:lr,End:fr}[sr];mr&&(dr.preventDefault(),mr(dr))},[nr,er,tr,rr]);return{...St,role:"tablist","aria-orientation":tr,onKeyDown:callAllHandlers(St.onKeyDown,ar)}}function useTab(St){const{isDisabled:er,isFocusable:tr,...rr}=St,{setSelectedIndex:nr,isManual:ar,id:dr,setFocusedIndex:or,selectedIndex:ir}=useTabsContext(),{index:lr,register:fr}=useTabsDescendant({disabled:er&&!tr}),cr=lr===ir,ur=()=>{nr(lr)},sr=()=>{or(lr),!ar&&!(er&&tr)&&nr(lr)},hr=useClickable({...rr,ref:mergeRefs(fr,St.ref),isDisabled:er,isFocusable:tr,onClick:callAllHandlers(St.onClick,ur)}),gr="button";return{...hr,id:makeTabId(dr,lr),role:"tab",tabIndex:cr?0:-1,type:gr,"aria-selected":cr,"aria-controls":makeTabPanelId(dr,lr),onFocus:er?void 0:callAllHandlers(St.onFocus,sr)}}var[TabPanelProvider,useTabPanelContext]=createContext({});function useTabPanels(St){const er=useTabsContext(),{id:tr,selectedIndex:rr}=er,ar=getValidChildren(St.children).map((dr,or)=>react.exports.createElement(TabPanelProvider,{key:or,value:{isSelected:or===rr,id:makeTabPanelId(tr,or),tabId:makeTabId(tr,or),selectedIndex:rr}},dr));return{...St,children:ar}}function useTabPanel(St){const{children:er,...tr}=St,{isLazy:rr,lazyBehavior:nr}=useTabsContext(),{isSelected:ar,id:dr,tabId:or}=useTabPanelContext(),ir=react.exports.useRef(!1);ar&&(ir.current=!0);const lr=lazyDisclosure({wasSelected:ir.current,isSelected:ar,enabled:rr,mode:nr});return{tabIndex:0,...tr,children:lr?er:null,role:"tabpanel","aria-labelledby":or,hidden:!ar,id:dr}}function useTabIndicator(){const St=useTabsContext(),er=useTabsDescendantsContext(),{selectedIndex:tr,orientation:rr}=St,nr=rr==="horizontal",ar=rr==="vertical",[dr,or]=react.exports.useState(()=>{if(nr)return{left:0,width:0};if(ar)return{top:0,height:0}}),[ir,lr]=react.exports.useState(!1);return useSafeLayoutEffect$2(()=>{if(tr==null)return;const fr=er.item(tr);if(fr==null)return;nr&&or({left:fr.node.offsetLeft,width:fr.node.offsetWidth}),ar&&or({top:fr.node.offsetTop,height:fr.node.offsetHeight});const cr=requestAnimationFrame(()=>{lr(!0)});return()=>{cr&&cancelAnimationFrame(cr)}},[tr,nr,ar,er]),{position:"absolute",transitionProperty:"left, right, top, bottom, height, width",transitionDuration:ir?"200ms":"0ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",...dr}}function makeTabId(St,er){return`${St}--tab-${er}`}function makeTabPanelId(St,er){return`${St}--tabpanel-${er}`}var[TabsStylesProvider,useTabsStyles]=createContext({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),Tabs=forwardRef(function(er,tr){const rr=useMultiStyleConfig("Tabs",er),{children:nr,className:ar,...dr}=omitThemingProps(er),{htmlProps:or,descendants:ir,...lr}=useTabs(dr),fr=react.exports.useMemo(()=>lr,[lr]),{isFitted:cr,...ur}=or;return React.createElement(TabsDescendantsProvider,{value:ir},React.createElement(TabsProvider,{value:fr},React.createElement(TabsStylesProvider,{value:rr},React.createElement(chakra.div,{className:cx$1("chakra-tabs",ar),ref:tr,...ur,__css:rr.root},nr))))});Tabs.displayName="Tabs";var TabIndicator=forwardRef(function(er,tr){const rr=useTabIndicator(),nr={...er.style,...rr},ar=useTabsStyles();return React.createElement(chakra.div,{ref:tr,...er,className:cx$1("chakra-tabs__tab-indicator",er.className),style:nr,__css:ar.indicator})});TabIndicator.displayName="TabIndicator";var TabList=forwardRef(function(er,tr){const rr=useTabList({...er,ref:tr}),ar={display:"flex",...useTabsStyles().tablist};return React.createElement(chakra.div,{...rr,className:cx$1("chakra-tabs__tablist",er.className),__css:ar})});TabList.displayName="TabList";var TabPanel=forwardRef(function(er,tr){const rr=useTabPanel({...er,ref:tr}),nr=useTabsStyles();return React.createElement(chakra.div,{outline:"0",...rr,className:cx$1("chakra-tabs__tab-panel",er.className),__css:nr.tabpanel})});TabPanel.displayName="TabPanel";var TabPanels=forwardRef(function(er,tr){const rr=useTabPanels(er),nr=useTabsStyles();return React.createElement(chakra.div,{...rr,width:"100%",ref:tr,className:cx$1("chakra-tabs__tab-panels",er.className),__css:nr.tabpanels})});TabPanels.displayName="TabPanels";var Tab=forwardRef(function(er,tr){const rr=useTabsStyles(),nr=useTab({...er,ref:tr}),ar={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...rr.tab};return React.createElement(chakra.button,{...nr,className:cx$1("chakra-tabs__tab",er.className),__css:ar})});Tab.displayName="Tab";var cx=(...St)=>St.filter(Boolean).join(" ");function omit(St,er=[]){const tr=Object.assign({},St);for(const rr of er)rr in tr&&delete tr[rr];return tr}var omitted=["h","minH","height","minHeight"],Textarea=forwardRef((St,er)=>{const tr=useStyleConfig("Textarea",St),{className:rr,rows:nr,...ar}=omitThemingProps(St),dr=useFormControl(ar),or=nr?omit(tr,omitted):tr;return React.createElement(chakra.textarea,{ref:er,rows:nr,...dr,className:cx("chakra-textarea",rr),__css:or})});Textarea.displayName="Textarea";function useTimeout(St,er){const tr=useCallbackRef$2(St);react.exports.useEffect(()=>{if(er==null)return;let rr=null;return rr=window.setTimeout(()=>{tr()},er),()=>{rr&&window.clearTimeout(rr)}},[er,tr])}function runIfFn(St,...er){return isFunction$1(St)?St(...er):St}var isFunction$1=St=>typeof St=="function",findById=(St,er)=>St.find(tr=>tr.id===er);function findToast(St,er){const tr=getToastPosition(St,er),rr=tr?St[tr].findIndex(nr=>nr.id===er):-1;return{position:tr,index:rr}}function getToastPosition(St,er){for(const[tr,rr]of Object.entries(St))if(findById(rr,er))return tr}function getToastStyle(St){const er=St.includes("right"),tr=St.includes("left");let rr="center";return er&&(rr="flex-end"),tr&&(rr="flex-start"),{display:"flex",flexDirection:"column",alignItems:rr}}function getToastListStyle(St){const tr=St==="top"||St==="bottom"?"0 auto":void 0,rr=St.includes("top")?"env(safe-area-inset-top, 0px)":void 0,nr=St.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,ar=St.includes("left")?void 0:"env(safe-area-inset-right, 0px)",dr=St.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:tr,top:rr,bottom:nr,right:ar,left:dr}}var initialState$1={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState$1);function createStore(St){let er=St;const tr=new Set,rr=nr=>{er=nr(er),tr.forEach(ar=>ar())};return{getState:()=>er,subscribe:nr=>(tr.add(nr),()=>{rr(()=>St),tr.delete(nr)}),removeToast:(nr,ar)=>{rr(dr=>({...dr,[ar]:dr[ar].filter(or=>or.id!=nr)}))},notify:(nr,ar)=>{const dr=createToast(nr,ar),{position:or,id:ir}=dr;return rr(lr=>{const cr=or.includes("top")?[dr,...lr[or]??[]]:[...lr[or]??[],dr];return{...lr,[or]:cr}}),ir},update:(nr,ar)=>{!nr||rr(dr=>{const or={...dr},{position:ir,index:lr}=findToast(or,nr);return ir&&lr!==-1&&(or[ir][lr]={...or[ir][lr],...ar,message:createRenderToast(ar)}),or})},closeAll:({positions:nr}={})=>{rr(ar=>(nr??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((ir,lr)=>(ir[lr]=ar[lr].map(fr=>({...fr,requestClose:!0})),ir),{...ar}))},close:nr=>{rr(ar=>{const dr=getToastPosition(ar,nr);return dr?{...ar,[dr]:ar[dr].map(or=>or.id==nr?{...or,requestClose:!0}:or)}:ar})},isActive:nr=>Boolean(findToast(toastStore.getState(),nr).position)}}var counter=0;function createToast(St,er={}){counter+=1;const tr=er.id??counter,rr=er.position??"bottom";return{id:tr,message:St,position:rr,duration:er.duration,onCloseComplete:er.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(tr),rr),status:er.status,requestClose:!1,containerStyle:er.containerStyle}}var Toast=St=>{const{status:er,variant:tr="solid",id:rr,title:nr,isClosable:ar,onClose:dr,description:or,icon:ir}=St,lr=rr?{root:`toast-${rr}`,title:`toast-${rr}-title`,description:`toast-${rr}-description`}:void 0;return React.createElement(Alert,{addRole:!1,status:er,variant:tr,id:lr?.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto"},jsx(AlertIcon,{children:ir}),React.createElement(chakra.div,{flex:"1",maxWidth:"100%"},nr&&jsx(AlertTitle,{id:lr?.title,children:nr}),or&&jsx(AlertDescription,{id:lr?.description,display:"block",children:or})),ar&&jsx(CloseButton,{size:"sm",onClick:dr,position:"absolute",insetEnd:1,top:1}))};function createRenderToast(St={}){const{render:er,toastComponent:tr=Toast}=St;return nr=>typeof er=="function"?er({...nr,...St}):jsx(tr,{...nr,...St})}var toastMotionVariants={initial:St=>{const{position:er}=St,tr=["top","bottom"].includes(er)?"y":"x";let rr=["top-right","bottom-right"].includes(er)?1:-1;return er==="bottom"&&(rr=1),{opacity:0,[tr]:rr*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=react.exports.memo(St=>{const{id:er,message:tr,onCloseComplete:rr,onRequestRemove:nr,requestClose:ar=!1,position:dr="bottom",duration:or=5e3,containerStyle:ir,motionVariants:lr=toastMotionVariants,toastSpacing:fr="0.5rem"}=St,[cr,ur]=react.exports.useState(or),sr=useIsPresent();useUpdateEffect(()=>{sr||rr?.()},[sr]),useUpdateEffect(()=>{ur(or)},[or]);const hr=()=>ur(null),gr=()=>ur(or),pr=()=>{sr&&nr()};react.exports.useEffect(()=>{sr&&ar&&nr()},[sr,ar,nr]),useTimeout(pr,cr);const mr=react.exports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:fr,...ir}),[ir,fr]),vr=react.exports.useMemo(()=>getToastStyle(dr),[dr]);return React.createElement(motion.li,{layout:!0,className:"chakra-toast",variants:lr,initial:"initial",animate:"animate",exit:"exit",onHoverStart:hr,onHoverEnd:gr,custom:{position:dr},style:vr},React.createElement(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:mr},runIfFn(tr,{id:er,onClose:pr})))});ToastComponent.displayName="ToastComponent";var ToastProvider=St=>{const er=react.exports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{children:tr,motionVariants:rr,component:nr=ToastComponent,portalProps:ar}=St,or=Object.keys(er).map(ir=>{const lr=er[ir];return jsx("ul",{role:"region","aria-live":"polite",id:`chakra-toast-manager-${ir}`,style:getToastListStyle(ir),children:jsx(AnimatePresence,{initial:!1,children:lr.map(fr=>jsx(nr,{motionVariants:rr,...fr},fr.id))})},ir)});return jsxs(Fragment,{children:[tr,jsx(Portal,{...ar,children:or})]})},ChakraProvider$1=St=>{const{children:er,colorModeManager:tr,portalZIndex:rr,resetCSS:nr=!0,theme:ar={},environment:dr,cssVarsRoot:or}=St,ir=jsx(EnvironmentProvider,{environment:dr,children:er});return jsx(ThemeProvider,{theme:ar,cssVarsRoot:or,children:jsxs(ColorModeProvider,{colorModeManager:tr,options:ar.config,children:[nr?jsx(CSSReset,{}):jsx(CSSPolyfill,{}),jsx(GlobalStyle,{}),rr?jsx(PortalManager,{zIndex:rr,children:ir}):ir]})})};function ChakraProvider({children:St,theme:er=theme$1,toastOptions:tr,...rr}){return jsxs(ChakraProvider$1,{theme:er,...rr,children:[St,jsx(ToastProvider,{...tr})]})}/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends$1.apply(this,arguments)}var Action;(function(St){St.Pop="POP",St.Push="PUSH",St.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(St){St===void 0&&(St={});function er(nr,ar){let{pathname:dr="/",search:or="",hash:ir=""}=parsePath(nr.location.hash.substr(1));return createLocation("",{pathname:dr,search:or,hash:ir},ar.state&&ar.state.usr||null,ar.state&&ar.state.key||"default")}function tr(nr,ar){let dr=nr.document.querySelector("base"),or="";if(dr&&dr.getAttribute("href")){let ir=nr.location.href,lr=ir.indexOf("#");or=lr===-1?ir:ir.slice(0,lr)}return or+"#"+(typeof ar=="string"?ar:createPath(ar))}function rr(nr,ar){warning$1(nr.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(ar)+")")}return getUrlBasedHistory(er,tr,rr,St)}function warning$1(St,er){if(!St){typeof console<"u"&&console.warn(er);try{throw new Error(er)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(St){return{usr:St.state,key:St.key}}function createLocation(St,er,tr,rr){return tr===void 0&&(tr=null),_extends$1({pathname:typeof St=="string"?St:St.pathname,search:"",hash:""},typeof er=="string"?parsePath(er):er,{state:tr,key:er&&er.key||rr||createKey()})}function createPath(St){let{pathname:er="/",search:tr="",hash:rr=""}=St;return tr&&tr!=="?"&&(er+=tr.charAt(0)==="?"?tr:"?"+tr),rr&&rr!=="#"&&(er+=rr.charAt(0)==="#"?rr:"#"+rr),er}function parsePath(St){let er={};if(St){let tr=St.indexOf("#");tr>=0&&(er.hash=St.substr(tr),St=St.substr(0,tr));let rr=St.indexOf("?");rr>=0&&(er.search=St.substr(rr),St=St.substr(0,rr)),St&&(er.pathname=St)}return er}function createURL(St){let er=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",tr=typeof St=="string"?St:createPath(St);return new URL(tr,er)}function getUrlBasedHistory(St,er,tr,rr){rr===void 0&&(rr={});let{window:nr=document.defaultView,v5Compat:ar=!1}=rr,dr=nr.history,or=Action.Pop,ir=null;function lr(){or=Action.Pop,ir&&ir({action:or,location:ur.location})}function fr(sr,hr){or=Action.Push;let gr=createLocation(ur.location,sr,hr);tr&&tr(gr,sr);let pr=getHistoryState(gr),mr=ur.createHref(gr);try{dr.pushState(pr,"",mr)}catch{nr.location.assign(mr)}ar&&ir&&ir({action:or,location:ur.location})}function cr(sr,hr){or=Action.Replace;let gr=createLocation(ur.location,sr,hr);tr&&tr(gr,sr);let pr=getHistoryState(gr),mr=ur.createHref(gr);dr.replaceState(pr,"",mr),ar&&ir&&ir({action:or,location:ur.location})}let ur={get action(){return or},get location(){return St(nr,dr)},listen(sr){if(ir)throw new Error("A history only accepts one active listener");return nr.addEventListener(PopStateEventType,lr),ir=sr,()=>{nr.removeEventListener(PopStateEventType,lr),ir=null}},createHref(sr){return er(nr,sr)},encodeLocation(sr){let hr=createURL(createPath(sr));return _extends$1({},sr,{pathname:hr.pathname,search:hr.search,hash:hr.hash})},push:fr,replace:cr,go(sr){return dr.go(sr)}};return ur}var ResultType;(function(St){St.data="data",St.deferred="deferred",St.redirect="redirect",St.error="error"})(ResultType||(ResultType={}));function matchRoutes(St,er,tr){tr===void 0&&(tr="/");let rr=typeof er=="string"?parsePath(er):er,nr=stripBasename(rr.pathname||"/",tr);if(nr==null)return null;let ar=flattenRoutes(St);rankRouteBranches(ar);let dr=null;for(let or=0;dr==null&&or<ar.length;++or)dr=matchRouteBranch(ar[or],safelyDecodeURI(nr));return dr}function flattenRoutes(St,er,tr,rr){return er===void 0&&(er=[]),tr===void 0&&(tr=[]),rr===void 0&&(rr=""),St.forEach((nr,ar)=>{let dr={relativePath:nr.path||"",caseSensitive:nr.caseSensitive===!0,childrenIndex:ar,route:nr};dr.relativePath.startsWith("/")&&(invariant(dr.relativePath.startsWith(rr),'Absolute route path "'+dr.relativePath+'" nested under path '+('"'+rr+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),dr.relativePath=dr.relativePath.slice(rr.length));let or=joinPaths([rr,dr.relativePath]),ir=tr.concat(dr);nr.children&&nr.children.length>0&&(invariant(nr.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+or+'".')),flattenRoutes(nr.children,er,ir,or)),!(nr.path==null&&!nr.index)&&er.push({path:or,score:computeScore(or,nr.index),routesMeta:ir})}),er}function rankRouteBranches(St){St.sort((er,tr)=>er.score!==tr.score?tr.score-er.score:compareIndexes(er.routesMeta.map(rr=>rr.childrenIndex),tr.routesMeta.map(rr=>rr.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=St=>St==="*";function computeScore(St,er){let tr=St.split("/"),rr=tr.length;return tr.some(isSplat)&&(rr+=splatPenalty),er&&(rr+=indexRouteValue),tr.filter(nr=>!isSplat(nr)).reduce((nr,ar)=>nr+(paramRe.test(ar)?dynamicSegmentValue:ar===""?emptySegmentValue:staticSegmentValue),rr)}function compareIndexes(St,er){return St.length===er.length&&St.slice(0,-1).every((rr,nr)=>rr===er[nr])?St[St.length-1]-er[er.length-1]:0}function matchRouteBranch(St,er){let{routesMeta:tr}=St,rr={},nr="/",ar=[];for(let dr=0;dr<tr.length;++dr){let or=tr[dr],ir=dr===tr.length-1,lr=nr==="/"?er:er.slice(nr.length)||"/",fr=matchPath({path:or.relativePath,caseSensitive:or.caseSensitive,end:ir},lr);if(!fr)return null;Object.assign(rr,fr.params);let cr=or.route;ar.push({params:rr,pathname:joinPaths([nr,fr.pathname]),pathnameBase:normalizePathname(joinPaths([nr,fr.pathnameBase])),route:cr}),fr.pathnameBase!=="/"&&(nr=joinPaths([nr,fr.pathnameBase]))}return ar}function matchPath(St,er){typeof St=="string"&&(St={path:St,caseSensitive:!1,end:!0});let[tr,rr]=compilePath(St.path,St.caseSensitive,St.end),nr=er.match(tr);if(!nr)return null;let ar=nr[0],dr=ar.replace(/(.)\/+$/,"$1"),or=nr.slice(1);return{params:rr.reduce((lr,fr,cr)=>{if(fr==="*"){let ur=or[cr]||"";dr=ar.slice(0,ar.length-ur.length).replace(/(.)\/+$/,"$1")}return lr[fr]=safelyDecodeURIComponent(or[cr]||"",fr),lr},{}),pathname:ar,pathnameBase:dr,pattern:St}}function compilePath(St,er,tr){er===void 0&&(er=!1),tr===void 0&&(tr=!0),warning(St==="*"||!St.endsWith("*")||St.endsWith("/*"),'Route path "'+St+'" will be treated as if it were '+('"'+St.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+St.replace(/\*$/,"/*")+'".'));let rr=[],nr="^"+St.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(dr,or)=>(rr.push(or),"([^\\/]+)"));return St.endsWith("*")?(rr.push("*"),nr+=St==="*"||St==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tr?nr+="\\/*$":St!==""&&St!=="/"&&(nr+="(?:(?=\\/|$))"),[new RegExp(nr,er?void 0:"i"),rr]}function safelyDecodeURI(St){try{return decodeURI(St)}catch(er){return warning(!1,'The URL path "'+St+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+er+").")),St}}function safelyDecodeURIComponent(St,er){try{return decodeURIComponent(St)}catch(tr){return warning(!1,'The value for the URL param "'+er+'" will not be decoded because'+(' the string "'+St+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tr+").")),St}}function stripBasename(St,er){if(er==="/")return St;if(!St.toLowerCase().startsWith(er.toLowerCase()))return null;let tr=er.endsWith("/")?er.length-1:er.length,rr=St.charAt(tr);return rr&&rr!=="/"?null:St.slice(tr)||"/"}function invariant(St,er){if(St===!1||St===null||typeof St>"u")throw new Error(er)}function warning(St,er){if(!St){typeof console<"u"&&console.warn(er);try{throw new Error(er)}catch{}}}function resolvePath(St,er){er===void 0&&(er="/");let{pathname:tr,search:rr="",hash:nr=""}=typeof St=="string"?parsePath(St):St;return{pathname:tr?tr.startsWith("/")?tr:resolvePathname(tr,er):er,search:normalizeSearch(rr),hash:normalizeHash(nr)}}function resolvePathname(St,er){let tr=er.replace(/\/+$/,"").split("/");return St.split("/").forEach(nr=>{nr===".."?tr.length>1&&tr.pop():nr!=="."&&tr.push(nr)}),tr.length>1?tr.join("/"):"/"}function getInvalidPathError(St,er,tr,rr){return"Cannot include a '"+St+"' character in a manually specified "+("`to."+er+"` field ["+JSON.stringify(rr)+"].  Please separate it out to the ")+("`to."+tr+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(St){return St.filter((er,tr)=>tr===0||er.route.path&&er.route.path.length>0)}function resolveTo(St,er,tr,rr){rr===void 0&&(rr=!1);let nr;typeof St=="string"?nr=parsePath(St):(nr=_extends$1({},St),invariant(!nr.pathname||!nr.pathname.includes("?"),getInvalidPathError("?","pathname","search",nr)),invariant(!nr.pathname||!nr.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nr)),invariant(!nr.search||!nr.search.includes("#"),getInvalidPathError("#","search","hash",nr)));let ar=St===""||nr.pathname==="",dr=ar?"/":nr.pathname,or;if(rr||dr==null)or=tr;else{let cr=er.length-1;if(dr.startsWith("..")){let ur=dr.split("/");for(;ur[0]==="..";)ur.shift(),cr-=1;nr.pathname=ur.join("/")}or=cr>=0?er[cr]:"/"}let ir=resolvePath(nr,or),lr=dr&&dr!=="/"&&dr.endsWith("/"),fr=(ar||dr===".")&&tr.endsWith("/");return!ir.pathname.endsWith("/")&&(lr||fr)&&(ir.pathname+="/"),ir}const joinPaths=St=>St.join("/").replace(/\/\/+/g,"/"),normalizePathname=St=>St.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=St=>!St||St==="?"?"":St.startsWith("?")?St:"?"+St,normalizeHash=St=>!St||St==="#"?"":St.startsWith("#")?St:"#"+St;class ErrorResponse{constructor(er,tr,rr){this.status=er,this.statusText=tr||"",this.data=rr}}function isRouteErrorResponse(St){return St instanceof ErrorResponse}const validActionMethods=new Set(["POST","PUT","PATCH","DELETE"]);[...validActionMethods];/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er];for(var rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(St[rr]=tr[rr])}return St},_extends.apply(this,arguments)}function isPolyfill(St,er){return St===er&&(St!==0||1/St===1/er)||St!==St&&er!==er}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(St,er,tr){const rr=er(),[{inst:nr},ar]=useState({inst:{value:rr,getSnapshot:er}});return useLayoutEffect(()=>{nr.value=rr,nr.getSnapshot=er,checkIfSnapshotChanged(nr)&&ar({inst:nr})},[St,rr,er]),useEffect(()=>(checkIfSnapshotChanged(nr)&&ar({inst:nr}),St(()=>{checkIfSnapshotChanged(nr)&&ar({inst:nr})})),[St]),useDebugValue(rr),rr}function checkIfSnapshotChanged(St){const er=St.getSnapshot,tr=St.value;try{const rr=er();return!is(tr,rr)}catch{return!0}}function useSyncExternalStore$1(St,er,tr){return er()}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM$1,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(St=>St.useSyncExternalStore)(React$1);const DataStaticRouterContext=react.exports.createContext(null),DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext$1=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function useHref(St,er){let{relative:tr}=er===void 0?{}:er;useInRouterContext()||invariant(!1);let{basename:rr,navigator:nr}=react.exports.useContext(NavigationContext$1),{hash:ar,pathname:dr,search:or}=useResolvedPath(St,{relative:tr}),ir=dr;return rr!=="/"&&(ir=dr==="/"?rr:joinPaths([rr,dr])),nr.createHref({pathname:ir,search:or,hash:ar})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:St,navigator:er}=react.exports.useContext(NavigationContext$1),{matches:tr}=react.exports.useContext(RouteContext),{pathname:rr}=useLocation(),nr=JSON.stringify(getPathContributingMatches(tr).map(or=>or.pathnameBase)),ar=react.exports.useRef(!1);return react.exports.useEffect(()=>{ar.current=!0}),react.exports.useCallback(function(or,ir){if(ir===void 0&&(ir={}),!ar.current)return;if(typeof or=="number"){er.go(or);return}let lr=resolveTo(or,JSON.parse(nr),rr,ir.relative==="path");St!=="/"&&(lr.pathname=lr.pathname==="/"?St:joinPaths([St,lr.pathname])),(ir.replace?er.replace:er.push)(lr,ir.state,ir)},[St,er,nr,rr])}const OutletContext=react.exports.createContext(null);function useOutlet(St){let er=react.exports.useContext(RouteContext).outlet;return er&&jsx(OutletContext.Provider,{value:St,children:er})}function useResolvedPath(St,er){let{relative:tr}=er===void 0?{}:er,{matches:rr}=react.exports.useContext(RouteContext),{pathname:nr}=useLocation(),ar=JSON.stringify(getPathContributingMatches(rr).map(dr=>dr.pathnameBase));return react.exports.useMemo(()=>resolveTo(St,JSON.parse(ar),nr,tr==="path"),[St,ar,nr,tr])}function useRoutes(St,er){useInRouterContext()||invariant(!1);let tr=react.exports.useContext(DataRouterStateContext),{matches:rr}=react.exports.useContext(RouteContext),nr=rr[rr.length-1],ar=nr?nr.params:{};nr&&nr.pathname;let dr=nr?nr.pathnameBase:"/";nr&&nr.route;let or=useLocation(),ir;if(er){var lr;let hr=typeof er=="string"?parsePath(er):er;dr==="/"||((lr=hr.pathname)==null?void 0:lr.startsWith(dr))||invariant(!1),ir=hr}else ir=or;let fr=ir.pathname||"/",cr=dr==="/"?fr:fr.slice(dr.length)||"/",ur=matchRoutes(St,{pathname:cr}),sr=_renderMatches(ur&&ur.map(hr=>Object.assign({},hr,{params:Object.assign({},ar,hr.params),pathname:joinPaths([dr,hr.pathname]),pathnameBase:hr.pathnameBase==="/"?dr:joinPaths([dr,hr.pathnameBase])})),rr,tr||void 0);return er&&sr?jsx(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},ir),navigationType:Action.Pop},children:sr}):sr}function DefaultErrorElement(){let St=useRouteError(),er=isRouteErrorResponse(St)?St.status+" "+St.statusText:St instanceof Error?St.message:JSON.stringify(St),tr=St instanceof Error?St.stack:null,rr="rgba(200,200,200, 0.5)",nr={padding:"0.5rem",backgroundColor:rr},ar={padding:"2px 4px",backgroundColor:rr};return jsxs(Fragment,{children:[jsx("h2",{children:"Unhandled Thrown Error!"}),jsx("h3",{style:{fontStyle:"italic"},children:er}),tr?jsx("pre",{style:nr,children:tr}):null,jsx("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),jsxs("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",jsx("code",{style:ar,children:"errorElement"})," props on\xA0",jsx("code",{style:ar,children:"<Route>"})]})]})}class RenderErrorBoundary extends react.exports.Component{constructor(er){super(er),this.state={location:er.location,error:er.error}}static getDerivedStateFromError(er){return{error:er}}static getDerivedStateFromProps(er,tr){return tr.location!==er.location?{error:er.error,location:er.location}:{error:er.error||tr.error,location:tr.location}}componentDidCatch(er,tr){console.error("React Router caught the following error during render",er,tr)}render(){return this.state.error?jsx(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute(St){let{routeContext:er,match:tr,children:rr}=St,nr=react.exports.useContext(DataStaticRouterContext);return nr&&tr.route.errorElement&&(nr._deepestRenderedBoundaryId=tr.route.id),jsx(RouteContext.Provider,{value:er,children:rr})}function _renderMatches(St,er,tr){if(er===void 0&&(er=[]),St==null)if(tr!=null&&tr.errors)St=tr.matches;else return null;let rr=St,nr=tr?.errors;if(nr!=null){let ar=rr.findIndex(dr=>dr.route.id&&nr?.[dr.route.id]);ar>=0||invariant(!1),rr=rr.slice(0,Math.min(rr.length,ar+1))}return rr.reduceRight((ar,dr,or)=>{let ir=dr.route.id?nr?.[dr.route.id]:null,lr=tr?dr.route.errorElement||jsx(DefaultErrorElement,{}):null,fr=()=>jsx(RenderedRoute,{match:dr,routeContext:{outlet:ar,matches:er.concat(rr.slice(0,or+1))},children:ir?lr:dr.route.element!==void 0?dr.route.element:ar});return tr&&(dr.route.errorElement||or===0)?jsx(RenderErrorBoundary,{location:tr.location,component:lr,error:ir,children:fr()}):fr()},null)}var DataRouterHook$1;(function(St){St.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(St){St.UseLoaderData="useLoaderData",St.UseActionData="useActionData",St.UseRouteError="useRouteError",St.UseNavigation="useNavigation",St.UseRouteLoaderData="useRouteLoaderData",St.UseMatches="useMatches",St.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(St){let er=react.exports.useContext(DataRouterStateContext);return er||invariant(!1),er}function useRouteError(){var St;let er=react.exports.useContext(RouteErrorContext),tr=useDataRouterState(DataRouterStateHook$1.UseRouteError),rr=react.exports.useContext(RouteContext),nr=rr.matches[rr.matches.length-1];return er||(rr||invariant(!1),nr.route.id||invariant(!1),(St=tr.errors)==null?void 0:St[nr.route.id])}function Outlet(St){return useOutlet(St.context)}function Route(St){invariant(!1)}function Router(St){let{basename:er="/",children:tr=null,location:rr,navigationType:nr=Action.Pop,navigator:ar,static:dr=!1}=St;useInRouterContext()&&invariant(!1);let or=er.replace(/^\/*/,"/"),ir=react.exports.useMemo(()=>({basename:or,navigator:ar,static:dr}),[or,ar,dr]);typeof rr=="string"&&(rr=parsePath(rr));let{pathname:lr="/",search:fr="",hash:cr="",state:ur=null,key:sr="default"}=rr,hr=react.exports.useMemo(()=>{let gr=stripBasename(lr,or);return gr==null?null:{pathname:gr,search:fr,hash:cr,state:ur,key:sr}},[or,lr,fr,cr,ur,sr]);return hr==null?null:jsx(NavigationContext$1.Provider,{value:ir,children:jsx(LocationContext.Provider,{children:tr,value:{location:hr,navigationType:nr}})})}function Routes(St){let{children:er,location:tr}=St,rr=react.exports.useContext(DataRouterContext),nr=rr&&!er?rr.router.routes:createRoutesFromChildren(er);return useRoutes(nr,tr)}var AwaitRenderStatus;(function(St){St[St.pending=0]="pending",St[St.success=1]="success",St[St.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(St,er){er===void 0&&(er=[]);let tr=[];return react.exports.Children.forEach(St,(rr,nr)=>{if(!react.exports.isValidElement(rr))return;if(rr.type===react.exports.Fragment){tr.push.apply(tr,createRoutesFromChildren(rr.props.children,er));return}rr.type!==Route&&invariant(!1),!rr.props.index||!rr.props.children||invariant(!1);let ar=[...er,nr],dr={id:rr.props.id||ar.join("-"),caseSensitive:rr.props.caseSensitive,element:rr.props.element,index:rr.props.index,path:rr.props.path,loader:rr.props.loader,action:rr.props.action,errorElement:rr.props.errorElement,hasErrorBoundary:rr.props.errorElement!=null,shouldRevalidate:rr.props.shouldRevalidate,handle:rr.props.handle};rr.props.children&&(dr.children=createRoutesFromChildren(rr.props.children,ar)),tr.push(dr)}),tr}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _objectWithoutPropertiesLoose$1(St,er){if(St==null)return{};var tr={},rr=Object.keys(St),nr,ar;for(ar=0;ar<rr.length;ar++)nr=rr[ar],!(er.indexOf(nr)>=0)&&(tr[nr]=St[nr]);return tr}function isModifiedEvent(St){return!!(St.metaKey||St.altKey||St.ctrlKey||St.shiftKey)}function shouldProcessLinkClick(St,er){return St.button===0&&(!er||er==="_self")&&!isModifiedEvent(St)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function HashRouter(St){let{basename:er,children:tr,window:rr}=St,nr=react.exports.useRef();nr.current==null&&(nr.current=createHashHistory({window:rr,v5Compat:!0}));let ar=nr.current,[dr,or]=react.exports.useState({action:ar.action,location:ar.location});return react.exports.useLayoutEffect(()=>ar.listen(or),[ar]),jsx(Router,{basename:er,children:tr,location:dr.location,navigationType:dr.action,navigator:ar})}const Link=react.exports.forwardRef(function(er,tr){let{onClick:rr,relative:nr,reloadDocument:ar,replace:dr,state:or,target:ir,to:lr,preventScrollReset:fr}=er,cr=_objectWithoutPropertiesLoose$1(er,_excluded$1),ur=useHref(lr,{relative:nr}),sr=useLinkClickHandler(lr,{replace:dr,state:or,target:ir,preventScrollReset:fr,relative:nr});function hr(gr){rr&&rr(gr),gr.defaultPrevented||sr(gr)}return jsx("a",{...cr,href:ur,onClick:ar?rr:hr,ref:tr,target:ir})});var DataRouterHook;(function(St){St.UseScrollRestoration="useScrollRestoration",St.UseSubmitImpl="useSubmitImpl",St.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(St){St.UseFetchers="useFetchers",St.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(St,er){let{target:tr,replace:rr,state:nr,preventScrollReset:ar,relative:dr}=er===void 0?{}:er,or=useNavigate(),ir=useLocation(),lr=useResolvedPath(St,{relative:dr});return react.exports.useCallback(fr=>{if(shouldProcessLinkClick(fr,tr)){fr.preventDefault();let cr=rr!==void 0?rr:createPath(ir)===createPath(lr);or(St,{replace:cr,state:nr,preventScrollReset:ar,relative:dr})}},[ir,or,lr,rr,nr,tr,St,ar,dr])}const StepContext=react.exports.createContext({}),StepContextProvider=({children:St})=>{const[er,tr]=react.exports.useState(0),rr=()=>{const dr=er>0?er-1:0;tr(dr)},nr=()=>{const dr=er+1;tr(dr)},ar=()=>{tr(0)};return jsx(StepContext.Provider,{value:{nextStep:nr,prevStep:rr,reset:ar,activeStep:er},children:St})},useStep=()=>react.exports.useContext(StepContext),addFile="/assets/Add file.aa9a96ba.svg",fileToBase64=St=>new Promise((er,tr)=>{const rr=new FileReader;rr.readAsDataURL(St),rr.onload=()=>er(rr.result),rr.onerror=nr=>tr(nr)}),base64ToFile=(St,er,tr="application/pdf")=>{const rr=er??localStorage.getItem("doc");if(!rr)return;const nr=rr.split(","),ar=window.atob(nr[1]),dr=new ArrayBuffer(ar.length),or=new Uint8Array(dr);for(let ir=0;ir<ar.length;ir++)or[ir]=ar.charCodeAt(ir);return new File([or],St,{type:tr})},CanvasContext=react.exports.createContext({}),CanvasContextProvider=({children:St})=>{const er=react.exports.useRef(null),tr=()=>er,rr=nr=>{er.current=nr};return jsx(CanvasContext.Provider,{value:{canvas:er,getCanvas:tr,setCanvas:rr},children:St})},useCanvas=()=>react.exports.useContext(CanvasContext),FileContext=react.exports.createContext({}),FileContextProvider=({children:St})=>{const{canvas:er}=useCanvas(),tr=react.exports.useRef(null),[rr,nr]=react.exports.useState(""),[ar,dr]=react.exports.useState([]),[or,ir]=react.exports.useState(0),[lr,fr]=react.exports.useState(1),cr=(mr,vr)=>{const yr=vr?.toDataURL(),br=er.current.toDataURL({format:"image/png"}),xr=yr??br,Cr=[...ar];Cr[(mr??lr)-1]=xr??"",dr(Cr)},ur=()=>{if(tr.current)return tr;if(localStorage.getItem("doc")){const vr=base64ToFile(rr);tr.current=vr}return tr},sr=()=>{if(rr)return rr;const mr=localStorage.getItem("fileName");return mr&&nr(mr),mr??""},hr=mr=>{localStorage.setItem("fileName",mr),nr(mr)},gr=async mr=>{const vr=mr.name;hr(vr),tr.current=mr;try{const yr=await fileToBase64(mr);localStorage.setItem("doc",yr)}catch(yr){console.log(yr)}},pr=()=>{dr([]),fr(1),ir(0),hr(""),tr.current=null};return jsx(FileContext.Provider,{value:{sequence:ar,setSequence:dr,saveSequence:cr,nowPage:lr,setNowPage:fr,totalPages:or,setTotalPages:ir,fileName:rr,getFileName:sr,setFileNameLocal:hr,file:tr,getFile:ur,setFile:gr,resetFile:pr},children:St})},useFile=()=>react.exports.useContext(FileContext);var isCheckBoxInput=St=>St.type==="checkbox",isDateObject=St=>St instanceof Date,isNullOrUndefined=St=>St==null;const isObjectType=St=>typeof St=="object";var isObject$1=St=>!isNullOrUndefined(St)&&!Array.isArray(St)&&isObjectType(St)&&!isDateObject(St),getEventValue=St=>isObject$1(St)&&St.target?isCheckBoxInput(St.target)?St.target.checked:St.target.value:St,getNodeParentName=St=>St.substring(0,St.search(/\.\d+(\.|$)/))||St,isNameInFieldArray=(St,er)=>St.has(getNodeParentName(er)),compact=St=>Array.isArray(St)?St.filter(Boolean):[],isUndefined=St=>St===void 0,get=(St,er,tr)=>{if(!er||!isObject$1(St))return tr;const rr=compact(er.split(/[,[\].]+?/)).reduce((nr,ar)=>isNullOrUndefined(nr)?nr:nr[ar],St);return isUndefined(rr)||rr===St?isUndefined(St[er])?tr:St[er]:rr};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};React.createContext(null);var getProxyFormState=(St,er,tr,rr=!0)=>{const nr={defaultValues:er._defaultValues};for(const ar in St)Object.defineProperty(nr,ar,{get:()=>{const dr=ar;return er._proxyFormState[dr]!==VALIDATION_MODE.all&&(er._proxyFormState[dr]=!rr||VALIDATION_MODE.all),tr&&(tr[dr]=!0),St[dr]}});return nr},isEmptyObject=St=>isObject$1(St)&&!Object.keys(St).length,shouldRenderFormState=(St,er,tr)=>{const{name:rr,...nr}=St;return isEmptyObject(nr)||Object.keys(nr).length>=Object.keys(er).length||Object.keys(nr).find(ar=>er[ar]===(!tr||VALIDATION_MODE.all))},convertToArrayPayload=St=>Array.isArray(St)?St:[St];function useSubscribe(St){const er=React.useRef(St);er.current=St,React.useEffect(()=>{const tr=!St.disabled&&er.current.subject.subscribe({next:er.current.callback});return()=>{tr&&tr.unsubscribe()}},[St.disabled])}var isString=St=>typeof St=="string",generateWatchOutput=(St,er,tr,rr)=>{const nr=Array.isArray(St);return isString(St)?(rr&&er.watch.add(St),get(tr,St)):nr?St.map(ar=>(rr&&er.watch.add(ar),get(tr,ar))):(rr&&(er.watchAll=!0),tr)},isFunction=St=>typeof St=="function",objectHasFunction=St=>{for(const er in St)if(isFunction(St[er]))return!0;return!1},appendErrors=(St,er,tr,rr,nr)=>er?{...tr[St],types:{...tr[St]&&tr[St].types?tr[St].types:{},[rr]:nr||!0}}:{},isKey=St=>/^\w*$/.test(St),stringToPath=St=>compact(St.replace(/["|']|\]/g,"").split(/\.|\[/));function set(St,er,tr){let rr=-1;const nr=isKey(er)?[er]:stringToPath(er),ar=nr.length,dr=ar-1;for(;++rr<ar;){const or=nr[rr];let ir=tr;if(rr!==dr){const lr=St[or];ir=isObject$1(lr)||Array.isArray(lr)?lr:isNaN(+nr[rr+1])?{}:[]}St[or]=ir,St=St[or]}return St}const focusFieldBy=(St,er,tr)=>{for(const rr of tr||Object.keys(St)){const nr=get(St,rr);if(nr){const{_f:ar,...dr}=nr;if(ar&&er(ar.name)){if(ar.ref.focus){ar.ref.focus();break}else if(ar.refs&&ar.refs[0].focus){ar.refs[0].focus();break}}else isObject$1(dr)&&focusFieldBy(dr,er)}}};var isWatched=(St,er,tr)=>!tr&&(er.watchAll||er.watch.has(St)||[...er.watch].some(rr=>St.startsWith(rr)&&/^\.\w+/.test(St.slice(rr.length)))),updateFieldArrayRootError=(St,er,tr)=>{const rr=compact(get(St,tr));return set(rr,"root",er[tr]),set(St,tr,rr),St},isBoolean=St=>typeof St=="boolean",isFileInput=St=>St.type==="file",isMessage=St=>isString(St)||React.isValidElement(St),isRadioInput=St=>St.type==="radio",isRegex=St=>St instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=St=>{if(Array.isArray(St)){if(St.length>1){const er=St.filter(tr=>tr&&tr.checked&&!tr.disabled).map(tr=>tr.value);return{value:er,isValid:!!er.length}}return St[0].checked&&!St[0].disabled?St[0].attributes&&!isUndefined(St[0].attributes.value)?isUndefined(St[0].value)||St[0].value===""?validResult:{value:St[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=St=>Array.isArray(St)?St.reduce((er,tr)=>tr&&tr.checked&&!tr.disabled?{isValid:!0,value:tr.value}:er,defaultReturn):defaultReturn;function getValidateError(St,er,tr="validate"){if(isMessage(St)||Array.isArray(St)&&St.every(isMessage)||isBoolean(St)&&!St)return{type:tr,message:isMessage(St)?St:"",ref:er}}var getValueAndMessage=St=>isObject$1(St)&&!isRegex(St)?St:{value:St,message:""},validateField=async(St,er,tr,rr,nr)=>{const{ref:ar,refs:dr,required:or,maxLength:ir,minLength:lr,min:fr,max:cr,pattern:ur,validate:sr,name:hr,valueAsNumber:gr,mount:pr,disabled:mr}=St._f;if(!pr||mr)return{};const vr=dr?dr[0]:ar,yr=Ir=>{rr&&isString(Ir)&&(vr.setCustomValidity(Ir),vr.reportValidity())},br={},xr=isRadioInput(ar),Cr=isCheckBoxInput(ar),kr=xr||Cr,Pr=(gr||isFileInput(ar))&&!ar.value||er===""||Array.isArray(er)&&!er.length,$r=appendErrors.bind(null,hr,tr,br),Kr=(Ir,jr,Jr,zr=INPUT_VALIDATION_RULES.maxLength,Hr=INPUT_VALIDATION_RULES.minLength)=>{const Yr=Ir?jr:Jr;br[hr]={type:Ir?zr:Hr,message:Yr,ref:ar,...$r(Ir?zr:Hr,Yr)}};if(nr?!Array.isArray(er)||!er.length:or&&(!kr&&(Pr||isNullOrUndefined(er))||isBoolean(er)&&!er||Cr&&!getCheckboxValue(dr).isValid||xr&&!getRadioValue(dr).isValid)){const{value:Ir,message:jr}=isMessage(or)?{value:!!or,message:or}:getValueAndMessage(or);if(Ir&&(br[hr]={type:INPUT_VALIDATION_RULES.required,message:jr,ref:vr,...$r(INPUT_VALIDATION_RULES.required,jr)},!tr))return yr(jr),br}if(!Pr&&(!isNullOrUndefined(fr)||!isNullOrUndefined(cr))){let Ir,jr;const Jr=getValueAndMessage(cr),zr=getValueAndMessage(fr);if(!isNullOrUndefined(er)&&!isNaN(er)){const Hr=ar.valueAsNumber||er&&+er;isNullOrUndefined(Jr.value)||(Ir=Hr>Jr.value),isNullOrUndefined(zr.value)||(jr=Hr<zr.value)}else{const Hr=ar.valueAsDate||new Date(er),Yr=Or=>new Date(new Date().toDateString()+" "+Or),nn=ar.type=="time",Qr=ar.type=="week";isString(Jr.value)&&er&&(Ir=nn?Yr(er)>Yr(Jr.value):Qr?er>Jr.value:Hr>new Date(Jr.value)),isString(zr.value)&&er&&(jr=nn?Yr(er)<Yr(zr.value):Qr?er<zr.value:Hr<new Date(zr.value))}if((Ir||jr)&&(Kr(!!Ir,Jr.message,zr.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!tr))return yr(br[hr].message),br}if((ir||lr)&&!Pr&&(isString(er)||nr&&Array.isArray(er))){const Ir=getValueAndMessage(ir),jr=getValueAndMessage(lr),Jr=!isNullOrUndefined(Ir.value)&&er.length>Ir.value,zr=!isNullOrUndefined(jr.value)&&er.length<jr.value;if((Jr||zr)&&(Kr(Jr,Ir.message,jr.message),!tr))return yr(br[hr].message),br}if(ur&&!Pr&&isString(er)){const{value:Ir,message:jr}=getValueAndMessage(ur);if(isRegex(Ir)&&!er.match(Ir)&&(br[hr]={type:INPUT_VALIDATION_RULES.pattern,message:jr,ref:ar,...$r(INPUT_VALIDATION_RULES.pattern,jr)},!tr))return yr(jr),br}if(sr){if(isFunction(sr)){const Ir=await sr(er),jr=getValidateError(Ir,vr);if(jr&&(br[hr]={...jr,...$r(INPUT_VALIDATION_RULES.validate,jr.message)},!tr))return yr(jr.message),br}else if(isObject$1(sr)){let Ir={};for(const jr in sr){if(!isEmptyObject(Ir)&&!tr)break;const Jr=getValidateError(await sr[jr](er),vr,jr);Jr&&(Ir={...Jr,...$r(jr,Jr.message)},yr(Jr.message),tr&&(br[hr]=Ir))}if(!isEmptyObject(Ir)&&(br[hr]={ref:vr,...Ir},!tr))return br}}return yr(!0),br},isPlainObject=St=>{const er=St.constructor&&St.constructor.prototype;return isObject$1(er)&&er.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(St){let er;const tr=Array.isArray(St);if(St instanceof Date)er=new Date(St);else if(St instanceof Set)er=new Set(St);else if(!(isWeb&&(St instanceof Blob||St instanceof FileList))&&(tr||isObject$1(St)))if(er=tr?[]:{},!Array.isArray(St)&&!isPlainObject(St))er=St;else for(const rr in St)er[rr]=cloneObject(St[rr]);else return St;return er}var getValidationModes=St=>({isOnSubmit:!St||St===VALIDATION_MODE.onSubmit,isOnBlur:St===VALIDATION_MODE.onBlur,isOnChange:St===VALIDATION_MODE.onChange,isOnAll:St===VALIDATION_MODE.all,isOnTouch:St===VALIDATION_MODE.onTouched});function baseGet(St,er){const tr=er.slice(0,-1).length;let rr=0;for(;rr<tr;)St=isUndefined(St)?rr++:St[er[rr++]];return St}function isEmptyArray(St){for(const er in St)if(!isUndefined(St[er]))return!1;return!0}function unset(St,er){const tr=isKey(er)?[er]:stringToPath(er),rr=tr.length==1?St:baseGet(St,tr),nr=tr[tr.length-1];let ar;rr&&delete rr[nr];for(let dr=0;dr<tr.slice(0,-1).length;dr++){let or=-1,ir;const lr=tr.slice(0,-(dr+1)),fr=lr.length-1;for(dr>0&&(ar=St);++or<lr.length;){const cr=lr[or];ir=ir?ir[cr]:St[cr],fr===or&&(isObject$1(ir)&&isEmptyObject(ir)||Array.isArray(ir)&&isEmptyArray(ir))&&(ar?delete ar[cr]:delete St[cr]),ar=ir}}return St}function createSubject(){let St=[];return{get observers(){return St},next:nr=>{for(const ar of St)ar.next(nr)},subscribe:nr=>(St.push(nr),{unsubscribe:()=>{St=St.filter(ar=>ar!==nr)}}),unsubscribe:()=>{St=[]}}}var isPrimitive=St=>isNullOrUndefined(St)||!isObjectType(St);function deepEqual(St,er){if(isPrimitive(St)||isPrimitive(er))return St===er;if(isDateObject(St)&&isDateObject(er))return St.getTime()===er.getTime();const tr=Object.keys(St),rr=Object.keys(er);if(tr.length!==rr.length)return!1;for(const nr of tr){const ar=St[nr];if(!rr.includes(nr))return!1;if(nr!=="ref"){const dr=er[nr];if(isDateObject(ar)&&isDateObject(dr)||isObject$1(ar)&&isObject$1(dr)||Array.isArray(ar)&&Array.isArray(dr)?!deepEqual(ar,dr):ar!==dr)return!1}}return!0}var isHTMLElement=St=>{const er=St?St.ownerDocument:0,tr=er&&er.defaultView?er.defaultView.HTMLElement:HTMLElement;return St instanceof tr},isMultipleSelect=St=>St.type==="select-multiple",isRadioOrCheckbox=St=>isRadioInput(St)||isCheckBoxInput(St),live=St=>isHTMLElement(St)&&St.isConnected;function markFieldsDirty(St,er={}){const tr=Array.isArray(St);if(isObject$1(St)||tr)for(const rr in St)Array.isArray(St[rr])||isObject$1(St[rr])&&!objectHasFunction(St[rr])?(er[rr]=Array.isArray(St[rr])?[]:{},markFieldsDirty(St[rr],er[rr])):isNullOrUndefined(St[rr])||(er[rr]=!0);return er}function getDirtyFieldsFromDefaultValues(St,er,tr){const rr=Array.isArray(St);if(isObject$1(St)||rr)for(const nr in St)Array.isArray(St[nr])||isObject$1(St[nr])&&!objectHasFunction(St[nr])?isUndefined(er)||isPrimitive(tr[nr])?tr[nr]=Array.isArray(St[nr])?markFieldsDirty(St[nr],[]):{...markFieldsDirty(St[nr])}:getDirtyFieldsFromDefaultValues(St[nr],isNullOrUndefined(er)?{}:er[nr],tr[nr]):deepEqual(St[nr],er[nr])?delete tr[nr]:tr[nr]=!0;return tr}var getDirtyFields=(St,er)=>getDirtyFieldsFromDefaultValues(St,er,markFieldsDirty(er)),getFieldValueAs=(St,{valueAsNumber:er,valueAsDate:tr,setValueAs:rr})=>isUndefined(St)?St:er?St===""?NaN:St&&+St:tr&&isString(St)?new Date(St):rr?rr(St):St;function getFieldValue(St){const er=St.ref;if(!(St.refs?St.refs.every(tr=>tr.disabled):er.disabled))return isFileInput(er)?er.files:isRadioInput(er)?getRadioValue(St.refs).value:isMultipleSelect(er)?[...er.selectedOptions].map(({value:tr})=>tr):isCheckBoxInput(er)?getCheckboxValue(St.refs).value:getFieldValueAs(isUndefined(er.value)?St.ref.value:er.value,St)}var getResolverOptions=(St,er,tr,rr)=>{const nr={};for(const ar of St){const dr=get(er,ar);dr&&set(nr,ar,dr._f)}return{criteriaMode:tr,names:[...St],fields:nr,shouldUseNativeValidation:rr}},getRuleValue=St=>isUndefined(St)?void 0:isRegex(St)?St.source:isObject$1(St)?isRegex(St.value)?St.value.source:St.value:St,hasValidation=St=>St.mount&&(St.required||St.min||St.max||St.maxLength||St.minLength||St.pattern||St.validate);function schemaErrorLookup(St,er,tr){const rr=get(St,tr);if(rr||isKey(tr))return{error:rr,name:tr};const nr=tr.split(".");for(;nr.length;){const ar=nr.join("."),dr=get(er,ar),or=get(St,ar);if(dr&&!Array.isArray(dr)&&tr!==ar)return{name:tr};if(or&&or.type)return{name:ar,error:or};nr.pop()}return{name:tr}}var skipValidation=(St,er,tr,rr,nr)=>nr.isOnAll?!1:!tr&&nr.isOnTouch?!(er||St):(tr?rr.isOnBlur:nr.isOnBlur)?!St:(tr?rr.isOnChange:nr.isOnChange)?St:!0,unsetEmptyArray=(St,er)=>!compact(get(St,er)).length&&unset(St,er);const defaultOptions$1={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(St={}){let er={...defaultOptions$1,...St},tr={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},rr={},nr=cloneObject(er.defaultValues)||{},ar=er.shouldUnregister?{}:cloneObject(nr),dr={action:!1,mount:!1,watch:!1},or={mount:new Set,unMount:new Set,array:new Set,watch:new Set},ir,lr=0,fr={};const cr={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},ur={watch:createSubject(),array:createSubject(),state:createSubject()},sr=getValidationModes(er.mode),hr=getValidationModes(er.reValidateMode),gr=er.criteriaMode===VALIDATION_MODE.all,pr=qr=>Gr=>{clearTimeout(lr),lr=window.setTimeout(qr,Gr)},mr=async()=>{let qr=!1;return cr.isValid&&(qr=er.resolver?isEmptyObject((await kr()).errors):await $r(rr,!0),qr!==tr.isValid&&(tr.isValid=qr,ur.state.next({isValid:qr}))),qr},vr=(qr,Gr=[],Xr,en,Wr=!0,cn=!0)=>{if(en&&Xr){if(dr.action=!0,cn&&Array.isArray(get(rr,qr))){const fn=Xr(get(rr,qr),en.argA,en.argB);Wr&&set(rr,qr,fn)}if(cr.errors&&cn&&Array.isArray(get(tr.errors,qr))){const fn=Xr(get(tr.errors,qr),en.argA,en.argB);Wr&&set(tr.errors,qr,fn),unsetEmptyArray(tr.errors,qr)}if(cr.touchedFields&&cn&&Array.isArray(get(tr.touchedFields,qr))){const fn=Xr(get(tr.touchedFields,qr),en.argA,en.argB);Wr&&set(tr.touchedFields,qr,fn)}cr.dirtyFields&&(tr.dirtyFields=getDirtyFields(nr,ar)),ur.state.next({isDirty:Ir(qr,Gr),dirtyFields:tr.dirtyFields,errors:tr.errors,isValid:tr.isValid})}else set(ar,qr,Gr)},yr=(qr,Gr)=>{set(tr.errors,qr,Gr),ur.state.next({errors:tr.errors})},br=(qr,Gr,Xr,en)=>{const Wr=get(rr,qr);if(Wr){const cn=get(ar,qr,isUndefined(Xr)?get(nr,qr):Xr);isUndefined(cn)||en&&en.defaultChecked||Gr?set(ar,qr,Gr?cn:getFieldValue(Wr._f)):zr(qr,cn),dr.mount&&mr()}},xr=(qr,Gr,Xr,en,Wr)=>{let cn=!1;const fn={name:qr},gn=get(tr.touchedFields,qr);if(cr.isDirty){const wn=tr.isDirty;tr.isDirty=fn.isDirty=Ir(),cn=wn!==fn.isDirty}if(cr.dirtyFields&&(!Xr||en)){const wn=get(tr.dirtyFields,qr);deepEqual(get(nr,qr),Gr)?unset(tr.dirtyFields,qr):set(tr.dirtyFields,qr,!0),fn.dirtyFields=tr.dirtyFields,cn=cn||wn!==get(tr.dirtyFields,qr)}return Xr&&!gn&&(set(tr.touchedFields,qr,Xr),fn.touchedFields=tr.touchedFields,cn=cn||cr.touchedFields&&gn!==Xr),cn&&Wr&&ur.state.next(fn),cn?fn:{}},Cr=(qr,Gr,Xr,en)=>{const Wr=get(tr.errors,qr),cn=cr.isValid&&isBoolean(Gr)&&tr.isValid!==Gr;if(St.delayError&&Xr?(ir=pr(()=>yr(qr,Xr)),ir(St.delayError)):(clearTimeout(lr),ir=null,Xr?set(tr.errors,qr,Xr):unset(tr.errors,qr)),(Xr?!deepEqual(Wr,Xr):Wr)||!isEmptyObject(en)||cn){const fn={...en,...cn&&isBoolean(Gr)?{isValid:Gr}:{},errors:tr.errors,name:qr};tr={...tr,...fn},ur.state.next(fn)}fr[qr]--,cr.isValidating&&!Object.values(fr).some(fn=>fn)&&(ur.state.next({isValidating:!1}),fr={})},kr=async qr=>er.resolver?await er.resolver({...ar},er.context,getResolverOptions(qr||or.mount,rr,er.criteriaMode,er.shouldUseNativeValidation)):{},Pr=async qr=>{const{errors:Gr}=await kr();if(qr)for(const Xr of qr){const en=get(Gr,Xr);en?set(tr.errors,Xr,en):unset(tr.errors,Xr)}else tr.errors=Gr;return Gr},$r=async(qr,Gr,Xr={valid:!0})=>{for(const en in qr){const Wr=qr[en];if(Wr){const{_f:cn,...fn}=Wr;if(cn){const gn=or.array.has(cn.name),wn=await validateField(Wr,get(ar,cn.name),gr,er.shouldUseNativeValidation,gn);if(wn[cn.name]&&(Xr.valid=!1,Gr))break;!Gr&&(get(wn,cn.name)?gn?updateFieldArrayRootError(tr.errors,wn,cn.name):set(tr.errors,cn.name,wn[cn.name]):unset(tr.errors,cn.name))}fn&&await $r(fn,Gr,Xr)}}return Xr.valid},Kr=()=>{for(const qr of or.unMount){const Gr=get(rr,qr);Gr&&(Gr._f.refs?Gr._f.refs.every(Xr=>!live(Xr)):!live(Gr._f.ref))&&_r(qr)}or.unMount=new Set},Ir=(qr,Gr)=>(qr&&Gr&&set(ar,qr,Gr),!deepEqual(Or(),nr)),jr=(qr,Gr,Xr)=>{const en={...dr.mount?ar:isUndefined(Gr)?nr:isString(qr)?{[qr]:Gr}:Gr};return generateWatchOutput(qr,or,en,Xr)},Jr=qr=>compact(get(dr.mount?ar:nr,qr,St.shouldUnregister?get(nr,qr,[]):[])),zr=(qr,Gr,Xr={})=>{const en=get(rr,qr);let Wr=Gr;if(en){const cn=en._f;cn&&(!cn.disabled&&set(ar,qr,getFieldValueAs(Gr,cn)),Wr=isWeb&&isHTMLElement(cn.ref)&&isNullOrUndefined(Gr)?"":Gr,isMultipleSelect(cn.ref)?[...cn.ref.options].forEach(fn=>fn.selected=Wr.includes(fn.value)):cn.refs?isCheckBoxInput(cn.ref)?cn.refs.length>1?cn.refs.forEach(fn=>(!fn.defaultChecked||!fn.disabled)&&(fn.checked=Array.isArray(Wr)?!!Wr.find(gn=>gn===fn.value):Wr===fn.value)):cn.refs[0]&&(cn.refs[0].checked=!!Wr):cn.refs.forEach(fn=>fn.checked=fn.value===Wr):isFileInput(cn.ref)?cn.ref.value="":(cn.ref.value=Wr,cn.ref.type||ur.watch.next({name:qr})))}(Xr.shouldDirty||Xr.shouldTouch)&&xr(qr,Wr,Xr.shouldTouch,Xr.shouldDirty,!0),Xr.shouldValidate&&Qr(qr)},Hr=(qr,Gr,Xr)=>{for(const en in Gr){const Wr=Gr[en],cn=`${qr}.${en}`,fn=get(rr,cn);(or.array.has(qr)||!isPrimitive(Wr)||fn&&!fn._f)&&!isDateObject(Wr)?Hr(cn,Wr,Xr):zr(cn,Wr,Xr)}},Yr=(qr,Gr,Xr={})=>{const en=get(rr,qr),Wr=or.array.has(qr),cn=cloneObject(Gr);set(ar,qr,cn),Wr?(ur.array.next({name:qr,values:ar}),(cr.isDirty||cr.dirtyFields)&&Xr.shouldDirty&&(tr.dirtyFields=getDirtyFields(nr,ar),ur.state.next({name:qr,dirtyFields:tr.dirtyFields,isDirty:Ir(qr,cn)}))):en&&!en._f&&!isNullOrUndefined(cn)?Hr(qr,cn,Xr):zr(qr,cn,Xr),isWatched(qr,or)&&ur.state.next({}),ur.watch.next({name:qr})},nn=async qr=>{const Gr=qr.target;let Xr=Gr.name;const en=get(rr,Xr);if(en){let Wr,cn;const fn=Gr.type?getFieldValue(en._f):getEventValue(qr),gn=qr.type===EVENTS.BLUR||qr.type===EVENTS.FOCUS_OUT,wn=!hasValidation(en._f)&&!er.resolver&&!get(tr.errors,Xr)&&!en._f.deps||skipValidation(gn,get(tr.touchedFields,Xr),tr.isSubmitted,hr,sr),yn=isWatched(Xr,or,gn);set(ar,Xr,fn),gn?(en._f.onBlur&&en._f.onBlur(qr),ir&&ir(0)):en._f.onChange&&en._f.onChange(qr);const vn=xr(Xr,fn,gn,!1),Ln=!isEmptyObject(vn)||yn;if(!gn&&ur.watch.next({name:Xr,type:qr.type}),wn)return cr.isValid&&mr(),Ln&&ur.state.next({name:Xr,...yn?{}:vn});if(!gn&&yn&&ur.state.next({}),fr[Xr]=fr[Xr]?fr[Xr]+1:1,ur.state.next({isValidating:!0}),er.resolver){const{errors:bn}=await kr([Xr]),Mn=schemaErrorLookup(tr.errors,rr,Xr),Un=schemaErrorLookup(bn,rr,Mn.name||Xr);Wr=Un.error,Xr=Un.name,cn=isEmptyObject(bn)}else Wr=(await validateField(en,get(ar,Xr),gr,er.shouldUseNativeValidation))[Xr],mr();en._f.deps&&Qr(en._f.deps),Cr(Xr,cn,Wr,vn)}},Qr=async(qr,Gr={})=>{let Xr,en;const Wr=convertToArrayPayload(qr);if(ur.state.next({isValidating:!0}),er.resolver){const cn=await Pr(isUndefined(qr)?qr:Wr);Xr=isEmptyObject(cn),en=qr?!Wr.some(fn=>get(cn,fn)):Xr}else qr?(en=(await Promise.all(Wr.map(async cn=>{const fn=get(rr,cn);return await $r(fn&&fn._f?{[cn]:fn}:fn)}))).every(Boolean),!(!en&&!tr.isValid)&&mr()):en=Xr=await $r(rr);return ur.state.next({...!isString(qr)||cr.isValid&&Xr!==tr.isValid?{}:{name:qr},...er.resolver||!qr?{isValid:Xr}:{},errors:tr.errors,isValidating:!1}),Gr.shouldFocus&&!en&&focusFieldBy(rr,cn=>cn&&get(tr.errors,cn),qr?Wr:or.mount),en},Or=qr=>{const Gr={...nr,...dr.mount?ar:{}};return isUndefined(qr)?Gr:isString(qr)?get(Gr,qr):qr.map(Xr=>get(Gr,Xr))},Er=(qr,Gr)=>({invalid:!!get((Gr||tr).errors,qr),isDirty:!!get((Gr||tr).dirtyFields,qr),isTouched:!!get((Gr||tr).touchedFields,qr),error:get((Gr||tr).errors,qr)}),Dr=qr=>{qr?convertToArrayPayload(qr).forEach(Gr=>unset(tr.errors,Gr)):tr.errors={},ur.state.next({errors:tr.errors})},Tr=(qr,Gr,Xr)=>{const en=(get(rr,qr,{_f:{}})._f||{}).ref;set(tr.errors,qr,{...Gr,ref:en}),ur.state.next({name:qr,errors:tr.errors,isValid:!1}),Xr&&Xr.shouldFocus&&en&&en.focus&&en.focus()},Lr=(qr,Gr)=>isFunction(qr)?ur.watch.subscribe({next:Xr=>qr(jr(void 0,Gr),Xr)}):jr(qr,Gr,!0),_r=(qr,Gr={})=>{for(const Xr of qr?convertToArrayPayload(qr):or.mount)or.mount.delete(Xr),or.array.delete(Xr),get(rr,Xr)&&(Gr.keepValue||(unset(rr,Xr),unset(ar,Xr)),!Gr.keepError&&unset(tr.errors,Xr),!Gr.keepDirty&&unset(tr.dirtyFields,Xr),!Gr.keepTouched&&unset(tr.touchedFields,Xr),!er.shouldUnregister&&!Gr.keepDefaultValue&&unset(nr,Xr));ur.watch.next({}),ur.state.next({...tr,...Gr.keepDirty?{isDirty:Ir()}:{}}),!Gr.keepIsValid&&mr()},wr=(qr,Gr={})=>{let Xr=get(rr,qr);const en=isBoolean(Gr.disabled);return set(rr,qr,{...Xr||{},_f:{...Xr&&Xr._f?Xr._f:{ref:{name:qr}},name:qr,mount:!0,...Gr}}),or.mount.add(qr),Xr?en&&set(ar,qr,Gr.disabled?void 0:get(ar,qr,getFieldValue(Xr._f))):br(qr,!0,Gr.value),{...en?{disabled:Gr.disabled}:{},...er.shouldUseNativeValidation?{required:!!Gr.required,min:getRuleValue(Gr.min),max:getRuleValue(Gr.max),minLength:getRuleValue(Gr.minLength),maxLength:getRuleValue(Gr.maxLength),pattern:getRuleValue(Gr.pattern)}:{},name:qr,onChange:nn,onBlur:nn,ref:Wr=>{if(Wr){wr(qr,Gr),Xr=get(rr,qr);const cn=isUndefined(Wr.value)&&Wr.querySelectorAll&&Wr.querySelectorAll("input,select,textarea")[0]||Wr,fn=isRadioOrCheckbox(cn),gn=Xr._f.refs||[];if(fn?gn.find(wn=>wn===cn):cn===Xr._f.ref)return;set(rr,qr,{_f:{...Xr._f,...fn?{refs:[...gn.filter(live),cn,...Array.isArray(get(nr,qr))?[{}]:[]],ref:{type:cn.type,name:qr}}:{ref:cn}}}),br(qr,!1,void 0,cn)}else Xr=get(rr,qr,{}),Xr._f&&(Xr._f.mount=!1),(er.shouldUnregister||Gr.shouldUnregister)&&!(isNameInFieldArray(or.array,qr)&&dr.action)&&or.unMount.add(qr)}}},Fr=()=>er.shouldFocusError&&focusFieldBy(rr,qr=>qr&&get(tr.errors,qr),or.mount),Nr=(qr,Gr)=>async Xr=>{Xr&&(Xr.preventDefault&&Xr.preventDefault(),Xr.persist&&Xr.persist());let en=!0,Wr=cloneObject(ar);ur.state.next({isSubmitting:!0});try{if(er.resolver){const{errors:cn,values:fn}=await kr();tr.errors=cn,Wr=fn}else await $r(rr);isEmptyObject(tr.errors)?(ur.state.next({errors:{},isSubmitting:!0}),await qr(Wr,Xr)):(Gr&&await Gr({...tr.errors},Xr),Fr())}catch(cn){throw en=!1,cn}finally{tr.isSubmitted=!0,ur.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(tr.errors)&&en,submitCount:tr.submitCount+1,errors:tr.errors})}},Br=(qr,Gr={})=>{get(rr,qr)&&(isUndefined(Gr.defaultValue)?Yr(qr,get(nr,qr)):(Yr(qr,Gr.defaultValue),set(nr,qr,Gr.defaultValue)),Gr.keepTouched||unset(tr.touchedFields,qr),Gr.keepDirty||(unset(tr.dirtyFields,qr),tr.isDirty=Gr.defaultValue?Ir(qr,get(nr,qr)):Ir()),Gr.keepError||(unset(tr.errors,qr),cr.isValid&&mr()),ur.state.next({...tr}))},Ur=(qr,Gr={})=>{const Xr=qr||nr,en=cloneObject(Xr),Wr=qr&&!isEmptyObject(qr)?en:nr;if(Gr.keepDefaultValues||(nr=Xr),!Gr.keepValues){if(Gr.keepDirtyValues)for(const cn of or.mount)get(tr.dirtyFields,cn)?set(Wr,cn,get(ar,cn)):Yr(cn,get(Wr,cn));else{if(isWeb&&isUndefined(qr))for(const cn of or.mount){const fn=get(rr,cn);if(fn&&fn._f){const gn=Array.isArray(fn._f.refs)?fn._f.refs[0]:fn._f.ref;if(isHTMLElement(gn)){const wn=gn.closest("form");if(wn){wn.reset();break}}}}rr={}}ar=St.shouldUnregister?Gr.keepDefaultValues?cloneObject(nr):{}:en,ur.array.next({values:Wr}),ur.watch.next({values:Wr})}or={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},dr.mount=!cr.isValid||!!Gr.keepIsValid,dr.watch=!!St.shouldUnregister,ur.state.next({submitCount:Gr.keepSubmitCount?tr.submitCount:0,isDirty:Gr.keepDirty||Gr.keepDirtyValues?tr.isDirty:!!(Gr.keepDefaultValues&&!deepEqual(qr,nr)),isSubmitted:Gr.keepIsSubmitted?tr.isSubmitted:!1,dirtyFields:Gr.keepDirty||Gr.keepDirtyValues?tr.dirtyFields:Gr.keepDefaultValues&&qr?getDirtyFields(nr,qr):{},touchedFields:Gr.keepTouched?tr.touchedFields:{},errors:Gr.keepErrors?tr.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})};return{control:{register:wr,unregister:_r,getFieldState:Er,_executeSchema:kr,_focusError:Fr,_getWatch:jr,_getDirty:Ir,_updateValid:mr,_removeUnmounted:Kr,_updateFieldArray:vr,_getFieldArray:Jr,_subjects:ur,_proxyFormState:cr,get _fields(){return rr},get _formValues(){return ar},get _stateFlags(){return dr},set _stateFlags(qr){dr=qr},get _defaultValues(){return nr},get _names(){return or},set _names(qr){or=qr},get _formState(){return tr},set _formState(qr){tr=qr},get _options(){return er},set _options(qr){er={...er,...qr}}},trigger:Qr,register:wr,handleSubmit:Nr,watch:Lr,setValue:Yr,getValues:Or,reset:(qr,Gr)=>Ur(isFunction(qr)?qr(ar):qr,Gr),resetField:Br,clearErrors:Dr,unregister:_r,setError:Tr,setFocus:(qr,Gr={})=>{const Xr=get(rr,qr),en=Xr&&Xr._f;if(en){const Wr=en.refs?en.refs[0]:en.ref;Wr.focus&&(Wr.focus(),Gr.shouldSelect&&Wr.select())}},getFieldState:Er}}function useForm(St={}){const er=React.useRef(),[tr,rr]=React.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:St.defaultValues});er.current||(er.current={...createFormControl(St),formState:tr});const nr=er.current.control;return nr._options=St,useSubscribe({subject:nr._subjects.state,callback:React.useCallback(ar=>{shouldRenderFormState(ar,nr._proxyFormState,!0)&&(nr._formState={...nr._formState,...ar},rr({...nr._formState}))},[nr])}),React.useEffect(()=>{nr._stateFlags.mount||(nr._proxyFormState.isValid&&nr._updateValid(),nr._stateFlags.mount=!0),nr._stateFlags.watch&&(nr._stateFlags.watch=!1,nr._subjects.state.next({})),nr._removeUnmounted()}),React.useEffect(()=>{tr.submitCount&&nr._focusError()},[nr,tr.submitCount]),er.current.formState=getProxyFormState(tr,nr),er.current}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(St,er){var tr=withMimeType(St);if(typeof tr.path!="string"){var rr=St.webkitRelativePath;Object.defineProperty(tr,"path",{value:typeof er=="string"?er:typeof rr=="string"&&rr.length>0?rr:St.name,writable:!1,configurable:!1,enumerable:!0})}return tr}function withMimeType(St){var er=St.name,tr=er&&er.lastIndexOf(".")!==-1;if(tr&&!St.type){var rr=er.split(".").pop().toLowerCase(),nr=COMMON_MIME_TYPES.get(rr);nr&&Object.defineProperty(St,"type",{value:nr,writable:!1,configurable:!1,enumerable:!0})}return St}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(St){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(er){return isObject(St)&&isDataTransfer(St.dataTransfer)?[2,getDataTransferFiles(St.dataTransfer,St.type)]:isChangeEvt(St)?[2,getInputFiles(St)]:Array.isArray(St)&&St.every(function(tr){return"getFile"in tr&&typeof tr.getFile=="function"})?[2,getFsHandleFiles(St)]:[2,[]]})})}function isDataTransfer(St){return isObject(St)}function isChangeEvt(St){return isObject(St)&&isObject(St.target)}function isObject(St){return typeof St=="object"&&St!==null}function getInputFiles(St){return fromList(St.target.files).map(function(er){return toFileWithPath(er)})}function getFsHandleFiles(St){return __awaiter(this,void 0,void 0,function(){var er;return __generator(this,function(tr){switch(tr.label){case 0:return[4,Promise.all(St.map(function(rr){return rr.getFile()}))];case 1:return er=tr.sent(),[2,er.map(function(rr){return toFileWithPath(rr)})]}})})}function getDataTransferFiles(St,er){return __awaiter(this,void 0,void 0,function(){var tr,rr;return __generator(this,function(nr){switch(nr.label){case 0:return St.items?(tr=fromList(St.items).filter(function(ar){return ar.kind==="file"}),er!=="drop"?[2,tr]:[4,Promise.all(tr.map(toFilePromises))]):[3,2];case 1:return rr=nr.sent(),[2,noIgnoredFiles(flatten(rr))];case 2:return[2,noIgnoredFiles(fromList(St.files).map(function(ar){return toFileWithPath(ar)}))]}})})}function noIgnoredFiles(St){return St.filter(function(er){return FILES_TO_IGNORE.indexOf(er.name)===-1})}function fromList(St){if(St===null)return[];for(var er=[],tr=0;tr<St.length;tr++){var rr=St[tr];er.push(rr)}return er}function toFilePromises(St){if(typeof St.webkitGetAsEntry!="function")return fromDataTransferItem(St);var er=St.webkitGetAsEntry();return er&&er.isDirectory?fromDirEntry(er):fromDataTransferItem(St)}function flatten(St){return St.reduce(function(er,tr){return __spreadArray$1(__spreadArray$1([],__read(er),!1),__read(Array.isArray(tr)?flatten(tr):[tr]),!1)},[])}function fromDataTransferItem(St){var er=St.getAsFile();if(!er)return Promise.reject("".concat(St," is not a File"));var tr=toFileWithPath(er);return Promise.resolve(tr)}function fromEntry(St){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(er){return[2,St.isDirectory?fromDirEntry(St):fromFileEntry(St)]})})}function fromDirEntry(St){var er=St.createReader();return new Promise(function(tr,rr){var nr=[];function ar(){var dr=this;er.readEntries(function(or){return __awaiter(dr,void 0,void 0,function(){var ir,lr,fr;return __generator(this,function(cr){switch(cr.label){case 0:if(or.length)return[3,5];cr.label=1;case 1:return cr.trys.push([1,3,,4]),[4,Promise.all(nr)];case 2:return ir=cr.sent(),tr(ir),[3,4];case 3:return lr=cr.sent(),rr(lr),[3,4];case 4:return[3,6];case 5:fr=Promise.all(or.map(fromEntry)),nr.push(fr),ar(),cr.label=6;case 6:return[2]}})})},function(or){rr(or)})}ar()})}function fromFileEntry(St){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(er){return[2,new Promise(function(tr,rr){St.file(function(nr){var ar=toFileWithPath(nr,St.fullPath);tr(ar)},function(nr){rr(nr)})})]})})}var _default=function(St,er){if(St&&er){var tr=Array.isArray(er)?er:er.split(","),rr=St.name||"",nr=(St.type||"").toLowerCase(),ar=nr.replace(/\/.*$/,"");return tr.some(function(dr){var or=dr.trim().toLowerCase();return or.charAt(0)==="."?rr.toLowerCase().endsWith(or):or.endsWith("/*")?ar===or.replace(/\/.*$/,""):nr===or})}return!0};function _toConsumableArray$1(St){return _arrayWithoutHoles$1(St)||_iterableToArray$1(St)||_unsupportedIterableToArray$1(St)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(St){if(typeof Symbol<"u"&&St[Symbol.iterator]!=null||St["@@iterator"]!=null)return Array.from(St)}function _arrayWithoutHoles$1(St){if(Array.isArray(St))return _arrayLikeToArray$1(St)}function ownKeys$1(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread$1(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$1(Object(tr),!0).forEach(function(rr){_defineProperty$1(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys$1(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty$1(St,er,tr){return er in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _slicedToArray$1(St,er){return _arrayWithHoles$1(St)||_iterableToArrayLimit$1(St,er)||_unsupportedIterableToArray$1(St,er)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(St,er){if(!!St){if(typeof St=="string")return _arrayLikeToArray$1(St,er);var tr=Object.prototype.toString.call(St).slice(8,-1);if(tr==="Object"&&St.constructor&&(tr=St.constructor.name),tr==="Map"||tr==="Set")return Array.from(St);if(tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr))return _arrayLikeToArray$1(St,er)}}function _arrayLikeToArray$1(St,er){(er==null||er>St.length)&&(er=St.length);for(var tr=0,rr=new Array(er);tr<er;tr++)rr[tr]=St[tr];return rr}function _iterableToArrayLimit$1(St,er){var tr=St==null?null:typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(tr!=null){var rr=[],nr=!0,ar=!1,dr,or;try{for(tr=tr.call(St);!(nr=(dr=tr.next()).done)&&(rr.push(dr.value),!(er&&rr.length===er));nr=!0);}catch(ir){ar=!0,or=ir}finally{try{!nr&&tr.return!=null&&tr.return()}finally{if(ar)throw or}}return rr}}function _arrayWithHoles$1(St){if(Array.isArray(St))return St}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(er){er=Array.isArray(er)&&er.length===1?er[0]:er;var tr=Array.isArray(er)?"one of ".concat(er.join(", ")):er;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(tr)}},getTooLargeRejectionErr=function(er){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(er," ").concat(er===1?"byte":"bytes")}},getTooSmallRejectionErr=function(er){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(er," ").concat(er===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(St,er){var tr=St.type==="application/x-moz-file"||_default(St,er);return[tr,tr?null:getInvalidTypeRejectionErr(er)]}function fileMatchSize(St,er,tr){if(isDefined(St.size))if(isDefined(er)&&isDefined(tr)){if(St.size>tr)return[!1,getTooLargeRejectionErr(tr)];if(St.size<er)return[!1,getTooSmallRejectionErr(er)]}else{if(isDefined(er)&&St.size<er)return[!1,getTooSmallRejectionErr(er)];if(isDefined(tr)&&St.size>tr)return[!1,getTooLargeRejectionErr(tr)]}return[!0,null]}function isDefined(St){return St!=null}function allFilesAccepted(St){var er=St.files,tr=St.accept,rr=St.minSize,nr=St.maxSize,ar=St.multiple,dr=St.maxFiles,or=St.validator;return!ar&&er.length>1||ar&&dr>=1&&er.length>dr?!1:er.every(function(ir){var lr=fileAccepted(ir,tr),fr=_slicedToArray$1(lr,1),cr=fr[0],ur=fileMatchSize(ir,rr,nr),sr=_slicedToArray$1(ur,1),hr=sr[0],gr=or?or(ir):null;return cr&&hr&&!gr})}function isPropagationStopped(St){return typeof St.isPropagationStopped=="function"?St.isPropagationStopped():typeof St.cancelBubble<"u"?St.cancelBubble:!1}function isEvtWithFiles(St){return St.dataTransfer?Array.prototype.some.call(St.dataTransfer.types,function(er){return er==="Files"||er==="application/x-moz-file"}):!!St.target&&!!St.target.files}function onDocumentDragOver(St){St.preventDefault()}function isIe(St){return St.indexOf("MSIE")!==-1||St.indexOf("Trident/")!==-1}function isEdge(St){return St.indexOf("Edge/")!==-1}function isIeOrEdge(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(St)||isEdge(St)}function composeEventHandlers(){for(var St=arguments.length,er=new Array(St),tr=0;tr<St;tr++)er[tr]=arguments[tr];return function(rr){for(var nr=arguments.length,ar=new Array(nr>1?nr-1:0),dr=1;dr<nr;dr++)ar[dr-1]=arguments[dr];return er.some(function(or){return!isPropagationStopped(rr)&&or&&or.apply(void 0,[rr].concat(ar)),isPropagationStopped(rr)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(St){if(isDefined(St)){var er=Object.entries(St).filter(function(tr){var rr=_slicedToArray$1(tr,2),nr=rr[0],ar=rr[1],dr=!0;return isMIMEType(nr)||(console.warn('Skipped "'.concat(nr,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),dr=!1),(!Array.isArray(ar)||!ar.every(isExt))&&(console.warn('Skipped "'.concat(nr,'" because an invalid file extension was provided.')),dr=!1),dr}).reduce(function(tr,rr){var nr=_slicedToArray$1(rr,2),ar=nr[0],dr=nr[1];return _objectSpread$1(_objectSpread$1({},tr),{},_defineProperty$1({},ar,dr))},{});return[{description:"Files",accept:er}]}return St}function acceptPropAsAcceptAttr(St){if(isDefined(St))return Object.entries(St).reduce(function(er,tr){var rr=_slicedToArray$1(tr,2),nr=rr[0],ar=rr[1];return[].concat(_toConsumableArray$1(er),[nr],_toConsumableArray$1(ar))},[]).filter(function(er){return isMIMEType(er)||isExt(er)}).join(",")}function isAbort(St){return St instanceof DOMException&&(St.name==="AbortError"||St.code===St.ABORT_ERR)}function isSecurityError(St){return St instanceof DOMException&&(St.name==="SecurityError"||St.code===St.SECURITY_ERR)}function isMIMEType(St){return St==="audio/*"||St==="video/*"||St==="image/*"||St==="text/*"||/\w+\/[-+.\w]+/g.test(St)}function isExt(St){return/^.*\.[\w]+$/.test(St)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(St){return _arrayWithoutHoles(St)||_iterableToArray(St)||_unsupportedIterableToArray(St)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(St){if(typeof Symbol<"u"&&St[Symbol.iterator]!=null||St["@@iterator"]!=null)return Array.from(St)}function _arrayWithoutHoles(St){if(Array.isArray(St))return _arrayLikeToArray(St)}function _slicedToArray(St,er){return _arrayWithHoles(St)||_iterableToArrayLimit(St,er)||_unsupportedIterableToArray(St,er)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(St,er){if(!!St){if(typeof St=="string")return _arrayLikeToArray(St,er);var tr=Object.prototype.toString.call(St).slice(8,-1);if(tr==="Object"&&St.constructor&&(tr=St.constructor.name),tr==="Map"||tr==="Set")return Array.from(St);if(tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr))return _arrayLikeToArray(St,er)}}function _arrayLikeToArray(St,er){(er==null||er>St.length)&&(er=St.length);for(var tr=0,rr=new Array(er);tr<er;tr++)rr[tr]=St[tr];return rr}function _iterableToArrayLimit(St,er){var tr=St==null?null:typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(tr!=null){var rr=[],nr=!0,ar=!1,dr,or;try{for(tr=tr.call(St);!(nr=(dr=tr.next()).done)&&(rr.push(dr.value),!(er&&rr.length===er));nr=!0);}catch(ir){ar=!0,or=ir}finally{try{!nr&&tr.return!=null&&tr.return()}finally{if(ar)throw or}}return rr}}function _arrayWithHoles(St){if(Array.isArray(St))return St}function ownKeys(St,er){var tr=Object.keys(St);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(St);er&&(rr=rr.filter(function(nr){return Object.getOwnPropertyDescriptor(St,nr).enumerable})),tr.push.apply(tr,rr)}return tr}function _objectSpread(St){for(var er=1;er<arguments.length;er++){var tr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys(Object(tr),!0).forEach(function(rr){_defineProperty(St,rr,tr[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(tr)):ownKeys(Object(tr)).forEach(function(rr){Object.defineProperty(St,rr,Object.getOwnPropertyDescriptor(tr,rr))})}return St}function _defineProperty(St,er,tr){return er in St?Object.defineProperty(St,er,{value:tr,enumerable:!0,configurable:!0,writable:!0}):St[er]=tr,St}function _objectWithoutProperties(St,er){if(St==null)return{};var tr=_objectWithoutPropertiesLoose(St,er),rr,nr;if(Object.getOwnPropertySymbols){var ar=Object.getOwnPropertySymbols(St);for(nr=0;nr<ar.length;nr++)rr=ar[nr],!(er.indexOf(rr)>=0)&&(!Object.prototype.propertyIsEnumerable.call(St,rr)||(tr[rr]=St[rr]))}return tr}function _objectWithoutPropertiesLoose(St,er){if(St==null)return{};var tr={},rr=Object.keys(St),nr,ar;for(ar=0;ar<rr.length;ar++)nr=rr[ar],!(er.indexOf(nr)>=0)&&(tr[nr]=St[nr]);return tr}var Dropzone=react.exports.forwardRef(function(St,er){var tr=St.children,rr=_objectWithoutProperties(St,_excluded),nr=useDropzone(rr),ar=nr.open,dr=_objectWithoutProperties(nr,_excluded2);return react.exports.useImperativeHandle(er,function(){return{open:ar}},[ar]),jsx(react.exports.Fragment,{children:tr(_objectSpread(_objectSpread({},dr),{},{open:ar}))})});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:propTypes.exports.func,accept:propTypes.exports.objectOf(propTypes.exports.arrayOf(propTypes.exports.string)),multiple:propTypes.exports.bool,preventDropOnDocument:propTypes.exports.bool,noClick:propTypes.exports.bool,noKeyboard:propTypes.exports.bool,noDrag:propTypes.exports.bool,noDragEventsBubbling:propTypes.exports.bool,minSize:propTypes.exports.number,maxSize:propTypes.exports.number,maxFiles:propTypes.exports.number,disabled:propTypes.exports.bool,getFilesFromEvent:propTypes.exports.func,onFileDialogCancel:propTypes.exports.func,onFileDialogOpen:propTypes.exports.func,useFsAccessApi:propTypes.exports.bool,autoFocus:propTypes.exports.bool,onDragEnter:propTypes.exports.func,onDragLeave:propTypes.exports.func,onDragOver:propTypes.exports.func,onDrop:propTypes.exports.func,onDropAccepted:propTypes.exports.func,onDropRejected:propTypes.exports.func,onError:propTypes.exports.func,validator:propTypes.exports.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},er=_objectSpread(_objectSpread({},defaultProps),St),tr=er.accept,rr=er.disabled,nr=er.getFilesFromEvent,ar=er.maxSize,dr=er.minSize,or=er.multiple,ir=er.maxFiles,lr=er.onDragEnter,fr=er.onDragLeave,cr=er.onDragOver,ur=er.onDrop,sr=er.onDropAccepted,hr=er.onDropRejected,gr=er.onFileDialogCancel,pr=er.onFileDialogOpen,mr=er.useFsAccessApi,vr=er.autoFocus,yr=er.preventDropOnDocument,br=er.noClick,xr=er.noKeyboard,Cr=er.noDrag,kr=er.noDragEventsBubbling,Pr=er.onError,$r=er.validator,Kr=react.exports.useMemo(function(){return acceptPropAsAcceptAttr(tr)},[tr]),Ir=react.exports.useMemo(function(){return pickerOptionsFromAccept(tr)},[tr]),jr=react.exports.useMemo(function(){return typeof pr=="function"?pr:noop},[pr]),Jr=react.exports.useMemo(function(){return typeof gr=="function"?gr:noop},[gr]),zr=react.exports.useRef(null),Hr=react.exports.useRef(null),Yr=react.exports.useReducer(reducer,initialState),nn=_slicedToArray(Yr,2),Qr=nn[0],Or=nn[1],Er=Qr.isFocused,Dr=Qr.isFileDialogActive,Tr=react.exports.useRef(typeof window<"u"&&window.isSecureContext&&mr&&canUseFileSystemAccessAPI()),Lr=function(){!Tr.current&&Dr&&setTimeout(function(){if(Hr.current){var Mn=Hr.current.files;Mn.length||(Or({type:"closeDialog"}),Jr())}},300)};react.exports.useEffect(function(){return window.addEventListener("focus",Lr,!1),function(){window.removeEventListener("focus",Lr,!1)}},[Hr,Dr,Jr,Tr]);var _r=react.exports.useRef([]),wr=function(Mn){zr.current&&zr.current.contains(Mn.target)||(Mn.preventDefault(),_r.current=[])};react.exports.useEffect(function(){return yr&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",wr,!1)),function(){yr&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",wr))}},[zr,yr]),react.exports.useEffect(function(){return!rr&&vr&&zr.current&&zr.current.focus(),function(){}},[zr,vr,rr]);var Fr=react.exports.useCallback(function(bn){Pr?Pr(bn):console.error(bn)},[Pr]),Nr=react.exports.useCallback(function(bn){bn.preventDefault(),bn.persist(),wn(bn),_r.current=[].concat(_toConsumableArray(_r.current),[bn.target]),isEvtWithFiles(bn)&&Promise.resolve(nr(bn)).then(function(Mn){if(!(isPropagationStopped(bn)&&!kr)){var Un=Mn.length,Hn=Un>0&&allFilesAccepted({files:Mn,accept:Kr,minSize:dr,maxSize:ar,multiple:or,maxFiles:ir,validator:$r}),Yn=Un>0&&!Hn;Or({isDragAccept:Hn,isDragReject:Yn,isDragActive:!0,type:"setDraggedFiles"}),lr&&lr(bn)}}).catch(function(Mn){return Fr(Mn)})},[nr,lr,Fr,kr,Kr,dr,ar,or,ir,$r]),Br=react.exports.useCallback(function(bn){bn.preventDefault(),bn.persist(),wn(bn);var Mn=isEvtWithFiles(bn);if(Mn&&bn.dataTransfer)try{bn.dataTransfer.dropEffect="copy"}catch{}return Mn&&cr&&cr(bn),!1},[cr,kr]),Ur=react.exports.useCallback(function(bn){bn.preventDefault(),bn.persist(),wn(bn);var Mn=_r.current.filter(function(Hn){return zr.current&&zr.current.contains(Hn)}),Un=Mn.indexOf(bn.target);Un!==-1&&Mn.splice(Un,1),_r.current=Mn,!(Mn.length>0)&&(Or({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(bn)&&fr&&fr(bn))},[zr,fr,kr]),Zr=react.exports.useCallback(function(bn,Mn){var Un=[],Hn=[];bn.forEach(function(Yn){var Gn=fileAccepted(Yn,Kr),Qn=_slicedToArray(Gn,2),zn=Qn[0],fo=Qn[1],no=fileMatchSize(Yn,dr,ar),Mo=_slicedToArray(no,2),ho=Mo[0],so=Mo[1],Rn=$r?$r(Yn):null;if(zn&&ho&&!Rn)Un.push(Yn);else{var xn=[fo,so];Rn&&(xn=xn.concat(Rn)),Hn.push({file:Yn,errors:xn.filter(function(En){return En})})}}),(!or&&Un.length>1||or&&ir>=1&&Un.length>ir)&&(Un.forEach(function(Yn){Hn.push({file:Yn,errors:[TOO_MANY_FILES_REJECTION]})}),Un.splice(0)),Or({acceptedFiles:Un,fileRejections:Hn,type:"setFiles"}),ur&&ur(Un,Hn,Mn),Hn.length>0&&hr&&hr(Hn,Mn),Un.length>0&&sr&&sr(Un,Mn)},[Or,or,Kr,dr,ar,ir,ur,sr,hr,$r]),an=react.exports.useCallback(function(bn){bn.preventDefault(),bn.persist(),wn(bn),_r.current=[],isEvtWithFiles(bn)&&Promise.resolve(nr(bn)).then(function(Mn){isPropagationStopped(bn)&&!kr||Zr(Mn,bn)}).catch(function(Mn){return Fr(Mn)}),Or({type:"reset"})},[nr,Zr,Fr,kr]),qr=react.exports.useCallback(function(){if(Tr.current){Or({type:"openDialog"}),jr();var bn={multiple:or,types:Ir};window.showOpenFilePicker(bn).then(function(Mn){return nr(Mn)}).then(function(Mn){Zr(Mn,null),Or({type:"closeDialog"})}).catch(function(Mn){isAbort(Mn)?(Jr(Mn),Or({type:"closeDialog"})):isSecurityError(Mn)?(Tr.current=!1,Hr.current?(Hr.current.value=null,Hr.current.click()):Fr(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Fr(Mn)});return}Hr.current&&(Or({type:"openDialog"}),jr(),Hr.current.value=null,Hr.current.click())},[Or,jr,Jr,mr,Zr,Fr,Ir,or]),Gr=react.exports.useCallback(function(bn){!zr.current||!zr.current.isEqualNode(bn.target)||(bn.key===" "||bn.key==="Enter"||bn.keyCode===32||bn.keyCode===13)&&(bn.preventDefault(),qr())},[zr,qr]),Xr=react.exports.useCallback(function(){Or({type:"focus"})},[]),en=react.exports.useCallback(function(){Or({type:"blur"})},[]),Wr=react.exports.useCallback(function(){br||(isIeOrEdge()?setTimeout(qr,0):qr())},[br,qr]),cn=function(Mn){return rr?null:Mn},fn=function(Mn){return xr?null:cn(Mn)},gn=function(Mn){return Cr?null:cn(Mn)},wn=function(Mn){kr&&Mn.stopPropagation()},yn=react.exports.useMemo(function(){return function(){var bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mn=bn.refKey,Un=Mn===void 0?"ref":Mn,Hn=bn.role,Yn=bn.onKeyDown,Gn=bn.onFocus,Qn=bn.onBlur,zn=bn.onClick,fo=bn.onDragEnter,no=bn.onDragOver,Mo=bn.onDragLeave,ho=bn.onDrop,so=_objectWithoutProperties(bn,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:fn(composeEventHandlers(Yn,Gr)),onFocus:fn(composeEventHandlers(Gn,Xr)),onBlur:fn(composeEventHandlers(Qn,en)),onClick:cn(composeEventHandlers(zn,Wr)),onDragEnter:gn(composeEventHandlers(fo,Nr)),onDragOver:gn(composeEventHandlers(no,Br)),onDragLeave:gn(composeEventHandlers(Mo,Ur)),onDrop:gn(composeEventHandlers(ho,an)),role:typeof Hn=="string"&&Hn!==""?Hn:"presentation"},Un,zr),!rr&&!xr?{tabIndex:0}:{}),so)}},[zr,Gr,Xr,en,Wr,Nr,Br,Ur,an,xr,Cr,rr]),vn=react.exports.useCallback(function(bn){bn.stopPropagation()},[]),Ln=react.exports.useMemo(function(){return function(){var bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mn=bn.refKey,Un=Mn===void 0?"ref":Mn,Hn=bn.onChange,Yn=bn.onClick,Gn=_objectWithoutProperties(bn,_excluded4),Qn=_defineProperty({accept:Kr,multiple:or,type:"file",style:{display:"none"},onChange:cn(composeEventHandlers(Hn,an)),onClick:cn(composeEventHandlers(Yn,vn)),tabIndex:-1},Un,Hr);return _objectSpread(_objectSpread({},Qn),Gn)}},[Hr,tr,or,an,rr]);return _objectSpread(_objectSpread({},Qr),{},{isFocused:Er&&!rr,getRootProps:yn,getInputProps:Ln,rootRef:zr,inputRef:Hr,open:cn(qr)})}function reducer(St,er){switch(er.type){case"focus":return _objectSpread(_objectSpread({},St),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},St),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},St),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},St),{},{isDragActive:er.isDragActive,isDragAccept:er.isDragAccept,isDragReject:er.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},St),{},{acceptedFiles:er.acceptedFiles,fileRejections:er.fileRejections});case"reset":return _objectSpread({},initialState);default:return St}}function noop(){}const wrongImg="/assets/Wrong.adb871f1.svg",UploadPDF=()=>{const{setFile:St,resetFile:er}=useFile(),tr=useNavigate(),[rr,nr]=react.exports.useState(!1),{nextStep:ar,prevStep:dr,reset:or}=useStep(),{handleSubmit:ir,register:lr,formState:{errors:fr,isSubmitting:cr}}=useForm(),ur=()=>{ar(),tr("/manufacture")},sr=react.exports.useCallback(mr=>{const vr=mr;if(vr[0].type!=="application/pdf"){nr(!0);return}St(vr[0]),ur()},[]),{getRootProps:hr,getInputProps:gr,isDragActive:pr}=useDropzone({onDrop:sr});return react.exports.useEffect(()=>{er(),or()},[]),jsxs(Box,{pt:4,children:[jsx(Text$1,{display:{base:"block",lg:"none"},textAlign:"center",textStyle:"h1",fontSize:"2xl",children:"\u5FEB\u901F\u7701\u6642\u7684\u96FB\u5B50\u7C3D\u7F72\u5DE5\u5177"}),jsx(Flex,{w:"100%",justifyContent:"center",alignItems:"center",h:"400px",mt:4,bgColor:"primary.light",borderRadius:1,borderStyle:"dashed",borderWidth:"2px",borderColor:"primary.default",...hr(),children:rr?jsxs(Flex,{flexDir:{base:"column",lg:"row"},alignItems:"center",children:[jsx(Image2,{w:{base:"150px",lg:"300px"},src:wrongImg}),jsxs(Box,{w:"300px",pl:4,children:[jsx(Text$1,{textStyle:"h1",color:"primary.default",children:"\u60A8\u7684\u6A94\u6848\u7121\u6CD5\u4E0A\u50B3"}),jsx(Text$1,{color:"gray.500",pb:10,children:"\u8ACB\u91CD\u65B0\u4E0A\u50B3\u6A94\u6848\u3002\u78BA\u8A8D\u6A94\u6848\u5927\u5C0F\u572810MB\u4EE5\u5167\uFF0C\u6A94\u6848\u683C\u5F0F\u70BAPDF\u3002 \u82E5\u9084\u662F\u7121\u6CD5\u4E0A\u50B3\u6A94\u6848\uFF0C\u8ACB\u806F\u7E6B\u5FEB\u9EDE\u7C3D"}),jsx(Button$2,{w:"100%",onClick:()=>nr(!1),children:"\u91CD\u65B0\u4E0A\u50B3"})]})]}):jsxs(Fragment,{children:[jsxs(FormLabel,{htmlFor:"file",children:[jsx("input",{...gr()}),jsxs(Flex,{flexDir:"column",alignItems:"center",children:[jsx(Image2,{src:addFile}),jsx(Text$1,{as:"span",color:"gray.500",fontWeight:"400",fontSize:"sm",children:"\u5C07\u6A94\u6848\u62D6\u66F3\u5230\u9019\u88E1"}),jsx(Button$2,{mt:4,w:"200px",h:"48px",bgColor:"#0B7D77",color:"#fff",colorScheme:"teal",isLoading:cr,type:"submit",children:"\u9078\u64C7\u6A94\u6848"}),jsx(Text$1,{color:"primary.default",pt:2,fontSize:"sm",fontWeight:"700",children:"\u6A94\u6848\u5927\u5C0FMB\u4EE5\u5167\uFF0C\u6A94\u6848\u683C\u5F0F\u70BAPDF"})]})]}),jsx(FormErrorMessage,{children:fr.file&&fr.file.message?.toString()})]})})]})},Order=({num:St})=>jsx(Center,{width:10,height:10,fontWeight:700,borderRadius:"50%",borderWidth:"2px",borderColor:"primary.default",color:"primary.default",children:St}),FileUpload="/assets/File-upload.3697dc6c.svg",Signing="/assets/Signing.89b66061.svg",Sending="/assets/Sending.4dc2bbe4.svg",stepList$1=[{title:"\u4E0A\u50B3\u6A94\u6848",content:"\u9078\u64C7PDF\u6A94\u6216\u662FIMG\u6A94",img:FileUpload},{title:"\u52A0\u5165\u7C3D\u540D\u6A94",content:"\u624B\u5BEB\u3001\u8F38\u5165\u6216\u662F\u4E0A\u50B3\u7C3D\u540D\u6A94",img:Signing},{title:"\u4E0B\u8F09\u8207\u50B3\u9001",content:"\u5B8C\u6210\u7C3D\u7F72\u53EF\u7ACB\u5373\u50B3\u9001\u6A94\u6848\u7D66\u5C0D\u65B9",img:Sending}],IndexSteps=()=>jsxs(Box,{pt:4,children:[jsx(Text$1,{textAlign:"center",py:5,textStyle:"h1",children:"\u8F15\u9B06\u5E7E\u6B65\u9A5F\uFF0C\u5B8C\u6210\u60A8\u7684\u7C3D\u7F72"}),jsx(Flex,{flexDir:{base:"column",lg:"row"},justifyContent:"space-between",alignItems:"center",children:stepList$1.map((St,er)=>jsxs(Flex,{flexDir:"column",alignItems:"center",children:[jsx(Order,{num:er+1}),jsx(Text$1,{fontWeight:700,fontSize:"18px",py:"2",children:St.title}),jsx(Text$1,{as:"span",children:St.content}),jsx(Image2,{w:"200px",h:"200px",src:St.img})]},er))})]}),Index=()=>{const{reset:St}=useStep();return react.exports.useEffect(()=>{St()},[]),jsxs(Box,{mx:"auto",w:"90%",h:"calc(100vh - 120px)",children:[jsx(UploadPDF,{}),jsx(IndexSteps,{})]})},SvgCheck=St=>react.exports.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...St},react.exports.createElement("g",{clipPath:"url(#clip0_3275_2031)"},react.exports.createElement("path",{d:"M18.0001 32.3402L9.66007 24.0002L6.82007 26.8202L18.0001 38.0002L42.0001 14.0002L39.1801 11.1802L18.0001 32.3402Z",fill:"#ffffff"})),react.exports.createElement("defs",null,react.exports.createElement("clipPath",{id:"clip0_3275_2031"},react.exports.createElement("rect",{width:48,height:48,fill:"white"})))),stepList=[{label:"\u4E0A\u50B3\u6A94\u6848"},{label:"\u52A0\u5165\u7C3D\u540D\u6A94"},{label:"\u78BA\u8A8D\u6A94\u6848"},{label:"\u4E0B\u8F09\u6A94\u6848"}],Steps=()=>{const{activeStep:St}=useStep();return jsx(Flex,{py:4,justifyContent:"center",children:stepList.map((er,tr)=>jsxs(Flex,{justifyContent:"space-between",alignItems:"center",children:[jsx(Center,{position:"relative",fontWeight:"bold",borderRadius:"50%",mx:{base:4,lg:0},w:10,h:10,_before:{content:'""',position:"absolute",width:"48px",height:"48px",border:"2px solid",borderRadius:"50%",borderColor:"primary.default",opacity:"0.3",left:"-6px",right:0,top:0,bottom:0,margin:"auto",display:tr===St?"block":"none"},color:tr<=St?"white":"gray.500",bgColor:tr<=St?"primary.default":"white",border:tr===St?"2px ":"2px",borderColor:tr<=St?"primary.default":"gray.300",children:tr>=St?tr+1:jsx(SvgCheck,{color:"#fff",width:20})}),jsx(Text$1,{px:"2",fontWeight:400,as:"span",display:{base:"none",lg:"block"},children:er.label}),tr!==stepList.length-1&&jsx(Box,{display:{base:"none",lg:"block"},bgColor:"gray.200",h:"2px",w:"60px",mr:4})]},tr))})};var fabric={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(St){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var er=er||{version:"5.2.4"};if(St.fabric=er,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?er.document=document:er.document=document.implementation.createHTMLDocument(""),er.window=window;else{var tr=require$$5,rr=new tr.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;er.document=rr.document,er.jsdomImplForWrapper=require$$5.implForWrapper,er.nodeCanvas=require$$5.Canvas,er.window=rr,DOMParser=er.window.DOMParser}er.isTouchSupported="ontouchstart"in er.window||"ontouchstart"in er.document||er.window&&er.window.navigator&&er.window.navigator.maxTouchPoints>0,er.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",er.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],er.DPI=96,er.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",er.commaWsp="(?:\\s+,?\\s*|,\\s*)",er.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,er.reNonWord=/[ \n\.,;!\?\-]/,er.fontPaths={},er.iMatrix=[1,0,0,1,0,0],er.svgNS="http://www.w3.org/2000/svg",er.perfLimitSizeTotal=2097152,er.maxCacheSideLimit=4096,er.minCacheSideLimit=256,er.charWidthsCache={},er.textureSize=2048,er.disableStyleCopyPaste=!1,er.enableGLFiltering=!0,er.devicePixelRatio=er.window.devicePixelRatio||er.window.webkitDevicePixelRatio||er.window.mozDevicePixelRatio||1,er.browserShadowBlurConstant=1,er.arcToSegmentsCache={},er.boundsOfCurveCache={},er.cachesBoundsOfCurve=!0,er.forceGLPutImageData=!1,er.initFilterBackend=function(){if(er.enableGLFiltering&&er.isWebglSupported&&er.isWebglSupported(er.textureSize))return console.log("max texture size: "+er.maxTextureSize),new er.WebglFilterBackend({tileSize:er.textureSize});if(er.Canvas2dFilterBackend)return new er.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=er),function(){function or(sr,hr){if(!!this.__eventListeners[sr]){var gr=this.__eventListeners[sr];hr?gr[gr.indexOf(hr)]=!1:er.util.array.fill(gr,!1)}}function ir(sr,hr){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var gr in sr)this.on(gr,sr[gr]);else this.__eventListeners[sr]||(this.__eventListeners[sr]=[]),this.__eventListeners[sr].push(hr);return this}function lr(sr,hr){var gr=function(){hr.apply(this,arguments),this.off(sr,gr)}.bind(this);this.on(sr,gr)}function fr(sr,hr){if(arguments.length===1)for(var gr in sr)lr.call(this,gr,sr[gr]);else lr.call(this,sr,hr);return this}function cr(sr,hr){if(!this.__eventListeners)return this;if(arguments.length===0)for(sr in this.__eventListeners)or.call(this,sr);else if(arguments.length===1&&typeof arguments[0]=="object")for(var gr in sr)or.call(this,gr,sr[gr]);else or.call(this,sr,hr);return this}function ur(sr,hr){if(!this.__eventListeners)return this;var gr=this.__eventListeners[sr];if(!gr)return this;for(var pr=0,mr=gr.length;pr<mr;pr++)gr[pr]&&gr[pr].call(this,hr||{});return this.__eventListeners[sr]=gr.filter(function(vr){return vr!==!1}),this}er.Observable={fire:ur,on:ir,once:fr,off:cr}}(),er.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var or=0,ir=arguments.length;or<ir;or++)this._onObjectAdded(arguments[or]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(or,ir,lr){var fr=this._objects;return lr?fr[ir]=or:fr.splice(ir,0,or),this._onObjectAdded&&this._onObjectAdded(or),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var or=this._objects,ir,lr=!1,fr=0,cr=arguments.length;fr<cr;fr++)ir=or.indexOf(arguments[fr]),ir!==-1&&(lr=!0,or.splice(ir,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[fr]));return this.renderOnAddRemove&&lr&&this.requestRenderAll(),this},forEachObject:function(or,ir){for(var lr=this.getObjects(),fr=0,cr=lr.length;fr<cr;fr++)or.call(ir,lr[fr],fr,lr);return this},getObjects:function(or){return typeof or>"u"?this._objects.concat():this._objects.filter(function(ir){return ir.type===or})},item:function(or){return this._objects[or]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(or,ir){return this._objects.indexOf(or)>-1?!0:ir?this._objects.some(function(lr){return typeof lr.contains=="function"&&lr.contains(or,!0)}):!1},complexity:function(){return this._objects.reduce(function(or,ir){return or+=ir.complexity?ir.complexity():0,or},0)}},er.CommonMethods={_setOptions:function(or){for(var ir in or)this.set(ir,or[ir])},_initGradient:function(or,ir){or&&or.colorStops&&!(or instanceof er.Gradient)&&this.set(ir,new er.Gradient(or))},_initPattern:function(or,ir,lr){or&&or.source&&!(or instanceof er.Pattern)?this.set(ir,new er.Pattern(or,lr)):lr&&lr()},_setObject:function(or){for(var ir in or)this._set(ir,or[ir])},set:function(or,ir){return typeof or=="object"?this._setObject(or):this._set(or,ir),this},_set:function(or,ir){this[or]=ir},toggle:function(or){var ir=this.get(or);return typeof ir=="boolean"&&this.set(or,!ir),this},get:function(or){return this[or]}},function(or){var ir=Math.sqrt,lr=Math.atan2,fr=Math.pow,cr=Math.PI/180,ur=Math.PI/2;er.util={cos:function(sr){if(sr===0)return 1;sr<0&&(sr=-sr);var hr=sr/ur;switch(hr){case 1:case 3:return 0;case 2:return-1}return Math.cos(sr)},sin:function(sr){if(sr===0)return 0;var hr=sr/ur,gr=1;switch(sr<0&&(gr=-1),hr){case 1:return gr;case 2:return 0;case 3:return-gr}return Math.sin(sr)},removeFromArray:function(sr,hr){var gr=sr.indexOf(hr);return gr!==-1&&sr.splice(gr,1),sr},getRandomInt:function(sr,hr){return Math.floor(Math.random()*(hr-sr+1))+sr},degreesToRadians:function(sr){return sr*cr},radiansToDegrees:function(sr){return sr/cr},rotatePoint:function(sr,hr,gr){var pr=new er.Point(sr.x-hr.x,sr.y-hr.y),mr=er.util.rotateVector(pr,gr);return new er.Point(mr.x,mr.y).addEquals(hr)},rotateVector:function(sr,hr){var gr=er.util.sin(hr),pr=er.util.cos(hr),mr=sr.x*pr-sr.y*gr,vr=sr.x*gr+sr.y*pr;return{x:mr,y:vr}},createVector:function(sr,hr){return new er.Point(hr.x-sr.x,hr.y-sr.y)},calcAngleBetweenVectors:function(sr,hr){return Math.acos((sr.x*hr.x+sr.y*hr.y)/(Math.hypot(sr.x,sr.y)*Math.hypot(hr.x,hr.y)))},getHatVector:function(sr){return new er.Point(sr.x,sr.y).multiply(1/Math.hypot(sr.x,sr.y))},getBisector:function(sr,hr,gr){var pr=er.util.createVector(sr,hr),mr=er.util.createVector(sr,gr),vr=er.util.calcAngleBetweenVectors(pr,mr),yr=er.util.calcAngleBetweenVectors(er.util.rotateVector(pr,vr),mr),br=vr*(yr===0?1:-1)/2;return{vector:er.util.getHatVector(er.util.rotateVector(pr,br)),angle:vr}},projectStrokeOnPoints:function(sr,hr,gr){var pr=[],mr=hr.strokeWidth/2,vr=hr.strokeUniform?new er.Point(1/hr.scaleX,1/hr.scaleY):new er.Point(1,1),yr=function(br){var xr=mr/Math.hypot(br.x,br.y);return new er.Point(br.x*xr*vr.x,br.y*xr*vr.y)};return sr.length<=1||sr.forEach(function(br,xr){var Cr=new er.Point(br.x,br.y),kr,Pr;xr===0?(Pr=sr[xr+1],kr=gr?yr(er.util.createVector(Pr,Cr)).addEquals(Cr):sr[sr.length-1]):xr===sr.length-1?(kr=sr[xr-1],Pr=gr?yr(er.util.createVector(kr,Cr)).addEquals(Cr):sr[0]):(kr=sr[xr-1],Pr=sr[xr+1]);var $r=er.util.getBisector(Cr,kr,Pr),Kr=$r.vector,Ir=$r.angle,jr,Jr;if(hr.strokeLineJoin==="miter"&&(jr=-mr/Math.sin(Ir/2),Jr=new er.Point(Kr.x*jr*vr.x,Kr.y*jr*vr.y),Math.hypot(Jr.x,Jr.y)/mr<=hr.strokeMiterLimit)){pr.push(Cr.add(Jr)),pr.push(Cr.subtract(Jr));return}jr=-mr*Math.SQRT2,Jr=new er.Point(Kr.x*jr*vr.x,Kr.y*jr*vr.y),pr.push(Cr.add(Jr)),pr.push(Cr.subtract(Jr))}),pr},transformPoint:function(sr,hr,gr){return gr?new er.Point(hr[0]*sr.x+hr[2]*sr.y,hr[1]*sr.x+hr[3]*sr.y):new er.Point(hr[0]*sr.x+hr[2]*sr.y+hr[4],hr[1]*sr.x+hr[3]*sr.y+hr[5])},makeBoundingBoxFromPoints:function(sr,hr){if(hr)for(var gr=0;gr<sr.length;gr++)sr[gr]=er.util.transformPoint(sr[gr],hr);var pr=[sr[0].x,sr[1].x,sr[2].x,sr[3].x],mr=er.util.array.min(pr),vr=er.util.array.max(pr),yr=vr-mr,br=[sr[0].y,sr[1].y,sr[2].y,sr[3].y],xr=er.util.array.min(br),Cr=er.util.array.max(br),kr=Cr-xr;return{left:mr,top:xr,width:yr,height:kr}},invertTransform:function(sr){var hr=1/(sr[0]*sr[3]-sr[1]*sr[2]),gr=[hr*sr[3],-hr*sr[1],-hr*sr[2],hr*sr[0]],pr=er.util.transformPoint({x:sr[4],y:sr[5]},gr,!0);return gr[4]=-pr.x,gr[5]=-pr.y,gr},toFixed:function(sr,hr){return parseFloat(Number(sr).toFixed(hr))},parseUnit:function(sr,hr){var gr=/\D{0,2}$/.exec(sr),pr=parseFloat(sr);switch(hr||(hr=er.Text.DEFAULT_SVG_FONT_SIZE),gr[0]){case"mm":return pr*er.DPI/25.4;case"cm":return pr*er.DPI/2.54;case"in":return pr*er.DPI;case"pt":return pr*er.DPI/72;case"pc":return pr*er.DPI/72*12;case"em":return pr*hr;default:return pr}},falseFunction:function(){return!1},getKlass:function(sr,hr){return sr=er.util.string.camelize(sr.charAt(0).toUpperCase()+sr.slice(1)),er.util.resolveNamespace(hr)[sr]},getSvgAttributes:function(sr){var hr=["instantiated_by_use","style","id","class"];switch(sr){case"linearGradient":hr=hr.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":hr=hr.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":hr=hr.concat(["offset","stop-color","stop-opacity"]);break}return hr},resolveNamespace:function(sr){if(!sr)return er;var hr=sr.split("."),gr=hr.length,pr,mr=or||er.window;for(pr=0;pr<gr;++pr)mr=mr[hr[pr]];return mr},loadImage:function(sr,hr,gr,pr){if(!sr){hr&&hr.call(gr,sr);return}var mr=er.util.createImage(),vr=function(){hr&&hr.call(gr,mr,!1),mr=mr.onload=mr.onerror=null};mr.onload=vr,mr.onerror=function(){er.log("Error loading "+mr.src),hr&&hr.call(gr,null,!0),mr=mr.onload=mr.onerror=null},sr.indexOf("data")!==0&&pr!==void 0&&pr!==null&&(mr.crossOrigin=pr),sr.substring(0,14)==="data:image/svg"&&(mr.onload=null,er.util.loadImageInDom(mr,vr)),mr.src=sr},loadImageInDom:function(sr,hr){var gr=er.document.createElement("div");gr.style.width=gr.style.height="1px",gr.style.left=gr.style.top="-100%",gr.style.position="absolute",gr.appendChild(sr),er.document.querySelector("body").appendChild(gr),sr.onload=function(){hr(),gr.parentNode.removeChild(gr),gr=null}},enlivenObjects:function(sr,hr,gr,pr){sr=sr||[];var mr=[],vr=0,yr=sr.length;function br(){++vr===yr&&hr&&hr(mr.filter(function(xr){return xr}))}if(!yr){hr&&hr(mr);return}sr.forEach(function(xr,Cr){if(!xr||!xr.type){br();return}var kr=er.util.getKlass(xr.type,gr);kr.fromObject(xr,function(Pr,$r){$r||(mr[Cr]=Pr),pr&&pr(xr,Pr,$r),br()})})},enlivenObjectEnlivables:function(sr,hr,gr){var pr=er.Object.ENLIVEN_PROPS.filter(function(mr){return!!sr[mr]});er.util.enlivenObjects(pr.map(function(mr){return sr[mr]}),function(mr){var vr={};pr.forEach(function(yr,br){vr[yr]=mr[br],hr&&(hr[yr]=mr[br])}),gr&&gr(vr)})},enlivenPatterns:function(sr,hr){sr=sr||[];function gr(){++mr===vr&&hr&&hr(pr)}var pr=[],mr=0,vr=sr.length;if(!vr){hr&&hr(pr);return}sr.forEach(function(yr,br){yr&&yr.source?new er.Pattern(yr,function(xr){pr[br]=xr,gr()}):(pr[br]=yr,gr())})},groupSVGElements:function(sr,hr,gr){var pr;return sr&&sr.length===1?(typeof gr<"u"&&(sr[0].sourcePath=gr),sr[0]):(hr&&(hr.width&&hr.height?hr.centerPoint={x:hr.width/2,y:hr.height/2}:(delete hr.width,delete hr.height)),pr=new er.Group(sr,hr),typeof gr<"u"&&(pr.sourcePath=gr),pr)},populateWithProperties:function(sr,hr,gr){if(gr&&Array.isArray(gr))for(var pr=0,mr=gr.length;pr<mr;pr++)gr[pr]in sr&&(hr[gr[pr]]=sr[gr[pr]])},createCanvasElement:function(){return er.document.createElement("canvas")},copyCanvasElement:function(sr){var hr=er.util.createCanvasElement();return hr.width=sr.width,hr.height=sr.height,hr.getContext("2d").drawImage(sr,0,0),hr},toDataURL:function(sr,hr,gr){return sr.toDataURL("image/"+hr,gr)},createImage:function(){return er.document.createElement("img")},multiplyTransformMatrices:function(sr,hr,gr){return[sr[0]*hr[0]+sr[2]*hr[1],sr[1]*hr[0]+sr[3]*hr[1],sr[0]*hr[2]+sr[2]*hr[3],sr[1]*hr[2]+sr[3]*hr[3],gr?0:sr[0]*hr[4]+sr[2]*hr[5]+sr[4],gr?0:sr[1]*hr[4]+sr[3]*hr[5]+sr[5]]},qrDecompose:function(sr){var hr=lr(sr[1],sr[0]),gr=fr(sr[0],2)+fr(sr[1],2),pr=ir(gr),mr=(sr[0]*sr[3]-sr[2]*sr[1])/pr,vr=lr(sr[0]*sr[2]+sr[1]*sr[3],gr);return{angle:hr/cr,scaleX:pr,scaleY:mr,skewX:vr/cr,skewY:0,translateX:sr[4],translateY:sr[5]}},calcRotateMatrix:function(sr){if(!sr.angle)return er.iMatrix.concat();var hr=er.util.degreesToRadians(sr.angle),gr=er.util.cos(hr),pr=er.util.sin(hr);return[gr,pr,-pr,gr,0,0]},calcDimensionsMatrix:function(sr){var hr=typeof sr.scaleX>"u"?1:sr.scaleX,gr=typeof sr.scaleY>"u"?1:sr.scaleY,pr=[sr.flipX?-hr:hr,0,0,sr.flipY?-gr:gr,0,0],mr=er.util.multiplyTransformMatrices,vr=er.util.degreesToRadians;return sr.skewX&&(pr=mr(pr,[1,0,Math.tan(vr(sr.skewX)),1],!0)),sr.skewY&&(pr=mr(pr,[1,Math.tan(vr(sr.skewY)),0,1],!0)),pr},composeMatrix:function(sr){var hr=[1,0,0,1,sr.translateX||0,sr.translateY||0],gr=er.util.multiplyTransformMatrices;return sr.angle&&(hr=gr(hr,er.util.calcRotateMatrix(sr))),(sr.scaleX!==1||sr.scaleY!==1||sr.skewX||sr.skewY||sr.flipX||sr.flipY)&&(hr=gr(hr,er.util.calcDimensionsMatrix(sr))),hr},resetObjectTransform:function(sr){sr.scaleX=1,sr.scaleY=1,sr.skewX=0,sr.skewY=0,sr.flipX=!1,sr.flipY=!1,sr.rotate(0)},saveObjectTransform:function(sr){return{scaleX:sr.scaleX,scaleY:sr.scaleY,skewX:sr.skewX,skewY:sr.skewY,angle:sr.angle,left:sr.left,flipX:sr.flipX,flipY:sr.flipY,top:sr.top}},isTransparent:function(sr,hr,gr,pr){pr>0&&(hr>pr?hr-=pr:hr=0,gr>pr?gr-=pr:gr=0);var mr=!0,vr,yr,br=sr.getImageData(hr,gr,pr*2||1,pr*2||1),xr=br.data.length;for(vr=3;vr<xr&&(yr=br.data[vr],mr=yr<=0,mr!==!1);vr+=4);return br=null,mr},parsePreserveAspectRatioAttribute:function(sr){var hr="meet",gr="Mid",pr="Mid",mr=sr.split(" "),vr;return mr&&mr.length&&(hr=mr.pop(),hr!=="meet"&&hr!=="slice"?(vr=hr,hr="meet"):mr.length&&(vr=mr.pop())),gr=vr!=="none"?vr.slice(1,4):"none",pr=vr!=="none"?vr.slice(5,8):"none",{meetOrSlice:hr,alignX:gr,alignY:pr}},clearFabricFontCache:function(sr){sr=(sr||"").toLowerCase(),sr?er.charWidthsCache[sr]&&delete er.charWidthsCache[sr]:er.charWidthsCache={}},limitDimsByArea:function(sr,hr){var gr=Math.sqrt(hr*sr),pr=Math.floor(hr/gr);return{x:Math.floor(gr),y:pr}},capValue:function(sr,hr,gr){return Math.max(sr,Math.min(hr,gr))},findScaleToFit:function(sr,hr){return Math.min(hr.width/sr.width,hr.height/sr.height)},findScaleToCover:function(sr,hr){return Math.max(hr.width/sr.width,hr.height/sr.height)},matrixToSVG:function(sr){return"matrix("+sr.map(function(hr){return er.util.toFixed(hr,er.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(sr,hr){var gr=er.util.invertTransform(hr),pr=er.util.multiplyTransformMatrices(gr,sr.calcOwnMatrix());er.util.applyTransformToObject(sr,pr)},addTransformToObject:function(sr,hr){er.util.applyTransformToObject(sr,er.util.multiplyTransformMatrices(hr,sr.calcOwnMatrix()))},applyTransformToObject:function(sr,hr){var gr=er.util.qrDecompose(hr),pr=new er.Point(gr.translateX,gr.translateY);sr.flipX=!1,sr.flipY=!1,sr.set("scaleX",gr.scaleX),sr.set("scaleY",gr.scaleY),sr.skewX=gr.skewX,sr.skewY=gr.skewY,sr.angle=gr.angle,sr.setPositionByOrigin(pr,"center","center")},sizeAfterTransform:function(sr,hr,gr){var pr=sr/2,mr=hr/2,vr=[{x:-pr,y:-mr},{x:pr,y:-mr},{x:-pr,y:mr},{x:pr,y:mr}],yr=er.util.calcDimensionsMatrix(gr),br=er.util.makeBoundingBoxFromPoints(vr,yr);return{x:br.width,y:br.height}},mergeClipPaths:function(sr,hr){var gr=sr,pr=hr;gr.inverted&&!pr.inverted&&(gr=hr,pr=sr),er.util.applyTransformToObject(pr,er.util.multiplyTransformMatrices(er.util.invertTransform(gr.calcTransformMatrix()),pr.calcTransformMatrix()));var mr=gr.inverted&&pr.inverted;return mr&&(gr.inverted=pr.inverted=!1),new er.Group([gr],{clipPath:pr,inverted:mr})},hasStyleChanged:function(sr,hr,gr){return gr=gr||!1,sr.fill!==hr.fill||sr.stroke!==hr.stroke||sr.strokeWidth!==hr.strokeWidth||sr.fontSize!==hr.fontSize||sr.fontFamily!==hr.fontFamily||sr.fontWeight!==hr.fontWeight||sr.fontStyle!==hr.fontStyle||sr.deltaY!==hr.deltaY||gr&&(sr.overline!==hr.overline||sr.underline!==hr.underline||sr.linethrough!==hr.linethrough)},stylesToArray:function(gr,hr){for(var gr=er.util.object.clone(gr,!0),pr=hr.split(`
`),mr=-1,vr={},yr=[],br=0;br<pr.length;br++){if(!gr[br]){mr+=pr[br].length;continue}for(var xr=0;xr<pr[br].length;xr++){mr++;var Cr=gr[br][xr];if(Cr){var kr=er.util.hasStyleChanged(vr,Cr,!0);kr?yr.push({start:mr,end:mr+1,style:Cr}):yr[yr.length-1].end++}vr=Cr||{}}}return yr},stylesFromArray:function(sr,hr){if(!Array.isArray(sr))return sr;for(var gr=hr.split(`
`),pr=-1,mr=0,vr={},yr=0;yr<gr.length;yr++)for(var br=0;br<gr[yr].length;br++)pr++,sr[mr]&&sr[mr].start<=pr&&pr<sr[mr].end&&(vr[yr]=vr[yr]||{},vr[yr][br]=Object.assign({},sr[mr].style),pr===sr[mr].end-1&&mr++);return vr}}}(St),function(){var or=Array.prototype.join,ir={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},lr={m:"l",M:"L"};function fr(Or,Er,Dr,Tr,Lr,_r,wr,Fr,Nr,Br,Ur){var Zr=er.util.cos(Or),an=er.util.sin(Or),qr=er.util.cos(Er),Gr=er.util.sin(Er),Xr=Dr*Lr*qr-Tr*_r*Gr+wr,en=Tr*Lr*qr+Dr*_r*Gr+Fr,Wr=Br+Nr*(-Dr*Lr*an-Tr*_r*Zr),cn=Ur+Nr*(-Tr*Lr*an+Dr*_r*Zr),fn=Xr+Nr*(Dr*Lr*Gr+Tr*_r*qr),gn=en+Nr*(Tr*Lr*Gr-Dr*_r*qr);return["C",Wr,cn,fn,gn,Xr,en]}function cr(Or,Er,Dr,Tr,Lr,_r,wr){var Fr=Math.PI,Nr=wr*Fr/180,Br=er.util.sin(Nr),Ur=er.util.cos(Nr),Zr=0,an=0;Dr=Math.abs(Dr),Tr=Math.abs(Tr);var qr=-Ur*Or*.5-Br*Er*.5,Gr=-Ur*Er*.5+Br*Or*.5,Xr=Dr*Dr,en=Tr*Tr,Wr=Gr*Gr,cn=qr*qr,fn=Xr*en-Xr*Wr-en*cn,gn=0;if(fn<0){var wn=Math.sqrt(1-fn/(Xr*en));Dr*=wn,Tr*=wn}else gn=(Lr===_r?-1:1)*Math.sqrt(fn/(Xr*Wr+en*cn));var yn=gn*Dr*Gr/Tr,vn=-gn*Tr*qr/Dr,Ln=Ur*yn-Br*vn+Or*.5,bn=Br*yn+Ur*vn+Er*.5,Mn=ur(1,0,(qr-yn)/Dr,(Gr-vn)/Tr),Un=ur((qr-yn)/Dr,(Gr-vn)/Tr,(-qr-yn)/Dr,(-Gr-vn)/Tr);_r===0&&Un>0?Un-=2*Fr:_r===1&&Un<0&&(Un+=2*Fr);for(var Hn=Math.ceil(Math.abs(Un/Fr*2)),Yn=[],Gn=Un/Hn,Qn=8/3*Math.sin(Gn/4)*Math.sin(Gn/4)/Math.sin(Gn/2),zn=Mn+Gn,fo=0;fo<Hn;fo++)Yn[fo]=fr(Mn,zn,Ur,Br,Dr,Tr,Ln,bn,Qn,Zr,an),Zr=Yn[fo][5],an=Yn[fo][6],Mn=zn,zn+=Gn;return Yn}function ur(Or,Er,Dr,Tr){var Lr=Math.atan2(Er,Or),_r=Math.atan2(Tr,Dr);return _r>=Lr?_r-Lr:2*Math.PI-(Lr-_r)}function sr(Or,Er,Dr,Tr,Lr,_r,wr,Fr){var Nr;if(er.cachesBoundsOfCurve&&(Nr=or.call(arguments),er.boundsOfCurveCache[Nr]))return er.boundsOfCurveCache[Nr];var Br=Math.sqrt,Ur=Math.min,Zr=Math.max,an=Math.abs,qr=[],Gr=[[],[]],Xr,en,Wr,cn,fn,gn,wn,yn;en=6*Or-12*Dr+6*Lr,Xr=-3*Or+9*Dr-9*Lr+3*wr,Wr=3*Dr-3*Or;for(var vn=0;vn<2;++vn){if(vn>0&&(en=6*Er-12*Tr+6*_r,Xr=-3*Er+9*Tr-9*_r+3*Fr,Wr=3*Tr-3*Er),an(Xr)<1e-12){if(an(en)<1e-12)continue;cn=-Wr/en,0<cn&&cn<1&&qr.push(cn);continue}wn=en*en-4*Wr*Xr,!(wn<0)&&(yn=Br(wn),fn=(-en+yn)/(2*Xr),0<fn&&fn<1&&qr.push(fn),gn=(-en-yn)/(2*Xr),0<gn&&gn<1&&qr.push(gn))}for(var Ln,bn,Mn=qr.length,Un=Mn,Hn;Mn--;)cn=qr[Mn],Hn=1-cn,Ln=Hn*Hn*Hn*Or+3*Hn*Hn*cn*Dr+3*Hn*cn*cn*Lr+cn*cn*cn*wr,Gr[0][Mn]=Ln,bn=Hn*Hn*Hn*Er+3*Hn*Hn*cn*Tr+3*Hn*cn*cn*_r+cn*cn*cn*Fr,Gr[1][Mn]=bn;Gr[0][Un]=Or,Gr[1][Un]=Er,Gr[0][Un+1]=wr,Gr[1][Un+1]=Fr;var Yn=[{x:Ur.apply(null,Gr[0]),y:Ur.apply(null,Gr[1])},{x:Zr.apply(null,Gr[0]),y:Zr.apply(null,Gr[1])}];return er.cachesBoundsOfCurve&&(er.boundsOfCurveCache[Nr]=Yn),Yn}function hr(Or,Er,Dr){for(var Tr=Dr[1],Lr=Dr[2],_r=Dr[3],wr=Dr[4],Fr=Dr[5],Nr=Dr[6],Br=Dr[7],Ur=cr(Nr-Or,Br-Er,Tr,Lr,wr,Fr,_r),Zr=0,an=Ur.length;Zr<an;Zr++)Ur[Zr][1]+=Or,Ur[Zr][2]+=Er,Ur[Zr][3]+=Or,Ur[Zr][4]+=Er,Ur[Zr][5]+=Or,Ur[Zr][6]+=Er;return Ur}function gr(Or){var Er=0,Dr=0,Tr=Or.length,Lr=0,_r=0,wr,Fr,Nr,Br=[],Ur,Zr,an;for(Fr=0;Fr<Tr;++Fr){switch(Nr=!1,wr=Or[Fr].slice(0),wr[0]){case"l":wr[0]="L",wr[1]+=Er,wr[2]+=Dr;case"L":Er=wr[1],Dr=wr[2];break;case"h":wr[1]+=Er;case"H":wr[0]="L",wr[2]=Dr,Er=wr[1];break;case"v":wr[1]+=Dr;case"V":wr[0]="L",Dr=wr[1],wr[1]=Er,wr[2]=Dr;break;case"m":wr[0]="M",wr[1]+=Er,wr[2]+=Dr;case"M":Er=wr[1],Dr=wr[2],Lr=wr[1],_r=wr[2];break;case"c":wr[0]="C",wr[1]+=Er,wr[2]+=Dr,wr[3]+=Er,wr[4]+=Dr,wr[5]+=Er,wr[6]+=Dr;case"C":Zr=wr[3],an=wr[4],Er=wr[5],Dr=wr[6];break;case"s":wr[0]="S",wr[1]+=Er,wr[2]+=Dr,wr[3]+=Er,wr[4]+=Dr;case"S":Ur==="C"?(Zr=2*Er-Zr,an=2*Dr-an):(Zr=Er,an=Dr),Er=wr[3],Dr=wr[4],wr[0]="C",wr[5]=wr[3],wr[6]=wr[4],wr[3]=wr[1],wr[4]=wr[2],wr[1]=Zr,wr[2]=an,Zr=wr[3],an=wr[4];break;case"q":wr[0]="Q",wr[1]+=Er,wr[2]+=Dr,wr[3]+=Er,wr[4]+=Dr;case"Q":Zr=wr[1],an=wr[2],Er=wr[3],Dr=wr[4];break;case"t":wr[0]="T",wr[1]+=Er,wr[2]+=Dr;case"T":Ur==="Q"?(Zr=2*Er-Zr,an=2*Dr-an):(Zr=Er,an=Dr),wr[0]="Q",Er=wr[1],Dr=wr[2],wr[1]=Zr,wr[2]=an,wr[3]=Er,wr[4]=Dr;break;case"a":wr[0]="A",wr[6]+=Er,wr[7]+=Dr;case"A":Nr=!0,Br=Br.concat(hr(Er,Dr,wr)),Er=wr[6],Dr=wr[7];break;case"z":case"Z":Er=Lr,Dr=_r;break}Nr||Br.push(wr),Ur=wr[0]}return Br}function pr(Or,Er,Dr,Tr){return Math.sqrt((Dr-Or)*(Dr-Or)+(Tr-Er)*(Tr-Er))}function mr(Or){return Or*Or*Or}function vr(Or){return 3*Or*Or*(1-Or)}function yr(Or){return 3*Or*(1-Or)*(1-Or)}function br(Or){return(1-Or)*(1-Or)*(1-Or)}function xr(Or,Er,Dr,Tr,Lr,_r,wr,Fr){return function(Nr){var Br=mr(Nr),Ur=vr(Nr),Zr=yr(Nr),an=br(Nr);return{x:wr*Br+Lr*Ur+Dr*Zr+Or*an,y:Fr*Br+_r*Ur+Tr*Zr+Er*an}}}function Cr(Or,Er,Dr,Tr,Lr,_r,wr,Fr){return function(Nr){var Br=1-Nr,Ur=3*Br*Br*(Dr-Or)+6*Br*Nr*(Lr-Dr)+3*Nr*Nr*(wr-Lr),Zr=3*Br*Br*(Tr-Er)+6*Br*Nr*(_r-Tr)+3*Nr*Nr*(Fr-_r);return Math.atan2(Zr,Ur)}}function kr(Or){return Or*Or}function Pr(Or){return 2*Or*(1-Or)}function $r(Or){return(1-Or)*(1-Or)}function Kr(Or,Er,Dr,Tr,Lr,_r){return function(wr){var Fr=kr(wr),Nr=Pr(wr),Br=$r(wr);return{x:Lr*Fr+Dr*Nr+Or*Br,y:_r*Fr+Tr*Nr+Er*Br}}}function Ir(Or,Er,Dr,Tr,Lr,_r){return function(wr){var Fr=1-wr,Nr=2*Fr*(Dr-Or)+2*wr*(Lr-Dr),Br=2*Fr*(Tr-Er)+2*wr*(_r-Tr);return Math.atan2(Br,Nr)}}function jr(Or,Er,Dr){var Tr={x:Er,y:Dr},Lr,_r=0,wr;for(wr=1;wr<=100;wr+=1)Lr=Or(wr/100),_r+=pr(Tr.x,Tr.y,Lr.x,Lr.y),Tr=Lr;return _r}function Jr(Or,Er){for(var Dr=0,Tr=0,Lr=Or.iterator,_r={x:Or.x,y:Or.y},wr,Fr,Nr=.01,Br=Or.angleFinder,Ur;Tr<Er&&Nr>1e-4;)wr=Lr(Dr),Ur=Dr,Fr=pr(_r.x,_r.y,wr.x,wr.y),Fr+Tr>Er?(Dr-=Nr,Nr/=2):(_r=wr,Dr+=Nr,Tr+=Fr);return wr.angle=Br(Ur),wr}function zr(Or){for(var Er=0,Dr=Or.length,Tr,Lr=0,_r=0,wr=0,Fr=0,Nr=[],Br,Ur,Zr,an=0;an<Dr;an++){switch(Tr=Or[an],Ur={x:Lr,y:_r,command:Tr[0]},Tr[0]){case"M":Ur.length=0,wr=Lr=Tr[1],Fr=_r=Tr[2];break;case"L":Ur.length=pr(Lr,_r,Tr[1],Tr[2]),Lr=Tr[1],_r=Tr[2];break;case"C":Br=xr(Lr,_r,Tr[1],Tr[2],Tr[3],Tr[4],Tr[5],Tr[6]),Zr=Cr(Lr,_r,Tr[1],Tr[2],Tr[3],Tr[4],Tr[5],Tr[6]),Ur.iterator=Br,Ur.angleFinder=Zr,Ur.length=jr(Br,Lr,_r),Lr=Tr[5],_r=Tr[6];break;case"Q":Br=Kr(Lr,_r,Tr[1],Tr[2],Tr[3],Tr[4]),Zr=Ir(Lr,_r,Tr[1],Tr[2],Tr[3],Tr[4]),Ur.iterator=Br,Ur.angleFinder=Zr,Ur.length=jr(Br,Lr,_r),Lr=Tr[3],_r=Tr[4];break;case"Z":case"z":Ur.destX=wr,Ur.destY=Fr,Ur.length=pr(Lr,_r,wr,Fr),Lr=wr,_r=Fr;break}Er+=Ur.length,Nr.push(Ur)}return Nr.push({length:Er,x:Lr,y:_r}),Nr}function Hr(Or,Er,Dr){Dr||(Dr=zr(Or));for(var Tr=0;Er-Dr[Tr].length>0&&Tr<Dr.length-2;)Er-=Dr[Tr].length,Tr++;var Lr=Dr[Tr],_r=Er/Lr.length,wr=Lr.command,Fr=Or[Tr],Nr;switch(wr){case"M":return{x:Lr.x,y:Lr.y,angle:0};case"Z":case"z":return Nr=new er.Point(Lr.x,Lr.y).lerp(new er.Point(Lr.destX,Lr.destY),_r),Nr.angle=Math.atan2(Lr.destY-Lr.y,Lr.destX-Lr.x),Nr;case"L":return Nr=new er.Point(Lr.x,Lr.y).lerp(new er.Point(Fr[1],Fr[2]),_r),Nr.angle=Math.atan2(Fr[2]-Lr.y,Fr[1]-Lr.x),Nr;case"C":return Jr(Lr,Er);case"Q":return Jr(Lr,Er)}}function Yr(Or){var Er=[],Dr=[],Tr,Lr,_r=er.rePathCommand,wr="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Fr="("+wr+")"+er.commaWsp,Nr="([01])"+er.commaWsp+"?",Br=Fr+"?"+Fr+"?"+Fr+Nr+Nr+Fr+"?("+wr+")",Ur=new RegExp(Br,"g"),Zr,an,qr;if(!Or||!Or.match)return Er;qr=Or.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Gr=0,Xr,en=qr.length;Gr<en;Gr++){Tr=qr[Gr],an=Tr.slice(1).trim(),Dr.length=0;var Wr=Tr.charAt(0);if(Xr=[Wr],Wr.toLowerCase()==="a")for(var cn;cn=Ur.exec(an);)for(var fn=1;fn<cn.length;fn++)Dr.push(cn[fn]);else for(;Zr=_r.exec(an);)Dr.push(Zr[0]);for(var fn=0,gn=Dr.length;fn<gn;fn++)Lr=parseFloat(Dr[fn]),isNaN(Lr)||Xr.push(Lr);var wn=ir[Wr.toLowerCase()],yn=lr[Wr]||Wr;if(Xr.length-1>wn)for(var vn=1,Ln=Xr.length;vn<Ln;vn+=wn)Er.push([Wr].concat(Xr.slice(vn,vn+wn))),Wr=yn;else Er.push(Xr)}return Er}function nn(Or,Er){var Dr=[],Tr,Lr=new er.Point(Or[0].x,Or[0].y),_r=new er.Point(Or[1].x,Or[1].y),wr=Or.length,Fr=1,Nr=0,Br=wr>2;for(Er=Er||0,Br&&(Fr=Or[2].x<_r.x?-1:Or[2].x===_r.x?0:1,Nr=Or[2].y<_r.y?-1:Or[2].y===_r.y?0:1),Dr.push(["M",Lr.x-Fr*Er,Lr.y-Nr*Er]),Tr=1;Tr<wr;Tr++){if(!Lr.eq(_r)){var Ur=Lr.midPointFrom(_r);Dr.push(["Q",Lr.x,Lr.y,Ur.x,Ur.y])}Lr=Or[Tr],Tr+1<Or.length&&(_r=Or[Tr+1])}return Br&&(Fr=Lr.x>Or[Tr-2].x?1:Lr.x===Or[Tr-2].x?0:-1,Nr=Lr.y>Or[Tr-2].y?1:Lr.y===Or[Tr-2].y?0:-1),Dr.push(["L",Lr.x+Fr*Er,Lr.y+Nr*Er]),Dr}function Qr(Or,Er,Dr){return Dr&&(Er=er.util.multiplyTransformMatrices(Er,[1,0,0,1,-Dr.x,-Dr.y])),Or.map(function(Tr){for(var Lr=Tr.slice(0),_r={},wr=1;wr<Tr.length-1;wr+=2)_r.x=Tr[wr],_r.y=Tr[wr+1],_r=er.util.transformPoint(_r,Er),Lr[wr]=_r.x,Lr[wr+1]=_r.y;return Lr})}er.util.joinPath=function(Or){return Or.map(function(Er){return Er.join(" ")}).join(" ")},er.util.parsePath=Yr,er.util.makePathSimpler=gr,er.util.getSmoothPathFromPoints=nn,er.util.getPathSegmentsInfo=zr,er.util.getBoundsOfCurve=sr,er.util.getPointOnPath=Hr,er.util.transformPath=Qr}(),function(){var or=Array.prototype.slice;function ir(sr,hr){for(var gr=or.call(arguments,2),pr=[],mr=0,vr=sr.length;mr<vr;mr++)pr[mr]=gr.length?sr[mr][hr].apply(sr[mr],gr):sr[mr][hr].call(sr[mr]);return pr}function lr(sr,hr){return ur(sr,hr,function(gr,pr){return gr>=pr})}function fr(sr,hr){return ur(sr,hr,function(gr,pr){return gr<pr})}function cr(sr,hr){for(var gr=sr.length;gr--;)sr[gr]=hr;return sr}function ur(sr,hr,gr){if(!(!sr||sr.length===0)){var pr=sr.length-1,mr=hr?sr[pr][hr]:sr[pr];if(hr)for(;pr--;)gr(sr[pr][hr],mr)&&(mr=sr[pr][hr]);else for(;pr--;)gr(sr[pr],mr)&&(mr=sr[pr]);return mr}}er.util.array={fill:cr,invoke:ir,min:fr,max:lr}}(),function(){function or(lr,fr,cr){if(cr)if(!er.isLikelyNode&&fr instanceof Element)lr=fr;else if(fr instanceof Array){lr=[];for(var ur=0,sr=fr.length;ur<sr;ur++)lr[ur]=or({},fr[ur],cr)}else if(fr&&typeof fr=="object")for(var hr in fr)hr==="canvas"||hr==="group"?lr[hr]=null:fr.hasOwnProperty(hr)&&(lr[hr]=or({},fr[hr],cr));else lr=fr;else for(var hr in fr)lr[hr]=fr[hr];return lr}function ir(lr,fr){return or({},lr,fr)}er.util.object={extend:or,clone:ir},er.util.object.extend(er.util,er.Observable)}(),function(){function or(ur){return ur.replace(/-+(.)?/g,function(sr,hr){return hr?hr.toUpperCase():""})}function ir(ur,sr){return ur.charAt(0).toUpperCase()+(sr?ur.slice(1):ur.slice(1).toLowerCase())}function lr(ur){return ur.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fr(ur){var sr=0,hr,gr=[];for(sr=0,hr;sr<ur.length;sr++)(hr=cr(ur,sr))!==!1&&gr.push(hr);return gr}function cr(ur,sr){var hr=ur.charCodeAt(sr);if(isNaN(hr))return"";if(hr<55296||hr>57343)return ur.charAt(sr);if(55296<=hr&&hr<=56319){if(ur.length<=sr+1)throw"High surrogate without following low surrogate";var gr=ur.charCodeAt(sr+1);if(56320>gr||gr>57343)throw"High surrogate without following low surrogate";return ur.charAt(sr)+ur.charAt(sr+1)}if(sr===0)throw"Low surrogate without preceding high surrogate";var pr=ur.charCodeAt(sr-1);if(55296>pr||pr>56319)throw"Low surrogate without preceding high surrogate";return!1}er.util.string={camelize:or,capitalize:ir,escapeXml:lr,graphemeSplit:fr}}(),function(){var or=Array.prototype.slice,ir=function(){},lr=function(){for(var hr in{toString:1})if(hr==="toString")return!1;return!0}(),fr=function(hr,gr,pr){for(var mr in gr)mr in hr.prototype&&typeof hr.prototype[mr]=="function"&&(gr[mr]+"").indexOf("callSuper")>-1?hr.prototype[mr]=function(vr){return function(){var yr=this.constructor.superclass;this.constructor.superclass=pr;var br=gr[vr].apply(this,arguments);if(this.constructor.superclass=yr,vr!=="initialize")return br}}(mr):hr.prototype[mr]=gr[mr],lr&&(gr.toString!==Object.prototype.toString&&(hr.prototype.toString=gr.toString),gr.valueOf!==Object.prototype.valueOf&&(hr.prototype.valueOf=gr.valueOf))};function cr(){}function ur(hr){for(var gr=null,pr=this;pr.constructor.superclass;){var mr=pr.constructor.superclass.prototype[hr];if(pr[hr]!==mr){gr=mr;break}pr=pr.constructor.superclass.prototype}return gr?arguments.length>1?gr.apply(this,or.call(arguments,1)):gr.call(this):console.log("tried to callSuper "+hr+", method not found in prototype chain",this)}function sr(){var hr=null,gr=or.call(arguments,0);typeof gr[0]=="function"&&(hr=gr.shift());function pr(){this.initialize.apply(this,arguments)}pr.superclass=hr,pr.subclasses=[],hr&&(cr.prototype=hr.prototype,pr.prototype=new cr,hr.subclasses.push(pr));for(var mr=0,vr=gr.length;mr<vr;mr++)fr(pr,gr[mr],hr);return pr.prototype.initialize||(pr.prototype.initialize=ir),pr.prototype.constructor=pr,pr.prototype.callSuper=ur,pr}er.util.createClass=sr}(),function(){var or=!!er.document.createElement("div").attachEvent,ir=["touchstart","touchmove","touchend"];er.util.addListener=function(fr,cr,ur,sr){fr&&fr.addEventListener(cr,ur,or?!1:sr)},er.util.removeListener=function(fr,cr,ur,sr){fr&&fr.removeEventListener(cr,ur,or?!1:sr)};function lr(fr){var cr=fr.changedTouches;return cr&&cr[0]?cr[0]:fr}er.util.getPointer=function(fr){var cr=fr.target,ur=er.util.getScrollLeftTop(cr),sr=lr(fr);return{x:sr.clientX+ur.left,y:sr.clientY+ur.top}},er.util.isTouchEvent=function(fr){return ir.indexOf(fr.type)>-1||fr.pointerType==="touch"}}(),function(){function or(sr,hr){var gr=sr.style;if(!gr)return sr;if(typeof hr=="string")return sr.style.cssText+=";"+hr,hr.indexOf("opacity")>-1?ur(sr,hr.match(/opacity:\s*(\d?\.?\d*)/)[1]):sr;for(var pr in hr)if(pr==="opacity")ur(sr,hr[pr]);else{var mr=pr==="float"||pr==="cssFloat"?typeof gr.styleFloat>"u"?"cssFloat":"styleFloat":pr;gr.setProperty(mr,hr[pr])}return sr}var ir=er.document.createElement("div"),lr=typeof ir.style.opacity=="string",fr=typeof ir.style.filter=="string",cr=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,ur=function(sr){return sr};lr?ur=function(sr,hr){return sr.style.opacity=hr,sr}:fr&&(ur=function(sr,hr){var gr=sr.style;return sr.currentStyle&&!sr.currentStyle.hasLayout&&(gr.zoom=1),cr.test(gr.filter)?(hr=hr>=.9999?"":"alpha(opacity="+hr*100+")",gr.filter=gr.filter.replace(cr,hr)):gr.filter+=" alpha(opacity="+hr*100+")",sr}),er.util.setStyle=or}(),function(){var or=Array.prototype.slice;function ir(br){return typeof br=="string"?er.document.getElementById(br):br}var lr,fr=function(br){return or.call(br,0)};try{lr=fr(er.document.childNodes)instanceof Array}catch{}lr||(fr=function(br){for(var xr=new Array(br.length),Cr=br.length;Cr--;)xr[Cr]=br[Cr];return xr});function cr(br,xr){var Cr=er.document.createElement(br);for(var kr in xr)kr==="class"?Cr.className=xr[kr]:kr==="for"?Cr.htmlFor=xr[kr]:Cr.setAttribute(kr,xr[kr]);return Cr}function ur(br,xr){br&&(" "+br.className+" ").indexOf(" "+xr+" ")===-1&&(br.className+=(br.className?" ":"")+xr)}function sr(br,xr,Cr){return typeof xr=="string"&&(xr=cr(xr,Cr)),br.parentNode&&br.parentNode.replaceChild(xr,br),xr.appendChild(br),xr}function hr(br){for(var xr=0,Cr=0,kr=er.document.documentElement,Pr=er.document.body||{scrollLeft:0,scrollTop:0};br&&(br.parentNode||br.host)&&(br=br.parentNode||br.host,br===er.document?(xr=Pr.scrollLeft||kr.scrollLeft||0,Cr=Pr.scrollTop||kr.scrollTop||0):(xr+=br.scrollLeft||0,Cr+=br.scrollTop||0),!(br.nodeType===1&&br.style.position==="fixed")););return{left:xr,top:Cr}}function gr(br){var xr,Cr=br&&br.ownerDocument,kr={left:0,top:0},Pr={left:0,top:0},$r,Kr={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!Cr)return Pr;for(var Ir in Kr)Pr[Kr[Ir]]+=parseInt(pr(br,Ir),10)||0;return xr=Cr.documentElement,typeof br.getBoundingClientRect<"u"&&(kr=br.getBoundingClientRect()),$r=hr(br),{left:kr.left+$r.left-(xr.clientLeft||0)+Pr.left,top:kr.top+$r.top-(xr.clientTop||0)+Pr.top}}var pr;er.document.defaultView&&er.document.defaultView.getComputedStyle?pr=function(br,xr){var Cr=er.document.defaultView.getComputedStyle(br,null);return Cr?Cr[xr]:void 0}:pr=function(br,xr){var Cr=br.style[xr];return!Cr&&br.currentStyle&&(Cr=br.currentStyle[xr]),Cr},function(){var br=er.document.documentElement.style,xr="userSelect"in br?"userSelect":"MozUserSelect"in br?"MozUserSelect":"WebkitUserSelect"in br?"WebkitUserSelect":"KhtmlUserSelect"in br?"KhtmlUserSelect":"";function Cr(Pr){return typeof Pr.onselectstart<"u"&&(Pr.onselectstart=er.util.falseFunction),xr?Pr.style[xr]="none":typeof Pr.unselectable=="string"&&(Pr.unselectable="on"),Pr}function kr(Pr){return typeof Pr.onselectstart<"u"&&(Pr.onselectstart=null),xr?Pr.style[xr]="":typeof Pr.unselectable=="string"&&(Pr.unselectable=""),Pr}er.util.makeElementUnselectable=Cr,er.util.makeElementSelectable=kr}();function mr(br){var xr=er.jsdomImplForWrapper(br);return xr._canvas||xr._image}function vr(br){if(!!er.isLikelyNode){var xr=er.jsdomImplForWrapper(br);xr&&(xr._image=null,xr._canvas=null,xr._currentSrc=null,xr._attributes=null,xr._classList=null)}}function yr(br,xr){br.imageSmoothingEnabled=br.imageSmoothingEnabled||br.webkitImageSmoothingEnabled||br.mozImageSmoothingEnabled||br.msImageSmoothingEnabled||br.oImageSmoothingEnabled,br.imageSmoothingEnabled=xr}er.util.setImageSmoothing=yr,er.util.getById=ir,er.util.toArray=fr,er.util.addClass=ur,er.util.makeElement=cr,er.util.wrapElement=sr,er.util.getScrollLeftTop=hr,er.util.getElementOffset=gr,er.util.getNodeCanvas=mr,er.util.cleanUpJsdomNode=vr}(),function(){function or(fr,cr){return fr+(/\?/.test(fr)?"&":"?")+cr}function ir(){}function lr(fr,cr){cr||(cr={});var ur=cr.method?cr.method.toUpperCase():"GET",sr=cr.onComplete||function(){},hr=new er.window.XMLHttpRequest,gr=cr.body||cr.parameters;return hr.onreadystatechange=function(){hr.readyState===4&&(sr(hr),hr.onreadystatechange=ir)},ur==="GET"&&(gr=null,typeof cr.parameters=="string"&&(fr=or(fr,cr.parameters))),hr.open(ur,fr,!0),(ur==="POST"||ur==="PUT")&&hr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),hr.send(gr),hr}er.util.request=lr}(),er.log=console.log,er.warn=console.warn,function(){var or=er.util.object.extend,ir=er.util.object.clone,lr=[];er.util.object.extend(lr,{cancelAll:function(){var mr=this.splice(0);return mr.forEach(function(vr){vr.cancel()}),mr},cancelByCanvas:function(mr){if(!mr)return[];var vr=this.filter(function(yr){return typeof yr.target=="object"&&yr.target.canvas===mr});return vr.forEach(function(yr){yr.cancel()}),vr},cancelByTarget:function(mr){var vr=this.findAnimationsByTarget(mr);return vr.forEach(function(yr){yr.cancel()}),vr},findAnimationIndex:function(mr){return this.indexOf(this.findAnimation(mr))},findAnimation:function(mr){return this.find(function(vr){return vr.cancel===mr})},findAnimationsByTarget:function(mr){return mr?this.filter(function(vr){return vr.target===mr}):[]}});function fr(){return!1}function cr(mr,vr,yr,br){return-yr*Math.cos(mr/br*(Math.PI/2))+yr+vr}function ur(mr){mr||(mr={});var vr=!1,yr,br=function(){var xr=er.runningAnimations.indexOf(yr);return xr>-1&&er.runningAnimations.splice(xr,1)[0]};return yr=or(ir(mr),{cancel:function(){return vr=!0,br()},currentValue:"startValue"in mr?mr.startValue:0,completionRate:0,durationRate:0}),er.runningAnimations.push(yr),gr(function(xr){var Cr=xr||+new Date,kr=mr.duration||500,Pr=Cr+kr,$r,Kr=mr.onChange||fr,Ir=mr.abort||fr,jr=mr.onComplete||fr,Jr=mr.easing||cr,zr="startValue"in mr?mr.startValue.length>0:!1,Hr="startValue"in mr?mr.startValue:0,Yr="endValue"in mr?mr.endValue:100,nn=mr.byValue||(zr?Hr.map(function(Qr,Or){return Yr[Or]-Hr[Or]}):Yr-Hr);mr.onStart&&mr.onStart(),function Qr(Or){$r=Or||+new Date;var Er=$r>Pr?kr:$r-Cr,Dr=Er/kr,Tr=zr?Hr.map(function(_r,wr){return Jr(Er,Hr[wr],nn[wr],kr)}):Jr(Er,Hr,nn,kr),Lr=Math.abs(zr?(Tr[0]-Hr[0])/nn[0]:(Tr-Hr)/nn);if(yr.currentValue=zr?Tr.slice():Tr,yr.completionRate=Lr,yr.durationRate=Dr,!vr){if(Ir(Tr,Lr,Dr)){br();return}if($r>Pr){yr.currentValue=zr?Yr.slice():Yr,yr.completionRate=1,yr.durationRate=1,Kr(zr?Yr.slice():Yr,1,1),jr(Yr,1,1),br();return}else Kr(Tr,Lr,Dr),gr(Qr)}}(Cr)}),yr.cancel}var sr=er.window.requestAnimationFrame||er.window.webkitRequestAnimationFrame||er.window.mozRequestAnimationFrame||er.window.oRequestAnimationFrame||er.window.msRequestAnimationFrame||function(mr){return er.window.setTimeout(mr,1e3/60)},hr=er.window.cancelAnimationFrame||er.window.clearTimeout;function gr(){return sr.apply(er.window,arguments)}function pr(){return hr.apply(er.window,arguments)}er.util.animate=ur,er.util.requestAnimFrame=gr,er.util.cancelAnimFrame=pr,er.runningAnimations=lr}(),function(){function or(lr,fr,cr){var ur="rgba("+parseInt(lr[0]+cr*(fr[0]-lr[0]),10)+","+parseInt(lr[1]+cr*(fr[1]-lr[1]),10)+","+parseInt(lr[2]+cr*(fr[2]-lr[2]),10);return ur+=","+(lr&&fr?parseFloat(lr[3]+cr*(fr[3]-lr[3])):1),ur+=")",ur}function ir(lr,fr,cr,ur){var sr=new er.Color(lr).getSource(),hr=new er.Color(fr).getSource(),gr=ur.onComplete,pr=ur.onChange;return ur=ur||{},er.util.animate(er.util.object.extend(ur,{duration:cr||500,startValue:sr,endValue:hr,byValue:hr,easing:function(mr,vr,yr,br){var xr=ur.colorEasing?ur.colorEasing(mr,br):1-Math.cos(mr/br*(Math.PI/2));return or(vr,yr,xr)},onComplete:function(mr,vr,yr){if(gr)return gr(or(hr,hr,0),vr,yr)},onChange:function(mr,vr,yr){if(pr){if(Array.isArray(mr))return pr(or(mr,mr,0),vr,yr);pr(mr,vr,yr)}}}))}er.util.animateColor=ir}(),function(){function or(Or,Er,Dr,Tr){return Or<Math.abs(Er)?(Or=Er,Tr=Dr/4):Er===0&&Or===0?Tr=Dr/(2*Math.PI)*Math.asin(1):Tr=Dr/(2*Math.PI)*Math.asin(Er/Or),{a:Or,c:Er,p:Dr,s:Tr}}function ir(Or,Er,Dr){return Or.a*Math.pow(2,10*(Er-=1))*Math.sin((Er*Dr-Or.s)*(2*Math.PI)/Or.p)}function lr(Or,Er,Dr,Tr){return Dr*((Or=Or/Tr-1)*Or*Or+1)+Er}function fr(Or,Er,Dr,Tr){return Or/=Tr/2,Or<1?Dr/2*Or*Or*Or+Er:Dr/2*((Or-=2)*Or*Or+2)+Er}function cr(Or,Er,Dr,Tr){return Dr*(Or/=Tr)*Or*Or*Or+Er}function ur(Or,Er,Dr,Tr){return-Dr*((Or=Or/Tr-1)*Or*Or*Or-1)+Er}function sr(Or,Er,Dr,Tr){return Or/=Tr/2,Or<1?Dr/2*Or*Or*Or*Or+Er:-Dr/2*((Or-=2)*Or*Or*Or-2)+Er}function hr(Or,Er,Dr,Tr){return Dr*(Or/=Tr)*Or*Or*Or*Or+Er}function gr(Or,Er,Dr,Tr){return Dr*((Or=Or/Tr-1)*Or*Or*Or*Or+1)+Er}function pr(Or,Er,Dr,Tr){return Or/=Tr/2,Or<1?Dr/2*Or*Or*Or*Or*Or+Er:Dr/2*((Or-=2)*Or*Or*Or*Or+2)+Er}function mr(Or,Er,Dr,Tr){return-Dr*Math.cos(Or/Tr*(Math.PI/2))+Dr+Er}function vr(Or,Er,Dr,Tr){return Dr*Math.sin(Or/Tr*(Math.PI/2))+Er}function yr(Or,Er,Dr,Tr){return-Dr/2*(Math.cos(Math.PI*Or/Tr)-1)+Er}function br(Or,Er,Dr,Tr){return Or===0?Er:Dr*Math.pow(2,10*(Or/Tr-1))+Er}function xr(Or,Er,Dr,Tr){return Or===Tr?Er+Dr:Dr*(-Math.pow(2,-10*Or/Tr)+1)+Er}function Cr(Or,Er,Dr,Tr){return Or===0?Er:Or===Tr?Er+Dr:(Or/=Tr/2,Or<1?Dr/2*Math.pow(2,10*(Or-1))+Er:Dr/2*(-Math.pow(2,-10*--Or)+2)+Er)}function kr(Or,Er,Dr,Tr){return-Dr*(Math.sqrt(1-(Or/=Tr)*Or)-1)+Er}function Pr(Or,Er,Dr,Tr){return Dr*Math.sqrt(1-(Or=Or/Tr-1)*Or)+Er}function $r(Or,Er,Dr,Tr){return Or/=Tr/2,Or<1?-Dr/2*(Math.sqrt(1-Or*Or)-1)+Er:Dr/2*(Math.sqrt(1-(Or-=2)*Or)+1)+Er}function Kr(Or,Er,Dr,Tr){var Lr=1.70158,_r=0,wr=Dr;if(Or===0)return Er;if(Or/=Tr,Or===1)return Er+Dr;_r||(_r=Tr*.3);var Fr=or(wr,Dr,_r,Lr);return-ir(Fr,Or,Tr)+Er}function Ir(Or,Er,Dr,Tr){var Lr=1.70158,_r=0,wr=Dr;if(Or===0)return Er;if(Or/=Tr,Or===1)return Er+Dr;_r||(_r=Tr*.3);var Fr=or(wr,Dr,_r,Lr);return Fr.a*Math.pow(2,-10*Or)*Math.sin((Or*Tr-Fr.s)*(2*Math.PI)/Fr.p)+Fr.c+Er}function jr(Or,Er,Dr,Tr){var Lr=1.70158,_r=0,wr=Dr;if(Or===0)return Er;if(Or/=Tr/2,Or===2)return Er+Dr;_r||(_r=Tr*(.3*1.5));var Fr=or(wr,Dr,_r,Lr);return Or<1?-.5*ir(Fr,Or,Tr)+Er:Fr.a*Math.pow(2,-10*(Or-=1))*Math.sin((Or*Tr-Fr.s)*(2*Math.PI)/Fr.p)*.5+Fr.c+Er}function Jr(Or,Er,Dr,Tr,Lr){return Lr===void 0&&(Lr=1.70158),Dr*(Or/=Tr)*Or*((Lr+1)*Or-Lr)+Er}function zr(Or,Er,Dr,Tr,Lr){return Lr===void 0&&(Lr=1.70158),Dr*((Or=Or/Tr-1)*Or*((Lr+1)*Or+Lr)+1)+Er}function Hr(Or,Er,Dr,Tr,Lr){return Lr===void 0&&(Lr=1.70158),Or/=Tr/2,Or<1?Dr/2*(Or*Or*(((Lr*=1.525)+1)*Or-Lr))+Er:Dr/2*((Or-=2)*Or*(((Lr*=1.525)+1)*Or+Lr)+2)+Er}function Yr(Or,Er,Dr,Tr){return Dr-nn(Tr-Or,0,Dr,Tr)+Er}function nn(Or,Er,Dr,Tr){return(Or/=Tr)<1/2.75?Dr*(7.5625*Or*Or)+Er:Or<2/2.75?Dr*(7.5625*(Or-=1.5/2.75)*Or+.75)+Er:Or<2.5/2.75?Dr*(7.5625*(Or-=2.25/2.75)*Or+.9375)+Er:Dr*(7.5625*(Or-=2.625/2.75)*Or+.984375)+Er}function Qr(Or,Er,Dr,Tr){return Or<Tr/2?Yr(Or*2,0,Dr,Tr)*.5+Er:nn(Or*2-Tr,0,Dr,Tr)*.5+Dr*.5+Er}er.util.ease={easeInQuad:function(Or,Er,Dr,Tr){return Dr*(Or/=Tr)*Or+Er},easeOutQuad:function(Or,Er,Dr,Tr){return-Dr*(Or/=Tr)*(Or-2)+Er},easeInOutQuad:function(Or,Er,Dr,Tr){return Or/=Tr/2,Or<1?Dr/2*Or*Or+Er:-Dr/2*(--Or*(Or-2)-1)+Er},easeInCubic:function(Or,Er,Dr,Tr){return Dr*(Or/=Tr)*Or*Or+Er},easeOutCubic:lr,easeInOutCubic:fr,easeInQuart:cr,easeOutQuart:ur,easeInOutQuart:sr,easeInQuint:hr,easeOutQuint:gr,easeInOutQuint:pr,easeInSine:mr,easeOutSine:vr,easeInOutSine:yr,easeInExpo:br,easeOutExpo:xr,easeInOutExpo:Cr,easeInCirc:kr,easeOutCirc:Pr,easeInOutCirc:$r,easeInElastic:Kr,easeOutElastic:Ir,easeInOutElastic:jr,easeInBack:Jr,easeOutBack:zr,easeInOutBack:Hr,easeInBounce:Yr,easeOutBounce:nn,easeInOutBounce:Qr}}(),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.util.object.clone,cr=ir.util.toFixed,ur=ir.util.parseUnit,sr=ir.util.multiplyTransformMatrices,hr=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],gr=["symbol","image","marker","pattern","view","svg"],pr=["pattern","defs","symbol","metadata","clipPath","mask","desc"],mr=["symbol","g","a","svg","clipPath","defs"],vr={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},yr={stroke:"strokeOpacity",fill:"fillOpacity"},br="font-size",xr="clip-path";ir.svgValidTagNamesRegEx=Pr(hr),ir.svgViewBoxElementsRegEx=Pr(gr),ir.svgInvalidAncestorsRegEx=Pr(pr),ir.svgValidParentsRegEx=Pr(mr),ir.cssRules={},ir.gradientDefs={},ir.clipPaths={};function Cr(_r){return _r in vr?vr[_r]:_r}function kr(_r,wr,Fr,Nr){var Br=Array.isArray(wr),Ur;if((_r==="fill"||_r==="stroke")&&wr==="none")wr="";else{if(_r==="strokeUniform")return wr==="non-scaling-stroke";if(_r==="strokeDashArray")wr==="none"?wr=null:wr=wr.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(_r==="transformMatrix")Fr&&Fr.transformMatrix?wr=sr(Fr.transformMatrix,ir.parseTransformAttribute(wr)):wr=ir.parseTransformAttribute(wr);else if(_r==="visible")wr=wr!=="none"&&wr!=="hidden",Fr&&Fr.visible===!1&&(wr=!1);else if(_r==="opacity")wr=parseFloat(wr),Fr&&typeof Fr.opacity<"u"&&(wr*=Fr.opacity);else if(_r==="textAnchor")wr=wr==="start"?"left":wr==="end"?"right":"center";else if(_r==="charSpacing")Ur=ur(wr,Nr)/Nr*1e3;else if(_r==="paintFirst"){var Zr=wr.indexOf("fill"),an=wr.indexOf("stroke"),wr="fill";(Zr>-1&&an>-1&&an<Zr||Zr===-1&&an>-1)&&(wr="stroke")}else{if(_r==="href"||_r==="xlink:href"||_r==="font")return wr;if(_r==="imageSmoothing")return wr==="optimizeQuality";Ur=Br?wr.map(ur):ur(wr,Nr)}}return!Br&&isNaN(Ur)?wr:Ur}function Pr(_r){return new RegExp("^("+_r.join("|")+")\\b","i")}function $r(_r){for(var wr in yr)if(!(typeof _r[yr[wr]]>"u"||_r[wr]==="")){if(typeof _r[wr]>"u"){if(!ir.Object.prototype[wr])continue;_r[wr]=ir.Object.prototype[wr]}if(_r[wr].indexOf("url(")!==0){var Fr=new ir.Color(_r[wr]);_r[wr]=Fr.setAlpha(cr(Fr.getAlpha()*_r[yr[wr]],2)).toRgba()}}return _r}function Kr(_r,wr){var Fr,Nr=[],Br,Ur,Zr;for(Ur=0,Zr=wr.length;Ur<Zr;Ur++)Fr=wr[Ur],Br=_r.getElementsByTagName(Fr),Nr=Nr.concat(Array.prototype.slice.call(Br));return Nr}ir.parseTransformAttribute=function(){function _r(vn,Ln){var bn=ir.util.cos(Ln[0]),Mn=ir.util.sin(Ln[0]),Un=0,Hn=0;Ln.length===3&&(Un=Ln[1],Hn=Ln[2]),vn[0]=bn,vn[1]=Mn,vn[2]=-Mn,vn[3]=bn,vn[4]=Un-(bn*Un-Mn*Hn),vn[5]=Hn-(Mn*Un+bn*Hn)}function wr(vn,Ln){var bn=Ln[0],Mn=Ln.length===2?Ln[1]:Ln[0];vn[0]=bn,vn[3]=Mn}function Fr(vn,Ln,bn){vn[bn]=Math.tan(ir.util.degreesToRadians(Ln[0]))}function Nr(vn,Ln){vn[4]=Ln[0],Ln.length===2&&(vn[5]=Ln[1])}var Br=ir.iMatrix,Ur=ir.reNum,Zr=ir.commaWsp,an="(?:(skewX)\\s*\\(\\s*("+Ur+")\\s*\\))",qr="(?:(skewY)\\s*\\(\\s*("+Ur+")\\s*\\))",Gr="(?:(rotate)\\s*\\(\\s*("+Ur+")(?:"+Zr+"("+Ur+")"+Zr+"("+Ur+"))?\\s*\\))",Xr="(?:(scale)\\s*\\(\\s*("+Ur+")(?:"+Zr+"("+Ur+"))?\\s*\\))",en="(?:(translate)\\s*\\(\\s*("+Ur+")(?:"+Zr+"("+Ur+"))?\\s*\\))",Wr="(?:(matrix)\\s*\\(\\s*("+Ur+")"+Zr+"("+Ur+")"+Zr+"("+Ur+")"+Zr+"("+Ur+")"+Zr+"("+Ur+")"+Zr+"("+Ur+")\\s*\\))",cn="(?:"+Wr+"|"+en+"|"+Xr+"|"+Gr+"|"+an+"|"+qr+")",fn="(?:"+cn+"(?:"+Zr+"*"+cn+")*)",gn="^\\s*(?:"+fn+"?)\\s*$",wn=new RegExp(gn),yn=new RegExp(cn,"g");return function(vn){var Ln=Br.concat(),bn=[];if(!vn||vn&&!wn.test(vn))return Ln;vn.replace(yn,function(Un){var Hn=new RegExp(cn).exec(Un).filter(function(Qn){return!!Qn}),Yn=Hn[1],Gn=Hn.slice(2).map(parseFloat);switch(Yn){case"translate":Nr(Ln,Gn);break;case"rotate":Gn[0]=ir.util.degreesToRadians(Gn[0]),_r(Ln,Gn);break;case"scale":wr(Ln,Gn);break;case"skewX":Fr(Ln,Gn,2);break;case"skewY":Fr(Ln,Gn,1);break;case"matrix":Ln=Gn;break}bn.push(Ln.concat()),Ln=Br.concat()});for(var Mn=bn[0];bn.length>1;)bn.shift(),Mn=ir.util.multiplyTransformMatrices(Mn,bn[0]);return Mn}}();function Ir(_r,wr){var Fr,Nr;_r.replace(/;\s*$/,"").split(";").forEach(function(Br){var Ur=Br.split(":");Fr=Ur[0].trim().toLowerCase(),Nr=Ur[1].trim(),wr[Fr]=Nr})}function jr(_r,wr){var Fr,Nr;for(var Br in _r)typeof _r[Br]>"u"||(Fr=Br.toLowerCase(),Nr=_r[Br],wr[Fr]=Nr)}function Jr(_r,wr){var Fr={};for(var Nr in ir.cssRules[wr])if(zr(_r,Nr.split(" ")))for(var Br in ir.cssRules[wr][Nr])Fr[Br]=ir.cssRules[wr][Nr][Br];return Fr}function zr(_r,wr){var Fr,Nr=!0;return Fr=Yr(_r,wr.pop()),Fr&&wr.length&&(Nr=Hr(_r,wr)),Fr&&Nr&&wr.length===0}function Hr(_r,wr){for(var Fr,Nr=!0;_r.parentNode&&_r.parentNode.nodeType===1&&wr.length;)Nr&&(Fr=wr.pop()),_r=_r.parentNode,Nr=Yr(_r,Fr);return wr.length===0}function Yr(_r,wr){var Fr=_r.nodeName,Nr=_r.getAttribute("class"),Br=_r.getAttribute("id"),Ur,Zr;if(Ur=new RegExp("^"+Fr,"i"),wr=wr.replace(Ur,""),Br&&wr.length&&(Ur=new RegExp("#"+Br+"(?![a-zA-Z\\-]+)","i"),wr=wr.replace(Ur,"")),Nr&&wr.length)for(Nr=Nr.split(" "),Zr=Nr.length;Zr--;)Ur=new RegExp("\\."+Nr[Zr]+"(?![a-zA-Z\\-]+)","i"),wr=wr.replace(Ur,"");return wr.length===0}function nn(_r,wr){var Fr;if(_r.getElementById&&(Fr=_r.getElementById(wr)),Fr)return Fr;var Nr,Br,Ur,Zr=_r.getElementsByTagName("*");for(Br=0,Ur=Zr.length;Br<Ur;Br++)if(Nr=Zr[Br],wr===Nr.getAttribute("id"))return Nr}function Qr(_r){for(var wr=Kr(_r,["use","svg:use"]),Fr=0;wr.length&&Fr<wr.length;){var Nr=wr[Fr],Br=Nr.getAttribute("xlink:href")||Nr.getAttribute("href");if(Br===null)return;var Ur=Br.slice(1),Zr=Nr.getAttribute("x")||0,an=Nr.getAttribute("y")||0,qr=nn(_r,Ur).cloneNode(!0),Gr=(qr.getAttribute("transform")||"")+" translate("+Zr+", "+an+")",Xr,en=wr.length,Wr,cn,fn,gn,wn=ir.svgNS;if(Er(qr),/^svg$/i.test(qr.nodeName)){var yn=qr.ownerDocument.createElementNS(wn,"g");for(cn=0,fn=qr.attributes,gn=fn.length;cn<gn;cn++)Wr=fn.item(cn),yn.setAttributeNS(wn,Wr.nodeName,Wr.nodeValue);for(;qr.firstChild;)yn.appendChild(qr.firstChild);qr=yn}for(cn=0,fn=Nr.attributes,gn=fn.length;cn<gn;cn++)Wr=fn.item(cn),!(Wr.nodeName==="x"||Wr.nodeName==="y"||Wr.nodeName==="xlink:href"||Wr.nodeName==="href")&&(Wr.nodeName==="transform"?Gr=Wr.nodeValue+" "+Gr:qr.setAttribute(Wr.nodeName,Wr.nodeValue));qr.setAttribute("transform",Gr),qr.setAttribute("instantiated_by_use","1"),qr.removeAttribute("id"),Xr=Nr.parentNode,Xr.replaceChild(qr,Nr),wr.length===en&&Fr++}}var Or=new RegExp("^\\s*("+ir.reNum+"+)\\s*,?\\s*("+ir.reNum+"+)\\s*,?\\s*("+ir.reNum+"+)\\s*,?\\s*("+ir.reNum+"+)\\s*$");function Er(_r){if(!ir.svgViewBoxElementsRegEx.test(_r.nodeName))return{};var wr=_r.getAttribute("viewBox"),Fr=1,Nr=1,Br=0,Ur=0,Zr,an,qr,Gr,Xr=_r.getAttribute("width"),en=_r.getAttribute("height"),Wr=_r.getAttribute("x")||0,cn=_r.getAttribute("y")||0,fn=_r.getAttribute("preserveAspectRatio")||"",gn=!wr||!(wr=wr.match(Or)),wn=!Xr||!en||Xr==="100%"||en==="100%",yn=gn&&wn,vn={},Ln="",bn=0,Mn=0;if(vn.width=0,vn.height=0,vn.toBeParsed=yn,gn&&(Wr||cn)&&_r.parentNode&&_r.parentNode.nodeName!=="#document"&&(Ln=" translate("+ur(Wr)+" "+ur(cn)+") ",qr=(_r.getAttribute("transform")||"")+Ln,_r.setAttribute("transform",qr),_r.removeAttribute("x"),_r.removeAttribute("y")),yn)return vn;if(gn)return vn.width=ur(Xr),vn.height=ur(en),vn;if(Br=-parseFloat(wr[1]),Ur=-parseFloat(wr[2]),Zr=parseFloat(wr[3]),an=parseFloat(wr[4]),vn.minX=Br,vn.minY=Ur,vn.viewBoxWidth=Zr,vn.viewBoxHeight=an,wn?(vn.width=Zr,vn.height=an):(vn.width=ur(Xr),vn.height=ur(en),Fr=vn.width/Zr,Nr=vn.height/an),fn=ir.util.parsePreserveAspectRatioAttribute(fn),fn.alignX!=="none"&&(fn.meetOrSlice==="meet"&&(Nr=Fr=Fr>Nr?Nr:Fr),fn.meetOrSlice==="slice"&&(Nr=Fr=Fr>Nr?Fr:Nr),bn=vn.width-Zr*Fr,Mn=vn.height-an*Fr,fn.alignX==="Mid"&&(bn/=2),fn.alignY==="Mid"&&(Mn/=2),fn.alignX==="Min"&&(bn=0),fn.alignY==="Min"&&(Mn=0)),Fr===1&&Nr===1&&Br===0&&Ur===0&&Wr===0&&cn===0)return vn;if((Wr||cn)&&_r.parentNode.nodeName!=="#document"&&(Ln=" translate("+ur(Wr)+" "+ur(cn)+") "),qr=Ln+" matrix("+Fr+" 0 0 "+Nr+" "+(Br*Fr+bn)+" "+(Ur*Nr+Mn)+") ",_r.nodeName==="svg"){for(Gr=_r.ownerDocument.createElementNS(ir.svgNS,"g");_r.firstChild;)Gr.appendChild(_r.firstChild);_r.appendChild(Gr)}else Gr=_r,Gr.removeAttribute("x"),Gr.removeAttribute("y"),qr=Gr.getAttribute("transform")+qr;return Gr.setAttribute("transform",qr),vn}function Dr(_r,wr){for(;_r&&(_r=_r.parentNode);)if(_r.nodeName&&wr.test(_r.nodeName.replace("svg:",""))&&!_r.getAttribute("instantiated_by_use"))return!0;return!1}ir.parseSVGDocument=function(_r,wr,Fr,Nr){if(!!_r){Qr(_r);var Br=ir.Object.__uid++,Ur,Zr,an=Er(_r),qr=ir.util.toArray(_r.getElementsByTagName("*"));if(an.crossOrigin=Nr&&Nr.crossOrigin,an.svgUid=Br,qr.length===0&&ir.isLikelyNode){qr=_r.selectNodes('//*[name(.)!="svg"]');var Gr=[];for(Ur=0,Zr=qr.length;Ur<Zr;Ur++)Gr[Ur]=qr[Ur];qr=Gr}var Xr=qr.filter(function(Wr){return Er(Wr),ir.svgValidTagNamesRegEx.test(Wr.nodeName.replace("svg:",""))&&!Dr(Wr,ir.svgInvalidAncestorsRegEx)});if(!Xr||Xr&&!Xr.length){wr&&wr([],{});return}var en={};qr.filter(function(Wr){return Wr.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Wr){var cn=Wr.getAttribute("id");en[cn]=ir.util.toArray(Wr.getElementsByTagName("*")).filter(function(fn){return ir.svgValidTagNamesRegEx.test(fn.nodeName.replace("svg:",""))})}),ir.gradientDefs[Br]=ir.getGradientDefs(_r),ir.cssRules[Br]=ir.getCSSRules(_r),ir.clipPaths[Br]=en,ir.parseElements(Xr,function(Wr,cn){wr&&(wr(Wr,an,cn,qr),delete ir.gradientDefs[Br],delete ir.cssRules[Br],delete ir.clipPaths[Br])},fr(an),Fr,Nr)}};function Tr(_r,wr){var Fr=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Nr="xlink:href",Br=wr.getAttribute(Nr).slice(1),Ur=nn(_r,Br);if(Ur&&Ur.getAttribute(Nr)&&Tr(_r,Ur),Fr.forEach(function(an){Ur&&!wr.hasAttribute(an)&&Ur.hasAttribute(an)&&wr.setAttribute(an,Ur.getAttribute(an))}),!wr.children.length)for(var Zr=Ur.cloneNode(!0);Zr.firstChild;)wr.appendChild(Zr.firstChild);wr.removeAttribute(Nr)}var Lr=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+ir.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+ir.reNum+"))?\\s+(.*)");lr(ir,{parseFontDeclaration:function(_r,wr){var Fr=_r.match(Lr);if(!!Fr){var Nr=Fr[1],Br=Fr[3],Ur=Fr[4],Zr=Fr[5],an=Fr[6];Nr&&(wr.fontStyle=Nr),Br&&(wr.fontWeight=isNaN(parseFloat(Br))?Br:parseFloat(Br)),Ur&&(wr.fontSize=ur(Ur)),an&&(wr.fontFamily=an),Zr&&(wr.lineHeight=Zr==="normal"?1:Zr)}},getGradientDefs:function(_r){var wr=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Fr=Kr(_r,wr),Nr,Br=0,Ur={};for(Br=Fr.length;Br--;)Nr=Fr[Br],Nr.getAttribute("xlink:href")&&Tr(_r,Nr),Ur[Nr.getAttribute("id")]=Nr;return Ur},parseAttributes:function(_r,wr,Fr){if(!!_r){var Nr,Br={},Ur,Zr;typeof Fr>"u"&&(Fr=_r.getAttribute("svgUid")),_r.parentNode&&ir.svgValidParentsRegEx.test(_r.parentNode.nodeName)&&(Br=ir.parseAttributes(_r.parentNode,wr,Fr));var an=wr.reduce(function(fn,gn){return Nr=_r.getAttribute(gn),Nr&&(fn[gn]=Nr),fn},{}),qr=lr(Jr(_r,Fr),ir.parseStyleAttribute(_r));an=lr(an,qr),qr[xr]&&_r.setAttribute(xr,qr[xr]),Ur=Zr=Br.fontSize||ir.Text.DEFAULT_SVG_FONT_SIZE,an[br]&&(an[br]=Ur=ur(an[br],Zr));var Gr,Xr,en={};for(var Wr in an)Gr=Cr(Wr),Xr=kr(Gr,an[Wr],Br,Ur),en[Gr]=Xr;en&&en.font&&ir.parseFontDeclaration(en.font,en);var cn=lr(Br,en);return ir.svgValidParentsRegEx.test(_r.nodeName)?cn:$r(cn)}},parseElements:function(_r,wr,Fr,Nr,Br){new ir.ElementsParser(_r,wr,Fr,Nr,Br).parse()},parseStyleAttribute:function(_r){var wr={},Fr=_r.getAttribute("style");return Fr&&(typeof Fr=="string"?Ir(Fr,wr):jr(Fr,wr)),wr},parsePointsAttribute:function(_r){if(!_r)return null;_r=_r.replace(/,/g," ").trim(),_r=_r.split(/\s+/);var wr=[],Fr,Nr;for(Fr=0,Nr=_r.length;Fr<Nr;Fr+=2)wr.push({x:parseFloat(_r[Fr]),y:parseFloat(_r[Fr+1])});return wr},getCSSRules:function(_r){var wr=_r.getElementsByTagName("style"),Fr,Nr,Br={},Ur;for(Fr=0,Nr=wr.length;Fr<Nr;Fr++){var Zr=wr[Fr].textContent;Zr=Zr.replace(/\/\*[\s\S]*?\*\//g,""),Zr.trim()!==""&&(Ur=Zr.split("}"),Ur=Ur.filter(function(an){return an.trim()}),Ur.forEach(function(an){var qr=an.split("{"),Gr={},Xr=qr[1].trim(),en=Xr.split(";").filter(function(gn){return gn.trim()});for(Fr=0,Nr=en.length;Fr<Nr;Fr++){var Wr=en[Fr].split(":"),cn=Wr[0].trim(),fn=Wr[1].trim();Gr[cn]=fn}an=qr[0].trim(),an.split(",").forEach(function(gn){gn=gn.replace(/^svg/i,"").trim(),gn!==""&&(Br[gn]?ir.util.object.extend(Br[gn],Gr):Br[gn]=ir.util.object.clone(Gr))})}))}return Br},loadSVGFromURL:function(_r,wr,Fr,Nr){_r=_r.replace(/^\n\s*/,"").trim(),new ir.util.request(_r,{method:"get",onComplete:Br});function Br(Ur){var Zr=Ur.responseXML;if(!Zr||!Zr.documentElement)return wr&&wr(null),!1;ir.parseSVGDocument(Zr.documentElement,function(an,qr,Gr,Xr){wr&&wr(an,qr,Gr,Xr)},Fr,Nr)}},loadSVGFromString:function(_r,wr,Fr,Nr){var Br=new ir.window.DOMParser,Ur=Br.parseFromString(_r.trim(),"text/xml");ir.parseSVGDocument(Ur.documentElement,function(Zr,an,qr,Gr){wr(Zr,an,qr,Gr)},Fr,Nr)}})}(St),er.ElementsParser=function(or,ir,lr,fr,cr,ur){this.elements=or,this.callback=ir,this.options=lr,this.reviver=fr,this.svgUid=lr&&lr.svgUid||0,this.parsingOptions=cr,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=ur},function(or){or.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},or.createObjects=function(){var ir=this;this.elements.forEach(function(lr,fr){lr.setAttribute("svgUid",ir.svgUid),ir.createObject(lr,fr)})},or.findTag=function(ir){return er[er.util.string.capitalize(ir.tagName.replace("svg:",""))]},or.createObject=function(ir,lr){var fr=this.findTag(ir);if(fr&&fr.fromElement)try{fr.fromElement(ir,this.createCallback(lr,ir),this.options)}catch(cr){er.log(cr)}else this.checkIfDone()},or.createCallback=function(ir,lr){var fr=this;return function(cr){var ur;fr.resolveGradient(cr,lr,"fill"),fr.resolveGradient(cr,lr,"stroke"),cr instanceof er.Image&&cr._originalElement&&(ur=cr.parsePreserveAspectRatioAttribute(lr)),cr._removeTransformMatrix(ur),fr.resolveClipPath(cr,lr),fr.reviver&&fr.reviver(lr,cr),fr.instances[ir]=cr,fr.checkIfDone()}},or.extractPropertyDefinition=function(ir,lr,fr){var cr=ir[lr],ur=this.regexUrl;if(!!ur.test(cr)){ur.lastIndex=0;var sr=ur.exec(cr)[1];return ur.lastIndex=0,er[fr][this.svgUid][sr]}},or.resolveGradient=function(ir,lr,fr){var cr=this.extractPropertyDefinition(ir,fr,"gradientDefs");if(cr){var ur=lr.getAttribute(fr+"-opacity"),sr=er.Gradient.fromElement(cr,ir,ur,this.options);ir.set(fr,sr)}},or.createClipPathCallback=function(ir,lr){return function(fr){fr._removeTransformMatrix(),fr.fillRule=fr.clipRule,lr.push(fr)}},or.resolveClipPath=function(ir,lr){var fr=this.extractPropertyDefinition(ir,"clipPath","clipPaths"),cr,ur,sr,hr,gr,pr;if(fr){hr=[],sr=er.util.invertTransform(ir.calcTransformMatrix());for(var mr=fr[0].parentNode,vr=lr;vr.parentNode&&vr.getAttribute("clip-path")!==ir.clipPath;)vr=vr.parentNode;vr.parentNode.appendChild(mr);for(var yr=0;yr<fr.length;yr++)cr=fr[yr],ur=this.findTag(cr),ur.fromElement(cr,this.createClipPathCallback(ir,hr),this.options);hr.length===1?fr=hr[0]:fr=new er.Group(hr),gr=er.util.multiplyTransformMatrices(sr,fr.calcTransformMatrix()),fr.clipPath&&this.resolveClipPath(fr,vr);var pr=er.util.qrDecompose(gr);fr.flipX=!1,fr.flipY=!1,fr.set("scaleX",pr.scaleX),fr.set("scaleY",pr.scaleY),fr.angle=pr.angle,fr.skewX=pr.skewX,fr.skewY=0,fr.setPositionByOrigin({x:pr.translateX,y:pr.translateY},"center","center"),ir.clipPath=fr}else delete ir.clipPath},or.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(ir){return ir!=null}),this.callback(this.instances,this.elements))}}(er.ElementsParser.prototype),function(or){var ir=or.fabric||(or.fabric={});if(ir.Point){ir.warn("fabric.Point is already defined");return}ir.Point=lr;function lr(fr,cr){this.x=fr,this.y=cr}lr.prototype={type:"point",constructor:lr,add:function(fr){return new lr(this.x+fr.x,this.y+fr.y)},addEquals:function(fr){return this.x+=fr.x,this.y+=fr.y,this},scalarAdd:function(fr){return new lr(this.x+fr,this.y+fr)},scalarAddEquals:function(fr){return this.x+=fr,this.y+=fr,this},subtract:function(fr){return new lr(this.x-fr.x,this.y-fr.y)},subtractEquals:function(fr){return this.x-=fr.x,this.y-=fr.y,this},scalarSubtract:function(fr){return new lr(this.x-fr,this.y-fr)},scalarSubtractEquals:function(fr){return this.x-=fr,this.y-=fr,this},multiply:function(fr){return new lr(this.x*fr,this.y*fr)},multiplyEquals:function(fr){return this.x*=fr,this.y*=fr,this},divide:function(fr){return new lr(this.x/fr,this.y/fr)},divideEquals:function(fr){return this.x/=fr,this.y/=fr,this},eq:function(fr){return this.x===fr.x&&this.y===fr.y},lt:function(fr){return this.x<fr.x&&this.y<fr.y},lte:function(fr){return this.x<=fr.x&&this.y<=fr.y},gt:function(fr){return this.x>fr.x&&this.y>fr.y},gte:function(fr){return this.x>=fr.x&&this.y>=fr.y},lerp:function(fr,cr){return typeof cr>"u"&&(cr=.5),cr=Math.max(Math.min(1,cr),0),new lr(this.x+(fr.x-this.x)*cr,this.y+(fr.y-this.y)*cr)},distanceFrom:function(fr){var cr=this.x-fr.x,ur=this.y-fr.y;return Math.sqrt(cr*cr+ur*ur)},midPointFrom:function(fr){return this.lerp(fr)},min:function(fr){return new lr(Math.min(this.x,fr.x),Math.min(this.y,fr.y))},max:function(fr){return new lr(Math.max(this.x,fr.x),Math.max(this.y,fr.y))},toString:function(){return this.x+","+this.y},setXY:function(fr,cr){return this.x=fr,this.y=cr,this},setX:function(fr){return this.x=fr,this},setY:function(fr){return this.y=fr,this},setFromPoint:function(fr){return this.x=fr.x,this.y=fr.y,this},swap:function(fr){var cr=this.x,ur=this.y;this.x=fr.x,this.y=fr.y,fr.x=cr,fr.y=ur},clone:function(){return new lr(this.x,this.y)}}}(St),function(or){var ir=or.fabric||(or.fabric={});if(ir.Intersection){ir.warn("fabric.Intersection is already defined");return}function lr(fr){this.status=fr,this.points=[]}ir.Intersection=lr,ir.Intersection.prototype={constructor:lr,appendPoint:function(fr){return this.points.push(fr),this},appendPoints:function(fr){return this.points=this.points.concat(fr),this}},ir.Intersection.intersectLineLine=function(fr,cr,ur,sr){var hr,gr=(sr.x-ur.x)*(fr.y-ur.y)-(sr.y-ur.y)*(fr.x-ur.x),pr=(cr.x-fr.x)*(fr.y-ur.y)-(cr.y-fr.y)*(fr.x-ur.x),mr=(sr.y-ur.y)*(cr.x-fr.x)-(sr.x-ur.x)*(cr.y-fr.y);if(mr!==0){var vr=gr/mr,yr=pr/mr;0<=vr&&vr<=1&&0<=yr&&yr<=1?(hr=new lr("Intersection"),hr.appendPoint(new ir.Point(fr.x+vr*(cr.x-fr.x),fr.y+vr*(cr.y-fr.y)))):hr=new lr}else gr===0||pr===0?hr=new lr("Coincident"):hr=new lr("Parallel");return hr},ir.Intersection.intersectLinePolygon=function(fr,cr,ur){var sr=new lr,hr=ur.length,gr,pr,mr,vr;for(vr=0;vr<hr;vr++)gr=ur[vr],pr=ur[(vr+1)%hr],mr=lr.intersectLineLine(fr,cr,gr,pr),sr.appendPoints(mr.points);return sr.points.length>0&&(sr.status="Intersection"),sr},ir.Intersection.intersectPolygonPolygon=function(fr,cr){var ur=new lr,sr=fr.length,hr;for(hr=0;hr<sr;hr++){var gr=fr[hr],pr=fr[(hr+1)%sr],mr=lr.intersectLinePolygon(gr,pr,cr);ur.appendPoints(mr.points)}return ur.points.length>0&&(ur.status="Intersection"),ur},ir.Intersection.intersectPolygonRectangle=function(fr,cr,ur){var sr=cr.min(ur),hr=cr.max(ur),gr=new ir.Point(hr.x,sr.y),pr=new ir.Point(sr.x,hr.y),mr=lr.intersectLinePolygon(sr,gr,fr),vr=lr.intersectLinePolygon(gr,hr,fr),yr=lr.intersectLinePolygon(hr,pr,fr),br=lr.intersectLinePolygon(pr,sr,fr),xr=new lr;return xr.appendPoints(mr.points),xr.appendPoints(vr.points),xr.appendPoints(yr.points),xr.appendPoints(br.points),xr.points.length>0&&(xr.status="Intersection"),xr}}(St),function(or){var ir=or.fabric||(or.fabric={});if(ir.Color){ir.warn("fabric.Color is already defined.");return}function lr(cr){cr?this._tryParsingColor(cr):this.setSource([0,0,0,1])}ir.Color=lr,ir.Color.prototype={_tryParsingColor:function(cr){var ur;cr in lr.colorNameMap&&(cr=lr.colorNameMap[cr]),cr==="transparent"&&(ur=[255,255,255,0]),ur||(ur=lr.sourceFromHex(cr)),ur||(ur=lr.sourceFromRgb(cr)),ur||(ur=lr.sourceFromHsl(cr)),ur||(ur=[0,0,0,1]),ur&&this.setSource(ur)},_rgbToHsl:function(cr,ur,sr){cr/=255,ur/=255,sr/=255;var hr,gr,pr,mr=ir.util.array.max([cr,ur,sr]),vr=ir.util.array.min([cr,ur,sr]);if(pr=(mr+vr)/2,mr===vr)hr=gr=0;else{var yr=mr-vr;switch(gr=pr>.5?yr/(2-mr-vr):yr/(mr+vr),mr){case cr:hr=(ur-sr)/yr+(ur<sr?6:0);break;case ur:hr=(sr-cr)/yr+2;break;case sr:hr=(cr-ur)/yr+4;break}hr/=6}return[Math.round(hr*360),Math.round(gr*100),Math.round(pr*100)]},getSource:function(){return this._source},setSource:function(cr){this._source=cr},toRgb:function(){var cr=this.getSource();return"rgb("+cr[0]+","+cr[1]+","+cr[2]+")"},toRgba:function(){var cr=this.getSource();return"rgba("+cr[0]+","+cr[1]+","+cr[2]+","+cr[3]+")"},toHsl:function(){var cr=this.getSource(),ur=this._rgbToHsl(cr[0],cr[1],cr[2]);return"hsl("+ur[0]+","+ur[1]+"%,"+ur[2]+"%)"},toHsla:function(){var cr=this.getSource(),ur=this._rgbToHsl(cr[0],cr[1],cr[2]);return"hsla("+ur[0]+","+ur[1]+"%,"+ur[2]+"%,"+cr[3]+")"},toHex:function(){var cr=this.getSource(),ur,sr,hr;return ur=cr[0].toString(16),ur=ur.length===1?"0"+ur:ur,sr=cr[1].toString(16),sr=sr.length===1?"0"+sr:sr,hr=cr[2].toString(16),hr=hr.length===1?"0"+hr:hr,ur.toUpperCase()+sr.toUpperCase()+hr.toUpperCase()},toHexa:function(){var cr=this.getSource(),ur;return ur=Math.round(cr[3]*255),ur=ur.toString(16),ur=ur.length===1?"0"+ur:ur,this.toHex()+ur.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(cr){var ur=this.getSource();return ur[3]=cr,this.setSource(ur),this},toGrayscale:function(){var cr=this.getSource(),ur=parseInt((cr[0]*.3+cr[1]*.59+cr[2]*.11).toFixed(0),10),sr=cr[3];return this.setSource([ur,ur,ur,sr]),this},toBlackWhite:function(cr){var ur=this.getSource(),sr=(ur[0]*.3+ur[1]*.59+ur[2]*.11).toFixed(0),hr=ur[3];return cr=cr||127,sr=Number(sr)<Number(cr)?0:255,this.setSource([sr,sr,sr,hr]),this},overlayWith:function(cr){cr instanceof lr||(cr=new lr(cr));var ur=[],sr=this.getAlpha(),hr=.5,gr=this.getSource(),pr=cr.getSource(),mr;for(mr=0;mr<3;mr++)ur.push(Math.round(gr[mr]*(1-hr)+pr[mr]*hr));return ur[3]=sr,this.setSource(ur),this}},ir.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,ir.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,ir.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,ir.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function fr(cr,ur,sr){return sr<0&&(sr+=1),sr>1&&(sr-=1),sr<1/6?cr+(ur-cr)*6*sr:sr<1/2?ur:sr<2/3?cr+(ur-cr)*(2/3-sr)*6:cr}ir.Color.fromRgb=function(cr){return lr.fromSource(lr.sourceFromRgb(cr))},ir.Color.sourceFromRgb=function(cr){var ur=cr.match(lr.reRGBa);if(ur){var sr=parseInt(ur[1],10)/(/%$/.test(ur[1])?100:1)*(/%$/.test(ur[1])?255:1),hr=parseInt(ur[2],10)/(/%$/.test(ur[2])?100:1)*(/%$/.test(ur[2])?255:1),gr=parseInt(ur[3],10)/(/%$/.test(ur[3])?100:1)*(/%$/.test(ur[3])?255:1);return[parseInt(sr,10),parseInt(hr,10),parseInt(gr,10),ur[4]?parseFloat(ur[4]):1]}},ir.Color.fromRgba=lr.fromRgb,ir.Color.fromHsl=function(cr){return lr.fromSource(lr.sourceFromHsl(cr))},ir.Color.sourceFromHsl=function(cr){var ur=cr.match(lr.reHSLa);if(!!ur){var sr=(parseFloat(ur[1])%360+360)%360/360,hr=parseFloat(ur[2])/(/%$/.test(ur[2])?100:1),gr=parseFloat(ur[3])/(/%$/.test(ur[3])?100:1),pr,mr,vr;if(hr===0)pr=mr=vr=gr;else{var yr=gr<=.5?gr*(hr+1):gr+hr-gr*hr,br=gr*2-yr;pr=fr(br,yr,sr+1/3),mr=fr(br,yr,sr),vr=fr(br,yr,sr-1/3)}return[Math.round(pr*255),Math.round(mr*255),Math.round(vr*255),ur[4]?parseFloat(ur[4]):1]}},ir.Color.fromHsla=lr.fromHsl,ir.Color.fromHex=function(cr){return lr.fromSource(lr.sourceFromHex(cr))},ir.Color.sourceFromHex=function(cr){if(cr.match(lr.reHex)){var ur=cr.slice(cr.indexOf("#")+1),sr=ur.length===3||ur.length===4,hr=ur.length===8||ur.length===4,gr=sr?ur.charAt(0)+ur.charAt(0):ur.substring(0,2),pr=sr?ur.charAt(1)+ur.charAt(1):ur.substring(2,4),mr=sr?ur.charAt(2)+ur.charAt(2):ur.substring(4,6),vr=hr?sr?ur.charAt(3)+ur.charAt(3):ur.substring(6,8):"FF";return[parseInt(gr,16),parseInt(pr,16),parseInt(mr,16),parseFloat((parseInt(vr,16)/255).toFixed(2))]}},ir.Color.fromSource=function(cr){var ur=new lr;return ur.setSource(cr),ur}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=["e","se","s","sw","w","nw","n","ne","e"],fr=["ns","nesw","ew","nwse"],cr={},ur="left",sr="top",hr="right",gr="bottom",pr="center",mr={top:gr,bottom:sr,left:hr,right:ur,center:pr},vr=ir.util.radiansToDegrees,yr=Math.sign||function(Gr){return(Gr>0)-(Gr<0)||+Gr};function br(Gr,Xr){var en=Gr.angle+vr(Math.atan2(Xr.y,Xr.x))+360;return Math.round(en%360/45)}function xr(Gr,Xr){var en=Xr.transform.target,Wr=en.canvas,cn=ir.util.object.clone(Xr);cn.target=en,Wr&&Wr.fire("object:"+Gr,cn),en.fire(Gr,Xr)}function Cr(Gr,Xr){var en=Xr.canvas,Wr=en.uniScaleKey,cn=Gr[Wr];return en.uniformScaling&&!cn||!en.uniformScaling&&cn}function kr(Gr){return Gr.originX===pr&&Gr.originY===pr}function Pr(Gr,Xr,en){var Wr=Gr.lockScalingX,cn=Gr.lockScalingY;return!!(Wr&&cn||!Xr&&(Wr||cn)&&en||Wr&&Xr==="x"||cn&&Xr==="y")}function $r(Gr,Xr,en){var Wr="not-allowed",cn=Cr(Gr,en),fn="";if(Xr.x!==0&&Xr.y===0?fn="x":Xr.x===0&&Xr.y!==0&&(fn="y"),Pr(en,fn,cn))return Wr;var gn=br(en,Xr);return lr[gn]+"-resize"}function Kr(Gr,Xr,en){var Wr="not-allowed";if(Xr.x!==0&&en.lockSkewingY||Xr.y!==0&&en.lockSkewingX)return Wr;var cn=br(en,Xr)%4;return fr[cn]+"-resize"}function Ir(Gr,Xr,en){return Gr[en.canvas.altActionKey]?cr.skewCursorStyleHandler(Gr,Xr,en):cr.scaleCursorStyleHandler(Gr,Xr,en)}function jr(Gr,Xr,en){var Wr=Gr[en.canvas.altActionKey];if(Xr.x===0)return Wr?"skewX":"scaleY";if(Xr.y===0)return Wr?"skewY":"scaleX"}function Jr(Gr,Xr,en){return en.lockRotation?"not-allowed":Xr.cursorStyle}function zr(Gr,Xr,en,Wr){return{e:Gr,transform:Xr,pointer:{x:en,y:Wr}}}function Hr(Gr){return function(Xr,en,Wr,cn){var fn=en.target,gn=fn.getCenterPoint(),wn=fn.translateToOriginPoint(gn,en.originX,en.originY),yn=Gr(Xr,en,Wr,cn);return fn.setPositionByOrigin(wn,en.originX,en.originY),yn}}function Yr(Gr,Xr){return function(en,Wr,cn,fn){var gn=Xr(en,Wr,cn,fn);return gn&&xr(Gr,zr(en,Wr,cn,fn)),gn}}function nn(Gr,Xr,en,Wr,cn){var fn=Gr.target,gn=fn.controls[Gr.corner],wn=fn.canvas.getZoom(),yn=fn.padding/wn,vn=fn.toLocalPoint(new ir.Point(Wr,cn),Xr,en);return vn.x>=yn&&(vn.x-=yn),vn.x<=-yn&&(vn.x+=yn),vn.y>=yn&&(vn.y-=yn),vn.y<=yn&&(vn.y+=yn),vn.x-=gn.offsetX,vn.y-=gn.offsetY,vn}function Qr(Gr){return Gr.flipX!==Gr.flipY}function Or(Gr,Xr,en,Wr,cn){if(Gr[Xr]!==0){var fn=Gr._getTransformedDimensions()[Wr],gn=cn/fn*Gr[en];Gr.set(en,gn)}}function Er(Gr,Xr,en,Wr){var cn=Xr.target,fn=cn._getTransformedDimensions(0,cn.skewY),gn=nn(Xr,Xr.originX,Xr.originY,en,Wr),wn=Math.abs(gn.x*2)-fn.x,yn=cn.skewX,vn;wn<2?vn=0:(vn=vr(Math.atan2(wn/cn.scaleX,fn.y/cn.scaleY)),Xr.originX===ur&&Xr.originY===gr&&(vn=-vn),Xr.originX===hr&&Xr.originY===sr&&(vn=-vn),Qr(cn)&&(vn=-vn));var Ln=yn!==vn;if(Ln){var bn=cn._getTransformedDimensions().y;cn.set("skewX",vn),Or(cn,"skewY","scaleY","y",bn)}return Ln}function Dr(Gr,Xr,en,Wr){var cn=Xr.target,fn=cn._getTransformedDimensions(cn.skewX,0),gn=nn(Xr,Xr.originX,Xr.originY,en,Wr),wn=Math.abs(gn.y*2)-fn.y,yn=cn.skewY,vn;wn<2?vn=0:(vn=vr(Math.atan2(wn/cn.scaleY,fn.x/cn.scaleX)),Xr.originX===ur&&Xr.originY===gr&&(vn=-vn),Xr.originX===hr&&Xr.originY===sr&&(vn=-vn),Qr(cn)&&(vn=-vn));var Ln=yn!==vn;if(Ln){var bn=cn._getTransformedDimensions().x;cn.set("skewY",vn),Or(cn,"skewX","scaleX","x",bn)}return Ln}function Tr(Gr,Xr,en,Wr){var cn=Xr.target,fn=cn.skewX,gn,wn=Xr.originY;if(cn.lockSkewingX)return!1;if(fn===0){var yn=nn(Xr,pr,pr,en,Wr);yn.x>0?gn=ur:gn=hr}else fn>0&&(gn=wn===sr?ur:hr),fn<0&&(gn=wn===sr?hr:ur),Qr(cn)&&(gn=gn===ur?hr:ur);Xr.originX=gn;var vn=Yr("skewing",Hr(Er));return vn(Gr,Xr,en,Wr)}function Lr(Gr,Xr,en,Wr){var cn=Xr.target,fn=cn.skewY,gn,wn=Xr.originX;if(cn.lockSkewingY)return!1;if(fn===0){var yn=nn(Xr,pr,pr,en,Wr);yn.y>0?gn=sr:gn=gr}else fn>0&&(gn=wn===ur?sr:gr),fn<0&&(gn=wn===ur?gr:sr),Qr(cn)&&(gn=gn===sr?gr:sr);Xr.originY=gn;var vn=Yr("skewing",Hr(Dr));return vn(Gr,Xr,en,Wr)}function _r(Gr,Xr,en,Wr){var cn=Xr,fn=cn.target,gn=fn.translateToOriginPoint(fn.getCenterPoint(),cn.originX,cn.originY);if(fn.lockRotation)return!1;var wn=Math.atan2(cn.ey-gn.y,cn.ex-gn.x),yn=Math.atan2(Wr-gn.y,en-gn.x),vn=vr(yn-wn+cn.theta),Ln=!0;if(fn.snapAngle>0){var bn=fn.snapAngle,Mn=fn.snapThreshold||bn,Un=Math.ceil(vn/bn)*bn,Hn=Math.floor(vn/bn)*bn;Math.abs(vn-Hn)<Mn?vn=Hn:Math.abs(vn-Un)<Mn&&(vn=Un)}return vn<0&&(vn=360+vn),vn%=360,Ln=fn.angle!==vn,fn.angle=vn,Ln}function wr(Gr,Xr,en,Wr,cn){cn=cn||{};var fn=Xr.target,gn=fn.lockScalingX,wn=fn.lockScalingY,yn=cn.by,vn,Ln,bn,Mn,Un=Cr(Gr,fn),Hn=Pr(fn,yn,Un),Yn,Gn,Qn=Xr.gestureScale;if(Hn)return!1;if(Qn)Ln=Xr.scaleX*Qn,bn=Xr.scaleY*Qn;else{if(vn=nn(Xr,Xr.originX,Xr.originY,en,Wr),Yn=yn!=="y"?yr(vn.x):1,Gn=yn!=="x"?yr(vn.y):1,Xr.signX||(Xr.signX=Yn),Xr.signY||(Xr.signY=Gn),fn.lockScalingFlip&&(Xr.signX!==Yn||Xr.signY!==Gn))return!1;if(Mn=fn._getTransformedDimensions(),Un&&!yn){var zn=Math.abs(vn.x)+Math.abs(vn.y),fo=Xr.original,no=Math.abs(Mn.x*fo.scaleX/fn.scaleX)+Math.abs(Mn.y*fo.scaleY/fn.scaleY),Mo=zn/no;Ln=fo.scaleX*Mo,bn=fo.scaleY*Mo}else Ln=Math.abs(vn.x*fn.scaleX/Mn.x),bn=Math.abs(vn.y*fn.scaleY/Mn.y);kr(Xr)&&(Ln*=2,bn*=2),Xr.signX!==Yn&&yn!=="y"&&(Xr.originX=mr[Xr.originX],Ln*=-1,Xr.signX=Yn),Xr.signY!==Gn&&yn!=="x"&&(Xr.originY=mr[Xr.originY],bn*=-1,Xr.signY=Gn)}var ho=fn.scaleX,so=fn.scaleY;return yn?(yn==="x"&&fn.set("scaleX",Ln),yn==="y"&&fn.set("scaleY",bn)):(!gn&&fn.set("scaleX",Ln),!wn&&fn.set("scaleY",bn)),ho!==fn.scaleX||so!==fn.scaleY}function Fr(Gr,Xr,en,Wr){return wr(Gr,Xr,en,Wr)}function Nr(Gr,Xr,en,Wr){return wr(Gr,Xr,en,Wr,{by:"x"})}function Br(Gr,Xr,en,Wr){return wr(Gr,Xr,en,Wr,{by:"y"})}function Ur(Gr,Xr,en,Wr){return Gr[Xr.target.canvas.altActionKey]?cr.skewHandlerX(Gr,Xr,en,Wr):cr.scalingY(Gr,Xr,en,Wr)}function Zr(Gr,Xr,en,Wr){return Gr[Xr.target.canvas.altActionKey]?cr.skewHandlerY(Gr,Xr,en,Wr):cr.scalingX(Gr,Xr,en,Wr)}function an(Gr,Xr,en,Wr){var cn=Xr.target,fn=nn(Xr,Xr.originX,Xr.originY,en,Wr),gn=cn.strokeWidth/(cn.strokeUniform?cn.scaleX:1),wn=kr(Xr)?2:1,yn=cn.width,vn=Math.abs(fn.x*wn/cn.scaleX)-gn;return cn.set("width",Math.max(vn,0)),yn!==vn}function qr(Gr,Xr,en,Wr){var cn=Xr.target,fn=en-Xr.offsetX,gn=Wr-Xr.offsetY,wn=!cn.get("lockMovementX")&&cn.left!==fn,yn=!cn.get("lockMovementY")&&cn.top!==gn;return wn&&cn.set("left",fn),yn&&cn.set("top",gn),(wn||yn)&&xr("moving",zr(Gr,Xr,en,Wr)),wn||yn}cr.scaleCursorStyleHandler=$r,cr.skewCursorStyleHandler=Kr,cr.scaleSkewCursorStyleHandler=Ir,cr.rotationWithSnapping=Yr("rotating",Hr(_r)),cr.scalingEqually=Yr("scaling",Hr(Fr)),cr.scalingX=Yr("scaling",Hr(Nr)),cr.scalingY=Yr("scaling",Hr(Br)),cr.scalingYOrSkewingX=Ur,cr.scalingXOrSkewingY=Zr,cr.changeWidth=Yr("resizing",Hr(an)),cr.skewHandlerX=Tr,cr.skewHandlerY=Lr,cr.dragHandler=qr,cr.scaleOrSkewActionName=jr,cr.rotationStyleHandler=Jr,cr.fireEvent=xr,cr.wrapWithFixedAnchor=Hr,cr.wrapWithFireEvent=Yr,cr.getLocalPoint=nn,ir.controlsUtils=cr}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.degreesToRadians,fr=ir.controlsUtils;function cr(sr,hr,gr,pr,mr){pr=pr||{};var vr=this.sizeX||pr.cornerSize||mr.cornerSize,yr=this.sizeY||pr.cornerSize||mr.cornerSize,br=typeof pr.transparentCorners<"u"?pr.transparentCorners:mr.transparentCorners,xr=br?"stroke":"fill",Cr=!br&&(pr.cornerStrokeColor||mr.cornerStrokeColor),kr=hr,Pr=gr,$r;sr.save(),sr.fillStyle=pr.cornerColor||mr.cornerColor,sr.strokeStyle=pr.cornerStrokeColor||mr.cornerStrokeColor,vr>yr?($r=vr,sr.scale(1,yr/vr),Pr=gr*vr/yr):yr>vr?($r=yr,sr.scale(vr/yr,1),kr=hr*yr/vr):$r=vr,sr.lineWidth=1,sr.beginPath(),sr.arc(kr,Pr,$r/2,0,2*Math.PI,!1),sr[xr](),Cr&&sr.stroke(),sr.restore()}function ur(sr,hr,gr,pr,mr){pr=pr||{};var vr=this.sizeX||pr.cornerSize||mr.cornerSize,yr=this.sizeY||pr.cornerSize||mr.cornerSize,br=typeof pr.transparentCorners<"u"?pr.transparentCorners:mr.transparentCorners,xr=br?"stroke":"fill",Cr=!br&&(pr.cornerStrokeColor||mr.cornerStrokeColor),kr=vr/2,Pr=yr/2;sr.save(),sr.fillStyle=pr.cornerColor||mr.cornerColor,sr.strokeStyle=pr.cornerStrokeColor||mr.cornerStrokeColor,sr.lineWidth=1,sr.translate(hr,gr),sr.rotate(lr(mr.angle)),sr[xr+"Rect"](-kr,-Pr,vr,yr),Cr&&sr.strokeRect(-kr,-Pr,vr,yr),sr.restore()}fr.renderCircleControl=cr,fr.renderSquareControl=ur}(St),function(or){var ir=or.fabric||(or.fabric={});function lr(fr){for(var cr in fr)this[cr]=fr[cr]}ir.Control=lr,ir.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(fr,cr){return cr.cursorStyle},getActionName:function(fr,cr){return cr.actionName},getVisibility:function(fr,cr){var ur=fr._controlsVisibility;return ur&&typeof ur[cr]<"u"?ur[cr]:this.visible},setVisibility:function(fr){this.visible=fr},positionHandler:function(fr,cr){var ur=ir.util.transformPoint({x:this.x*fr.x+this.offsetX,y:this.y*fr.y+this.offsetY},cr);return ur},calcCornerCoords:function(fr,cr,ur,sr,hr){var gr,pr,mr,vr,yr=hr?this.touchSizeX:this.sizeX,br=hr?this.touchSizeY:this.sizeY;if(yr&&br&&yr!==br){var xr=Math.atan2(br,yr),Cr=Math.sqrt(yr*yr+br*br)/2,kr=xr-ir.util.degreesToRadians(fr),Pr=Math.PI/2-xr-ir.util.degreesToRadians(fr);gr=Cr*ir.util.cos(kr),pr=Cr*ir.util.sin(kr),mr=Cr*ir.util.cos(Pr),vr=Cr*ir.util.sin(Pr)}else{var $r=yr&&br?yr:cr;Cr=$r*.7071067812;var kr=ir.util.degreesToRadians(45-fr);gr=mr=Cr*ir.util.cos(kr),pr=vr=Cr*ir.util.sin(kr)}return{tl:{x:ur-vr,y:sr-mr},tr:{x:ur+gr,y:sr-pr},bl:{x:ur-gr,y:sr+pr},br:{x:ur+vr,y:sr+mr}}},render:function(fr,cr,ur,sr,hr){switch(sr=sr||{},sr.cornerStyle||hr.cornerStyle){case"circle":ir.controlsUtils.renderCircleControl.call(this,fr,cr,ur,sr,hr);break;default:ir.controlsUtils.renderSquareControl.call(this,fr,cr,ur,sr,hr)}}}}(St),function(){function or(ur,sr){var hr=ur.getAttribute("style"),gr=ur.getAttribute("offset")||0,pr,mr,vr,yr;if(gr=parseFloat(gr)/(/%$/.test(gr)?100:1),gr=gr<0?0:gr>1?1:gr,hr){var br=hr.split(/\s*;\s*/);for(br[br.length-1]===""&&br.pop(),yr=br.length;yr--;){var xr=br[yr].split(/\s*:\s*/),Cr=xr[0].trim(),kr=xr[1].trim();Cr==="stop-color"?pr=kr:Cr==="stop-opacity"&&(vr=kr)}}return pr||(pr=ur.getAttribute("stop-color")||"rgb(0,0,0)"),vr||(vr=ur.getAttribute("stop-opacity")),pr=new er.Color(pr),mr=pr.getAlpha(),vr=isNaN(parseFloat(vr))?1:parseFloat(vr),vr*=mr*sr,{offset:gr,color:pr.toRgb(),opacity:vr}}function ir(ur){return{x1:ur.getAttribute("x1")||0,y1:ur.getAttribute("y1")||0,x2:ur.getAttribute("x2")||"100%",y2:ur.getAttribute("y2")||0}}function lr(ur){return{x1:ur.getAttribute("fx")||ur.getAttribute("cx")||"50%",y1:ur.getAttribute("fy")||ur.getAttribute("cy")||"50%",r1:0,x2:ur.getAttribute("cx")||"50%",y2:ur.getAttribute("cy")||"50%",r2:ur.getAttribute("r")||"50%"}}var fr=er.util.object.clone;er.Gradient=er.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(ur){ur||(ur={}),ur.coords||(ur.coords={});var sr,hr=this;Object.keys(ur).forEach(function(gr){hr[gr]=ur[gr]}),this.id?this.id+="_"+er.Object.__uid++:this.id=er.Object.__uid++,sr={x1:ur.coords.x1||0,y1:ur.coords.y1||0,x2:ur.coords.x2||0,y2:ur.coords.y2||0},this.type==="radial"&&(sr.r1=ur.coords.r1||0,sr.r2=ur.coords.r2||0),this.coords=sr,this.colorStops=ur.colorStops.slice()},addColorStop:function(ur){for(var sr in ur){var hr=new er.Color(ur[sr]);this.colorStops.push({offset:parseFloat(sr),color:hr.toRgb(),opacity:hr.getAlpha()})}return this},toObject:function(ur){var sr={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return er.util.populateWithProperties(this,sr,ur),sr},toSVG:function(ur,mr){var hr=fr(this.coords,!0),gr,pr,mr=mr||{},vr,yr,br=fr(this.colorStops,!0),xr=hr.r1>hr.r2,Cr=this.gradientTransform?this.gradientTransform.concat():er.iMatrix.concat(),kr=-this.offsetX,Pr=-this.offsetY,$r=!!mr.additionalTransform,Kr=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(br.sort(function(Hr,Yr){return Hr.offset-Yr.offset}),Kr==="objectBoundingBox"?(kr/=ur.width,Pr/=ur.height):(kr+=ur.width/2,Pr+=ur.height/2),ur.type==="path"&&this.gradientUnits!=="percentage"&&(kr-=ur.pathOffset.x,Pr-=ur.pathOffset.y),Cr[4]-=kr,Cr[5]-=Pr,yr='id="SVGID_'+this.id+'" gradientUnits="'+Kr+'"',yr+=' gradientTransform="'+($r?mr.additionalTransform+" ":"")+er.util.matrixToSVG(Cr)+'" ',this.type==="linear"?vr=["<linearGradient ",yr,' x1="',hr.x1,'" y1="',hr.y1,'" x2="',hr.x2,'" y2="',hr.y2,`">
`]:this.type==="radial"&&(vr=["<radialGradient ",yr,' cx="',xr?hr.x1:hr.x2,'" cy="',xr?hr.y1:hr.y2,'" r="',xr?hr.r1:hr.r2,'" fx="',xr?hr.x2:hr.x1,'" fy="',xr?hr.y2:hr.y1,`">
`]),this.type==="radial"){if(xr)for(br=br.concat(),br.reverse(),gr=0,pr=br.length;gr<pr;gr++)br[gr].offset=1-br[gr].offset;var Ir=Math.min(hr.r1,hr.r2);if(Ir>0){var jr=Math.max(hr.r1,hr.r2),Jr=Ir/jr;for(gr=0,pr=br.length;gr<pr;gr++)br[gr].offset+=Jr*(1-br[gr].offset)}}for(gr=0,pr=br.length;gr<pr;gr++){var zr=br[gr];vr.push("<stop ",'offset="',zr.offset*100+"%",'" style="stop-color:',zr.color,typeof zr.opacity<"u"?";stop-opacity: "+zr.opacity:";",`"/>
`)}return vr.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),vr.join("")},toLive:function(ur){var sr,hr=er.util.object.clone(this.coords),gr,pr;if(!!this.type){for(this.type==="linear"?sr=ur.createLinearGradient(hr.x1,hr.y1,hr.x2,hr.y2):this.type==="radial"&&(sr=ur.createRadialGradient(hr.x1,hr.y1,hr.r1,hr.x2,hr.y2,hr.r2)),gr=0,pr=this.colorStops.length;gr<pr;gr++){var mr=this.colorStops[gr].color,vr=this.colorStops[gr].opacity,yr=this.colorStops[gr].offset;typeof vr<"u"&&(mr=new er.Color(mr).setAlpha(vr).toRgba()),sr.addColorStop(yr,mr)}return sr}}}),er.util.object.extend(er.Gradient,{fromElement:function(ur,sr,hr,gr){var pr=parseFloat(hr)/(/%$/.test(hr)?100:1);pr=pr<0?0:pr>1?1:pr,isNaN(pr)&&(pr=1);var mr=ur.getElementsByTagName("stop"),vr,yr=ur.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",br=ur.getAttribute("gradientTransform")||"",xr=[],Cr,kr,Pr=0,$r=0,Kr;for(ur.nodeName==="linearGradient"||ur.nodeName==="LINEARGRADIENT"?(vr="linear",Cr=ir(ur)):(vr="radial",Cr=lr(ur)),kr=mr.length;kr--;)xr.push(or(mr[kr],pr));Kr=er.parseTransformAttribute(br),cr(sr,Cr,gr,yr),yr==="pixels"&&(Pr=-sr.left,$r=-sr.top);var Ir=new er.Gradient({id:ur.getAttribute("id"),type:vr,coords:Cr,colorStops:xr,gradientUnits:yr,gradientTransform:Kr,offsetX:Pr,offsetY:$r});return Ir}});function cr(ur,sr,hr,gr){var pr,mr;Object.keys(sr).forEach(function(vr){pr=sr[vr],pr==="Infinity"?mr=1:pr==="-Infinity"?mr=0:(mr=parseFloat(sr[vr],10),typeof pr=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(pr)&&(mr*=.01,gr==="pixels"&&((vr==="x1"||vr==="x2"||vr==="r2")&&(mr*=hr.viewBoxWidth||hr.width),(vr==="y1"||vr==="y2")&&(mr*=hr.viewBoxHeight||hr.height)))),sr[vr]=mr})}}(),function(){var or=er.util.toFixed;er.Pattern=er.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(ir,lr){if(ir||(ir={}),this.id=er.Object.__uid++,this.setOptions(ir),!ir.source||ir.source&&typeof ir.source!="string"){lr&&lr(this);return}else{var fr=this;this.source=er.util.createImage(),er.util.loadImage(ir.source,function(cr,ur){fr.source=cr,lr&&lr(fr,ur)},null,this.crossOrigin)}},toObject:function(ir){var lr=er.Object.NUM_FRACTION_DIGITS,fr,cr;return typeof this.source.src=="string"?fr=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(fr=this.source.toDataURL()),cr={type:"pattern",source:fr,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:or(this.offsetX,lr),offsetY:or(this.offsetY,lr),patternTransform:this.patternTransform?this.patternTransform.concat():null},er.util.populateWithProperties(this,cr,ir),cr},toSVG:function(ir){var lr=typeof this.source=="function"?this.source():this.source,fr=lr.width/ir.width,cr=lr.height/ir.height,ur=this.offsetX/ir.width,sr=this.offsetY/ir.height,hr="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(cr=1,sr&&(cr+=Math.abs(sr))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(fr=1,ur&&(fr+=Math.abs(ur))),lr.src?hr=lr.src:lr.toDataURL&&(hr=lr.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+ur+'" y="'+sr+'" width="'+fr+'" height="'+cr+`">
<image x="0" y="0" width="`+lr.width+'" height="'+lr.height+'" xlink:href="'+hr+`"></image>
</pattern>
`},setOptions:function(ir){for(var lr in ir)this[lr]=ir[lr]},toLive:function(ir){var lr=this.source;return!lr||typeof lr.src<"u"&&(!lr.complete||lr.naturalWidth===0||lr.naturalHeight===0)?"":ir.createPattern(lr,this.repeat)}})}(),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.toFixed;if(ir.Shadow){ir.warn("fabric.Shadow is already defined.");return}ir.Shadow=ir.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(fr){typeof fr=="string"&&(fr=this._parseShadow(fr));for(var cr in fr)this[cr]=fr[cr];this.id=ir.Object.__uid++},_parseShadow:function(fr){var cr=fr.trim(),ur=ir.Shadow.reOffsetsAndBlur.exec(cr)||[],sr=cr.replace(ir.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:sr.trim(),offsetX:parseFloat(ur[1],10)||0,offsetY:parseFloat(ur[2],10)||0,blur:parseFloat(ur[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(fr){var cr=40,ur=40,sr=ir.Object.NUM_FRACTION_DIGITS,hr=ir.util.rotateVector({x:this.offsetX,y:this.offsetY},ir.util.degreesToRadians(-fr.angle)),gr=20,pr=new ir.Color(this.color);return fr.width&&fr.height&&(cr=lr((Math.abs(hr.x)+this.blur)/fr.width,sr)*100+gr,ur=lr((Math.abs(hr.y)+this.blur)/fr.height,sr)*100+gr),fr.flipX&&(hr.x*=-1),fr.flipY&&(hr.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+ur+'%" height="'+(100+2*ur)+'%" x="-'+cr+'%" width="'+(100+2*cr)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+lr(this.blur?this.blur/2:0,sr)+`"></feGaussianBlur>
	<feOffset dx="`+lr(hr.x,sr)+'" dy="'+lr(hr.y,sr)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+pr.toRgb()+'" flood-opacity="'+pr.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var fr={},cr=ir.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(ur){this[ur]!==cr[ur]&&(fr[ur]=this[ur])},this),fr}}),ir.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(St),function(){if(er.StaticCanvas){er.warn("fabric.StaticCanvas is already defined.");return}var or=er.util.object.extend,ir=er.util.getElementOffset,lr=er.util.removeFromArray,fr=er.util.toFixed,cr=er.util.transformPoint,ur=er.util.invertTransform,sr=er.util.getNodeCanvas,hr=er.util.createCanvasElement,gr=new Error("Could not initialize `canvas` element");er.StaticCanvas=er.util.createClass(er.CommonMethods,{initialize:function(pr,mr){mr||(mr={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(pr,mr)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:er.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(pr,mr){var vr=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(pr),this._initOptions(mr),this.interactive||this._initRetinaScaling(),mr.overlayImage&&this.setOverlayImage(mr.overlayImage,vr),mr.backgroundImage&&this.setBackgroundImage(mr.backgroundImage,vr),mr.backgroundColor&&this.setBackgroundColor(mr.backgroundColor,vr),mr.overlayColor&&this.setOverlayColor(mr.overlayColor,vr),this.calcOffset()},_isRetinaScaling:function(){return er.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,er.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var pr=er.devicePixelRatio;this.__initRetinaScaling(pr,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(pr,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(pr,mr,vr){mr.setAttribute("width",this.width*pr),mr.setAttribute("height",this.height*pr),vr.scale(pr,pr)},calcOffset:function(){return this._offset=ir(this.lowerCanvasEl),this},setOverlayImage:function(pr,mr,vr){return this.__setBgOverlayImage("overlayImage",pr,mr,vr)},setBackgroundImage:function(pr,mr,vr){return this.__setBgOverlayImage("backgroundImage",pr,mr,vr)},setOverlayColor:function(pr,mr){return this.__setBgOverlayColor("overlayColor",pr,mr)},setBackgroundColor:function(pr,mr){return this.__setBgOverlayColor("backgroundColor",pr,mr)},__setBgOverlayImage:function(pr,mr,vr,yr){return typeof mr=="string"?er.util.loadImage(mr,function(br,xr){if(br){var Cr=new er.Image(br,yr);this[pr]=Cr,Cr.canvas=this}vr&&vr(br,xr)},this,yr&&yr.crossOrigin):(yr&&mr.setOptions(yr),this[pr]=mr,mr&&(mr.canvas=this),vr&&vr(mr,!1)),this},__setBgOverlayColor:function(pr,mr,vr){return this[pr]=mr,this._initGradient(mr,pr),this._initPattern(mr,pr,vr),this},_createCanvasElement:function(){var pr=hr();if(!pr||(pr.style||(pr.style={}),typeof pr.getContext>"u"))throw gr;return pr},_initOptions:function(pr){var mr=this.lowerCanvasEl;this._setOptions(pr),this.width=this.width||parseInt(mr.width,10)||0,this.height=this.height||parseInt(mr.height,10)||0,this.lowerCanvasEl.style&&(mr.width=this.width,mr.height=this.height,mr.style.width=this.width+"px",mr.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(pr){pr&&pr.getContext?this.lowerCanvasEl=pr:this.lowerCanvasEl=er.util.getById(pr)||this._createCanvasElement(),er.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(pr,mr){return this.setDimensions({width:pr},mr)},setHeight:function(pr,mr){return this.setDimensions({height:pr},mr)},setDimensions:function(pr,mr){var vr;mr=mr||{};for(var yr in pr)vr=pr[yr],mr.cssOnly||(this._setBackstoreDimension(yr,pr[yr]),vr+="px",this.hasLostContext=!0),mr.backstoreOnly||this._setCssDimension(yr,vr);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),mr.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(pr,mr){return this.lowerCanvasEl[pr]=mr,this.upperCanvasEl&&(this.upperCanvasEl[pr]=mr),this.cacheCanvasEl&&(this.cacheCanvasEl[pr]=mr),this[pr]=mr,this},_setCssDimension:function(pr,mr){return this.lowerCanvasEl.style[pr]=mr,this.upperCanvasEl&&(this.upperCanvasEl.style[pr]=mr),this.wrapperEl&&(this.wrapperEl.style[pr]=mr),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(pr){var mr=this._activeObject,vr=this.backgroundImage,yr=this.overlayImage,br,xr,Cr;for(this.viewportTransform=pr,xr=0,Cr=this._objects.length;xr<Cr;xr++)br=this._objects[xr],br.group||br.setCoords(!0);return mr&&mr.setCoords(),vr&&vr.setCoords(!0),yr&&yr.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(pr,mr){var vr=pr,yr=this.viewportTransform.slice(0);pr=cr(pr,ur(this.viewportTransform)),yr[0]=mr,yr[3]=mr;var br=cr(pr,yr);return yr[4]+=vr.x-br.x,yr[5]+=vr.y-br.y,this.setViewportTransform(yr)},setZoom:function(pr){return this.zoomToPoint(new er.Point(0,0),pr),this},absolutePan:function(pr){var mr=this.viewportTransform.slice(0);return mr[4]=-pr.x,mr[5]=-pr.y,this.setViewportTransform(mr)},relativePan:function(pr){return this.absolutePan(new er.Point(-pr.x-this.viewportTransform[4],-pr.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(pr){this.stateful&&pr.setupState(),pr._set("canvas",this),pr.setCoords(),this.fire("object:added",{target:pr}),pr.fire("added")},_onObjectRemoved:function(pr){this.fire("object:removed",{target:pr}),pr.fire("removed"),delete pr.canvas},clearContext:function(pr){return pr.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var pr=this.contextContainer;return this.renderCanvas(pr,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=er.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var pr={},mr=this.width,vr=this.height,yr=ur(this.viewportTransform);return pr.tl=cr({x:0,y:0},yr),pr.br=cr({x:mr,y:vr},yr),pr.tr=new er.Point(pr.br.x,pr.tl.y),pr.bl=new er.Point(pr.tl.x,pr.br.y),this.vptCoords=pr,pr},cancelRequestedRender:function(){this.isRendering&&(er.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(pr,mr){var vr=this.viewportTransform,yr=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(pr),er.util.setImageSmoothing(pr,this.imageSmoothingEnabled),this.fire("before:render",{ctx:pr}),this._renderBackground(pr),pr.save(),pr.transform(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5]),this._renderObjects(pr,mr),pr.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(pr),yr&&(yr.canvas=this,yr.shouldCache(),yr._transformDone=!0,yr.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(pr)),this._renderOverlay(pr),this.controlsAboveOverlay&&this.interactive&&this.drawControls(pr),this.fire("after:render",{ctx:pr})},drawClipPathOnCanvas:function(pr){var mr=this.viewportTransform,vr=this.clipPath;pr.save(),pr.transform(mr[0],mr[1],mr[2],mr[3],mr[4],mr[5]),pr.globalCompositeOperation="destination-in",vr.transform(pr),pr.scale(1/vr.zoomX,1/vr.zoomY),pr.drawImage(vr._cacheCanvas,-vr.cacheTranslationX,-vr.cacheTranslationY),pr.restore()},_renderObjects:function(pr,mr){var vr,yr;for(vr=0,yr=mr.length;vr<yr;++vr)mr[vr]&&mr[vr].render(pr)},_renderBackgroundOrOverlay:function(pr,mr){var vr=this[mr+"Color"],yr=this[mr+"Image"],br=this.viewportTransform,xr=this[mr+"Vpt"];if(!(!vr&&!yr)){if(vr){pr.save(),pr.beginPath(),pr.moveTo(0,0),pr.lineTo(this.width,0),pr.lineTo(this.width,this.height),pr.lineTo(0,this.height),pr.closePath(),pr.fillStyle=vr.toLive?vr.toLive(pr,this):vr,xr&&pr.transform(br[0],br[1],br[2],br[3],br[4],br[5]),pr.transform(1,0,0,1,vr.offsetX||0,vr.offsetY||0);var Cr=vr.gradientTransform||vr.patternTransform;Cr&&pr.transform(Cr[0],Cr[1],Cr[2],Cr[3],Cr[4],Cr[5]),pr.fill(),pr.restore()}yr&&(pr.save(),xr&&pr.transform(br[0],br[1],br[2],br[3],br[4],br[5]),yr.render(pr),pr.restore())}},_renderBackground:function(pr){this._renderBackgroundOrOverlay(pr,"background")},_renderOverlay:function(pr){this._renderBackgroundOrOverlay(pr,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new er.Point(this.width/2,this.height/2)},centerObjectH:function(pr){return this._centerObject(pr,new er.Point(this.getCenterPoint().x,pr.getCenterPoint().y))},centerObjectV:function(pr){return this._centerObject(pr,new er.Point(pr.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(pr){var mr=this.getCenterPoint();return this._centerObject(pr,mr)},viewportCenterObject:function(pr){var mr=this.getVpCenter();return this._centerObject(pr,mr)},viewportCenterObjectH:function(pr){var mr=this.getVpCenter();return this._centerObject(pr,new er.Point(mr.x,pr.getCenterPoint().y)),this},viewportCenterObjectV:function(pr){var mr=this.getVpCenter();return this._centerObject(pr,new er.Point(pr.getCenterPoint().x,mr.y))},getVpCenter:function(){var pr=this.getCenterPoint(),mr=ur(this.viewportTransform);return cr(pr,mr)},_centerObject:function(pr,mr){return pr.setPositionByOrigin(mr,"center","center"),pr.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(pr){return this.toDatalessObject(pr)},toObject:function(pr){return this._toObjectMethod("toObject",pr)},toDatalessObject:function(pr){return this._toObjectMethod("toDatalessObject",pr)},_toObjectMethod:function(pr,mr){var vr=this.clipPath,yr={version:er.version,objects:this._toObjects(pr,mr)};return vr&&!vr.excludeFromExport&&(yr.clipPath=this._toObject(this.clipPath,pr,mr)),or(yr,this.__serializeBgOverlay(pr,mr)),er.util.populateWithProperties(this,yr,mr),yr},_toObjects:function(pr,mr){return this._objects.filter(function(vr){return!vr.excludeFromExport}).map(function(vr){return this._toObject(vr,pr,mr)},this)},_toObject:function(pr,mr,vr){var yr;this.includeDefaultValues||(yr=pr.includeDefaultValues,pr.includeDefaultValues=!1);var br=pr[mr](vr);return this.includeDefaultValues||(pr.includeDefaultValues=yr),br},__serializeBgOverlay:function(pr,mr){var vr={},yr=this.backgroundImage,br=this.overlayImage,xr=this.backgroundColor,Cr=this.overlayColor;return xr&&xr.toObject?xr.excludeFromExport||(vr.background=xr.toObject(mr)):xr&&(vr.background=xr),Cr&&Cr.toObject?Cr.excludeFromExport||(vr.overlay=Cr.toObject(mr)):Cr&&(vr.overlay=Cr),yr&&!yr.excludeFromExport&&(vr.backgroundImage=this._toObject(yr,pr,mr)),br&&!br.excludeFromExport&&(vr.overlayImage=this._toObject(br,pr,mr)),vr},svgViewportTransformation:!0,toSVG:function(pr,mr){pr||(pr={}),pr.reviver=mr;var vr=[];return this._setSVGPreamble(vr,pr),this._setSVGHeader(vr,pr),this.clipPath&&vr.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(vr,"background"),this._setSVGBgOverlayImage(vr,"backgroundImage",mr),this._setSVGObjects(vr,mr),this.clipPath&&vr.push(`</g>
`),this._setSVGBgOverlayColor(vr,"overlay"),this._setSVGBgOverlayImage(vr,"overlayImage",mr),vr.push("</svg>"),vr.join("")},_setSVGPreamble:function(pr,mr){mr.suppressPreamble||pr.push('<?xml version="1.0" encoding="',mr.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(pr,mr){var vr=mr.width||this.width,yr=mr.height||this.height,br,xr='viewBox="0 0 '+this.width+" "+this.height+'" ',Cr=er.Object.NUM_FRACTION_DIGITS;mr.viewBox?xr='viewBox="'+mr.viewBox.x+" "+mr.viewBox.y+" "+mr.viewBox.width+" "+mr.viewBox.height+'" ':this.svgViewportTransformation&&(br=this.viewportTransform,xr='viewBox="'+fr(-br[4]/br[0],Cr)+" "+fr(-br[5]/br[3],Cr)+" "+fr(this.width/br[0],Cr)+" "+fr(this.height/br[3],Cr)+'" '),pr.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',vr,'" ','height="',yr,'" ',xr,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",er.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(mr),`</defs>
`)},createSVGClipPathMarkup:function(pr){var mr=this.clipPath;return mr?(mr.clipPathId="CLIPPATH_"+er.Object.__uid++,'<clipPath id="'+mr.clipPathId+`" >
`+this.clipPath.toClipPathSVG(pr.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var pr=this,mr=["background","overlay"].map(function(vr){var yr=pr[vr+"Color"];if(yr&&yr.toLive){var br=pr[vr+"Vpt"],xr=pr.viewportTransform,Cr={width:pr.width/(br?xr[0]:1),height:pr.height/(br?xr[3]:1)};return yr.toSVG(Cr,{additionalTransform:br?er.util.matrixToSVG(xr):""})}});return mr.join("")},createSVGFontFacesMarkup:function(){var pr="",mr={},vr,yr,br,xr,Cr,kr,Pr,$r,Kr,Ir=er.fontPaths,jr=[];for(this._objects.forEach(function zr(Hr){jr.push(Hr),Hr._objects&&Hr._objects.forEach(zr)}),$r=0,Kr=jr.length;$r<Kr;$r++)if(vr=jr[$r],yr=vr.fontFamily,!(vr.type.indexOf("text")===-1||mr[yr]||!Ir[yr])&&(mr[yr]=!0,!!vr.styles)){br=vr.styles;for(Cr in br){xr=br[Cr];for(Pr in xr)kr=xr[Pr],yr=kr.fontFamily,!mr[yr]&&Ir[yr]&&(mr[yr]=!0)}}for(var Jr in mr)pr+=[`		@font-face {
`,"			font-family: '",Jr,`';
`,"			src: url('",Ir[Jr],`');
`,`		}
`].join("");return pr&&(pr=['	<style type="text/css">',`<![CDATA[
`,pr,"]]>",`</style>
`].join("")),pr},_setSVGObjects:function(pr,mr){var vr,yr,br,xr=this._objects;for(yr=0,br=xr.length;yr<br;yr++)vr=xr[yr],!vr.excludeFromExport&&this._setSVGObject(pr,vr,mr)},_setSVGObject:function(pr,mr,vr){pr.push(mr.toSVG(vr))},_setSVGBgOverlayImage:function(pr,mr,vr){this[mr]&&!this[mr].excludeFromExport&&this[mr].toSVG&&pr.push(this[mr].toSVG(vr))},_setSVGBgOverlayColor:function(pr,mr){var vr=this[mr+"Color"],yr=this.viewportTransform,br=this.width,xr=this.height;if(!!vr)if(vr.toLive){var Cr=vr.repeat,kr=er.util.invertTransform(yr),Pr=this[mr+"Vpt"],$r=Pr?er.util.matrixToSVG(kr):"";pr.push('<rect transform="'+$r+" translate(",br/2,",",xr/2,')"',' x="',vr.offsetX-br/2,'" y="',vr.offsetY-xr/2,'" ','width="',Cr==="repeat-y"||Cr==="no-repeat"?vr.source.width:br,'" height="',Cr==="repeat-x"||Cr==="no-repeat"?vr.source.height:xr,'" fill="url(#SVGID_'+vr.id+')"',`></rect>
`)}else pr.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',vr,'"',`></rect>
`)},sendToBack:function(pr){if(!pr)return this;var mr=this._activeObject,vr,yr,br;if(pr===mr&&pr.type==="activeSelection")for(br=mr._objects,vr=br.length;vr--;)yr=br[vr],lr(this._objects,yr),this._objects.unshift(yr);else lr(this._objects,pr),this._objects.unshift(pr);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(pr){if(!pr)return this;var mr=this._activeObject,vr,yr,br;if(pr===mr&&pr.type==="activeSelection")for(br=mr._objects,vr=0;vr<br.length;vr++)yr=br[vr],lr(this._objects,yr),this._objects.push(yr);else lr(this._objects,pr),this._objects.push(pr);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(pr,mr){if(!pr)return this;var vr=this._activeObject,yr,br,xr,Cr,kr,Pr=0;if(pr===vr&&pr.type==="activeSelection")for(kr=vr._objects,yr=0;yr<kr.length;yr++)br=kr[yr],xr=this._objects.indexOf(br),xr>0+Pr&&(Cr=xr-1,lr(this._objects,br),this._objects.splice(Cr,0,br)),Pr++;else xr=this._objects.indexOf(pr),xr!==0&&(Cr=this._findNewLowerIndex(pr,xr,mr),lr(this._objects,pr),this._objects.splice(Cr,0,pr));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(pr,mr,vr){var yr,br;if(vr)for(yr=mr,br=mr-1;br>=0;--br){var xr=pr.intersectsWithObject(this._objects[br])||pr.isContainedWithinObject(this._objects[br])||this._objects[br].isContainedWithinObject(pr);if(xr){yr=br;break}}else yr=mr-1;return yr},bringForward:function(pr,mr){if(!pr)return this;var vr=this._activeObject,yr,br,xr,Cr,kr,Pr=0;if(pr===vr&&pr.type==="activeSelection")for(kr=vr._objects,yr=kr.length;yr--;)br=kr[yr],xr=this._objects.indexOf(br),xr<this._objects.length-1-Pr&&(Cr=xr+1,lr(this._objects,br),this._objects.splice(Cr,0,br)),Pr++;else xr=this._objects.indexOf(pr),xr!==this._objects.length-1&&(Cr=this._findNewUpperIndex(pr,xr,mr),lr(this._objects,pr),this._objects.splice(Cr,0,pr));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(pr,mr,vr){var yr,br,xr;if(vr)for(yr=mr,br=mr+1,xr=this._objects.length;br<xr;++br){var Cr=pr.intersectsWithObject(this._objects[br])||pr.isContainedWithinObject(this._objects[br])||this._objects[br].isContainedWithinObject(pr);if(Cr){yr=br;break}}else yr=mr+1;return yr},moveTo:function(pr,mr){return lr(this._objects,pr),this._objects.splice(mr,0,pr),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(er.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(pr){pr.dispose&&pr.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),er.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),er.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),or(er.StaticCanvas.prototype,er.Observable),or(er.StaticCanvas.prototype,er.Collection),or(er.StaticCanvas.prototype,er.DataURLExporter),or(er.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(pr){var mr=hr();if(!mr||!mr.getContext)return null;var vr=mr.getContext("2d");if(!vr)return null;switch(pr){case"setLineDash":return typeof vr.setLineDash<"u";default:return null}}}),er.StaticCanvas.prototype.toJSON=er.StaticCanvas.prototype.toObject,er.isLikelyNode&&(er.StaticCanvas.prototype.createPNGStream=function(){var pr=sr(this.lowerCanvasEl);return pr&&pr.createPNGStream()},er.StaticCanvas.prototype.createJPEGStream=function(pr){var mr=sr(this.lowerCanvasEl);return mr&&mr.createJPEGStream(pr)})}(),er.BaseBrush=er.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(or){or.strokeStyle=this.color,or.lineWidth=this.width,or.lineCap=this.strokeLineCap,or.miterLimit=this.strokeMiterLimit,or.lineJoin=this.strokeLineJoin,or.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(or){var ir=this.canvas.viewportTransform;or.save(),or.transform(ir[0],ir[1],ir[2],ir[3],ir[4],ir[5])},_setShadow:function(){if(!!this.shadow){var or=this.canvas,ir=this.shadow,lr=or.contextTop,fr=or.getZoom();or&&or._isRetinaScaling()&&(fr*=er.devicePixelRatio),lr.shadowColor=ir.color,lr.shadowBlur=ir.blur*fr,lr.shadowOffsetX=ir.offsetX*fr,lr.shadowOffsetY=ir.offsetY*fr}},needsFullRender:function(){var or=new er.Color(this.color);return or.getAlpha()<1||!!this.shadow},_resetShadow:function(){var or=this.canvas.contextTop;or.shadowColor="",or.shadowBlur=or.shadowOffsetX=or.shadowOffsetY=0},_isOutSideCanvas:function(or){return or.x<0||or.x>this.canvas.getWidth()||or.y<0||or.y>this.canvas.getHeight()}}),function(){er.PencilBrush=er.util.createClass(er.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(or){this.canvas=or,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(or,ir,lr){var fr=ir.midPointFrom(lr);return or.quadraticCurveTo(ir.x,ir.y,fr.x,fr.y),fr},onMouseDown:function(or,ir){!this.canvas._isMainEvent(ir.e)||(this.drawStraightLine=ir.e[this.straightLineKey],this._prepareForDrawing(or),this._captureDrawingPath(or),this._render())},onMouseMove:function(or,ir){if(!!this.canvas._isMainEvent(ir.e)&&(this.drawStraightLine=ir.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(or))&&this._captureDrawingPath(or)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var lr=this._points,fr=lr.length,cr=this.canvas.contextTop;this._saveAndTransform(cr),this.oldEnd&&(cr.beginPath(),cr.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(cr,lr[fr-2],lr[fr-1],!0),cr.stroke(),cr.restore()}},onMouseUp:function(or){return this.canvas._isMainEvent(or.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(or){var ir=new er.Point(or.x,or.y);this._reset(),this._addPoint(ir),this.canvas.contextTop.moveTo(ir.x,ir.y)},_addPoint:function(or){return this._points.length>1&&or.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(or),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(or){var ir=new er.Point(or.x,or.y);return this._addPoint(ir)},_render:function(or){var ir,lr,fr=this._points[0],cr=this._points[1];if(or=or||this.canvas.contextTop,this._saveAndTransform(or),or.beginPath(),this._points.length===2&&fr.x===cr.x&&fr.y===cr.y){var ur=this.width/1e3;fr=new er.Point(fr.x,fr.y),cr=new er.Point(cr.x,cr.y),fr.x-=ur,cr.x+=ur}for(or.moveTo(fr.x,fr.y),ir=1,lr=this._points.length;ir<lr;ir++)this._drawSegment(or,fr,cr),fr=this._points[ir],cr=this._points[ir+1];or.lineTo(fr.x,fr.y),or.stroke(),or.restore()},convertPointsToSVGPath:function(or){var ir=this.width/1e3;return er.util.getSmoothPathFromPoints(or,ir)},_isEmptySVGPath:function(or){var ir=er.util.joinPath(or);return ir==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(or){var ir=new er.Path(or,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,ir.shadow=new er.Shadow(this.shadow)),ir},decimatePoints:function(or,ir){if(or.length<=2)return or;var lr=this.canvas.getZoom(),fr=Math.pow(ir/lr,2),cr,ur=or.length-1,sr=or[0],hr=[sr],gr;for(cr=1;cr<ur-1;cr++)gr=Math.pow(sr.x-or[cr].x,2)+Math.pow(sr.y-or[cr].y,2),gr>=fr&&(sr=or[cr],hr.push(sr));return hr.push(or[ur]),hr},_finalizeAndAddPath:function(){var or=this.canvas.contextTop;or.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var ir=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(ir)){this.canvas.requestRenderAll();return}var lr=this.createPath(ir);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:lr}),this.canvas.add(lr),this.canvas.requestRenderAll(),lr.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:lr})}})}(),er.CircleBrush=er.util.createClass(er.BaseBrush,{width:10,initialize:function(or){this.canvas=or,this.points=[]},drawDot:function(or){var ir=this.addPoint(or),lr=this.canvas.contextTop;this._saveAndTransform(lr),this.dot(lr,ir),lr.restore()},dot:function(or,ir){or.fillStyle=ir.fill,or.beginPath(),or.arc(ir.x,ir.y,ir.radius,0,Math.PI*2,!1),or.closePath(),or.fill()},onMouseDown:function(or){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(or)},_render:function(){var or=this.canvas.contextTop,ir,lr,fr=this.points;for(this._saveAndTransform(or),ir=0,lr=fr.length;ir<lr;ir++)this.dot(or,fr[ir]);or.restore()},onMouseMove:function(or){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(or)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(or),this._render()):this.drawDot(or))},onMouseUp:function(){var or=this.canvas.renderOnAddRemove,ir,lr;this.canvas.renderOnAddRemove=!1;var fr=[];for(ir=0,lr=this.points.length;ir<lr;ir++){var cr=this.points[ir],ur=new er.Circle({radius:cr.radius,left:cr.x,top:cr.y,originX:"center",originY:"center",fill:cr.fill});this.shadow&&(ur.shadow=new er.Shadow(this.shadow)),fr.push(ur)}var sr=new er.Group(fr);sr.canvas=this.canvas,this.canvas.fire("before:path:created",{path:sr}),this.canvas.add(sr),this.canvas.fire("path:created",{path:sr}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=or,this.canvas.requestRenderAll()},addPoint:function(or){var ir=new er.Point(or.x,or.y),lr=er.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,fr=new er.Color(this.color).setAlpha(er.util.getRandomInt(0,100)/100).toRgba();return ir.radius=lr,ir.fill=fr,this.points.push(ir),ir}}),er.SprayBrush=er.util.createClass(er.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(or){this.canvas=or,this.sprayChunks=[]},onMouseDown:function(or){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(or),this.render(this.sprayChunkPoints)},onMouseMove:function(or){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(or)||(this.addSprayChunk(or),this.render(this.sprayChunkPoints))},onMouseUp:function(){var or=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var ir=[],lr=0,fr=this.sprayChunks.length;lr<fr;lr++)for(var cr=this.sprayChunks[lr],ur=0,sr=cr.length;ur<sr;ur++){var hr=new er.Rect({width:cr[ur].width,height:cr[ur].width,left:cr[ur].x+1,top:cr[ur].y+1,originX:"center",originY:"center",fill:this.color});ir.push(hr)}this.optimizeOverlapping&&(ir=this._getOptimizedRects(ir));var gr=new er.Group(ir);this.shadow&&gr.set("shadow",new er.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:gr}),this.canvas.add(gr),this.canvas.fire("path:created",{path:gr}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=or,this.canvas.requestRenderAll()},_getOptimizedRects:function(or){var ir={},lr,fr,cr;for(fr=0,cr=or.length;fr<cr;fr++)lr=or[fr].left+""+or[fr].top,ir[lr]||(ir[lr]=or[fr]);var ur=[];for(lr in ir)ur.push(ir[lr]);return ur},render:function(or){var ir=this.canvas.contextTop,lr,fr;for(ir.fillStyle=this.color,this._saveAndTransform(ir),lr=0,fr=or.length;lr<fr;lr++){var cr=or[lr];typeof cr.opacity<"u"&&(ir.globalAlpha=cr.opacity),ir.fillRect(cr.x,cr.y,cr.width,cr.width)}ir.restore()},_render:function(){var or=this.canvas.contextTop,ir,lr;for(or.fillStyle=this.color,this._saveAndTransform(or),ir=0,lr=this.sprayChunks.length;ir<lr;ir++)this.render(this.sprayChunks[ir]);or.restore()},addSprayChunk:function(or){this.sprayChunkPoints=[];var ir,lr,fr,cr=this.width/2,ur;for(ur=0;ur<this.density;ur++){ir=er.util.getRandomInt(or.x-cr,or.x+cr),lr=er.util.getRandomInt(or.y-cr,or.y+cr),this.dotWidthVariance?fr=er.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):fr=this.dotWidth;var sr=new er.Point(ir,lr);sr.width=fr,this.randomOpacity&&(sr.opacity=er.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(sr)}this.sprayChunks.push(this.sprayChunkPoints)}}),er.PatternBrush=er.util.createClass(er.PencilBrush,{getPatternSrc:function(){var or=20,ir=5,lr=er.util.createCanvasElement(),fr=lr.getContext("2d");return lr.width=lr.height=or+ir,fr.fillStyle=this.color,fr.beginPath(),fr.arc(or/2,or/2,or/2,0,Math.PI*2,!1),fr.closePath(),fr.fill(),lr},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(or){return or.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(or){this.callSuper("_setBrushStyles",or),or.strokeStyle=this.getPattern(or)},createPath:function(or){var ir=this.callSuper("createPath",or),lr=ir._getLeftTopCoords().scalarAdd(ir.strokeWidth/2);return ir.stroke=new er.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-lr.x,offsetY:-lr.y}),ir}}),function(){var or=er.util.getPointer,ir=er.util.degreesToRadians,lr=er.util.isTouchEvent;er.Canvas=er.util.createClass(er.StaticCanvas,{initialize:function(cr,ur){ur||(ur={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(cr,ur),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=er.PencilBrush&&new er.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var cr=this.getActiveObjects(),ur,sr,hr;if(cr.length>0&&!this.preserveObjectStacking){sr=[],hr=[];for(var gr=0,pr=this._objects.length;gr<pr;gr++)ur=this._objects[gr],cr.indexOf(ur)===-1?sr.push(ur):hr.push(ur);cr.length>1&&(this._activeObject._objects=hr),sr.push.apply(sr,hr)}else sr=this._objects;return sr},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var cr=this.contextContainer;return this.renderCanvas(cr,this._chooseObjectsToRender()),this},renderTopLayer:function(cr){cr.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(cr),this.contextTopDirty=!0),cr.restore()},renderTop:function(){var cr=this.contextTop;return this.clearContext(cr),this.renderTopLayer(cr),this.fire("after:render"),this},_normalizePointer:function(cr,ur){var sr=cr.calcTransformMatrix(),hr=er.util.invertTransform(sr),gr=this.restorePointerVpt(ur);return er.util.transformPoint(gr,hr)},isTargetTransparent:function(cr,ur,sr){if(cr.shouldCache()&&cr._cacheCanvas&&cr!==this._activeObject){var hr=this._normalizePointer(cr,{x:ur,y:sr}),gr=Math.max(cr.cacheTranslationX+hr.x*cr.zoomX,0),pr=Math.max(cr.cacheTranslationY+hr.y*cr.zoomY,0),br=er.util.isTransparent(cr._cacheContext,Math.round(gr),Math.round(pr),this.targetFindTolerance);return br}var mr=this.contextCache,vr=cr.selectionBackgroundColor,yr=this.viewportTransform;cr.selectionBackgroundColor="",this.clearContext(mr),mr.save(),mr.transform(yr[0],yr[1],yr[2],yr[3],yr[4],yr[5]),cr.render(mr),mr.restore(),cr.selectionBackgroundColor=vr;var br=er.util.isTransparent(mr,ur,sr,this.targetFindTolerance);return br},_isSelectionKeyPressed:function(cr){var ur=!1;return Array.isArray(this.selectionKey)?ur=!!this.selectionKey.find(function(sr){return cr[sr]===!0}):ur=cr[this.selectionKey],ur},_shouldClearSelection:function(cr,ur){var sr=this.getActiveObjects(),hr=this._activeObject;return!ur||ur&&hr&&sr.length>1&&sr.indexOf(ur)===-1&&hr!==ur&&!this._isSelectionKeyPressed(cr)||ur&&!ur.evented||ur&&!ur.selectable&&hr&&hr!==ur},_shouldCenterTransform:function(cr,ur,sr){if(!!cr){var hr;return ur==="scale"||ur==="scaleX"||ur==="scaleY"||ur==="resizing"?hr=this.centeredScaling||cr.centeredScaling:ur==="rotate"&&(hr=this.centeredRotation||cr.centeredRotation),hr?!sr:sr}},_getOriginFromCorner:function(cr,ur){var sr={x:cr.originX,y:cr.originY};return ur==="ml"||ur==="tl"||ur==="bl"?sr.x="right":(ur==="mr"||ur==="tr"||ur==="br")&&(sr.x="left"),ur==="tl"||ur==="mt"||ur==="tr"?sr.y="bottom":(ur==="bl"||ur==="mb"||ur==="br")&&(sr.y="top"),sr},_getActionFromCorner:function(cr,ur,sr,hr){if(!ur||!cr)return"drag";var gr=hr.controls[ur];return gr.getActionName(sr,gr,hr)},_setupCurrentTransform:function(cr,ur,sr){if(!!ur){var hr=this.getPointer(cr),gr=ur.__corner,pr=ur.controls[gr],mr=sr&&gr?pr.getActionHandler(cr,ur,pr):er.controlsUtils.dragHandler,vr=this._getActionFromCorner(sr,gr,cr,ur),yr=this._getOriginFromCorner(ur,gr),br=cr[this.centeredKey],xr={target:ur,action:vr,actionHandler:mr,corner:gr,scaleX:ur.scaleX,scaleY:ur.scaleY,skewX:ur.skewX,skewY:ur.skewY,offsetX:hr.x-ur.left,offsetY:hr.y-ur.top,originX:yr.x,originY:yr.y,ex:hr.x,ey:hr.y,lastX:hr.x,lastY:hr.y,theta:ir(ur.angle),width:ur.width*ur.scaleX,shiftKey:cr.shiftKey,altKey:br,original:er.util.saveObjectTransform(ur)};this._shouldCenterTransform(ur,vr,br)&&(xr.originX="center",xr.originY="center"),xr.original.originX=yr.x,xr.original.originY=yr.y,this._currentTransform=xr,this._beforeTransform(cr)}},setCursor:function(cr){this.upperCanvasEl.style.cursor=cr},_drawSelection:function(cr){var ur=this._groupSelector,sr=new er.Point(ur.ex,ur.ey),hr=er.util.transformPoint(sr,this.viewportTransform),gr=new er.Point(ur.ex+ur.left,ur.ey+ur.top),pr=er.util.transformPoint(gr,this.viewportTransform),mr=Math.min(hr.x,pr.x),vr=Math.min(hr.y,pr.y),yr=Math.max(hr.x,pr.x),br=Math.max(hr.y,pr.y),xr=this.selectionLineWidth/2;this.selectionColor&&(cr.fillStyle=this.selectionColor,cr.fillRect(mr,vr,yr-mr,br-vr)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(cr.lineWidth=this.selectionLineWidth,cr.strokeStyle=this.selectionBorderColor,mr+=xr,vr+=xr,yr-=xr,br-=xr,er.Object.prototype._setLineDash.call(this,cr,this.selectionDashArray),cr.strokeRect(mr,vr,yr-mr,br-vr))},findTarget:function(cr,ur){if(!this.skipTargetFind){var sr=!0,hr=this.getPointer(cr,sr),gr=this._activeObject,pr=this.getActiveObjects(),mr,vr,yr=lr(cr),br=pr.length>1&&!ur||pr.length===1;if(this.targets=[],br&&gr._findTargetCorner(hr,yr)||pr.length>1&&!ur&&gr===this._searchPossibleTargets([gr],hr))return gr;if(pr.length===1&&gr===this._searchPossibleTargets([gr],hr))if(this.preserveObjectStacking)mr=gr,vr=this.targets,this.targets=[];else return gr;var xr=this._searchPossibleTargets(this._objects,hr);return cr[this.altSelectionKey]&&xr&&mr&&xr!==mr&&(xr=mr,this.targets=vr),xr}},_checkTarget:function(cr,ur,sr){if(ur&&ur.visible&&ur.evented&&ur.containsPoint(cr))if((this.perPixelTargetFind||ur.perPixelTargetFind)&&!ur.isEditing){var hr=this.isTargetTransparent(ur,sr.x,sr.y);if(!hr)return!0}else return!0},_searchPossibleTargets:function(cr,ur){for(var sr,hr=cr.length,gr;hr--;){var pr=cr[hr],mr=pr.group?this._normalizePointer(pr.group,ur):ur;if(this._checkTarget(mr,pr,ur)){sr=cr[hr],sr.subTargetCheck&&sr instanceof er.Group&&(gr=this._searchPossibleTargets(sr._objects,ur),gr&&this.targets.push(gr));break}}return sr},restorePointerVpt:function(cr){return er.util.transformPoint(cr,er.util.invertTransform(this.viewportTransform))},getPointer:function(cr,ur){if(this._absolutePointer&&!ur)return this._absolutePointer;if(this._pointer&&ur)return this._pointer;var sr=or(cr),hr=this.upperCanvasEl,gr=hr.getBoundingClientRect(),pr=gr.width||0,mr=gr.height||0,vr;(!pr||!mr)&&("top"in gr&&"bottom"in gr&&(mr=Math.abs(gr.top-gr.bottom)),"right"in gr&&"left"in gr&&(pr=Math.abs(gr.right-gr.left))),this.calcOffset(),sr.x=sr.x-this._offset.left,sr.y=sr.y-this._offset.top,ur||(sr=this.restorePointerVpt(sr));var yr=this.getRetinaScaling();return yr!==1&&(sr.x/=yr,sr.y/=yr),pr===0||mr===0?vr={width:1,height:1}:vr={width:hr.width/pr,height:hr.height/mr},{x:sr.x*vr.width,y:sr.y*vr.height}},_createUpperCanvas:function(){var cr=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),ur=this.lowerCanvasEl,sr=this.upperCanvasEl;sr?sr.className="":(sr=this._createCanvasElement(),this.upperCanvasEl=sr),er.util.addClass(sr,"upper-canvas "+cr),this.wrapperEl.appendChild(sr),this._copyCanvasStyle(ur,sr),this._applyCanvasStyle(sr),this.contextTop=sr.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=er.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),er.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),er.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(cr){var ur=this.width||cr.width,sr=this.height||cr.height;er.util.setStyle(cr,{position:"absolute",width:ur+"px",height:sr+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),cr.width=ur,cr.height=sr,er.util.makeElementUnselectable(cr)},_copyCanvasStyle:function(cr,ur){ur.style.cssText=cr.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var cr=this._activeObject;return cr?cr.type==="activeSelection"&&cr._objects?cr._objects.slice(0):[cr]:[]},_onObjectRemoved:function(cr){cr===this._activeObject&&(this.fire("before:selection:cleared",{target:cr}),this._discardActiveObject(),this.fire("selection:cleared",{target:cr}),cr.fire("deselected")),cr===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",cr)},_fireSelectionEvents:function(cr,ur){var sr=!1,hr=this.getActiveObjects(),gr=[],pr=[];cr.forEach(function(mr){hr.indexOf(mr)===-1&&(sr=!0,mr.fire("deselected",{e:ur,target:mr}),pr.push(mr))}),hr.forEach(function(mr){cr.indexOf(mr)===-1&&(sr=!0,mr.fire("selected",{e:ur,target:mr}),gr.push(mr))}),cr.length>0&&hr.length>0?sr&&this.fire("selection:updated",{e:ur,selected:gr,deselected:pr}):hr.length>0?this.fire("selection:created",{e:ur,selected:gr}):cr.length>0&&this.fire("selection:cleared",{e:ur,deselected:pr})},setActiveObject:function(cr,ur){var sr=this.getActiveObjects();return this._setActiveObject(cr,ur),this._fireSelectionEvents(sr,ur),this},_setActiveObject:function(cr,ur){return this._activeObject===cr||!this._discardActiveObject(ur,cr)||cr.onSelect({e:ur})?!1:(this._activeObject=cr,!0)},_discardActiveObject:function(cr,ur){var sr=this._activeObject;if(sr){if(sr.onDeselect({e:cr,object:ur}))return!1;this._activeObject=null}return!0},discardActiveObject:function(cr){var ur=this.getActiveObjects(),sr=this.getActiveObject();return ur.length&&this.fire("before:selection:cleared",{target:sr,e:cr}),this._discardActiveObject(cr),this._fireSelectionEvents(ur,cr),this},dispose:function(){var cr=this.wrapperEl;return this.removeListeners(),cr.removeChild(this.upperCanvasEl),cr.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(ur){er.util.cleanUpJsdomNode(this[ur]),this[ur]=void 0}.bind(this)),cr.parentNode&&cr.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,er.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(cr){var ur=this._activeObject;ur&&ur._renderControls(cr)},_toObject:function(cr,ur,sr){var hr=this._realizeGroupTransformOnObject(cr),gr=this.callSuper("_toObject",cr,ur,sr);return this._unwindGroupTransformOnObject(cr,hr),gr},_realizeGroupTransformOnObject:function(cr){if(cr.group&&cr.group.type==="activeSelection"&&this._activeObject===cr.group){var ur=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],sr={};return ur.forEach(function(hr){sr[hr]=cr[hr]}),er.util.addTransformToObject(cr,this._activeObject.calcOwnMatrix()),sr}else return null},_unwindGroupTransformOnObject:function(cr,ur){ur&&cr.set(ur)},_setSVGObject:function(cr,ur,sr){var hr=this._realizeGroupTransformOnObject(ur);this.callSuper("_setSVGObject",cr,ur,sr),this._unwindGroupTransformOnObject(ur,hr)},setViewportTransform:function(cr){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),er.StaticCanvas.prototype.setViewportTransform.call(this,cr)}});for(var fr in er.StaticCanvas)fr!=="prototype"&&(er.Canvas[fr]=er.StaticCanvas[fr])}(),function(){var or=er.util.addListener,ir=er.util.removeListener,lr=3,fr=2,cr=1,ur={passive:!1};function sr(hr,gr){return hr.button&&hr.button===gr-1}er.util.object.extend(er.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(or,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(hr,gr){var pr=this.upperCanvasEl,mr=this._getEventPrefix();hr(er.window,"resize",this._onResize),hr(pr,mr+"down",this._onMouseDown),hr(pr,mr+"move",this._onMouseMove,ur),hr(pr,mr+"out",this._onMouseOut),hr(pr,mr+"enter",this._onMouseEnter),hr(pr,"wheel",this._onMouseWheel),hr(pr,"contextmenu",this._onContextMenu),hr(pr,"dblclick",this._onDoubleClick),hr(pr,"dragover",this._onDragOver),hr(pr,"dragenter",this._onDragEnter),hr(pr,"dragleave",this._onDragLeave),hr(pr,"drop",this._onDrop),this.enablePointerEvents||hr(pr,"touchstart",this._onTouchStart,ur),typeof eventjs<"u"&&gr in eventjs&&(eventjs[gr](pr,"gesture",this._onGesture),eventjs[gr](pr,"drag",this._onDrag),eventjs[gr](pr,"orientation",this._onOrientationChange),eventjs[gr](pr,"shake",this._onShake),eventjs[gr](pr,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(ir,"remove");var hr=this._getEventPrefix();ir(er.document,hr+"up",this._onMouseUp),ir(er.document,"touchend",this._onTouchEnd,ur),ir(er.document,hr+"move",this._onMouseMove,ur),ir(er.document,"touchmove",this._onMouseMove,ur)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(hr,gr){this.__onTransformGesture&&this.__onTransformGesture(hr,gr)},_onDrag:function(hr,gr){this.__onDrag&&this.__onDrag(hr,gr)},_onMouseWheel:function(hr){this.__onMouseWheel(hr)},_onMouseOut:function(hr){var gr=this._hoveredTarget;this.fire("mouse:out",{target:gr,e:hr}),this._hoveredTarget=null,gr&&gr.fire("mouseout",{e:hr});var pr=this;this._hoveredTargets.forEach(function(mr){pr.fire("mouse:out",{target:gr,e:hr}),mr&&gr.fire("mouseout",{e:hr})}),this._hoveredTargets=[]},_onMouseEnter:function(hr){!this._currentTransform&&!this.findTarget(hr)&&(this.fire("mouse:over",{target:null,e:hr}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(hr,gr){this.__onOrientationChange&&this.__onOrientationChange(hr,gr)},_onShake:function(hr,gr){this.__onShake&&this.__onShake(hr,gr)},_onLongPress:function(hr,gr){this.__onLongPress&&this.__onLongPress(hr,gr)},_onDragOver:function(hr){hr.preventDefault();var gr=this._simpleEventHandler("dragover",hr);this._fireEnterLeaveEvents(gr,hr)},_onDrop:function(hr){return this._simpleEventHandler("drop:before",hr),this._simpleEventHandler("drop",hr)},_onContextMenu:function(hr){return this.stopContextMenu&&(hr.stopPropagation(),hr.preventDefault()),!1},_onDoubleClick:function(hr){this._cacheTransformEventData(hr),this._handleEvent(hr,"dblclick"),this._resetTransformEventData(hr)},getPointerId:function(hr){var gr=hr.changedTouches;return gr?gr[0]&&gr[0].identifier:this.enablePointerEvents?hr.pointerId:-1},_isMainEvent:function(hr){return hr.isPrimary===!0?!0:hr.isPrimary===!1?!1:hr.type==="touchend"&&hr.touches.length===0?!0:hr.changedTouches?hr.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(hr){hr.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(hr)),this.__onMouseDown(hr),this._resetTransformEventData();var gr=this.upperCanvasEl,pr=this._getEventPrefix();or(er.document,"touchend",this._onTouchEnd,ur),or(er.document,"touchmove",this._onMouseMove,ur),ir(gr,pr+"down",this._onMouseDown)},_onMouseDown:function(hr){this.__onMouseDown(hr),this._resetTransformEventData();var gr=this.upperCanvasEl,pr=this._getEventPrefix();ir(gr,pr+"move",this._onMouseMove,ur),or(er.document,pr+"up",this._onMouseUp),or(er.document,pr+"move",this._onMouseMove,ur)},_onTouchEnd:function(hr){if(!(hr.touches.length>0)){this.__onMouseUp(hr),this._resetTransformEventData(),this.mainTouchId=null;var gr=this._getEventPrefix();ir(er.document,"touchend",this._onTouchEnd,ur),ir(er.document,"touchmove",this._onMouseMove,ur);var pr=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){or(pr.upperCanvasEl,gr+"down",pr._onMouseDown),pr._willAddMouseDown=0},400)}},_onMouseUp:function(hr){this.__onMouseUp(hr),this._resetTransformEventData();var gr=this.upperCanvasEl,pr=this._getEventPrefix();this._isMainEvent(hr)&&(ir(er.document,pr+"up",this._onMouseUp),ir(er.document,pr+"move",this._onMouseMove,ur),or(gr,pr+"move",this._onMouseMove,ur))},_onMouseMove:function(hr){!this.allowTouchScrolling&&hr.preventDefault&&hr.preventDefault(),this.__onMouseMove(hr)},_onResize:function(){this.calcOffset()},_shouldRender:function(hr){var gr=this._activeObject;return!!gr!=!!hr||gr&&hr&&gr!==hr?!0:(gr&&gr.isEditing,!1)},__onMouseUp:function(hr){var gr,pr=this._currentTransform,mr=this._groupSelector,vr=!1,yr=!mr||mr.left===0&&mr.top===0;if(this._cacheTransformEventData(hr),gr=this._target,this._handleEvent(hr,"up:before"),sr(hr,lr)){this.fireRightClick&&this._handleEvent(hr,"up",lr,yr);return}if(sr(hr,fr)){this.fireMiddleClick&&this._handleEvent(hr,"up",fr,yr),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(hr);return}if(!!this._isMainEvent(hr)){if(pr&&(this._finalizeCurrentTransform(hr),vr=pr.actionPerformed),!yr){var br=gr===this._activeObject;this._maybeGroupObjects(hr),vr||(vr=this._shouldRender(gr)||!br&&gr===this._activeObject)}var xr,Cr;if(gr){if(xr=gr._findTargetCorner(this.getPointer(hr,!0),er.util.isTouchEvent(hr)),gr.selectable&&gr!==this._activeObject&&gr.activeOn==="up")this.setActiveObject(gr,hr),vr=!0;else{var kr=gr.controls[xr],Pr=kr&&kr.getMouseUpHandler(hr,gr,kr);Pr&&(Cr=this.getPointer(hr),Pr(hr,pr,Cr.x,Cr.y))}gr.isMoving=!1}if(pr&&(pr.target!==gr||pr.corner!==xr)){var $r=pr.target&&pr.target.controls[pr.corner],Kr=$r&&$r.getMouseUpHandler(hr,gr,kr);Cr=Cr||this.getPointer(hr),Kr&&Kr(hr,pr,Cr.x,Cr.y)}this._setCursorFromEvent(hr,gr),this._handleEvent(hr,"up",cr,yr),this._groupSelector=null,this._currentTransform=null,gr&&(gr.__corner=0),vr?this.requestRenderAll():yr||this.renderTop()}},_simpleEventHandler:function(hr,gr){var pr=this.findTarget(gr),mr=this.targets,vr={e:gr,target:pr,subTargets:mr};if(this.fire(hr,vr),pr&&pr.fire(hr,vr),!mr)return pr;for(var yr=0;yr<mr.length;yr++)mr[yr].fire(hr,vr);return pr},_handleEvent:function(hr,gr,pr,mr){var vr=this._target,yr=this.targets||[],br={e:hr,target:vr,subTargets:yr,button:pr||cr,isClick:mr||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};gr==="up"&&(br.currentTarget=this.findTarget(hr),br.currentSubTargets=this.targets),this.fire("mouse:"+gr,br),vr&&vr.fire("mouse"+gr,br);for(var xr=0;xr<yr.length;xr++)yr[xr].fire("mouse"+gr,br)},_finalizeCurrentTransform:function(hr){var gr=this._currentTransform,pr=gr.target,mr={e:hr,target:pr,transform:gr,action:gr.action};pr._scaling&&(pr._scaling=!1),pr.setCoords(),(gr.actionPerformed||this.stateful&&pr.hasStateChanged())&&this._fire("modified",mr)},_onMouseDownInDrawingMode:function(hr){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(hr).requestRenderAll();var gr=this.getPointer(hr);this.freeDrawingBrush.onMouseDown(gr,{e:hr,pointer:gr}),this._handleEvent(hr,"down")},_onMouseMoveInDrawingMode:function(hr){if(this._isCurrentlyDrawing){var gr=this.getPointer(hr);this.freeDrawingBrush.onMouseMove(gr,{e:hr,pointer:gr})}this.setCursor(this.freeDrawingCursor),this._handleEvent(hr,"move")},_onMouseUpInDrawingMode:function(hr){var gr=this.getPointer(hr);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:hr,pointer:gr}),this._handleEvent(hr,"up")},__onMouseDown:function(hr){this._cacheTransformEventData(hr),this._handleEvent(hr,"down:before");var gr=this._target;if(sr(hr,lr)){this.fireRightClick&&this._handleEvent(hr,"down",lr);return}if(sr(hr,fr)){this.fireMiddleClick&&this._handleEvent(hr,"down",fr);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(hr);return}if(!!this._isMainEvent(hr)&&!this._currentTransform){var pr=this._pointer;this._previousPointer=pr;var mr=this._shouldRender(gr),vr=this._shouldGroup(hr,gr);if(this._shouldClearSelection(hr,gr)?this.discardActiveObject(hr):vr&&(this._handleGrouping(hr,gr),gr=this._activeObject),this.selection&&(!gr||!gr.selectable&&!gr.isEditing&&gr!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),gr){var yr=gr===this._activeObject;gr.selectable&&gr.activeOn==="down"&&this.setActiveObject(gr,hr);var br=gr._findTargetCorner(this.getPointer(hr,!0),er.util.isTouchEvent(hr));if(gr.__corner=br,gr===this._activeObject&&(br||!vr)){this._setupCurrentTransform(hr,gr,yr);var xr=gr.controls[br],pr=this.getPointer(hr),Cr=xr&&xr.getMouseDownHandler(hr,gr,xr);Cr&&Cr(hr,this._currentTransform,pr.x,pr.y)}}this._handleEvent(hr,"down"),(mr||vr)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(hr){this._resetTransformEventData(),this._pointer=this.getPointer(hr,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(hr)||null},_beforeTransform:function(hr){var gr=this._currentTransform;this.stateful&&gr.target.saveState(),this.fire("before:transform",{e:hr,transform:gr})},__onMouseMove:function(hr){this._handleEvent(hr,"move:before"),this._cacheTransformEventData(hr);var gr,pr;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(hr);return}if(!!this._isMainEvent(hr)){var mr=this._groupSelector;mr?(pr=this._absolutePointer,mr.left=pr.x-mr.ex,mr.top=pr.y-mr.ey,this.renderTop()):this._currentTransform?this._transformObject(hr):(gr=this.findTarget(hr)||null,this._setCursorFromEvent(hr,gr),this._fireOverOutEvents(gr,hr)),this._handleEvent(hr,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(hr,gr){var pr=this._hoveredTarget,mr=this._hoveredTargets,vr=this.targets,yr=Math.max(mr.length,vr.length);this.fireSyntheticInOutEvents(hr,gr,{oldTarget:pr,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var br=0;br<yr;br++)this.fireSyntheticInOutEvents(vr[br],gr,{oldTarget:mr[br],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=hr,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(hr,gr){var pr=this._draggedoverTarget,mr=this._hoveredTargets,vr=this.targets,yr=Math.max(mr.length,vr.length);this.fireSyntheticInOutEvents(hr,gr,{oldTarget:pr,evtOut:"dragleave",evtIn:"dragenter"});for(var br=0;br<yr;br++)this.fireSyntheticInOutEvents(vr[br],gr,{oldTarget:mr[br],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=hr},fireSyntheticInOutEvents:function(hr,gr,pr){var mr,vr,yr=pr.oldTarget,br,xr,Cr=yr!==hr,kr=pr.canvasEvtIn,Pr=pr.canvasEvtOut;Cr&&(mr={e:gr,target:hr,previousTarget:yr},vr={e:gr,target:yr,nextTarget:hr}),xr=hr&&Cr,br=yr&&Cr,br&&(Pr&&this.fire(Pr,vr),yr.fire(pr.evtOut,vr)),xr&&(kr&&this.fire(kr,mr),hr.fire(pr.evtIn,mr))},__onMouseWheel:function(hr){this._cacheTransformEventData(hr),this._handleEvent(hr,"wheel"),this._resetTransformEventData()},_transformObject:function(hr){var gr=this.getPointer(hr),pr=this._currentTransform;pr.reset=!1,pr.shiftKey=hr.shiftKey,pr.altKey=hr[this.centeredKey],this._performTransformAction(hr,pr,gr),pr.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(hr,gr,pr){var mr=pr.x,vr=pr.y,yr=gr.action,br=!1,xr=gr.actionHandler;xr&&(br=xr(hr,gr,mr,vr)),yr==="drag"&&br&&(gr.target.isMoving=!0,this.setCursor(gr.target.moveCursor||this.moveCursor)),gr.actionPerformed=gr.actionPerformed||br},_fire:er.controlsUtils.fireEvent,_setCursorFromEvent:function(hr,gr){if(!gr)return this.setCursor(this.defaultCursor),!1;var pr=gr.hoverCursor||this.hoverCursor,mr=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,vr=(!mr||!mr.contains(gr))&&gr._findTargetCorner(this.getPointer(hr,!0));vr?this.setCursor(this.getCornerCursor(vr,gr,hr)):(gr.subTargetCheck&&this.targets.concat().reverse().map(function(yr){pr=yr.hoverCursor||pr}),this.setCursor(pr))},getCornerCursor:function(hr,gr,pr){var mr=gr.controls[hr];return mr.cursorStyleHandler(pr,mr,gr)}})}(),function(){var or=Math.min,ir=Math.max;er.util.object.extend(er.Canvas.prototype,{_shouldGroup:function(lr,fr){var cr=this._activeObject;return cr&&this._isSelectionKeyPressed(lr)&&fr&&fr.selectable&&this.selection&&(cr!==fr||cr.type==="activeSelection")&&!fr.onSelect({e:lr})},_handleGrouping:function(lr,fr){var cr=this._activeObject;cr.__corner||fr===cr&&(fr=this.findTarget(lr,!0),!fr||!fr.selectable)||(cr&&cr.type==="activeSelection"?this._updateActiveSelection(fr,lr):this._createActiveSelection(fr,lr))},_updateActiveSelection:function(lr,fr){var cr=this._activeObject,ur=cr._objects.slice(0);cr.contains(lr)?(cr.removeWithUpdate(lr),this._hoveredTarget=lr,this._hoveredTargets=this.targets.concat(),cr.size()===1&&this._setActiveObject(cr.item(0),fr)):(cr.addWithUpdate(lr),this._hoveredTarget=cr,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(ur,fr)},_createActiveSelection:function(lr,fr){var cr=this.getActiveObjects(),ur=this._createGroup(lr);this._hoveredTarget=ur,this._setActiveObject(ur,fr),this._fireSelectionEvents(cr,fr)},_createGroup:function(lr){var fr=this._objects,cr=fr.indexOf(this._activeObject)<fr.indexOf(lr),ur=cr?[this._activeObject,lr]:[lr,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new er.ActiveSelection(ur,{canvas:this})},_groupSelectedObjects:function(lr){var fr=this._collectObjects(lr),cr;fr.length===1?this.setActiveObject(fr[0],lr):fr.length>1&&(cr=new er.ActiveSelection(fr.reverse(),{canvas:this}),this.setActiveObject(cr,lr))},_collectObjects:function(lr){for(var fr=[],cr,ur=this._groupSelector.ex,sr=this._groupSelector.ey,hr=ur+this._groupSelector.left,gr=sr+this._groupSelector.top,pr=new er.Point(or(ur,hr),or(sr,gr)),mr=new er.Point(ir(ur,hr),ir(sr,gr)),vr=!this.selectionFullyContained,yr=ur===hr&&sr===gr,br=this._objects.length;br--&&(cr=this._objects[br],!(!(!cr||!cr.selectable||!cr.visible)&&(vr&&cr.intersectsWithRect(pr,mr,!0)||cr.isContainedWithinRect(pr,mr,!0)||vr&&cr.containsPoint(pr,null,!0)||vr&&cr.containsPoint(mr,null,!0))&&(fr.push(cr),yr))););return fr.length>1&&(fr=fr.filter(function(xr){return!xr.onSelect({e:lr})})),fr},_maybeGroupObjects:function(lr){this.selection&&this._groupSelector&&this._groupSelectedObjects(lr),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){er.util.object.extend(er.StaticCanvas.prototype,{toDataURL:function(or){or||(or={});var ir=or.format||"png",lr=or.quality||1,fr=(or.multiplier||1)*(or.enableRetinaScaling?this.getRetinaScaling():1),cr=this.toCanvasElement(fr,or);return er.util.toDataURL(cr,ir,lr)},toCanvasElement:function(or,ir){or=or||1,ir=ir||{};var lr=(ir.width||this.width)*or,fr=(ir.height||this.height)*or,cr=this.getZoom(),ur=this.width,sr=this.height,hr=cr*or,gr=this.viewportTransform,pr=(gr[4]-(ir.left||0))*or,mr=(gr[5]-(ir.top||0))*or,vr=this.interactive,yr=[hr,0,0,hr,pr,mr],br=this.enableRetinaScaling,xr=er.util.createCanvasElement(),Cr=this.contextTop;return xr.width=lr,xr.height=fr,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=yr,this.width=lr,this.height=fr,this.calcViewportBoundaries(),this.renderCanvas(xr.getContext("2d"),this._objects),this.viewportTransform=gr,this.width=ur,this.height=sr,this.calcViewportBoundaries(),this.interactive=vr,this.enableRetinaScaling=br,this.contextTop=Cr,xr}})}(),er.util.object.extend(er.StaticCanvas.prototype,{loadFromJSON:function(or,ir,lr){if(!!or){var fr=typeof or=="string"?JSON.parse(or):er.util.object.clone(or),cr=this,ur=fr.clipPath,sr=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete fr.clipPath,this._enlivenObjects(fr.objects,function(hr){cr.clear(),cr._setBgOverlay(fr,function(){ur?cr._enlivenObjects([ur],function(gr){cr.clipPath=gr[0],cr.__setupCanvas.call(cr,fr,hr,sr,ir)}):cr.__setupCanvas.call(cr,fr,hr,sr,ir)})},lr),this}},__setupCanvas:function(or,ir,lr,fr){var cr=this;ir.forEach(function(ur,sr){cr.insertAt(ur,sr)}),this.renderOnAddRemove=lr,delete or.objects,delete or.backgroundImage,delete or.overlayImage,delete or.background,delete or.overlay,this._setOptions(or),this.renderAll(),fr&&fr()},_setBgOverlay:function(or,ir){var lr={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!or.backgroundImage&&!or.overlayImage&&!or.background&&!or.overlay){ir&&ir();return}var fr=function(){lr.backgroundImage&&lr.overlayImage&&lr.backgroundColor&&lr.overlayColor&&ir&&ir()};this.__setBgOverlay("backgroundImage",or.backgroundImage,lr,fr),this.__setBgOverlay("overlayImage",or.overlayImage,lr,fr),this.__setBgOverlay("backgroundColor",or.background,lr,fr),this.__setBgOverlay("overlayColor",or.overlay,lr,fr)},__setBgOverlay:function(or,ir,lr,fr){var cr=this;if(!ir){lr[or]=!0,fr&&fr();return}or==="backgroundImage"||or==="overlayImage"?er.util.enlivenObjects([ir],function(ur){cr[or]=ur[0],lr[or]=!0,fr&&fr()}):this["set"+er.util.string.capitalize(or,!0)](ir,function(){lr[or]=!0,fr&&fr()})},_enlivenObjects:function(or,ir,lr){if(!or||or.length===0){ir&&ir([]);return}er.util.enlivenObjects(or,function(fr){ir&&ir(fr)},null,lr)},_toDataURL:function(or,ir){this.clone(function(lr){ir(lr.toDataURL(or))})},_toDataURLWithMultiplier:function(or,ir,lr){this.clone(function(fr){lr(fr.toDataURLWithMultiplier(or,ir))})},clone:function(or,ir){var lr=JSON.stringify(this.toJSON(ir));this.cloneWithoutData(function(fr){fr.loadFromJSON(lr,function(){or&&or(fr)})})},cloneWithoutData:function(or){var ir=er.util.createCanvasElement();ir.width=this.width,ir.height=this.height;var lr=new er.Canvas(ir);this.backgroundImage?(lr.setBackgroundImage(this.backgroundImage.src,function(){lr.renderAll(),or&&or(lr)}),lr.backgroundImageOpacity=this.backgroundImageOpacity,lr.backgroundImageStretch=this.backgroundImageStretch):or&&or(lr)}}),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.util.object.clone,cr=ir.util.toFixed,ur=ir.util.string.capitalize,sr=ir.util.degreesToRadians,hr=!ir.isLikelyNode,gr=2;ir.Object||(ir.Object=ir.util.createClass(ir.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:hr,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(pr){pr&&this.setOptions(pr)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=ir.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(pr){var mr=ir.perfLimitSizeTotal,vr=pr.width,yr=pr.height,br=ir.maxCacheSideLimit,xr=ir.minCacheSideLimit;if(vr<=br&&yr<=br&&vr*yr<=mr)return vr<xr&&(pr.width=xr),yr<xr&&(pr.height=xr),pr;var Cr=vr/yr,kr=ir.util.limitDimsByArea(Cr,mr),Pr=ir.util.capValue,$r=Pr(xr,kr.x,br),Kr=Pr(xr,kr.y,br);return vr>$r&&(pr.zoomX/=vr/$r,pr.width=$r,pr.capped=!0),yr>Kr&&(pr.zoomY/=yr/Kr,pr.height=Kr,pr.capped=!0),pr},_getCacheCanvasDimensions:function(){var pr=this.getTotalObjectScaling(),mr=this._getTransformedDimensions(0,0),vr=mr.x*pr.scaleX/this.scaleX,yr=mr.y*pr.scaleY/this.scaleY;return{width:vr+gr,height:yr+gr,zoomX:pr.scaleX,zoomY:pr.scaleY,x:vr,y:yr}},_updateCacheCanvas:function(){var pr=this.canvas;if(this.noScaleCache&&pr&&pr._currentTransform){var mr=pr._currentTransform.target,vr=pr._currentTransform.action;if(this===mr&&vr.slice&&vr.slice(0,5)==="scale")return!1}var yr=this._cacheCanvas,br=this._limitCacheSize(this._getCacheCanvasDimensions()),xr=ir.minCacheSideLimit,Cr=br.width,kr=br.height,Pr,$r,Kr=br.zoomX,Ir=br.zoomY,jr=Cr!==this.cacheWidth||kr!==this.cacheHeight,Jr=this.zoomX!==Kr||this.zoomY!==Ir,zr=jr||Jr,Hr=0,Yr=0,nn=!1;if(jr){var Qr=this._cacheCanvas.width,Or=this._cacheCanvas.height,Er=Cr>Qr||kr>Or,Dr=(Cr<Qr*.9||kr<Or*.9)&&Qr>xr&&Or>xr;nn=Er||Dr,Er&&!br.capped&&(Cr>xr||kr>xr)&&(Hr=Cr*.1,Yr=kr*.1)}return this instanceof ir.Text&&this.path&&(zr=!0,nn=!0,Hr+=this.getHeightOfLine(0)*this.zoomX,Yr+=this.getHeightOfLine(0)*this.zoomY),zr?(nn?(yr.width=Math.ceil(Cr+Hr),yr.height=Math.ceil(kr+Yr)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,yr.width,yr.height)),Pr=br.x/2,$r=br.y/2,this.cacheTranslationX=Math.round(yr.width/2-Pr)+Pr,this.cacheTranslationY=Math.round(yr.height/2-$r)+$r,this.cacheWidth=Cr,this.cacheHeight=kr,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Kr,Ir),this.zoomX=Kr,this.zoomY=Ir,!0):!1},setOptions:function(pr){this._setOptions(pr),this._initGradient(pr.fill,"fill"),this._initGradient(pr.stroke,"stroke"),this._initPattern(pr.fill,"fill"),this._initPattern(pr.stroke,"stroke")},transform:function(pr){var mr=this.group&&!this.group._transformDone||this.group&&this.canvas&&pr===this.canvas.contextTop,vr=this.calcTransformMatrix(!mr);pr.transform(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5])},toObject:function(pr){var mr=ir.Object.NUM_FRACTION_DIGITS,vr={type:this.type,version:ir.version,originX:this.originX,originY:this.originY,left:cr(this.left,mr),top:cr(this.top,mr),width:cr(this.width,mr),height:cr(this.height,mr),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:cr(this.strokeWidth,mr),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:cr(this.strokeMiterLimit,mr),scaleX:cr(this.scaleX,mr),scaleY:cr(this.scaleY,mr),angle:cr(this.angle,mr),flipX:this.flipX,flipY:this.flipY,opacity:cr(this.opacity,mr),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:cr(this.skewX,mr),skewY:cr(this.skewY,mr)};return this.clipPath&&!this.clipPath.excludeFromExport&&(vr.clipPath=this.clipPath.toObject(pr),vr.clipPath.inverted=this.clipPath.inverted,vr.clipPath.absolutePositioned=this.clipPath.absolutePositioned),ir.util.populateWithProperties(this,vr,pr),this.includeDefaultValues||(vr=this._removeDefaultValues(vr)),vr},toDatalessObject:function(pr){return this.toObject(pr)},_removeDefaultValues:function(pr){var mr=ir.util.getKlass(pr.type).prototype,vr=mr.stateProperties;return vr.forEach(function(yr){yr==="left"||yr==="top"||(pr[yr]===mr[yr]&&delete pr[yr],Array.isArray(pr[yr])&&Array.isArray(mr[yr])&&pr[yr].length===0&&mr[yr].length===0&&delete pr[yr])}),pr},toString:function(){return"#<fabric."+ur(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var pr=ir.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(pr.scaleX),scaleY:Math.abs(pr.scaleY)}},getTotalObjectScaling:function(){var pr=this.getObjectScaling(),mr=pr.scaleX,vr=pr.scaleY;if(this.canvas){var yr=this.canvas.getZoom(),br=this.canvas.getRetinaScaling();mr*=yr*br,vr*=yr*br}return{scaleX:mr,scaleY:vr}},getObjectOpacity:function(){var pr=this.opacity;return this.group&&(pr*=this.group.getObjectOpacity()),pr},_set:function(pr,mr){var vr=pr==="scaleX"||pr==="scaleY",yr=this[pr]!==mr,br=!1;return vr&&(mr=this._constrainScale(mr)),pr==="scaleX"&&mr<0?(this.flipX=!this.flipX,mr*=-1):pr==="scaleY"&&mr<0?(this.flipY=!this.flipY,mr*=-1):pr==="shadow"&&mr&&!(mr instanceof ir.Shadow)?mr=new ir.Shadow(mr):pr==="dirty"&&this.group&&this.group.set("dirty",mr),this[pr]=mr,yr&&(br=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(pr)>-1?(this.dirty=!0,br&&this.group.set("dirty",!0)):br&&this.stateProperties.indexOf(pr)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:ir.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(pr){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(pr.save(),this._setupCompositeOperation(pr),this.drawSelectionBackground(pr),this.transform(pr),this._setOpacity(pr),this._setShadow(pr,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(pr)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(pr),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),pr.restore())},renderCache:function(pr){pr=pr||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,pr.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(pr,mr){if(pr.save(),mr.inverted?pr.globalCompositeOperation="destination-out":pr.globalCompositeOperation="destination-in",mr.absolutePositioned){var vr=ir.util.invertTransform(this.calcTransformMatrix());pr.transform(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5])}mr.transform(pr),pr.scale(1/mr.zoomX,1/mr.zoomY),pr.drawImage(mr._cacheCanvas,-mr.cacheTranslationX,-mr.cacheTranslationY),pr.restore()},drawObject:function(pr,mr){var vr=this.fill,yr=this.stroke;mr?(this.fill="black",this.stroke="",this._setClippingProperties(pr)):this._renderBackground(pr),this._render(pr),this._drawClipPath(pr,this.clipPath),this.fill=vr,this.stroke=yr},_drawClipPath:function(pr,mr){!mr||(mr.canvas=this.canvas,mr.shouldCache(),mr._transformDone=!0,mr.renderCache({forClipping:!0}),this.drawClipPathOnCache(pr,mr))},drawCacheOnCanvas:function(pr){pr.scale(1/this.zoomX,1/this.zoomY),pr.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(pr){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!pr&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!pr){var mr=this.cacheWidth/this.zoomX,vr=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-mr/2,-vr/2,mr,vr)}return!0}return!1},_renderBackground:function(pr){if(!!this.backgroundColor){var mr=this._getNonTransformedDimensions();pr.fillStyle=this.backgroundColor,pr.fillRect(-mr.x/2,-mr.y/2,mr.x,mr.y),this._removeShadow(pr)}},_setOpacity:function(pr){this.group&&!this.group._transformDone?pr.globalAlpha=this.getObjectOpacity():pr.globalAlpha*=this.opacity},_setStrokeStyles:function(pr,mr){var vr=mr.stroke;vr&&(pr.lineWidth=mr.strokeWidth,pr.lineCap=mr.strokeLineCap,pr.lineDashOffset=mr.strokeDashOffset,pr.lineJoin=mr.strokeLineJoin,pr.miterLimit=mr.strokeMiterLimit,vr.toLive?vr.gradientUnits==="percentage"||vr.gradientTransform||vr.patternTransform?this._applyPatternForTransformedGradient(pr,vr):(pr.strokeStyle=vr.toLive(pr,this),this._applyPatternGradientTransform(pr,vr)):pr.strokeStyle=mr.stroke)},_setFillStyles:function(pr,mr){var vr=mr.fill;vr&&(vr.toLive?(pr.fillStyle=vr.toLive(pr,this),this._applyPatternGradientTransform(pr,mr.fill)):pr.fillStyle=vr)},_setClippingProperties:function(pr){pr.globalAlpha=1,pr.strokeStyle="transparent",pr.fillStyle="#000000"},_setLineDash:function(pr,mr){!mr||mr.length===0||(1&mr.length&&mr.push.apply(mr,mr),pr.setLineDash(mr))},_renderControls:function(pr,mr){var vr=this.getViewportTransform(),yr=this.calcTransformMatrix(),br,xr,Cr;mr=mr||{},xr=typeof mr.hasBorders<"u"?mr.hasBorders:this.hasBorders,Cr=typeof mr.hasControls<"u"?mr.hasControls:this.hasControls,yr=ir.util.multiplyTransformMatrices(vr,yr),br=ir.util.qrDecompose(yr),pr.save(),pr.translate(br.translateX,br.translateY),pr.lineWidth=1*this.borderScaleFactor,this.group||(pr.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(br.angle-=180),pr.rotate(sr(this.group?br.angle:this.angle)),mr.forActiveSelection||this.group?xr&&this.drawBordersInGroup(pr,br,mr):xr&&this.drawBorders(pr,mr),Cr&&this.drawControls(pr,mr),pr.restore()},_setShadow:function(pr){if(!!this.shadow){var mr=this.shadow,vr=this.canvas,yr,br=vr&&vr.viewportTransform[0]||1,xr=vr&&vr.viewportTransform[3]||1;mr.nonScaling?yr={scaleX:1,scaleY:1}:yr=this.getObjectScaling(),vr&&vr._isRetinaScaling()&&(br*=ir.devicePixelRatio,xr*=ir.devicePixelRatio),pr.shadowColor=mr.color,pr.shadowBlur=mr.blur*ir.browserShadowBlurConstant*(br+xr)*(yr.scaleX+yr.scaleY)/4,pr.shadowOffsetX=mr.offsetX*br*yr.scaleX,pr.shadowOffsetY=mr.offsetY*xr*yr.scaleY}},_removeShadow:function(pr){!this.shadow||(pr.shadowColor="",pr.shadowBlur=pr.shadowOffsetX=pr.shadowOffsetY=0)},_applyPatternGradientTransform:function(pr,mr){if(!mr||!mr.toLive)return{offsetX:0,offsetY:0};var vr=mr.gradientTransform||mr.patternTransform,yr=-this.width/2+mr.offsetX||0,br=-this.height/2+mr.offsetY||0;return mr.gradientUnits==="percentage"?pr.transform(this.width,0,0,this.height,yr,br):pr.transform(1,0,0,1,yr,br),vr&&pr.transform(vr[0],vr[1],vr[2],vr[3],vr[4],vr[5]),{offsetX:yr,offsetY:br}},_renderPaintInOrder:function(pr){this.paintFirst==="stroke"?(this._renderStroke(pr),this._renderFill(pr)):(this._renderFill(pr),this._renderStroke(pr))},_render:function(){},_renderFill:function(pr){!this.fill||(pr.save(),this._setFillStyles(pr,this),this.fillRule==="evenodd"?pr.fill("evenodd"):pr.fill(),pr.restore())},_renderStroke:function(pr){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(pr),pr.save(),this.strokeUniform&&this.group){var mr=this.getObjectScaling();pr.scale(1/mr.scaleX,1/mr.scaleY)}else this.strokeUniform&&pr.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(pr,this.strokeDashArray),this._setStrokeStyles(pr,this),pr.stroke(),pr.restore()}},_applyPatternForTransformedGradient:function(pr,mr){var vr=this._limitCacheSize(this._getCacheCanvasDimensions()),yr=ir.util.createCanvasElement(),br,xr=this.canvas.getRetinaScaling(),Cr=vr.x/this.scaleX/xr,kr=vr.y/this.scaleY/xr;yr.width=Cr,yr.height=kr,br=yr.getContext("2d"),br.beginPath(),br.moveTo(0,0),br.lineTo(Cr,0),br.lineTo(Cr,kr),br.lineTo(0,kr),br.closePath(),br.translate(Cr/2,kr/2),br.scale(vr.zoomX/this.scaleX/xr,vr.zoomY/this.scaleY/xr),this._applyPatternGradientTransform(br,mr),br.fillStyle=mr.toLive(pr),br.fill(),pr.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),pr.scale(xr*this.scaleX/vr.zoomX,xr*this.scaleY/vr.zoomY),pr.strokeStyle=br.createPattern(yr,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var pr=ir.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",pr.scaleX),this.set("scaleY",pr.scaleY),this.angle=pr.angle,this.skewX=pr.skewX,this.skewY=0}},_removeTransformMatrix:function(pr){var mr=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),mr=ir.util.transformPoint(mr,this.transformMatrix)),this.transformMatrix=null,pr&&(this.scaleX*=pr.scaleX,this.scaleY*=pr.scaleY,this.cropX=pr.cropX,this.cropY=pr.cropY,mr.x+=pr.offsetLeft,mr.y+=pr.offsetTop,this.width=pr.width,this.height=pr.height),this.setPositionByOrigin(mr,"center","center")},clone:function(pr,mr){var vr=this.toObject(mr);this.constructor.fromObject?this.constructor.fromObject(vr,pr):ir.Object._fromObject("Object",vr,pr)},cloneAsImage:function(pr,mr){var vr=this.toCanvasElement(mr);return pr&&pr(new ir.Image(vr)),this},toCanvasElement:function(pr){pr||(pr={});var mr=ir.util,vr=mr.saveObjectTransform(this),yr=this.group,br=this.shadow,xr=Math.abs,Cr=(pr.multiplier||1)*(pr.enableRetinaScaling?ir.devicePixelRatio:1);delete this.group,pr.withoutTransform&&mr.resetObjectTransform(this),pr.withoutShadow&&(this.shadow=null);var kr=ir.util.createCanvasElement(),Pr=this.getBoundingRect(!0,!0),$r=this.shadow,Kr,Ir={x:0,y:0},jr,Jr,zr;$r&&(jr=$r.blur,$r.nonScaling?Kr={scaleX:1,scaleY:1}:Kr=this.getObjectScaling(),Ir.x=2*Math.round(xr($r.offsetX)+jr)*xr(Kr.scaleX),Ir.y=2*Math.round(xr($r.offsetY)+jr)*xr(Kr.scaleY)),Jr=Pr.width+Ir.x,zr=Pr.height+Ir.y,kr.width=Math.ceil(Jr),kr.height=Math.ceil(zr);var Hr=new ir.StaticCanvas(kr,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});pr.format==="jpeg"&&(Hr.backgroundColor="#fff"),this.setPositionByOrigin(new ir.Point(Hr.width/2,Hr.height/2),"center","center");var Yr=this.canvas;Hr.add(this);var nn=Hr.toCanvasElement(Cr||1,pr);return this.shadow=br,this.set("canvas",Yr),yr&&(this.group=yr),this.set(vr).setCoords(),Hr._objects=[],Hr.dispose(),Hr=null,nn},toDataURL:function(pr){return pr||(pr={}),ir.util.toDataURL(this.toCanvasElement(pr),pr.format||"png",pr.quality||1)},isType:function(pr){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===pr},complexity:function(){return 1},toJSON:function(pr){return this.toObject(pr)},rotate:function(pr){var mr=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return mr&&this._setOriginToCenter(),this.set("angle",pr),mr&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(pr,mr){mr=mr||this.canvas.getPointer(pr);var vr=new ir.Point(mr.x,mr.y),yr=this._getLeftTopCoords();return this.angle&&(vr=ir.util.rotatePoint(vr,yr,sr(-this.angle))),{x:vr.x-yr.x,y:vr.y-yr.y}},_setupCompositeOperation:function(pr){this.globalCompositeOperation&&(pr.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){ir.runningAnimations&&ir.runningAnimations.cancelByTarget(this)}}),ir.util.createAccessors&&ir.util.createAccessors(ir.Object),lr(ir.Object.prototype,ir.Observable),ir.Object.NUM_FRACTION_DIGITS=2,ir.Object.ENLIVEN_PROPS=["clipPath"],ir.Object._fromObject=function(pr,mr,vr,yr){var br=ir[pr];mr=fr(mr,!0),ir.util.enlivenPatterns([mr.fill,mr.stroke],function(xr){typeof xr[0]<"u"&&(mr.fill=xr[0]),typeof xr[1]<"u"&&(mr.stroke=xr[1]),ir.util.enlivenObjectEnlivables(mr,mr,function(){var Cr=yr?new br(mr[yr],mr):new br(mr);vr&&vr(Cr)})})},ir.Object.__uid=0)}(St),function(){var or=er.util.degreesToRadians,ir={left:-.5,center:0,right:.5},lr={top:-.5,center:0,bottom:.5};er.util.object.extend(er.Object.prototype,{translateToGivenOrigin:function(fr,cr,ur,sr,hr){var gr=fr.x,pr=fr.y,mr,vr,yr;return typeof cr=="string"?cr=ir[cr]:cr-=.5,typeof sr=="string"?sr=ir[sr]:sr-=.5,mr=sr-cr,typeof ur=="string"?ur=lr[ur]:ur-=.5,typeof hr=="string"?hr=lr[hr]:hr-=.5,vr=hr-ur,(mr||vr)&&(yr=this._getTransformedDimensions(),gr=fr.x+mr*yr.x,pr=fr.y+vr*yr.y),new er.Point(gr,pr)},translateToCenterPoint:function(fr,cr,ur){var sr=this.translateToGivenOrigin(fr,cr,ur,"center","center");return this.angle?er.util.rotatePoint(sr,fr,or(this.angle)):sr},translateToOriginPoint:function(fr,cr,ur){var sr=this.translateToGivenOrigin(fr,"center","center",cr,ur);return this.angle?er.util.rotatePoint(sr,fr,or(this.angle)):sr},getCenterPoint:function(){var fr=new er.Point(this.left,this.top);return this.translateToCenterPoint(fr,this.originX,this.originY)},getPointByOrigin:function(fr,cr){var ur=this.getCenterPoint();return this.translateToOriginPoint(ur,fr,cr)},toLocalPoint:function(fr,cr,ur){var sr=this.getCenterPoint(),hr,gr;return typeof cr<"u"&&typeof ur<"u"?hr=this.translateToGivenOrigin(sr,"center","center",cr,ur):hr=new er.Point(this.left,this.top),gr=new er.Point(fr.x,fr.y),this.angle&&(gr=er.util.rotatePoint(gr,sr,-or(this.angle))),gr.subtractEquals(hr)},setPositionByOrigin:function(fr,cr,ur){var sr=this.translateToCenterPoint(fr,cr,ur),hr=this.translateToOriginPoint(sr,this.originX,this.originY);this.set("left",hr.x),this.set("top",hr.y)},adjustPosition:function(fr){var cr=or(this.angle),ur=this.getScaledWidth(),sr=er.util.cos(cr)*ur,hr=er.util.sin(cr)*ur,gr,pr;typeof this.originX=="string"?gr=ir[this.originX]:gr=this.originX-.5,typeof fr=="string"?pr=ir[fr]:pr=fr-.5,this.left+=sr*(pr-gr),this.top+=hr*(pr-gr),this.setCoords(),this.originX=fr},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var fr=this.getCenterPoint();this.originX="center",this.originY="center",this.left=fr.x,this.top=fr.y},_resetOrigin:function(){var fr=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=fr.x,this.top=fr.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function or(ur){return[new er.Point(ur.tl.x,ur.tl.y),new er.Point(ur.tr.x,ur.tr.y),new er.Point(ur.br.x,ur.br.y),new er.Point(ur.bl.x,ur.bl.y)]}var ir=er.util,lr=ir.degreesToRadians,fr=ir.multiplyTransformMatrices,cr=ir.transformPoint;ir.object.extend(er.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(ur,sr){return sr?ur?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),ur?this.aCoords:this.lineCoords)},getCoords:function(ur,sr){return or(this._getCoords(ur,sr))},intersectsWithRect:function(ur,sr,hr,gr){var pr=this.getCoords(hr,gr),mr=er.Intersection.intersectPolygonRectangle(pr,ur,sr);return mr.status==="Intersection"},intersectsWithObject:function(ur,sr,hr){var gr=er.Intersection.intersectPolygonPolygon(this.getCoords(sr,hr),ur.getCoords(sr,hr));return gr.status==="Intersection"||ur.isContainedWithinObject(this,sr,hr)||this.isContainedWithinObject(ur,sr,hr)},isContainedWithinObject:function(ur,sr,hr){for(var gr=this.getCoords(sr,hr),pr=sr?ur.aCoords:ur.lineCoords,mr=0,vr=ur._getImageLines(pr);mr<4;mr++)if(!ur.containsPoint(gr[mr],vr))return!1;return!0},isContainedWithinRect:function(ur,sr,hr,gr){var pr=this.getBoundingRect(hr,gr);return pr.left>=ur.x&&pr.left+pr.width<=sr.x&&pr.top>=ur.y&&pr.top+pr.height<=sr.y},containsPoint:function(ur,mr,hr,gr){var pr=this._getCoords(hr,gr),mr=mr||this._getImageLines(pr),vr=this._findCrossPoints(ur,mr);return vr!==0&&vr%2===1},isOnScreen:function(ur){if(!this.canvas)return!1;var sr=this.canvas.vptCoords.tl,hr=this.canvas.vptCoords.br,gr=this.getCoords(!0,ur);return gr.some(function(pr){return pr.x<=hr.x&&pr.x>=sr.x&&pr.y<=hr.y&&pr.y>=sr.y})||this.intersectsWithRect(sr,hr,!0,ur)?!0:this._containsCenterOfCanvas(sr,hr,ur)},_containsCenterOfCanvas:function(ur,sr,hr){var gr={x:(ur.x+sr.x)/2,y:(ur.y+sr.y)/2};return!!this.containsPoint(gr,null,!0,hr)},isPartiallyOnScreen:function(ur){if(!this.canvas)return!1;var sr=this.canvas.vptCoords.tl,hr=this.canvas.vptCoords.br;if(this.intersectsWithRect(sr,hr,!0,ur))return!0;var gr=this.getCoords(!0,ur).every(function(pr){return(pr.x>=hr.x||pr.x<=sr.x)&&(pr.y>=hr.y||pr.y<=sr.y)});return gr&&this._containsCenterOfCanvas(sr,hr,ur)},_getImageLines:function(ur){var sr={topline:{o:ur.tl,d:ur.tr},rightline:{o:ur.tr,d:ur.br},bottomline:{o:ur.br,d:ur.bl},leftline:{o:ur.bl,d:ur.tl}};return sr},_findCrossPoints:function(ur,sr){var hr,gr,pr,mr,vr,yr=0,br;for(var xr in sr)if(br=sr[xr],!(br.o.y<ur.y&&br.d.y<ur.y)&&!(br.o.y>=ur.y&&br.d.y>=ur.y)&&(br.o.x===br.d.x&&br.o.x>=ur.x?vr=br.o.x:(hr=0,gr=(br.d.y-br.o.y)/(br.d.x-br.o.x),pr=ur.y-hr*ur.x,mr=br.o.y-gr*br.o.x,vr=-(pr-mr)/(hr-gr)),vr>=ur.x&&(yr+=1),yr===2))break;return yr},getBoundingRect:function(ur,sr){var hr=this.getCoords(ur,sr);return ir.makeBoundingBoxFromPoints(hr)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(ur){return Math.abs(ur)<this.minScaleLimit?ur<0?-this.minScaleLimit:this.minScaleLimit:ur===0?1e-4:ur},scale:function(ur){return this._set("scaleX",ur),this._set("scaleY",ur),this.setCoords()},scaleToWidth:function(ur,sr){var hr=this.getBoundingRect(sr).width/this.getScaledWidth();return this.scale(ur/this.width/hr)},scaleToHeight:function(ur,sr){var hr=this.getBoundingRect(sr).height/this.getScaledHeight();return this.scale(ur/this.height/hr)},calcLineCoords:function(){var ur=this.getViewportTransform(),sr=this.padding,hr=lr(this.angle),gr=ir.cos(hr),pr=ir.sin(hr),mr=gr*sr,vr=pr*sr,yr=mr+vr,br=mr-vr,xr=this.calcACoords(),Cr={tl:cr(xr.tl,ur),tr:cr(xr.tr,ur),bl:cr(xr.bl,ur),br:cr(xr.br,ur)};return sr&&(Cr.tl.x-=br,Cr.tl.y-=yr,Cr.tr.x+=yr,Cr.tr.y-=br,Cr.bl.x-=yr,Cr.bl.y+=br,Cr.br.x+=br,Cr.br.y+=yr),Cr},calcOCoords:function(){var ur=this._calcRotateMatrix(),sr=this._calcTranslateMatrix(),hr=this.getViewportTransform(),gr=fr(hr,sr),pr=fr(gr,ur),pr=fr(pr,[1/hr[0],0,0,1/hr[3],0,0]),mr=this._calculateCurrentDimensions(),vr={};return this.forEachControl(function(yr,br,xr){vr[br]=yr.positionHandler(mr,pr,xr)}),vr},calcACoords:function(){var ur=this._calcRotateMatrix(),sr=this._calcTranslateMatrix(),hr=fr(sr,ur),gr=this._getTransformedDimensions(),pr=gr.x/2,mr=gr.y/2;return{tl:cr({x:-pr,y:-mr},hr),tr:cr({x:pr,y:-mr},hr),bl:cr({x:-pr,y:mr},hr),br:cr({x:pr,y:mr},hr)}},setCoords:function(ur){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),ur?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return ir.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var ur=this.getCenterPoint();return[1,0,0,1,ur.x,ur.y]},transformMatrixKey:function(ur){var sr="_",hr="";return!ur&&this.group&&(hr=this.group.transformMatrixKey(ur)+sr),hr+this.top+sr+this.left+sr+this.scaleX+sr+this.scaleY+sr+this.skewX+sr+this.skewY+sr+this.angle+sr+this.originX+sr+this.originY+sr+this.width+sr+this.height+sr+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(ur){var sr=this.calcOwnMatrix();if(ur||!this.group)return sr;var hr=this.transformMatrixKey(ur),gr=this.matrixCache||(this.matrixCache={});return gr.key===hr?gr.value:(this.group&&(sr=fr(this.group.calcTransformMatrix(!1),sr)),gr.key=hr,gr.value=sr,sr)},calcOwnMatrix:function(){var ur=this.transformMatrixKey(!0),sr=this.ownMatrixCache||(this.ownMatrixCache={});if(sr.key===ur)return sr.value;var hr=this._calcTranslateMatrix(),gr={angle:this.angle,translateX:hr[4],translateY:hr[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return sr.key=ur,sr.value=ir.composeMatrix(gr),sr.value},_getNonTransformedDimensions:function(){var ur=this.strokeWidth,sr=this.width+ur,hr=this.height+ur;return{x:sr,y:hr}},_getTransformedDimensions:function(ur,sr){typeof ur>"u"&&(ur=this.skewX),typeof sr>"u"&&(sr=this.skewY);var hr,gr,pr,mr=ur===0&&sr===0;if(this.strokeUniform?(gr=this.width,pr=this.height):(hr=this._getNonTransformedDimensions(),gr=hr.x,pr=hr.y),mr)return this._finalizeDimensions(gr*this.scaleX,pr*this.scaleY);var vr=ir.sizeAfterTransform(gr,pr,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:ur,skewY:sr});return this._finalizeDimensions(vr.x,vr.y)},_finalizeDimensions:function(ur,sr){return this.strokeUniform?{x:ur+this.strokeWidth,y:sr+this.strokeWidth}:{x:ur,y:sr}},_calculateCurrentDimensions:function(){var ur=this.getViewportTransform(),sr=this._getTransformedDimensions(),hr=cr(sr,ur,!0);return hr.scalarAdd(2*this.padding)}})}(),er.util.object.extend(er.Object.prototype,{sendToBack:function(){return this.group?er.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?er.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(or){return this.group?er.StaticCanvas.prototype.sendBackwards.call(this.group,this,or):this.canvas&&this.canvas.sendBackwards(this,or),this},bringForward:function(or){return this.group?er.StaticCanvas.prototype.bringForward.call(this.group,this,or):this.canvas&&this.canvas.bringForward(this,or),this},moveTo:function(or){return this.group&&this.group.type!=="activeSelection"?er.StaticCanvas.prototype.moveTo.call(this.group,this,or):this.canvas&&this.canvas.moveTo(this,or),this}}),function(){function or(lr,fr){if(fr){if(fr.toLive)return lr+": url(#SVGID_"+fr.id+"); ";var cr=new er.Color(fr),ur=lr+": "+cr.toRgb()+"; ",sr=cr.getAlpha();return sr!==1&&(ur+=lr+"-opacity: "+sr.toString()+"; "),ur}else return lr+": none; "}var ir=er.util.toFixed;er.util.object.extend(er.Object.prototype,{getSvgStyles:function(lr){var fr=this.fillRule?this.fillRule:"nonzero",cr=this.strokeWidth?this.strokeWidth:"0",ur=this.strokeDashArray?this.strokeDashArray.join(" "):"none",sr=this.strokeDashOffset?this.strokeDashOffset:"0",hr=this.strokeLineCap?this.strokeLineCap:"butt",gr=this.strokeLineJoin?this.strokeLineJoin:"miter",pr=this.strokeMiterLimit?this.strokeMiterLimit:"4",mr=typeof this.opacity<"u"?this.opacity:"1",vr=this.visible?"":" visibility: hidden;",yr=lr?"":this.getSvgFilter(),br=or("fill",this.fill),xr=or("stroke",this.stroke);return[xr,"stroke-width: ",cr,"; ","stroke-dasharray: ",ur,"; ","stroke-linecap: ",hr,"; ","stroke-dashoffset: ",sr,"; ","stroke-linejoin: ",gr,"; ","stroke-miterlimit: ",pr,"; ",br,"fill-rule: ",fr,"; ","opacity: ",mr,";",yr,vr].join("")},getSvgSpanStyles:function(lr,fr){var cr="; ",sr=lr.fontFamily?"font-family: "+(lr.fontFamily.indexOf("'")===-1&&lr.fontFamily.indexOf('"')===-1?"'"+lr.fontFamily+"'":lr.fontFamily)+cr:"",ur=lr.strokeWidth?"stroke-width: "+lr.strokeWidth+cr:"",sr=sr,hr=lr.fontSize?"font-size: "+lr.fontSize+"px"+cr:"",gr=lr.fontStyle?"font-style: "+lr.fontStyle+cr:"",pr=lr.fontWeight?"font-weight: "+lr.fontWeight+cr:"",mr=lr.fill?or("fill",lr.fill):"",vr=lr.stroke?or("stroke",lr.stroke):"",yr=this.getSvgTextDecoration(lr),br=lr.deltaY?"baseline-shift: "+-lr.deltaY+"; ":"";return yr&&(yr="text-decoration: "+yr+cr),[vr,ur,sr,hr,gr,pr,yr,mr,br,fr?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(lr){return["overline","underline","line-through"].filter(function(fr){return lr[fr.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(lr,fr){var cr=lr?this.calcTransformMatrix():this.calcOwnMatrix(),ur='transform="'+er.util.matrixToSVG(cr);return ur+(fr||"")+'" '},_setSVGBg:function(lr){if(this.backgroundColor){var fr=er.Object.NUM_FRACTION_DIGITS;lr.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',ir(-this.width/2,fr),'" y="',ir(-this.height/2,fr),'" width="',ir(this.width,fr),'" height="',ir(this.height,fr),`"></rect>
`)}},toSVG:function(lr){return this._createBaseSVGMarkup(this._toSVG(lr),{reviver:lr})},toClipPathSVG:function(lr){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(lr),{reviver:lr})},_createBaseClipPathSVGMarkup:function(lr,fr){fr=fr||{};var cr=fr.reviver,ur=fr.additionalTransform||"",sr=[this.getSvgTransform(!0,ur),this.getSvgCommons()].join(""),hr=lr.indexOf("COMMON_PARTS");return lr[hr]=sr,cr?cr(lr.join("")):lr.join("")},_createBaseSVGMarkup:function(lr,fr){fr=fr||{};var cr=fr.noStyle,ur=fr.reviver,sr=cr?"":'style="'+this.getSvgStyles()+'" ',hr=fr.withShadow?'style="'+this.getSvgFilter()+'" ':"",gr=this.clipPath,pr=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",mr=gr&&gr.absolutePositioned,vr=this.stroke,yr=this.fill,br=this.shadow,xr,Cr=[],kr,Pr=lr.indexOf("COMMON_PARTS"),$r=fr.additionalTransform;return gr&&(gr.clipPathId="CLIPPATH_"+er.Object.__uid++,kr='<clipPath id="'+gr.clipPathId+`" >
`+gr.toClipPathSVG(ur)+`</clipPath>
`),mr&&Cr.push("<g ",hr,this.getSvgCommons(),` >
`),Cr.push("<g ",this.getSvgTransform(!1),mr?"":hr+this.getSvgCommons(),` >
`),xr=[sr,pr,cr?"":this.addPaintOrder()," ",$r?'transform="'+$r+'" ':""].join(""),lr[Pr]=xr,yr&&yr.toLive&&Cr.push(yr.toSVG(this)),vr&&vr.toLive&&Cr.push(vr.toSVG(this)),br&&Cr.push(br.toSVG(this)),gr&&Cr.push(kr),Cr.push(lr.join("")),Cr.push(`</g>
`),mr&&Cr.push(`</g>
`),ur?ur(Cr.join("")):Cr.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var or=er.util.object.extend,ir="stateProperties";function lr(cr,ur,sr){var hr={},gr=!0;sr.forEach(function(pr){hr[pr]=cr[pr]}),or(cr[ur],hr,gr)}function fr(cr,ur,sr){if(cr===ur)return!0;if(Array.isArray(cr)){if(!Array.isArray(ur)||cr.length!==ur.length)return!1;for(var hr=0,gr=cr.length;hr<gr;hr++)if(!fr(cr[hr],ur[hr]))return!1;return!0}else if(cr&&typeof cr=="object"){var pr=Object.keys(cr),mr;if(!ur||typeof ur!="object"||!sr&&pr.length!==Object.keys(ur).length)return!1;for(var hr=0,gr=pr.length;hr<gr;hr++)if(mr=pr[hr],!(mr==="canvas"||mr==="group")&&!fr(cr[mr],ur[mr]))return!1;return!0}}er.util.object.extend(er.Object.prototype,{hasStateChanged:function(cr){cr=cr||ir;var ur="_"+cr;return Object.keys(this[ur]).length<this[cr].length?!0:!fr(this[ur],this,!0)},saveState:function(cr){var ur=cr&&cr.propertySet||ir,sr="_"+ur;return this[sr]?(lr(this,sr,this[ur]),cr&&cr.stateProperties&&lr(this,sr,cr.stateProperties),this):this.setupState(cr)},setupState:function(cr){cr=cr||{};var ur=cr.propertySet||ir;return cr.propertySet=ur,this["_"+ur]={},this.saveState(cr),this}})}(),function(){var or=er.util.degreesToRadians;er.util.object.extend(er.Object.prototype,{_findTargetCorner:function(ir,lr){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var fr=ir.x,cr=ir.y,ur,sr,hr=Object.keys(this.oCoords),gr=hr.length-1,pr;for(this.__corner=0;gr>=0;gr--)if(pr=hr[gr],!!this.isControlVisible(pr)&&(sr=this._getImageLines(lr?this.oCoords[pr].touchCorner:this.oCoords[pr].corner),ur=this._findCrossPoints({x:fr,y:cr},sr),ur!==0&&ur%2===1))return this.__corner=pr,pr;return!1},forEachControl:function(ir){for(var lr in this.controls)ir(this.controls[lr],lr,this)},_setCornerCoords:function(){var ir=this.oCoords;for(var lr in ir){var fr=this.controls[lr];ir[lr].corner=fr.calcCornerCoords(this.angle,this.cornerSize,ir[lr].x,ir[lr].y,!1),ir[lr].touchCorner=fr.calcCornerCoords(this.angle,this.touchCornerSize,ir[lr].x,ir[lr].y,!0)}},drawSelectionBackground:function(ir){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;ir.save();var lr=this.getCenterPoint(),fr=this._calculateCurrentDimensions(),cr=this.canvas.viewportTransform;return ir.translate(lr.x,lr.y),ir.scale(1/cr[0],1/cr[3]),ir.rotate(or(this.angle)),ir.fillStyle=this.selectionBackgroundColor,ir.fillRect(-fr.x/2,-fr.y/2,fr.x,fr.y),ir.restore(),this},drawBorders:function(ir,lr){lr=lr||{};var fr=this._calculateCurrentDimensions(),cr=this.borderScaleFactor,ur=fr.x+cr,sr=fr.y+cr,hr=typeof lr.hasControls<"u"?lr.hasControls:this.hasControls,gr=!1;return ir.save(),ir.strokeStyle=lr.borderColor||this.borderColor,this._setLineDash(ir,lr.borderDashArray||this.borderDashArray),ir.strokeRect(-ur/2,-sr/2,ur,sr),hr&&(ir.beginPath(),this.forEachControl(function(pr,mr,vr){pr.withConnection&&pr.getVisibility(vr,mr)&&(gr=!0,ir.moveTo(pr.x*ur,pr.y*sr),ir.lineTo(pr.x*ur+pr.offsetX,pr.y*sr+pr.offsetY))}),gr&&ir.stroke()),ir.restore(),this},drawBordersInGroup:function(ir,lr,fr){fr=fr||{};var cr=er.util.sizeAfterTransform(this.width,this.height,lr),ur=this.strokeWidth,sr=this.strokeUniform,hr=this.borderScaleFactor,gr=cr.x+ur*(sr?this.canvas.getZoom():lr.scaleX)+hr,pr=cr.y+ur*(sr?this.canvas.getZoom():lr.scaleY)+hr;return ir.save(),this._setLineDash(ir,fr.borderDashArray||this.borderDashArray),ir.strokeStyle=fr.borderColor||this.borderColor,ir.strokeRect(-gr/2,-pr/2,gr,pr),ir.restore(),this},drawControls:function(ir,lr){lr=lr||{},ir.save();var fr=this.canvas.getRetinaScaling(),cr,ur;return ir.setTransform(fr,0,0,fr,0,0),ir.strokeStyle=ir.fillStyle=lr.cornerColor||this.cornerColor,this.transparentCorners||(ir.strokeStyle=lr.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(ir,lr.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(cr=this.group.calcTransformMatrix()),this.forEachControl(function(sr,hr,gr){ur=gr.oCoords[hr],sr.getVisibility(gr,hr)&&(cr&&(ur=er.util.transformPoint(ur,cr)),sr.render(ir,ur.x,ur.y,lr,gr))}),ir.restore(),this},isControlVisible:function(ir){return this.controls[ir]&&this.controls[ir].getVisibility(this,ir)},setControlVisible:function(ir,lr){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[ir]=lr,this},setControlsVisibility:function(ir){ir||(ir={});for(var lr in ir)this.setControlVisible(lr,ir[lr]);return this},onDeselect:function(){},onSelect:function(){}})}(),er.util.object.extend(er.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(or,ir){ir=ir||{};var lr=function(){},fr=ir.onComplete||lr,cr=ir.onChange||lr,ur=this;return er.util.animate({target:this,startValue:or.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(sr){or.set("left",sr),ur.requestRenderAll(),cr()},onComplete:function(){or.setCoords(),fr()}})},fxCenterObjectV:function(or,ir){ir=ir||{};var lr=function(){},fr=ir.onComplete||lr,cr=ir.onChange||lr,ur=this;return er.util.animate({target:this,startValue:or.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(sr){or.set("top",sr),ur.requestRenderAll(),cr()},onComplete:function(){or.setCoords(),fr()}})},fxRemove:function(or,ir){ir=ir||{};var lr=function(){},fr=ir.onComplete||lr,cr=ir.onChange||lr,ur=this;return er.util.animate({target:this,startValue:or.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(sr){or.set("opacity",sr),ur.requestRenderAll(),cr()},onComplete:function(){ur.remove(or),fr()}})}}),er.util.object.extend(er.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var or=[],ir,lr,fr=[];for(ir in arguments[0])or.push(ir);for(var cr=0,ur=or.length;cr<ur;cr++)ir=or[cr],lr=cr!==ur-1,fr.push(this._animate(ir,arguments[0][ir],arguments[1],lr));return fr}else return this._animate.apply(this,arguments)},_animate:function(or,ir,lr,fr){var cr=this,ur;ir=ir.toString(),lr?lr=er.util.object.clone(lr):lr={},~or.indexOf(".")&&(ur=or.split("."));var sr=cr.colorProperties.indexOf(or)>-1||ur&&cr.colorProperties.indexOf(ur[1])>-1,hr=ur?this.get(ur[0])[ur[1]]:this.get(or);"from"in lr||(lr.from=hr),sr||(~ir.indexOf("=")?ir=hr+parseFloat(ir.replace("=","")):ir=parseFloat(ir));var gr={target:this,startValue:lr.from,endValue:ir,byValue:lr.by,easing:lr.easing,duration:lr.duration,abort:lr.abort&&function(pr,mr,vr){return lr.abort.call(cr,pr,mr,vr)},onChange:function(pr,mr,vr){ur?cr[ur[0]][ur[1]]=pr:cr.set(or,pr),!fr&&lr.onChange&&lr.onChange(pr,mr,vr)},onComplete:function(pr,mr,vr){fr||(cr.setCoords(),lr.onComplete&&lr.onComplete(pr,mr,vr))}};return sr?er.util.animateColor(gr.startValue,gr.endValue,gr.duration,gr):er.util.animate(gr)}}),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.util.object.clone,cr={x1:1,x2:1,y1:1,y2:1};if(ir.Line){ir.warn("fabric.Line is already defined");return}ir.Line=ir.util.createClass(ir.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:ir.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(sr,hr){sr||(sr=[0,0,0,0]),this.callSuper("initialize",hr),this.set("x1",sr[0]),this.set("y1",sr[1]),this.set("x2",sr[2]),this.set("y2",sr[3]),this._setWidthHeight(hr)},_setWidthHeight:function(sr){sr||(sr={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in sr?sr.left:this._getLeftToOriginX(),this.top="top"in sr?sr.top:this._getTopToOriginY()},_set:function(sr,hr){return this.callSuper("_set",sr,hr),typeof cr[sr]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:ur({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:ur({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(sr){sr.beginPath();var hr=this.calcLinePoints();sr.moveTo(hr.x1,hr.y1),sr.lineTo(hr.x2,hr.y2),sr.lineWidth=this.strokeWidth;var gr=sr.strokeStyle;sr.strokeStyle=this.stroke||sr.fillStyle,this.stroke&&this._renderStroke(sr),sr.strokeStyle=gr},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(sr){return lr(this.callSuper("toObject",sr),this.calcLinePoints())},_getNonTransformedDimensions:function(){var sr=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(sr.y-=this.strokeWidth),this.height===0&&(sr.x-=this.strokeWidth)),sr},calcLinePoints:function(){var sr=this.x1<=this.x2?-1:1,hr=this.y1<=this.y2?-1:1,gr=sr*this.width*.5,pr=hr*this.height*.5,mr=sr*this.width*-.5,vr=hr*this.height*-.5;return{x1:gr,x2:mr,y1:pr,y2:vr}},_toSVG:function(){var sr=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',sr.x1,'" y1="',sr.y1,'" x2="',sr.x2,'" y2="',sr.y2,`" />
`]}}),ir.Line.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),ir.Line.fromElement=function(sr,hr,gr){gr=gr||{};var pr=ir.parseAttributes(sr,ir.Line.ATTRIBUTE_NAMES),mr=[pr.x1||0,pr.y1||0,pr.x2||0,pr.y2||0];hr(new ir.Line(mr,lr(pr,gr)))},ir.Line.fromObject=function(sr,hr){function gr(mr){delete mr.points,hr&&hr(mr)}var pr=fr(sr,!0);pr.points=[sr.x1,sr.y1,sr.x2,sr.y2],ir.Object._fromObject("Line",pr,gr,"points")};function ur(sr,hr){var gr=sr.origin,pr=sr.axis1,mr=sr.axis2,vr=sr.dimension,yr=hr.nearest,br=hr.center,xr=hr.farthest;return function(){switch(this.get(gr)){case yr:return Math.min(this.get(pr),this.get(mr));case br:return Math.min(this.get(pr),this.get(mr))+.5*this.get(vr);case xr:return Math.max(this.get(pr),this.get(mr))}}}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.degreesToRadians;if(ir.Circle){ir.warn("fabric.Circle is already defined.");return}ir.Circle=ir.util.createClass(ir.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:ir.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(cr,ur){return this.callSuper("_set",cr,ur),cr==="radius"&&this.setRadius(ur),this},toObject:function(cr){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(cr))},_toSVG:function(){var cr,ur=0,sr=0,hr=(this.endAngle-this.startAngle)%360;if(hr===0)cr=["<circle ","COMMON_PARTS",'cx="'+ur+'" cy="'+sr+'" ','r="',this.radius,`" />
`];else{var gr=lr(this.startAngle),pr=lr(this.endAngle),mr=this.radius,vr=ir.util.cos(gr)*mr,yr=ir.util.sin(gr)*mr,br=ir.util.cos(pr)*mr,xr=ir.util.sin(pr)*mr,Cr=hr>180?"1":"0";cr=['<path d="M '+vr+" "+yr," A "+mr+" "+mr," 0 ",+Cr+" 1"," "+br+" "+xr,'" ',"COMMON_PARTS",` />
`]}return cr},_render:function(cr){cr.beginPath(),cr.arc(0,0,this.radius,lr(this.startAngle),lr(this.endAngle),!1),this._renderPaintInOrder(cr)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(cr){return this.radius=cr,this.set("width",cr*2).set("height",cr*2)}}),ir.Circle.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),ir.Circle.fromElement=function(cr,ur){var sr=ir.parseAttributes(cr,ir.Circle.ATTRIBUTE_NAMES);if(!fr(sr))throw new Error("value of `r` attribute is required and can not be negative");sr.left=(sr.left||0)-sr.radius,sr.top=(sr.top||0)-sr.radius,ur(new ir.Circle(sr))};function fr(cr){return"radius"in cr&&cr.radius>=0}ir.Circle.fromObject=function(cr,ur){ir.Object._fromObject("Circle",cr,ur)}}(St),function(or){var ir=or.fabric||(or.fabric={});if(ir.Triangle){ir.warn("fabric.Triangle is already defined");return}ir.Triangle=ir.util.createClass(ir.Object,{type:"triangle",width:100,height:100,_render:function(lr){var fr=this.width/2,cr=this.height/2;lr.beginPath(),lr.moveTo(-fr,cr),lr.lineTo(0,-cr),lr.lineTo(fr,cr),lr.closePath(),this._renderPaintInOrder(lr)},_toSVG:function(){var lr=this.width/2,fr=this.height/2,cr=[-lr+" "+fr,"0 "+-fr,lr+" "+fr].join(",");return["<polygon ","COMMON_PARTS",'points="',cr,'" />']}}),ir.Triangle.fromObject=function(lr,fr){return ir.Object._fromObject("Triangle",lr,fr)}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=Math.PI*2;if(ir.Ellipse){ir.warn("fabric.Ellipse is already defined.");return}ir.Ellipse=ir.util.createClass(ir.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:ir.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(fr){this.callSuper("initialize",fr),this.set("rx",fr&&fr.rx||0),this.set("ry",fr&&fr.ry||0)},_set:function(fr,cr){switch(this.callSuper("_set",fr,cr),fr){case"rx":this.rx=cr,this.set("width",cr*2);break;case"ry":this.ry=cr,this.set("height",cr*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(fr){return this.callSuper("toObject",["rx","ry"].concat(fr))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(fr){fr.beginPath(),fr.save(),fr.transform(1,0,0,this.ry/this.rx,0,0),fr.arc(0,0,this.rx,0,lr,!1),fr.restore(),this._renderPaintInOrder(fr)}}),ir.Ellipse.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),ir.Ellipse.fromElement=function(fr,cr){var ur=ir.parseAttributes(fr,ir.Ellipse.ATTRIBUTE_NAMES);ur.left=(ur.left||0)-ur.rx,ur.top=(ur.top||0)-ur.ry,cr(new ir.Ellipse(ur))},ir.Ellipse.fromObject=function(fr,cr){ir.Object._fromObject("Ellipse",fr,cr)}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend;if(ir.Rect){ir.warn("fabric.Rect is already defined");return}ir.Rect=ir.util.createClass(ir.Object,{stateProperties:ir.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:ir.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(fr){this.callSuper("initialize",fr),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(fr){var cr=this.rx?Math.min(this.rx,this.width/2):0,ur=this.ry?Math.min(this.ry,this.height/2):0,sr=this.width,hr=this.height,gr=-this.width/2,pr=-this.height/2,mr=cr!==0||ur!==0,vr=1-.5522847498;fr.beginPath(),fr.moveTo(gr+cr,pr),fr.lineTo(gr+sr-cr,pr),mr&&fr.bezierCurveTo(gr+sr-vr*cr,pr,gr+sr,pr+vr*ur,gr+sr,pr+ur),fr.lineTo(gr+sr,pr+hr-ur),mr&&fr.bezierCurveTo(gr+sr,pr+hr-vr*ur,gr+sr-vr*cr,pr+hr,gr+sr-cr,pr+hr),fr.lineTo(gr+cr,pr+hr),mr&&fr.bezierCurveTo(gr+vr*cr,pr+hr,gr,pr+hr-vr*ur,gr,pr+hr-ur),fr.lineTo(gr,pr+ur),mr&&fr.bezierCurveTo(gr,pr+vr*ur,gr+vr*cr,pr,gr+cr,pr),fr.closePath(),this._renderPaintInOrder(fr)},toObject:function(fr){return this.callSuper("toObject",["rx","ry"].concat(fr))},_toSVG:function(){var fr=-this.width/2,cr=-this.height/2;return["<rect ","COMMON_PARTS",'x="',fr,'" y="',cr,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),ir.Rect.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),ir.Rect.fromElement=function(fr,cr,ur){if(!fr)return cr(null);ur=ur||{};var sr=ir.parseAttributes(fr,ir.Rect.ATTRIBUTE_NAMES);sr.left=sr.left||0,sr.top=sr.top||0,sr.height=sr.height||0,sr.width=sr.width||0;var hr=new ir.Rect(lr(ur?ir.util.object.clone(ur):{},sr));hr.visible=hr.visible&&hr.width>0&&hr.height>0,cr(hr)},ir.Rect.fromObject=function(fr,cr){return ir.Object._fromObject("Rect",fr,cr)}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.util.array.min,cr=ir.util.array.max,ur=ir.util.toFixed,sr=ir.util.projectStrokeOnPoints;if(ir.Polyline){ir.warn("fabric.Polyline is already defined");return}ir.Polyline=ir.util.createClass(ir.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:ir.Object.prototype.cacheProperties.concat("points"),initialize:function(hr,gr){gr=gr||{},this.points=hr||[],this.callSuper("initialize",gr),this._setPositionDimensions(gr)},_projectStrokeOnPoints:function(){return sr(this.points,this,!0)},_setPositionDimensions:function(hr){var gr=this._calcDimensions(hr),pr,mr=this.exactBoundingBox?this.strokeWidth:0;this.width=gr.width-mr,this.height=gr.height-mr,hr.fromSVG||(pr=this.translateToGivenOrigin({x:gr.left-this.strokeWidth/2+mr/2,y:gr.top-this.strokeWidth/2+mr/2},"left","top",this.originX,this.originY)),typeof hr.left>"u"&&(this.left=hr.fromSVG?gr.left:pr.x),typeof hr.top>"u"&&(this.top=hr.fromSVG?gr.top:pr.y),this.pathOffset={x:gr.left+this.width/2+mr/2,y:gr.top+this.height/2+mr/2}},_calcDimensions:function(){var hr=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,gr=fr(hr,"x")||0,pr=fr(hr,"y")||0,mr=cr(hr,"x")||0,vr=cr(hr,"y")||0,yr=mr-gr,br=vr-pr;return{left:gr,top:pr,width:yr,height:br}},toObject:function(hr){return lr(this.callSuper("toObject",hr),{points:this.points.concat()})},_toSVG:function(){for(var hr=[],gr=this.pathOffset.x,pr=this.pathOffset.y,mr=ir.Object.NUM_FRACTION_DIGITS,vr=0,yr=this.points.length;vr<yr;vr++)hr.push(ur(this.points[vr].x-gr,mr),",",ur(this.points[vr].y-pr,mr)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',hr.join(""),`" />
`]},commonRender:function(hr){var gr,pr=this.points.length,mr=this.pathOffset.x,vr=this.pathOffset.y;if(!pr||isNaN(this.points[pr-1].y))return!1;hr.beginPath(),hr.moveTo(this.points[0].x-mr,this.points[0].y-vr);for(var yr=0;yr<pr;yr++)gr=this.points[yr],hr.lineTo(gr.x-mr,gr.y-vr);return!0},_render:function(hr){!this.commonRender(hr)||this._renderPaintInOrder(hr)},complexity:function(){return this.get("points").length}}),ir.Polyline.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat(),ir.Polyline.fromElementGenerator=function(hr){return function(gr,pr,mr){if(!gr)return pr(null);mr||(mr={});var vr=ir.parsePointsAttribute(gr.getAttribute("points")),yr=ir.parseAttributes(gr,ir[hr].ATTRIBUTE_NAMES);yr.fromSVG=!0,pr(new ir[hr](vr,lr(yr,mr)))}},ir.Polyline.fromElement=ir.Polyline.fromElementGenerator("Polyline"),ir.Polyline.fromObject=function(hr,gr){return ir.Object._fromObject("Polyline",hr,gr,"points")}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.projectStrokeOnPoints;if(ir.Polygon){ir.warn("fabric.Polygon is already defined");return}ir.Polygon=ir.util.createClass(ir.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return lr(this.points,this)},_render:function(fr){!this.commonRender(fr)||(fr.closePath(),this._renderPaintInOrder(fr))}}),ir.Polygon.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat(),ir.Polygon.fromElement=ir.Polyline.fromElementGenerator("Polygon"),ir.Polygon.fromObject=function(fr,cr){ir.Object._fromObject("Polygon",fr,cr,"points")}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.array.min,fr=ir.util.array.max,cr=ir.util.object.extend,ur=ir.util.object.clone,sr=ir.util.toFixed;if(ir.Path){ir.warn("fabric.Path is already defined");return}ir.Path=ir.util.createClass(ir.Object,{type:"path",path:null,cacheProperties:ir.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:ir.Object.prototype.stateProperties.concat("path"),initialize:function(hr,gr){gr=ur(gr||{}),delete gr.path,this.callSuper("initialize",gr),this._setPath(hr||[],gr)},_setPath:function(hr,gr){this.path=ir.util.makePathSimpler(Array.isArray(hr)?hr:ir.util.parsePath(hr)),ir.Polyline.prototype._setPositionDimensions.call(this,gr||{})},_renderPathCommands:function(hr){var gr,pr=0,mr=0,vr=0,yr=0,br=0,xr=0,Cr=-this.pathOffset.x,kr=-this.pathOffset.y;hr.beginPath();for(var Pr=0,$r=this.path.length;Pr<$r;++Pr)switch(gr=this.path[Pr],gr[0]){case"L":vr=gr[1],yr=gr[2],hr.lineTo(vr+Cr,yr+kr);break;case"M":vr=gr[1],yr=gr[2],pr=vr,mr=yr,hr.moveTo(vr+Cr,yr+kr);break;case"C":vr=gr[5],yr=gr[6],br=gr[3],xr=gr[4],hr.bezierCurveTo(gr[1]+Cr,gr[2]+kr,br+Cr,xr+kr,vr+Cr,yr+kr);break;case"Q":hr.quadraticCurveTo(gr[1]+Cr,gr[2]+kr,gr[3]+Cr,gr[4]+kr),vr=gr[3],yr=gr[4],br=gr[1],xr=gr[2];break;case"z":case"Z":vr=pr,yr=mr,hr.closePath();break}},_render:function(hr){this._renderPathCommands(hr),this._renderPaintInOrder(hr)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(hr){return cr(this.callSuper("toObject",hr),{path:this.path.map(function(gr){return gr.slice()})})},toDatalessObject:function(hr){var gr=this.toObject(["sourcePath"].concat(hr));return gr.sourcePath&&delete gr.path,gr},_toSVG:function(){var hr=ir.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',hr,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var hr=ir.Object.NUM_FRACTION_DIGITS;return" translate("+sr(-this.pathOffset.x,hr)+", "+sr(-this.pathOffset.y,hr)+")"},toClipPathSVG:function(hr){var gr=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:hr,additionalTransform:gr})},toSVG:function(hr){var gr=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:hr,additionalTransform:gr})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var hr=[],gr=[],pr,mr=0,vr=0,yr=0,br=0,xr,Cr=0,kr=this.path.length;Cr<kr;++Cr){switch(pr=this.path[Cr],pr[0]){case"L":yr=pr[1],br=pr[2],xr=[];break;case"M":yr=pr[1],br=pr[2],mr=yr,vr=br,xr=[];break;case"C":xr=ir.util.getBoundsOfCurve(yr,br,pr[1],pr[2],pr[3],pr[4],pr[5],pr[6]),yr=pr[5],br=pr[6];break;case"Q":xr=ir.util.getBoundsOfCurve(yr,br,pr[1],pr[2],pr[1],pr[2],pr[3],pr[4]),yr=pr[3],br=pr[4];break;case"z":case"Z":yr=mr,br=vr;break}xr.forEach(function(zr){hr.push(zr.x),gr.push(zr.y)}),hr.push(yr),gr.push(br)}var Pr=lr(hr)||0,$r=lr(gr)||0,Kr=fr(hr)||0,Ir=fr(gr)||0,jr=Kr-Pr,Jr=Ir-$r;return{left:Pr,top:$r,width:jr,height:Jr}}}),ir.Path.fromObject=function(hr,gr){if(typeof hr.sourcePath=="string"){var pr=hr.sourcePath;ir.loadSVGFromURL(pr,function(mr){var vr=mr[0];vr.setOptions(hr),hr.clipPath?ir.util.enlivenObjects([hr.clipPath],function(yr){vr.clipPath=yr[0],gr&&gr(vr)}):gr&&gr(vr)})}else ir.Object._fromObject("Path",hr,gr,"path")},ir.Path.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat(["d"]),ir.Path.fromElement=function(hr,gr,pr){var mr=ir.parseAttributes(hr,ir.Path.ATTRIBUTE_NAMES);mr.fromSVG=!0,gr(new ir.Path(mr.d,cr(mr,pr)))}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.array.min,fr=ir.util.array.max;ir.Group||(ir.Group=ir.util.createClass(ir.Object,ir.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(cr,ur,sr){ur=ur||{},this._objects=[],sr&&this.callSuper("initialize",ur),this._objects=cr||[];for(var hr=this._objects.length;hr--;)this._objects[hr].group=this;if(sr)this._updateObjectsACoords();else{var gr=ur&&ur.centerPoint;ur.originX!==void 0&&(this.originX=ur.originX),ur.originY!==void 0&&(this.originY=ur.originY),gr||this._calcBounds(),this._updateObjectsCoords(gr),delete ur.centerPoint,this.callSuper("initialize",ur)}this.setCoords()},_updateObjectsACoords:function(){for(var cr=!0,ur=this._objects.length;ur--;)this._objects[ur].setCoords(cr)},_updateObjectsCoords:function(ur){for(var ur=ur||this.getCenterPoint(),sr=this._objects.length;sr--;)this._updateObjectCoords(this._objects[sr],ur)},_updateObjectCoords:function(cr,ur){var sr=cr.left,hr=cr.top,gr=!0;cr.set({left:sr-ur.x,top:hr-ur.y}),cr.group=this,cr.setCoords(gr)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(cr){var ur=!!this.group;return this._restoreObjectsState(),ir.util.resetObjectTransform(this),cr&&(ur&&ir.util.removeTransformFromObject(cr,this.group.calcTransformMatrix()),this._objects.push(cr),cr.group=this,cr._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,ur?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(cr){return this._restoreObjectsState(),ir.util.resetObjectTransform(this),this.remove(cr),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(cr){this.dirty=!0,cr.group=this,cr._set("canvas",this.canvas)},_onObjectRemoved:function(cr){this.dirty=!0,delete cr.group},_set:function(cr,ur){var sr=this._objects.length;if(this.useSetOnGroup)for(;sr--;)this._objects[sr].setOnGroup(cr,ur);if(cr==="canvas")for(;sr--;)this._objects[sr]._set(cr,ur);ir.Object.prototype._set.call(this,cr,ur)},toObject:function(cr){var ur=this.includeDefaultValues,sr=this._objects.filter(function(gr){return!gr.excludeFromExport}).map(function(gr){var pr=gr.includeDefaultValues;gr.includeDefaultValues=ur;var mr=gr.toObject(cr);return gr.includeDefaultValues=pr,mr}),hr=ir.Object.prototype.toObject.call(this,cr);return hr.objects=sr,hr},toDatalessObject:function(cr){var ur,sr=this.sourcePath;if(sr)ur=sr;else{var hr=this.includeDefaultValues;ur=this._objects.map(function(pr){var mr=pr.includeDefaultValues;pr.includeDefaultValues=hr;var vr=pr.toDatalessObject(cr);return pr.includeDefaultValues=mr,vr})}var gr=ir.Object.prototype.toDatalessObject.call(this,cr);return gr.objects=ur,gr},render:function(cr){this._transformDone=!0,this.callSuper("render",cr),this._transformDone=!1},shouldCache:function(){var cr=ir.Object.prototype.shouldCache.call(this);if(cr){for(var ur=0,sr=this._objects.length;ur<sr;ur++)if(this._objects[ur].willDrawShadow())return this.ownCaching=!1,!1}return cr},willDrawShadow:function(){if(ir.Object.prototype.willDrawShadow.call(this))return!0;for(var cr=0,ur=this._objects.length;cr<ur;cr++)if(this._objects[cr].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(cr){for(var ur=0,sr=this._objects.length;ur<sr;ur++)this._objects[ur].render(cr);this._drawClipPath(cr,this.clipPath)},isCacheDirty:function(cr){if(this.callSuper("isCacheDirty",cr))return!0;if(!this.statefullCache)return!1;for(var ur=0,sr=this._objects.length;ur<sr;ur++)if(this._objects[ur].isCacheDirty(!0)){if(this._cacheCanvas){var hr=this.cacheWidth/this.zoomX,gr=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-hr/2,-gr/2,hr,gr)}return!0}return!1},_restoreObjectsState:function(){var cr=this.calcOwnMatrix();return this._objects.forEach(function(ur){ir.util.addTransformToObject(ur,cr),delete ur.group,ur.setCoords()}),this},destroy:function(){return this._objects.forEach(function(cr){cr.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(cr){cr.dispose&&cr.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var cr=this._objects,ur=this.canvas;this._objects=[];var sr=this.toObject();delete sr.objects;var hr=new ir.ActiveSelection([]);return hr.set(sr),hr.type="activeSelection",ur.remove(this),cr.forEach(function(gr){gr.group=hr,gr.dirty=!0,ur.add(gr)}),hr.canvas=ur,hr._objects=cr,ur._activeObject=hr,hr.setCoords(),hr}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var cr=!0;return this.forEachObject(function(ur){ur.setCoords(cr)}),this},_calcBounds:function(cr){for(var ur=[],sr=[],hr,gr,pr,mr=["tr","br","bl","tl"],vr=0,yr=this._objects.length,br,xr=mr.length;vr<yr;++vr){for(hr=this._objects[vr],pr=hr.calcACoords(),br=0;br<xr;br++)gr=mr[br],ur.push(pr[gr].x),sr.push(pr[gr].y);hr.aCoords=pr}this._getBounds(ur,sr,cr)},_getBounds:function(cr,ur,sr){var hr=new ir.Point(lr(cr),lr(ur)),gr=new ir.Point(fr(cr),fr(ur)),pr=hr.y||0,mr=hr.x||0,vr=gr.x-hr.x||0,yr=gr.y-hr.y||0;this.width=vr,this.height=yr,sr||this.setPositionByOrigin({x:mr,y:pr},"left","top")},_toSVG:function(cr){for(var ur=["<g ","COMMON_PARTS",` >
`],sr=0,hr=this._objects.length;sr<hr;sr++)ur.push("		",this._objects[sr].toSVG(cr));return ur.push(`</g>
`),ur},getSvgStyles:function(){var cr=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",ur=this.visible?"":" visibility: hidden;";return[cr,this.getSvgFilter(),ur].join("")},toClipPathSVG:function(cr){for(var ur=[],sr=0,hr=this._objects.length;sr<hr;sr++)ur.push("	",this._objects[sr].toClipPathSVG(cr));return this._createBaseClipPathSVGMarkup(ur,{reviver:cr})}}),ir.Group.fromObject=function(cr,ur){var sr=cr.objects,hr=ir.util.object.clone(cr,!0);if(delete hr.objects,typeof sr=="string"){ir.loadSVGFromURL(sr,function(gr){var pr=ir.util.groupSVGElements(gr,cr,sr),mr=hr.clipPath;delete hr.clipPath,pr.set(hr),mr?ir.util.enlivenObjects([mr],function(vr){pr.clipPath=vr[0],ur&&ur(pr)}):ur&&ur(pr)});return}ir.util.enlivenObjects(sr,function(gr){ir.util.enlivenObjectEnlivables(cr,hr,function(){ur&&ur(new ir.Group(gr,hr,!0))})})})}(St),function(or){var ir=or.fabric||(or.fabric={});ir.ActiveSelection||(ir.ActiveSelection=ir.util.createClass(ir.Group,{type:"activeSelection",initialize:function(lr,fr){fr=fr||{},this._objects=lr||[];for(var cr=this._objects.length;cr--;)this._objects[cr].group=this;fr.originX&&(this.originX=fr.originX),fr.originY&&(this.originY=fr.originY),this._calcBounds(),this._updateObjectsCoords(),ir.Object.prototype.initialize.call(this,fr),this.setCoords()},toGroup:function(){var lr=this._objects.concat();this._objects=[];var fr=ir.Object.prototype.toObject.call(this),cr=new ir.Group([]);if(delete fr.type,cr.set(fr),lr.forEach(function(sr){sr.canvas.remove(sr),sr.group=cr}),cr._objects=lr,!this.canvas)return cr;var ur=this.canvas;return ur.add(cr),ur._activeObject=cr,cr.setCoords(),cr},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(lr,fr,cr){lr.save(),lr.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",lr,fr),cr=cr||{},typeof cr.hasControls>"u"&&(cr.hasControls=!1),cr.forActiveSelection=!0;for(var ur=0,sr=this._objects.length;ur<sr;ur++)this._objects[ur]._renderControls(lr,cr);lr.restore()}}),ir.ActiveSelection.fromObject=function(lr,fr){ir.util.enlivenObjects(lr.objects,function(cr){delete lr.objects,fr&&fr(new ir.ActiveSelection(cr,lr,!0))})})}(St),function(or){var ir=er.util.object.extend;if(or.fabric||(or.fabric={}),or.fabric.Image){er.warn("fabric.Image is already defined.");return}er.Image=er.util.createClass(er.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:er.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:er.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(lr,fr){fr||(fr={}),this.filters=[],this.cacheKey="texture"+er.Object.__uid++,this.callSuper("initialize",fr),this._initElement(lr,fr)},getElement:function(){return this._element||{}},setElement:function(lr,fr){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=lr,this._originalElement=lr,this._initConfig(fr),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(lr){var fr=er.filterBackend;fr&&fr.evictCachesForKey&&fr.evictCachesForKey(lr)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(lr){er.util.cleanUpJsdomNode(this[lr]),this[lr]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var lr=this.getElement();return{width:lr.naturalWidth||lr.width,height:lr.naturalHeight||lr.height}},_stroke:function(lr){if(!(!this.stroke||this.strokeWidth===0)){var fr=this.width/2,cr=this.height/2;lr.beginPath(),lr.moveTo(-fr,-cr),lr.lineTo(fr,-cr),lr.lineTo(fr,cr),lr.lineTo(-fr,cr),lr.lineTo(-fr,-cr),lr.closePath()}},toObject:function(lr){var fr=[];this.filters.forEach(function(ur){ur&&fr.push(ur.toObject())});var cr=ir(this.callSuper("toObject",["cropX","cropY"].concat(lr)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:fr});return this.resizeFilter&&(cr.resizeFilter=this.resizeFilter.toObject()),cr},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var lr=[],fr=[],cr,ur=this._element,sr=-this.width/2,hr=-this.height/2,gr="",pr="";if(!ur)return[];if(this.hasCrop()){var mr=er.Object.__uid++;lr.push('<clipPath id="imageCrop_'+mr+`">
`,'	<rect x="'+sr+'" y="'+hr+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),gr=' clip-path="url(#imageCrop_'+mr+')" '}if(this.imageSmoothing||(pr='" image-rendering="optimizeSpeed'),fr.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',sr-this.cropX,'" y="',hr-this.cropY,'" width="',ur.width||ur.naturalWidth,'" height="',ur.height||ur.height,pr,'"',gr,`></image>
`),this.stroke||this.strokeDashArray){var vr=this.fill;this.fill=null,cr=["	<rect ",'x="',sr,'" y="',hr,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=vr}return this.paintFirst!=="fill"?lr=lr.concat(cr,fr):lr=lr.concat(fr,cr),lr},getSrc:function(lr){var fr=lr?this._element:this._originalElement;return fr?fr.toDataURL?fr.toDataURL():this.srcFromAttribute?fr.getAttribute("src"):fr.src:this.src||""},setSrc:function(lr,fr,cr){return er.util.loadImage(lr,function(ur,sr){this.setElement(ur,cr),this._setWidthHeight(),fr&&fr(this,sr)},this,cr&&cr.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var lr=this.resizeFilter,fr=this.minimumScaleTrigger,cr=this.getTotalObjectScaling(),ur=cr.scaleX,sr=cr.scaleY,hr=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!lr||ur>fr&&sr>fr){this._element=hr,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=ur,this._lastScaleY=sr;return}er.filterBackend||(er.filterBackend=er.initFilterBackend());var gr=er.util.createCanvasElement(),pr=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,mr=hr.width,vr=hr.height;gr.width=mr,gr.height=vr,this._element=gr,this._lastScaleX=lr.scaleX=ur,this._lastScaleY=lr.scaleY=sr,er.filterBackend.applyFilters([lr],hr,mr,vr,this._element,pr),this._filterScalingX=gr.width/this._originalElement.width,this._filterScalingY=gr.height/this._originalElement.height},applyFilters:function(lr){if(lr=lr||this.filters||[],lr=lr.filter(function(hr){return hr&&!hr.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),lr.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var fr=this._originalElement,cr=fr.naturalWidth||fr.width,ur=fr.naturalHeight||fr.height;if(this._element===this._originalElement){var sr=er.util.createCanvasElement();sr.width=cr,sr.height=ur,this._element=sr,this._filteredEl=sr}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,cr,ur),this._lastScaleX=1,this._lastScaleY=1;return er.filterBackend||(er.filterBackend=er.initFilterBackend()),er.filterBackend.applyFilters(lr,this._originalElement,cr,ur,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(lr){er.util.setImageSmoothing(lr,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(lr),this._renderPaintInOrder(lr)},drawCacheOnCanvas:function(lr){er.util.setImageSmoothing(lr,this.imageSmoothing),er.Object.prototype.drawCacheOnCanvas.call(this,lr)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(lr){var fr=this._element;if(!!fr){var cr=this._filterScalingX,ur=this._filterScalingY,sr=this.width,hr=this.height,gr=Math.min,pr=Math.max,mr=pr(this.cropX,0),vr=pr(this.cropY,0),yr=fr.naturalWidth||fr.width,br=fr.naturalHeight||fr.height,xr=mr*cr,Cr=vr*ur,kr=gr(sr*cr,yr-xr),Pr=gr(hr*ur,br-Cr),$r=-sr/2,Kr=-hr/2,Ir=gr(sr,yr/cr-mr),jr=gr(hr,br/ur-vr);fr&&lr.drawImage(fr,xr,Cr,kr,Pr,$r,Kr,Ir,jr)}},_needsResize:function(){var lr=this.getTotalObjectScaling();return lr.scaleX!==this._lastScaleX||lr.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(lr,fr){this.setElement(er.util.getById(lr),fr),er.util.addClass(this.getElement(),er.Image.CSS_CANVAS)},_initConfig:function(lr){lr||(lr={}),this.setOptions(lr),this._setWidthHeight(lr)},_initFilters:function(lr,fr){lr&&lr.length?er.util.enlivenObjects(lr,function(cr){fr&&fr(cr)},"fabric.Image.filters"):fr&&fr()},_setWidthHeight:function(lr){lr||(lr={});var fr=this.getElement();this.width=lr.width||fr.naturalWidth||fr.width||0,this.height=lr.height||fr.naturalHeight||fr.height||0},parsePreserveAspectRatioAttribute:function(){var lr=er.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),fr=this._element.width,cr=this._element.height,ur=1,sr=1,hr=0,gr=0,pr=0,mr=0,vr,yr=this.width,br=this.height,xr={width:yr,height:br};return lr&&(lr.alignX!=="none"||lr.alignY!=="none")?(lr.meetOrSlice==="meet"&&(ur=sr=er.util.findScaleToFit(this._element,xr),vr=(yr-fr*ur)/2,lr.alignX==="Min"&&(hr=-vr),lr.alignX==="Max"&&(hr=vr),vr=(br-cr*sr)/2,lr.alignY==="Min"&&(gr=-vr),lr.alignY==="Max"&&(gr=vr)),lr.meetOrSlice==="slice"&&(ur=sr=er.util.findScaleToCover(this._element,xr),vr=fr-yr/ur,lr.alignX==="Mid"&&(pr=vr/2),lr.alignX==="Max"&&(pr=vr),vr=cr-br/sr,lr.alignY==="Mid"&&(mr=vr/2),lr.alignY==="Max"&&(mr=vr),fr=yr/ur,cr=br/sr)):(ur=yr/fr,sr=br/cr),{width:fr,height:cr,scaleX:ur,scaleY:sr,offsetLeft:hr,offsetTop:gr,cropX:pr,cropY:mr}}}),er.Image.CSS_CANVAS="canvas-img",er.Image.prototype.getSvgSrc=er.Image.prototype.getSrc,er.Image.fromObject=function(lr,fr){var cr=er.util.object.clone(lr);er.util.loadImage(cr.src,function(ur,sr){if(sr){fr&&fr(null,!0);return}er.Image.prototype._initFilters.call(cr,cr.filters,function(hr){cr.filters=hr||[],er.Image.prototype._initFilters.call(cr,[cr.resizeFilter],function(gr){cr.resizeFilter=gr[0],er.util.enlivenObjectEnlivables(cr,cr,function(){var pr=new er.Image(ur,cr);fr(pr,!1)})})})},null,cr.crossOrigin)},er.Image.fromURL=function(lr,fr,cr){er.util.loadImage(lr,function(ur,sr){fr&&fr(new er.Image(ur,cr),sr)},null,cr&&cr.crossOrigin)},er.Image.ATTRIBUTE_NAMES=er.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),er.Image.fromElement=function(lr,fr,cr){var ur=er.parseAttributes(lr,er.Image.ATTRIBUTE_NAMES);er.Image.fromURL(ur["xlink:href"],fr,ir(cr?er.util.object.clone(cr):{},ur))}}(St),er.util.object.extend(er.Object.prototype,{_getAngleValueForStraighten:function(){var or=this.angle%360;return or>0?Math.round((or-1)/90)*90:Math.round(or/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(or){or=or||{};var ir=function(){},lr=or.onComplete||ir,fr=or.onChange||ir,cr=this;return er.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(ur){cr.rotate(ur),fr()},onComplete:function(){cr.setCoords(),lr()}})}}),er.util.object.extend(er.StaticCanvas.prototype,{straightenObject:function(or){return or.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(or){return or.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function or(lr,fr){var cr="precision "+fr+` float;
void main(){}`,ur=lr.createShader(lr.FRAGMENT_SHADER);return lr.shaderSource(ur,cr),lr.compileShader(ur),!!lr.getShaderParameter(ur,lr.COMPILE_STATUS)}er.isWebglSupported=function(lr){if(er.isLikelyNode)return!1;lr=lr||er.WebglFilterBackend.prototype.tileSize;var fr=document.createElement("canvas"),cr=fr.getContext("webgl")||fr.getContext("experimental-webgl"),ur=!1;if(cr){er.maxTextureSize=cr.getParameter(cr.MAX_TEXTURE_SIZE),ur=er.maxTextureSize>=lr;for(var sr=["highp","mediump","lowp"],hr=0;hr<3;hr++)if(or(cr,sr[hr])){er.webGlPrecision=sr[hr];break}}return this.isSupported=ur,ur},er.WebglFilterBackend=ir;function ir(lr){lr&&lr.tileSize&&(this.tileSize=lr.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}ir.prototype={tileSize:2048,resources:{},setupGLContext:function(lr,fr){this.dispose(),this.createWebGLCanvas(lr,fr),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(lr,fr)},chooseFastestCopyGLTo2DMethod:function(lr,fr){var cr=typeof window.performance<"u",ur;try{new ImageData(1,1),ur=!0}catch{ur=!1}var sr=typeof ArrayBuffer<"u",hr=typeof Uint8ClampedArray<"u";if(!!(cr&&ur&&sr&&hr)){var gr=er.util.createCanvasElement(),pr=new ArrayBuffer(lr*fr*4);if(er.forceGLPutImageData){this.imageBuffer=pr,this.copyGLTo2D=dr;return}var mr={imageBuffer:pr,destinationWidth:lr,destinationHeight:fr,targetCanvas:gr},vr,yr,br;gr.width=lr,gr.height=fr,vr=window.performance.now(),ar.call(mr,this.gl,mr),yr=window.performance.now()-vr,vr=window.performance.now(),dr.call(mr,this.gl,mr),br=window.performance.now()-vr,yr>br?(this.imageBuffer=pr,this.copyGLTo2D=dr):this.copyGLTo2D=ar}},createWebGLCanvas:function(lr,fr){var cr=er.util.createCanvasElement();cr.width=lr,cr.height=fr;var ur={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},sr=cr.getContext("webgl",ur);sr||(sr=cr.getContext("experimental-webgl",ur)),sr&&(sr.clearColor(0,0,0,0),this.canvas=cr,this.gl=sr)},applyFilters:function(lr,fr,cr,ur,sr,hr){var gr=this.gl,pr;hr&&(pr=this.getCachedTexture(hr,fr));var mr={originalWidth:fr.width||fr.originalWidth,originalHeight:fr.height||fr.originalHeight,sourceWidth:cr,sourceHeight:ur,destinationWidth:cr,destinationHeight:ur,context:gr,sourceTexture:this.createTexture(gr,cr,ur,!pr&&fr),targetTexture:this.createTexture(gr,cr,ur),originalTexture:pr||this.createTexture(gr,cr,ur,!pr&&fr),passes:lr.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:sr},vr=gr.createFramebuffer();return gr.bindFramebuffer(gr.FRAMEBUFFER,vr),lr.forEach(function(yr){yr&&yr.applyTo(mr)}),nr(mr),this.copyGLTo2D(gr,mr),gr.bindTexture(gr.TEXTURE_2D,null),gr.deleteTexture(mr.sourceTexture),gr.deleteTexture(mr.targetTexture),gr.deleteFramebuffer(vr),sr.getContext("2d").setTransform(1,0,0,1,0,0),mr},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(lr,fr,cr,ur){var sr=lr.createTexture();return lr.bindTexture(lr.TEXTURE_2D,sr),lr.texParameteri(lr.TEXTURE_2D,lr.TEXTURE_MAG_FILTER,lr.NEAREST),lr.texParameteri(lr.TEXTURE_2D,lr.TEXTURE_MIN_FILTER,lr.NEAREST),lr.texParameteri(lr.TEXTURE_2D,lr.TEXTURE_WRAP_S,lr.CLAMP_TO_EDGE),lr.texParameteri(lr.TEXTURE_2D,lr.TEXTURE_WRAP_T,lr.CLAMP_TO_EDGE),ur?lr.texImage2D(lr.TEXTURE_2D,0,lr.RGBA,lr.RGBA,lr.UNSIGNED_BYTE,ur):lr.texImage2D(lr.TEXTURE_2D,0,lr.RGBA,fr,cr,0,lr.RGBA,lr.UNSIGNED_BYTE,null),sr},getCachedTexture:function(lr,fr){if(this.textureCache[lr])return this.textureCache[lr];var cr=this.createTexture(this.gl,fr.width,fr.height,fr);return this.textureCache[lr]=cr,cr},evictCachesForKey:function(lr){this.textureCache[lr]&&(this.gl.deleteTexture(this.textureCache[lr]),delete this.textureCache[lr])},copyGLTo2D:ar,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var lr=this.gl,fr={renderer:"",vendor:""};if(!lr)return fr;var cr=lr.getExtension("WEBGL_debug_renderer_info");if(cr){var ur=lr.getParameter(cr.UNMASKED_RENDERER_WEBGL),sr=lr.getParameter(cr.UNMASKED_VENDOR_WEBGL);ur&&(fr.renderer=ur.toLowerCase()),sr&&(fr.vendor=sr.toLowerCase())}return this.gpuInfo=fr,fr}}}();function nr(or){var ir=or.targetCanvas,lr=ir.width,fr=ir.height,cr=or.destinationWidth,ur=or.destinationHeight;(lr!==cr||fr!==ur)&&(ir.width=cr,ir.height=ur)}function ar(or,ir){var lr=or.canvas,fr=ir.targetCanvas,cr=fr.getContext("2d");cr.translate(0,fr.height),cr.scale(1,-1);var ur=lr.height-fr.height;cr.drawImage(lr,0,ur,fr.width,fr.height,0,0,fr.width,fr.height)}function dr(or,ir){var lr=ir.targetCanvas,fr=lr.getContext("2d"),cr=ir.destinationWidth,ur=ir.destinationHeight,sr=cr*ur*4,hr=new Uint8Array(this.imageBuffer,0,sr),gr=new Uint8ClampedArray(this.imageBuffer,0,sr);or.readPixels(0,0,cr,ur,or.RGBA,or.UNSIGNED_BYTE,hr);var pr=new ImageData(gr,cr,ur);fr.putImageData(pr,0,0)}(function(){var or=function(){};er.Canvas2dFilterBackend=ir;function ir(){}ir.prototype={evictCachesForKey:or,dispose:or,clearWebGLCaches:or,resources:{},applyFilters:function(lr,fr,cr,ur,sr){var hr=sr.getContext("2d");hr.drawImage(fr,0,0,cr,ur);var gr=hr.getImageData(0,0,cr,ur),pr=hr.getImageData(0,0,cr,ur),mr={sourceWidth:cr,sourceHeight:ur,imageData:gr,originalEl:fr,originalImageData:pr,canvasEl:sr,ctx:hr,filterBackend:this};return lr.forEach(function(vr){vr.applyTo(mr)}),(mr.imageData.width!==cr||mr.imageData.height!==ur)&&(sr.width=mr.imageData.width,sr.height=mr.imageData.height),hr.putImageData(mr.imageData,0,0),mr}}})(),er.Image=er.Image||{},er.Image.filters=er.Image.filters||{},er.Image.filters.BaseFilter=er.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(or){or&&this.setOptions(or)},setOptions:function(or){for(var ir in or)this[ir]=or[ir]},createProgram:function(or,ir,lr){ir=ir||this.fragmentSource,lr=lr||this.vertexSource,er.webGlPrecision!=="highp"&&(ir=ir.replace(/precision highp float/g,"precision "+er.webGlPrecision+" float"));var fr=or.createShader(or.VERTEX_SHADER);if(or.shaderSource(fr,lr),or.compileShader(fr),!or.getShaderParameter(fr,or.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+or.getShaderInfoLog(fr));var cr=or.createShader(or.FRAGMENT_SHADER);if(or.shaderSource(cr,ir),or.compileShader(cr),!or.getShaderParameter(cr,or.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+or.getShaderInfoLog(cr));var ur=or.createProgram();if(or.attachShader(ur,fr),or.attachShader(ur,cr),or.linkProgram(ur),!or.getProgramParameter(ur,or.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+or.getProgramInfoLog(ur));var sr=this.getAttributeLocations(or,ur),hr=this.getUniformLocations(or,ur)||{};return hr.uStepW=or.getUniformLocation(ur,"uStepW"),hr.uStepH=or.getUniformLocation(ur,"uStepH"),{program:ur,attributeLocations:sr,uniformLocations:hr}},getAttributeLocations:function(or,ir){return{aPosition:or.getAttribLocation(ir,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(or,ir,lr){var fr=ir.aPosition,cr=or.createBuffer();or.bindBuffer(or.ARRAY_BUFFER,cr),or.enableVertexAttribArray(fr),or.vertexAttribPointer(fr,2,or.FLOAT,!1,0,0),or.bufferData(or.ARRAY_BUFFER,lr,or.STATIC_DRAW)},_setupFrameBuffer:function(or){var ir=or.context,lr,fr;or.passes>1?(lr=or.destinationWidth,fr=or.destinationHeight,(or.sourceWidth!==lr||or.sourceHeight!==fr)&&(ir.deleteTexture(or.targetTexture),or.targetTexture=or.filterBackend.createTexture(ir,lr,fr)),ir.framebufferTexture2D(ir.FRAMEBUFFER,ir.COLOR_ATTACHMENT0,ir.TEXTURE_2D,or.targetTexture,0)):(ir.bindFramebuffer(ir.FRAMEBUFFER,null),ir.finish())},_swapTextures:function(or){or.passes--,or.pass++;var ir=or.targetTexture;or.targetTexture=or.sourceTexture,or.sourceTexture=ir},isNeutralState:function(){var or=this.mainParameter,ir=er.Image.filters[this.type].prototype;if(or)if(Array.isArray(ir[or])){for(var lr=ir[or].length;lr--;)if(this[or][lr]!==ir[or][lr])return!1;return!0}else return ir[or]===this[or];else return!1},applyTo:function(or){or.webgl?(this._setupFrameBuffer(or),this.applyToWebGL(or),this._swapTextures(or)):this.applyTo2d(or)},retrieveShader:function(or){return or.programCache.hasOwnProperty(this.type)||(or.programCache[this.type]=this.createProgram(or.context)),or.programCache[this.type]},applyToWebGL:function(or){var ir=or.context,lr=this.retrieveShader(or);or.pass===0&&or.originalTexture?ir.bindTexture(ir.TEXTURE_2D,or.originalTexture):ir.bindTexture(ir.TEXTURE_2D,or.sourceTexture),ir.useProgram(lr.program),this.sendAttributeData(ir,lr.attributeLocations,or.aPosition),ir.uniform1f(lr.uniformLocations.uStepW,1/or.sourceWidth),ir.uniform1f(lr.uniformLocations.uStepH,1/or.sourceHeight),this.sendUniformData(ir,lr.uniformLocations),ir.viewport(0,0,or.destinationWidth,or.destinationHeight),ir.drawArrays(ir.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(or,ir,lr){or.activeTexture(lr),or.bindTexture(or.TEXTURE_2D,ir),or.activeTexture(or.TEXTURE0)},unbindAdditionalTexture:function(or,ir){or.activeTexture(ir),or.bindTexture(or.TEXTURE_2D,null),or.activeTexture(or.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(or){this[this.mainParameter]=or},sendUniformData:function(){},createHelpLayer:function(or){if(!or.helpLayer){var ir=document.createElement("canvas");ir.width=or.sourceWidth,ir.height=or.sourceHeight,or.helpLayer=ir}},toObject:function(){var or={type:this.type},ir=this.mainParameter;return ir&&(or[ir]=this[ir]),or},toJSON:function(){return this.toObject()}}),er.Image.filters.BaseFilter.fromObject=function(or,ir){var lr=new er.Image.filters[or.type](or);return ir&&ir(lr),lr},function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.ColorMatrix=fr(lr.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(cr){this.callSuper("initialize",cr),this.matrix=this.matrix.slice(0)},applyTo2d:function(cr){var ur=cr.imageData,sr=ur.data,hr=sr.length,gr=this.matrix,pr,mr,vr,yr,br,xr=this.colorsOnly;for(br=0;br<hr;br+=4)pr=sr[br],mr=sr[br+1],vr=sr[br+2],xr?(sr[br]=pr*gr[0]+mr*gr[1]+vr*gr[2]+gr[4]*255,sr[br+1]=pr*gr[5]+mr*gr[6]+vr*gr[7]+gr[9]*255,sr[br+2]=pr*gr[10]+mr*gr[11]+vr*gr[12]+gr[14]*255):(yr=sr[br+3],sr[br]=pr*gr[0]+mr*gr[1]+vr*gr[2]+yr*gr[3]+gr[4]*255,sr[br+1]=pr*gr[5]+mr*gr[6]+vr*gr[7]+yr*gr[8]+gr[9]*255,sr[br+2]=pr*gr[10]+mr*gr[11]+vr*gr[12]+yr*gr[13]+gr[14]*255,sr[br+3]=pr*gr[15]+mr*gr[16]+vr*gr[17]+yr*gr[18]+gr[19]*255)},getUniformLocations:function(cr,ur){return{uColorMatrix:cr.getUniformLocation(ur,"uColorMatrix"),uConstants:cr.getUniformLocation(ur,"uConstants")}},sendUniformData:function(cr,ur){var sr=this.matrix,hr=[sr[0],sr[1],sr[2],sr[3],sr[5],sr[6],sr[7],sr[8],sr[10],sr[11],sr[12],sr[13],sr[15],sr[16],sr[17],sr[18]],gr=[sr[4],sr[9],sr[14],sr[19]];cr.uniformMatrix4fv(ur.uColorMatrix,!1,hr),cr.uniform4fv(ur.uConstants,gr)}}),ir.Image.filters.ColorMatrix.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Brightness=fr(lr.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(cr){if(this.brightness!==0){var ur=cr.imageData,sr=ur.data,hr,gr=sr.length,pr=Math.round(this.brightness*255);for(hr=0;hr<gr;hr+=4)sr[hr]=sr[hr]+pr,sr[hr+1]=sr[hr+1]+pr,sr[hr+2]=sr[hr+2]+pr}},getUniformLocations:function(cr,ur){return{uBrightness:cr.getUniformLocation(ur,"uBrightness")}},sendUniformData:function(cr,ur){cr.uniform1f(ur.uBrightness,this.brightness)}}),ir.Image.filters.Brightness.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.Image.filters,cr=ir.util.createClass;fr.Convolute=cr(fr.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(ur){var sr=Math.sqrt(this.matrix.length),hr=this.type+"_"+sr+"_"+(this.opaque?1:0),gr=this.fragmentSource[hr];return ur.programCache.hasOwnProperty(hr)||(ur.programCache[hr]=this.createProgram(ur.context,gr)),ur.programCache[hr]},applyTo2d:function(ur){var sr=ur.imageData,hr=sr.data,gr=this.matrix,pr=Math.round(Math.sqrt(gr.length)),mr=Math.floor(pr/2),vr=sr.width,yr=sr.height,br=ur.ctx.createImageData(vr,yr),xr=br.data,Cr=this.opaque?1:0,kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr,Yr,nn,Qr,Or;for(nn=0;nn<yr;nn++)for(Yr=0;Yr<vr;Yr++){for(Ir=(nn*vr+Yr)*4,kr=0,Pr=0,$r=0,Kr=0,Or=0;Or<pr;Or++)for(Qr=0;Qr<pr;Qr++)Jr=nn+Or-mr,jr=Yr+Qr-mr,!(Jr<0||Jr>=yr||jr<0||jr>=vr)&&(zr=(Jr*vr+jr)*4,Hr=gr[Or*pr+Qr],kr+=hr[zr]*Hr,Pr+=hr[zr+1]*Hr,$r+=hr[zr+2]*Hr,Cr||(Kr+=hr[zr+3]*Hr));xr[Ir]=kr,xr[Ir+1]=Pr,xr[Ir+2]=$r,Cr?xr[Ir+3]=hr[Ir+3]:xr[Ir+3]=Kr}ur.imageData=br},getUniformLocations:function(ur,sr){return{uMatrix:ur.getUniformLocation(sr,"uMatrix"),uOpaque:ur.getUniformLocation(sr,"uOpaque"),uHalfSize:ur.getUniformLocation(sr,"uHalfSize"),uSize:ur.getUniformLocation(sr,"uSize")}},sendUniformData:function(ur,sr){ur.uniform1fv(sr.uMatrix,this.matrix)},toObject:function(){return lr(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),ir.Image.filters.Convolute.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Grayscale=fr(lr.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(cr){var ur=cr.imageData,sr=ur.data,hr,gr=sr.length,pr,mr=this.mode;for(hr=0;hr<gr;hr+=4)mr==="average"?pr=(sr[hr]+sr[hr+1]+sr[hr+2])/3:mr==="lightness"?pr=(Math.min(sr[hr],sr[hr+1],sr[hr+2])+Math.max(sr[hr],sr[hr+1],sr[hr+2]))/2:mr==="luminosity"&&(pr=.21*sr[hr]+.72*sr[hr+1]+.07*sr[hr+2]),sr[hr]=pr,sr[hr+1]=pr,sr[hr+2]=pr},retrieveShader:function(cr){var ur=this.type+"_"+this.mode;if(!cr.programCache.hasOwnProperty(ur)){var sr=this.fragmentSource[this.mode];cr.programCache[ur]=this.createProgram(cr.context,sr)}return cr.programCache[ur]},getUniformLocations:function(cr,ur){return{uMode:cr.getUniformLocation(ur,"uMode")}},sendUniformData:function(cr,ur){var sr=1;cr.uniform1i(ur.uMode,sr)},isNeutralState:function(){return!1}}),ir.Image.filters.Grayscale.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Invert=fr(lr.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(cr){var ur=cr.imageData,sr=ur.data,hr,gr=sr.length;for(hr=0;hr<gr;hr+=4)sr[hr]=255-sr[hr],sr[hr+1]=255-sr[hr+1],sr[hr+2]=255-sr[hr+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(cr,ur){return{uInvert:cr.getUniformLocation(ur,"uInvert")}},sendUniformData:function(cr,ur){cr.uniform1i(ur.uInvert,this.invert)}}),ir.Image.filters.Invert.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.Image.filters,cr=ir.util.createClass;fr.Noise=cr(fr.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(ur){if(this.noise!==0){var sr=ur.imageData,hr=sr.data,gr,pr=hr.length,mr=this.noise,vr;for(gr=0,pr=hr.length;gr<pr;gr+=4)vr=(.5-Math.random())*mr,hr[gr]+=vr,hr[gr+1]+=vr,hr[gr+2]+=vr}},getUniformLocations:function(ur,sr){return{uNoise:ur.getUniformLocation(sr,"uNoise"),uSeed:ur.getUniformLocation(sr,"uSeed")}},sendUniformData:function(ur,sr){ur.uniform1f(sr.uNoise,this.noise/255),ur.uniform1f(sr.uSeed,Math.random())},toObject:function(){return lr(this.callSuper("toObject"),{noise:this.noise})}}),ir.Image.filters.Noise.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Pixelate=fr(lr.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(cr){var ur=cr.imageData,sr=ur.data,hr=ur.height,gr=ur.width,pr,mr,vr,yr,br,xr,Cr,kr,Pr,$r,Kr;for(mr=0;mr<hr;mr+=this.blocksize)for(vr=0;vr<gr;vr+=this.blocksize)for(pr=mr*4*gr+vr*4,yr=sr[pr],br=sr[pr+1],xr=sr[pr+2],Cr=sr[pr+3],$r=Math.min(mr+this.blocksize,hr),Kr=Math.min(vr+this.blocksize,gr),kr=mr;kr<$r;kr++)for(Pr=vr;Pr<Kr;Pr++)pr=kr*4*gr+Pr*4,sr[pr]=yr,sr[pr+1]=br,sr[pr+2]=xr,sr[pr+3]=Cr},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(cr,ur){return{uBlocksize:cr.getUniformLocation(ur,"uBlocksize"),uStepW:cr.getUniformLocation(ur,"uStepW"),uStepH:cr.getUniformLocation(ur,"uStepH")}},sendUniformData:function(cr,ur){cr.uniform1f(ur.uBlocksize,this.blocksize)}}),ir.Image.filters.Pixelate.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.extend,fr=ir.Image.filters,cr=ir.util.createClass;fr.RemoveColor=cr(fr.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(ur){var sr=ur.imageData,hr=sr.data,gr,pr=this.distance*255,mr,vr,yr,br=new ir.Color(this.color).getSource(),xr=[br[0]-pr,br[1]-pr,br[2]-pr],Cr=[br[0]+pr,br[1]+pr,br[2]+pr];for(gr=0;gr<hr.length;gr+=4)mr=hr[gr],vr=hr[gr+1],yr=hr[gr+2],mr>xr[0]&&vr>xr[1]&&yr>xr[2]&&mr<Cr[0]&&vr<Cr[1]&&yr<Cr[2]&&(hr[gr+3]=0)},getUniformLocations:function(ur,sr){return{uLow:ur.getUniformLocation(sr,"uLow"),uHigh:ur.getUniformLocation(sr,"uHigh")}},sendUniformData:function(ur,sr){var hr=new ir.Color(this.color).getSource(),gr=parseFloat(this.distance),pr=[0+hr[0]/255-gr,0+hr[1]/255-gr,0+hr[2]/255-gr,1],mr=[hr[0]/255+gr,hr[1]/255+gr,hr[2]/255+gr,1];ur.uniform4fv(sr.uLow,pr),ur.uniform4fv(sr.uHigh,mr)},toObject:function(){return lr(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),ir.Image.filters.RemoveColor.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass,cr={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var ur in cr)lr[ur]=fr(lr.ColorMatrix,{type:ur,matrix:cr[ur],mainParameter:!1,colorsOnly:!0}),ir.Image.filters[ur].fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric,lr=ir.Image.filters,fr=ir.util.createClass;lr.BlendColor=fr(lr.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(cr){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[cr]+`}
}`},retrieveShader:function(cr){var ur=this.type+"_"+this.mode,sr;return cr.programCache.hasOwnProperty(ur)||(sr=this.buildSource(this.mode),cr.programCache[ur]=this.createProgram(cr.context,sr)),cr.programCache[ur]},applyTo2d:function(cr){var ur=cr.imageData,sr=ur.data,hr=sr.length,gr,pr,mr,vr,yr,br,xr,Cr=1-this.alpha;xr=new ir.Color(this.color).getSource(),gr=xr[0]*this.alpha,pr=xr[1]*this.alpha,mr=xr[2]*this.alpha;for(var kr=0;kr<hr;kr+=4)switch(vr=sr[kr],yr=sr[kr+1],br=sr[kr+2],this.mode){case"multiply":sr[kr]=vr*gr/255,sr[kr+1]=yr*pr/255,sr[kr+2]=br*mr/255;break;case"screen":sr[kr]=255-(255-vr)*(255-gr)/255,sr[kr+1]=255-(255-yr)*(255-pr)/255,sr[kr+2]=255-(255-br)*(255-mr)/255;break;case"add":sr[kr]=vr+gr,sr[kr+1]=yr+pr,sr[kr+2]=br+mr;break;case"diff":case"difference":sr[kr]=Math.abs(vr-gr),sr[kr+1]=Math.abs(yr-pr),sr[kr+2]=Math.abs(br-mr);break;case"subtract":sr[kr]=vr-gr,sr[kr+1]=yr-pr,sr[kr+2]=br-mr;break;case"darken":sr[kr]=Math.min(vr,gr),sr[kr+1]=Math.min(yr,pr),sr[kr+2]=Math.min(br,mr);break;case"lighten":sr[kr]=Math.max(vr,gr),sr[kr+1]=Math.max(yr,pr),sr[kr+2]=Math.max(br,mr);break;case"overlay":sr[kr]=gr<128?2*vr*gr/255:255-2*(255-vr)*(255-gr)/255,sr[kr+1]=pr<128?2*yr*pr/255:255-2*(255-yr)*(255-pr)/255,sr[kr+2]=mr<128?2*br*mr/255:255-2*(255-br)*(255-mr)/255;break;case"exclusion":sr[kr]=gr+vr-2*gr*vr/255,sr[kr+1]=pr+yr-2*pr*yr/255,sr[kr+2]=mr+br-2*mr*br/255;break;case"tint":sr[kr]=gr+vr*Cr,sr[kr+1]=pr+yr*Cr,sr[kr+2]=mr+br*Cr}},getUniformLocations:function(cr,ur){return{uColor:cr.getUniformLocation(ur,"uColor")}},sendUniformData:function(cr,ur){var sr=new ir.Color(this.color).getSource();sr[0]=this.alpha*sr[0]/255,sr[1]=this.alpha*sr[1]/255,sr[2]=this.alpha*sr[2]/255,sr[3]=this.alpha,cr.uniform4fv(ur.uColor,sr)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),ir.Image.filters.BlendColor.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric,lr=ir.Image.filters,fr=ir.util.createClass;lr.BlendImage=fr(lr.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(cr){var ur=this.type+"_"+this.mode,sr=this.fragmentSource[this.mode];return cr.programCache.hasOwnProperty(ur)||(cr.programCache[ur]=this.createProgram(cr.context,sr)),cr.programCache[ur]},applyToWebGL:function(cr){var ur=cr.context,sr=this.createTexture(cr.filterBackend,this.image);this.bindAdditionalTexture(ur,sr,ur.TEXTURE1),this.callSuper("applyToWebGL",cr),this.unbindAdditionalTexture(ur,ur.TEXTURE1)},createTexture:function(cr,ur){return cr.getCachedTexture(ur.cacheKey,ur._element)},calculateMatrix:function(){var cr=this.image,ur=cr._element.width,sr=cr._element.height;return[1/cr.scaleX,0,0,0,1/cr.scaleY,0,-cr.left/ur,-cr.top/sr,1]},applyTo2d:function(cr){var ur=cr.imageData,sr=cr.filterBackend.resources,hr=ur.data,gr=hr.length,pr=ur.width,mr=ur.height,vr,yr,br,xr,Cr,kr,Pr,$r,Kr,Ir,jr=this.image,Jr;sr.blendImage||(sr.blendImage=ir.util.createCanvasElement()),Kr=sr.blendImage,Ir=Kr.getContext("2d"),Kr.width!==pr||Kr.height!==mr?(Kr.width=pr,Kr.height=mr):Ir.clearRect(0,0,pr,mr),Ir.setTransform(jr.scaleX,0,0,jr.scaleY,jr.left,jr.top),Ir.drawImage(jr._element,0,0,pr,mr),Jr=Ir.getImageData(0,0,pr,mr).data;for(var zr=0;zr<gr;zr+=4)switch(Cr=hr[zr],kr=hr[zr+1],Pr=hr[zr+2],$r=hr[zr+3],vr=Jr[zr],yr=Jr[zr+1],br=Jr[zr+2],xr=Jr[zr+3],this.mode){case"multiply":hr[zr]=Cr*vr/255,hr[zr+1]=kr*yr/255,hr[zr+2]=Pr*br/255,hr[zr+3]=$r*xr/255;break;case"mask":hr[zr+3]=xr;break}},getUniformLocations:function(cr,ur){return{uTransformMatrix:cr.getUniformLocation(ur,"uTransformMatrix"),uImage:cr.getUniformLocation(ur,"uImage")}},sendUniformData:function(cr,ur){var sr=this.calculateMatrix();cr.uniform1i(ur.uImage,1),cr.uniformMatrix3fv(ur.uTransformMatrix,!1,sr)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),ir.Image.filters.BlendImage.fromObject=function(cr,ur){ir.Image.fromObject(cr.image,function(sr){var hr=ir.util.object.clone(cr);hr.image=sr,ur(new ir.Image.filters.BlendImage(hr))})}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=Math.pow,fr=Math.floor,cr=Math.sqrt,ur=Math.abs,sr=Math.round,hr=Math.sin,gr=Math.ceil,pr=ir.Image.filters,mr=ir.util.createClass;pr.Resize=mr(pr.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(vr,yr){return{uDelta:vr.getUniformLocation(yr,"uDelta"),uTaps:vr.getUniformLocation(yr,"uTaps")}},sendUniformData:function(vr,yr){vr.uniform2fv(yr.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),vr.uniform1fv(yr.uTaps,this.taps)},retrieveShader:function(vr){var yr=this.getFilterWindow(),br=this.type+"_"+yr;if(!vr.programCache.hasOwnProperty(br)){var xr=this.generateShader(yr);vr.programCache[br]=this.createProgram(vr.context,xr)}return vr.programCache[br]},getFilterWindow:function(){var vr=this.tempScale;return Math.ceil(this.lanczosLobes/vr)},getTaps:function(){for(var vr=this.lanczosCreate(this.lanczosLobes),yr=this.tempScale,br=this.getFilterWindow(),xr=new Array(br),Cr=1;Cr<=br;Cr++)xr[Cr-1]=vr(Cr*yr);return xr},generateShader:function(xr){for(var yr=new Array(xr),br=this.fragmentSourceTOP,xr,Cr=1;Cr<=xr;Cr++)yr[Cr-1]=Cr+".0 * uDelta";return br+="uniform float uTaps["+xr+`];
`,br+=`void main() {
`,br+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,br+=`  float sum = 1.0;
`,yr.forEach(function(kr,Pr){br+="  color += texture2D(uTexture, vTexCoord + "+kr+") * uTaps["+Pr+`];
`,br+="  color += texture2D(uTexture, vTexCoord - "+kr+") * uTaps["+Pr+`];
`,br+="  sum += 2.0 * uTaps["+Pr+`];
`}),br+=`  gl_FragColor = color / sum;
`,br+="}",br},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(vr){vr.webgl?(vr.passes++,this.width=vr.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=vr.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),vr.destinationWidth=this.dW,this._setupFrameBuffer(vr),this.applyToWebGL(vr),this._swapTextures(vr),vr.sourceWidth=vr.destinationWidth,this.height=vr.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),vr.destinationHeight=this.dH,this._setupFrameBuffer(vr),this.applyToWebGL(vr),this._swapTextures(vr),vr.sourceHeight=vr.destinationHeight):this.applyTo2d(vr)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(vr){return function(yr){if(yr>=vr||yr<=-vr)return 0;if(yr<11920929e-14&&yr>-11920929e-14)return 1;yr*=Math.PI;var br=yr/vr;return hr(yr)/yr*hr(br)/br}},applyTo2d:function(vr){var yr=vr.imageData,br=this.scaleX,xr=this.scaleY;this.rcpScaleX=1/br,this.rcpScaleY=1/xr;var Cr=yr.width,kr=yr.height,Pr=sr(Cr*br),$r=sr(kr*xr),Kr;this.resizeType==="sliceHack"?Kr=this.sliceByTwo(vr,Cr,kr,Pr,$r):this.resizeType==="hermite"?Kr=this.hermiteFastResize(vr,Cr,kr,Pr,$r):this.resizeType==="bilinear"?Kr=this.bilinearFiltering(vr,Cr,kr,Pr,$r):this.resizeType==="lanczos"&&(Kr=this.lanczosResize(vr,Cr,kr,Pr,$r)),vr.imageData=Kr},sliceByTwo:function(vr,yr,br,xr,Cr){var kr=vr.imageData,Pr=.5,$r=!1,Kr=!1,Ir=yr*Pr,jr=br*Pr,Jr=ir.filterBackend.resources,zr,Hr,Yr=0,nn=0,Qr=yr,Or=0;for(Jr.sliceByTwo||(Jr.sliceByTwo=document.createElement("canvas")),zr=Jr.sliceByTwo,(zr.width<yr*1.5||zr.height<br)&&(zr.width=yr*1.5,zr.height=br),Hr=zr.getContext("2d"),Hr.clearRect(0,0,yr*1.5,br),Hr.putImageData(kr,0,0),xr=fr(xr),Cr=fr(Cr);!$r||!Kr;)yr=Ir,br=jr,xr<fr(Ir*Pr)?Ir=fr(Ir*Pr):(Ir=xr,$r=!0),Cr<fr(jr*Pr)?jr=fr(jr*Pr):(jr=Cr,Kr=!0),Hr.drawImage(zr,Yr,nn,yr,br,Qr,Or,Ir,jr),Yr=Qr,nn=Or,Or+=jr;return Hr.getImageData(Yr,nn,xr,Cr)},lanczosResize:function(vr,yr,br,xr,Cr){function kr(Dr){var Tr,Lr,_r,wr,Fr,Nr,Br,Ur,Zr,an,qr;for(Or.x=(Dr+.5)*jr,Er.x=fr(Or.x),Tr=0;Tr<Cr;Tr++){for(Or.y=(Tr+.5)*Jr,Er.y=fr(Or.y),Fr=0,Nr=0,Br=0,Ur=0,Zr=0,Lr=Er.x-Yr;Lr<=Er.x+Yr;Lr++)if(!(Lr<0||Lr>=yr)){an=fr(1e3*ur(Lr-Or.x)),Qr[an]||(Qr[an]={});for(var Gr=Er.y-nn;Gr<=Er.y+nn;Gr++)Gr<0||Gr>=br||(qr=fr(1e3*ur(Gr-Or.y)),Qr[an][qr]||(Qr[an][qr]=Ir(cr(lr(an*zr,2)+lr(qr*Hr,2))/1e3)),_r=Qr[an][qr],_r>0&&(wr=(Gr*yr+Lr)*4,Fr+=_r,Nr+=_r*Pr[wr],Br+=_r*Pr[wr+1],Ur+=_r*Pr[wr+2],Zr+=_r*Pr[wr+3]))}wr=(Tr*xr+Dr)*4,Kr[wr]=Nr/Fr,Kr[wr+1]=Br/Fr,Kr[wr+2]=Ur/Fr,Kr[wr+3]=Zr/Fr}return++Dr<xr?kr(Dr):$r}var Pr=vr.imageData.data,$r=vr.ctx.createImageData(xr,Cr),Kr=$r.data,Ir=this.lanczosCreate(this.lanczosLobes),jr=this.rcpScaleX,Jr=this.rcpScaleY,zr=2/this.rcpScaleX,Hr=2/this.rcpScaleY,Yr=gr(jr*this.lanczosLobes/2),nn=gr(Jr*this.lanczosLobes/2),Qr={},Or={},Er={};return kr(0)},bilinearFiltering:function(vr,yr,br,xr,Cr){var kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr,Yr,nn,Qr,Or=0,Er,Dr=this.rcpScaleX,Tr=this.rcpScaleY,Lr=4*(yr-1),_r=vr.imageData,wr=_r.data,Fr=vr.ctx.createImageData(xr,Cr),Nr=Fr.data;for(Jr=0;Jr<Cr;Jr++)for(zr=0;zr<xr;zr++)for(Ir=fr(Dr*zr),jr=fr(Tr*Jr),Hr=Dr*zr-Ir,Yr=Tr*Jr-jr,Er=4*(jr*yr+Ir),nn=0;nn<4;nn++)kr=wr[Er+nn],Pr=wr[Er+4+nn],$r=wr[Er+Lr+nn],Kr=wr[Er+Lr+4+nn],Qr=kr*(1-Hr)*(1-Yr)+Pr*Hr*(1-Yr)+$r*Yr*(1-Hr)+Kr*Hr*Yr,Nr[Or++]=Qr;return Fr},hermiteFastResize:function(vr,yr,br,xr,Cr){for(var kr=this.rcpScaleX,Pr=this.rcpScaleY,$r=gr(kr/2),Kr=gr(Pr/2),Ir=vr.imageData,jr=Ir.data,Jr=vr.ctx.createImageData(xr,Cr),zr=Jr.data,Hr=0;Hr<Cr;Hr++)for(var Yr=0;Yr<xr;Yr++){for(var nn=(Yr+Hr*xr)*4,Qr=0,Or=0,Er=0,Dr=0,Tr=0,Lr=0,_r=0,wr=(Hr+.5)*Pr,Fr=fr(Hr*Pr);Fr<(Hr+1)*Pr;Fr++)for(var Nr=ur(wr-(Fr+.5))/Kr,Br=(Yr+.5)*kr,Ur=Nr*Nr,Zr=fr(Yr*kr);Zr<(Yr+1)*kr;Zr++){var an=ur(Br-(Zr+.5))/$r,qr=cr(Ur+an*an);qr>1&&qr<-1||(Qr=2*qr*qr*qr-3*qr*qr+1,Qr>0&&(an=4*(Zr+Fr*yr),_r+=Qr*jr[an+3],Er+=Qr,jr[an+3]<255&&(Qr=Qr*jr[an+3]/250),Dr+=Qr*jr[an],Tr+=Qr*jr[an+1],Lr+=Qr*jr[an+2],Or+=Qr))}zr[nn]=Dr/Or,zr[nn+1]=Tr/Or,zr[nn+2]=Lr/Or,zr[nn+3]=_r/Er}return Jr},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),ir.Image.filters.Resize.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Contrast=fr(lr.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(cr){if(this.contrast!==0){var ur=cr.imageData,sr,gr,hr=ur.data,gr=hr.length,pr=Math.floor(this.contrast*255),mr=259*(pr+255)/(255*(259-pr));for(sr=0;sr<gr;sr+=4)hr[sr]=mr*(hr[sr]-128)+128,hr[sr+1]=mr*(hr[sr+1]-128)+128,hr[sr+2]=mr*(hr[sr+2]-128)+128}},getUniformLocations:function(cr,ur){return{uContrast:cr.getUniformLocation(ur,"uContrast")}},sendUniformData:function(cr,ur){cr.uniform1f(ur.uContrast,this.contrast)}}),ir.Image.filters.Contrast.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Saturation=fr(lr.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(cr){if(this.saturation!==0){var ur=cr.imageData,sr=ur.data,hr=sr.length,gr=-this.saturation,pr,mr;for(pr=0;pr<hr;pr+=4)mr=Math.max(sr[pr],sr[pr+1],sr[pr+2]),sr[pr]+=mr!==sr[pr]?(mr-sr[pr])*gr:0,sr[pr+1]+=mr!==sr[pr+1]?(mr-sr[pr+1])*gr:0,sr[pr+2]+=mr!==sr[pr+2]?(mr-sr[pr+2])*gr:0}},getUniformLocations:function(cr,ur){return{uSaturation:cr.getUniformLocation(ur,"uSaturation")}},sendUniformData:function(cr,ur){cr.uniform1f(ur.uSaturation,-this.saturation)}}),ir.Image.filters.Saturation.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Vibrance=fr(lr.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(cr){if(this.vibrance!==0){var ur=cr.imageData,sr=ur.data,hr=sr.length,gr=-this.vibrance,pr,mr,vr,yr;for(pr=0;pr<hr;pr+=4)mr=Math.max(sr[pr],sr[pr+1],sr[pr+2]),vr=(sr[pr]+sr[pr+1]+sr[pr+2])/3,yr=Math.abs(mr-vr)*2/255*gr,sr[pr]+=mr!==sr[pr]?(mr-sr[pr])*yr:0,sr[pr+1]+=mr!==sr[pr+1]?(mr-sr[pr+1])*yr:0,sr[pr+2]+=mr!==sr[pr+2]?(mr-sr[pr+2])*yr:0}},getUniformLocations:function(cr,ur){return{uVibrance:cr.getUniformLocation(ur,"uVibrance")}},sendUniformData:function(cr,ur){cr.uniform1f(ur.uVibrance,-this.vibrance)}}),ir.Image.filters.Vibrance.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Blur=fr(lr.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(cr){cr.webgl?(this.aspectRatio=cr.sourceWidth/cr.sourceHeight,cr.passes++,this._setupFrameBuffer(cr),this.horizontal=!0,this.applyToWebGL(cr),this._swapTextures(cr),this._setupFrameBuffer(cr),this.horizontal=!1,this.applyToWebGL(cr),this._swapTextures(cr)):this.applyTo2d(cr)},applyTo2d:function(cr){cr.imageData=this.simpleBlur(cr)},simpleBlur:function(cr){var ur=cr.filterBackend.resources,sr,hr,gr=cr.imageData.width,pr=cr.imageData.height;ur.blurLayer1||(ur.blurLayer1=ir.util.createCanvasElement(),ur.blurLayer2=ir.util.createCanvasElement()),sr=ur.blurLayer1,hr=ur.blurLayer2,(sr.width!==gr||sr.height!==pr)&&(hr.width=sr.width=gr,hr.height=sr.height=pr);var mr=sr.getContext("2d"),vr=hr.getContext("2d"),yr=15,br,xr,Cr,kr,Pr=this.blur*.06*.5;for(mr.putImageData(cr.imageData,0,0),vr.clearRect(0,0,gr,pr),kr=-yr;kr<=yr;kr++)br=(Math.random()-.5)/4,xr=kr/yr,Cr=Pr*xr*gr+br,vr.globalAlpha=1-Math.abs(xr),vr.drawImage(sr,Cr,br),mr.drawImage(hr,0,0),vr.globalAlpha=1,vr.clearRect(0,0,hr.width,hr.height);for(kr=-yr;kr<=yr;kr++)br=(Math.random()-.5)/4,xr=kr/yr,Cr=Pr*xr*pr+br,vr.globalAlpha=1-Math.abs(xr),vr.drawImage(sr,br,Cr),mr.drawImage(hr,0,0),vr.globalAlpha=1,vr.clearRect(0,0,hr.width,hr.height);cr.ctx.drawImage(sr,0,0);var $r=cr.ctx.getImageData(0,0,sr.width,sr.height);return mr.globalAlpha=1,mr.clearRect(0,0,sr.width,sr.height),$r},getUniformLocations:function(cr,ur){return{delta:cr.getUniformLocation(ur,"uDelta")}},sendUniformData:function(cr,ur){var sr=this.chooseRightDelta();cr.uniform2fv(ur.delta,sr)},chooseRightDelta:function(){var cr=1,ur=[0,0],sr;return this.horizontal?this.aspectRatio>1&&(cr=1/this.aspectRatio):this.aspectRatio<1&&(cr=this.aspectRatio),sr=cr*this.blur*.12,this.horizontal?ur[0]=sr:ur[1]=sr,ur}}),lr.Blur.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Gamma=fr(lr.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(cr){this.gamma=[1,1,1],lr.BaseFilter.prototype.initialize.call(this,cr)},applyTo2d:function(cr){var ur=cr.imageData,sr=ur.data,hr=this.gamma,gr=sr.length,pr=1/hr[0],mr=1/hr[1],vr=1/hr[2],yr;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),yr=0,gr=256;yr<gr;yr++)this.rVals[yr]=Math.pow(yr/255,pr)*255,this.gVals[yr]=Math.pow(yr/255,mr)*255,this.bVals[yr]=Math.pow(yr/255,vr)*255;for(yr=0,gr=sr.length;yr<gr;yr+=4)sr[yr]=this.rVals[sr[yr]],sr[yr+1]=this.gVals[sr[yr+1]],sr[yr+2]=this.bVals[sr[yr+2]]},getUniformLocations:function(cr,ur){return{uGamma:cr.getUniformLocation(ur,"uGamma")}},sendUniformData:function(cr,ur){cr.uniform3fv(ur.uGamma,this.gamma)}}),ir.Image.filters.Gamma.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.Composed=fr(lr.BaseFilter,{type:"Composed",subFilters:[],initialize:function(cr){this.callSuper("initialize",cr),this.subFilters=this.subFilters.slice(0)},applyTo:function(cr){cr.passes+=this.subFilters.length-1,this.subFilters.forEach(function(ur){ur.applyTo(cr)})},toObject:function(){return ir.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(cr){return cr.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(cr){return!cr.isNeutralState()})}}),ir.Image.filters.Composed.fromObject=function(cr,ur){var sr=cr.subFilters||[],hr=sr.map(function(pr){return new ir.Image.filters[pr.type](pr)}),gr=new ir.Image.filters.Composed({subFilters:hr});return ur&&ur(gr),gr}}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.Image.filters,fr=ir.util.createClass;lr.HueRotation=fr(lr.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var cr=this.rotation*Math.PI,ur=ir.util.cos(cr),sr=ir.util.sin(cr),hr=1/3,gr=Math.sqrt(hr)*sr,pr=1-ur;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=ur+pr/3,this.matrix[1]=hr*pr-gr,this.matrix[2]=hr*pr+gr,this.matrix[5]=hr*pr+gr,this.matrix[6]=ur+hr*pr,this.matrix[7]=hr*pr-gr,this.matrix[10]=hr*pr-gr,this.matrix[11]=hr*pr+gr,this.matrix[12]=ur+hr*pr},isNeutralState:function(cr){return this.calculateMatrix(),lr.BaseFilter.prototype.isNeutralState.call(this,cr)},applyTo:function(cr){this.calculateMatrix(),lr.BaseFilter.prototype.applyTo.call(this,cr)}}),ir.Image.filters.HueRotation.fromObject=ir.Image.filters.BaseFilter.fromObject}(St),function(or){var ir=or.fabric||(or.fabric={}),lr=ir.util.object.clone;if(ir.Text){ir.warn("fabric.Text is already defined");return}var fr="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");ir.Text=ir.util.createClass(ir.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:ir.Object.prototype.stateProperties.concat(fr),cacheProperties:ir.Object.prototype.cacheProperties.concat(fr),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(cr,ur){this.styles=ur?ur.styles||{}:{},this.text=cr,this.__skipDimension=!0,this.callSuper("initialize",ur),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var cr=this.path;cr&&(cr.segmentsInfo=ir.util.getPathSegmentsInfo(cr.path))},getMeasuringContext:function(){return ir._measuringContext||(ir._measuringContext=this.canvas&&this.canvas.contextCache||ir.util.createCanvasElement().getContext("2d")),ir._measuringContext},_splitText:function(){var cr=this._splitTextIntoLines(this.text);return this.textLines=cr.lines,this._textLines=cr.graphemeLines,this._unwrappedTextLines=cr._unwrappedLines,this._text=cr.graphemeText,cr},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var cr,ur,sr,hr,gr,pr,mr,vr=0,yr=this._textLines.length;vr<yr;vr++)if(!(this.textAlign!=="justify"&&(vr===yr-1||this.isEndOfWrapping(vr)))&&(hr=0,gr=this._textLines[vr],ur=this.getLineWidth(vr),ur<this.width&&(mr=this.textLines[vr].match(this._reSpacesAndTabs)))){sr=mr.length,cr=(this.width-ur)/sr;for(var br=0,xr=gr.length;br<=xr;br++)pr=this.__charBounds[vr][br],this._reSpaceAndTab.test(gr[br])?(pr.width+=cr,pr.kernedWidth+=cr,pr.left+=hr,hr+=cr):pr.left+=hr}},isEndOfWrapping:function(cr){return cr===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var cr=this.callSuper("_getCacheCanvasDimensions"),ur=this.fontSize;return cr.width+=ur*cr.zoomX,cr.height+=ur*cr.zoomY,cr},_render:function(cr){var ur=this.path;ur&&!ur.isNotVisible()&&ur._render(cr),this._setTextStyles(cr),this._renderTextLinesBackground(cr),this._renderTextDecoration(cr,"underline"),this._renderText(cr),this._renderTextDecoration(cr,"overline"),this._renderTextDecoration(cr,"linethrough")},_renderText:function(cr){this.paintFirst==="stroke"?(this._renderTextStroke(cr),this._renderTextFill(cr)):(this._renderTextFill(cr),this._renderTextStroke(cr))},_setTextStyles:function(cr,ur,sr){if(cr.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":cr.textBaseline="middle";break;case"ascender":cr.textBaseline="top";break;case"descender":cr.textBaseline="bottom";break}cr.font=this._getFontDeclaration(ur,sr)},calcTextWidth:function(){for(var cr=this.getLineWidth(0),ur=1,sr=this._textLines.length;ur<sr;ur++){var hr=this.getLineWidth(ur);hr>cr&&(cr=hr)}return cr},_renderTextLine:function(cr,ur,sr,hr,gr,pr){this._renderChars(cr,ur,sr,hr,gr,pr)},_renderTextLinesBackground:function(cr){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var ur,sr,hr=cr.fillStyle,gr,pr,mr=this._getLeftOffset(),vr=this._getTopOffset(),yr=0,br=0,xr,Cr,kr=this.path,Pr,$r=0,Kr=this._textLines.length;$r<Kr;$r++){if(ur=this.getHeightOfLine($r),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",$r)){vr+=ur;continue}gr=this._textLines[$r],sr=this._getLineLeftOffset($r),br=0,yr=0,pr=this.getValueOfPropertyAt($r,0,"textBackgroundColor");for(var Ir=0,jr=gr.length;Ir<jr;Ir++)xr=this.__charBounds[$r][Ir],Cr=this.getValueOfPropertyAt($r,Ir,"textBackgroundColor"),kr?(cr.save(),cr.translate(xr.renderLeft,xr.renderTop),cr.rotate(xr.angle),cr.fillStyle=Cr,Cr&&cr.fillRect(-xr.width/2,-ur/this.lineHeight*(1-this._fontSizeFraction),xr.width,ur/this.lineHeight),cr.restore()):Cr!==pr?(Pr=mr+sr+yr,this.direction==="rtl"&&(Pr=this.width-Pr-br),cr.fillStyle=pr,pr&&cr.fillRect(Pr,vr,br,ur/this.lineHeight),yr=xr.left,br=xr.width,pr=Cr):br+=xr.kernedWidth;Cr&&!kr&&(Pr=mr+sr+yr,this.direction==="rtl"&&(Pr=this.width-Pr-br),cr.fillStyle=Cr,cr.fillRect(Pr,vr,br,ur/this.lineHeight)),vr+=ur}cr.fillStyle=hr,this._removeShadow(cr)}},getFontCache:function(cr){var ur=cr.fontFamily.toLowerCase();ir.charWidthsCache[ur]||(ir.charWidthsCache[ur]={});var sr=ir.charWidthsCache[ur],hr=cr.fontStyle.toLowerCase()+"_"+(cr.fontWeight+"").toLowerCase();return sr[hr]||(sr[hr]={}),sr[hr]},_measureChar:function(cr,ur,sr,hr){var gr=this.getFontCache(ur),pr=this._getFontDeclaration(ur),mr=this._getFontDeclaration(hr),vr=sr+cr,yr=pr===mr,br,xr,Cr,kr=ur.fontSize/this.CACHE_FONT_SIZE,Pr;if(sr&&gr[sr]!==void 0&&(Cr=gr[sr]),gr[cr]!==void 0&&(Pr=br=gr[cr]),yr&&gr[vr]!==void 0&&(xr=gr[vr],Pr=xr-Cr),br===void 0||Cr===void 0||xr===void 0){var $r=this.getMeasuringContext();this._setTextStyles($r,ur,!0)}return br===void 0&&(Pr=br=$r.measureText(cr).width,gr[cr]=br),Cr===void 0&&yr&&sr&&(Cr=$r.measureText(sr).width,gr[sr]=Cr),yr&&xr===void 0&&(xr=$r.measureText(vr).width,gr[vr]=xr,Pr=xr-Cr),{width:br*kr,kernedWidth:Pr*kr}},getHeightOfChar:function(cr,ur){return this.getValueOfPropertyAt(cr,ur,"fontSize")},measureLine:function(cr){var ur=this._measureLine(cr);return this.charSpacing!==0&&(ur.width-=this._getWidthOfCharSpacing()),ur.width<0&&(ur.width=0),ur},_measureLine:function(cr){var ur=0,sr,hr,gr=this._textLines[cr],pr,mr,vr=0,yr=new Array(gr.length),br=0,xr,Cr,kr=this.path,Pr=this.pathSide==="right";for(this.__charBounds[cr]=yr,sr=0;sr<gr.length;sr++)hr=gr[sr],mr=this._getGraphemeBox(hr,cr,sr,pr),yr[sr]=mr,ur+=mr.kernedWidth,pr=hr;if(yr[sr]={left:mr?mr.left+mr.width:0,width:0,kernedWidth:0,height:this.fontSize},kr){switch(Cr=kr.segmentsInfo[kr.segmentsInfo.length-1].length,xr=ir.util.getPointOnPath(kr.path,0,kr.segmentsInfo),xr.x+=kr.pathOffset.x,xr.y+=kr.pathOffset.y,this.textAlign){case"left":br=Pr?Cr-ur:0;break;case"center":br=(Cr-ur)/2;break;case"right":br=Pr?0:Cr-ur;break}for(br+=this.pathStartOffset*(Pr?-1:1),sr=Pr?gr.length-1:0;Pr?sr>=0:sr<gr.length;Pr?sr--:sr++)mr=yr[sr],br>Cr?br%=Cr:br<0&&(br+=Cr),this._setGraphemeOnPath(br,mr,xr),br+=mr.kernedWidth}return{width:ur,numOfSpaces:vr}},_setGraphemeOnPath:function(cr,ur,sr){var hr=cr+ur.kernedWidth/2,gr=this.path,pr=ir.util.getPointOnPath(gr.path,hr,gr.segmentsInfo);ur.renderLeft=pr.x-sr.x,ur.renderTop=pr.y-sr.y,ur.angle=pr.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(cr,ur,sr,hr,gr){var pr=this.getCompleteStyleDeclaration(ur,sr),mr=hr?this.getCompleteStyleDeclaration(ur,sr-1):{},vr=this._measureChar(cr,pr,hr,mr),yr=vr.kernedWidth,br=vr.width,xr;this.charSpacing!==0&&(xr=this._getWidthOfCharSpacing(),br+=xr,yr+=xr);var Cr={width:br,left:0,height:pr.fontSize,kernedWidth:yr,deltaY:pr.deltaY};if(sr>0&&!gr){var kr=this.__charBounds[ur][sr-1];Cr.left=kr.left+kr.width+vr.kernedWidth-vr.width}return Cr},getHeightOfLine:function(cr){if(this.__lineHeights[cr])return this.__lineHeights[cr];for(var ur=this._textLines[cr],sr=this.getHeightOfChar(cr,0),hr=1,gr=ur.length;hr<gr;hr++)sr=Math.max(this.getHeightOfChar(cr,hr),sr);return this.__lineHeights[cr]=sr*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var cr,ur=0,sr=0,hr=this._textLines.length;sr<hr;sr++)cr=this.getHeightOfLine(sr),ur+=sr===hr-1?cr/this.lineHeight:cr;return ur},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(cr,ur){cr.save();for(var sr=0,hr=this._getLeftOffset(),gr=this._getTopOffset(),pr=0,mr=this._textLines.length;pr<mr;pr++){var vr=this.getHeightOfLine(pr),yr=vr/this.lineHeight,br=this._getLineLeftOffset(pr);this._renderTextLine(ur,cr,this._textLines[pr],hr+br,gr+sr+yr,pr),sr+=vr}cr.restore()},_renderTextFill:function(cr){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(cr,"fillText")},_renderTextStroke:function(cr){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(cr),cr.save(),this._setLineDash(cr,this.strokeDashArray),cr.beginPath(),this._renderTextCommon(cr,"strokeText"),cr.closePath(),cr.restore())},_renderChars:function(cr,ur,sr,hr,gr,pr){var mr=this.getHeightOfLine(pr),vr=this.textAlign.indexOf("justify")!==-1,yr,br,xr="",Cr,kr=0,Pr,$r=this.path,Kr=!vr&&this.charSpacing===0&&this.isEmptyStyles(pr)&&!$r,Ir=this.direction==="ltr",jr=this.direction==="ltr"?1:-1,Jr,zr=ur.canvas.getAttribute("dir");if(ur.save(),zr!==this.direction&&(ur.canvas.setAttribute("dir",Ir?"ltr":"rtl"),ur.direction=Ir?"ltr":"rtl",ur.textAlign=Ir?"left":"right"),gr-=mr*this._fontSizeFraction/this.lineHeight,Kr){this._renderChar(cr,ur,pr,0,sr.join(""),hr,gr,mr),ur.restore();return}for(var Hr=0,Yr=sr.length-1;Hr<=Yr;Hr++)Pr=Hr===Yr||this.charSpacing||$r,xr+=sr[Hr],Cr=this.__charBounds[pr][Hr],kr===0?(hr+=jr*(Cr.kernedWidth-Cr.width),kr+=Cr.width):kr+=Cr.kernedWidth,vr&&!Pr&&this._reSpaceAndTab.test(sr[Hr])&&(Pr=!0),Pr||(yr=yr||this.getCompleteStyleDeclaration(pr,Hr),br=this.getCompleteStyleDeclaration(pr,Hr+1),Pr=ir.util.hasStyleChanged(yr,br,!1)),Pr&&($r?(ur.save(),ur.translate(Cr.renderLeft,Cr.renderTop),ur.rotate(Cr.angle),this._renderChar(cr,ur,pr,Hr,xr,-kr/2,0,mr),ur.restore()):(Jr=hr,this._renderChar(cr,ur,pr,Hr,xr,Jr,gr,mr)),xr="",yr=br,hr+=jr*kr,kr=0);ur.restore()},_applyPatternGradientTransformText:function(cr){var ur=ir.util.createCanvasElement(),sr,hr=this.width+this.strokeWidth,gr=this.height+this.strokeWidth;return ur.width=hr,ur.height=gr,sr=ur.getContext("2d"),sr.beginPath(),sr.moveTo(0,0),sr.lineTo(hr,0),sr.lineTo(hr,gr),sr.lineTo(0,gr),sr.closePath(),sr.translate(hr/2,gr/2),sr.fillStyle=cr.toLive(sr),this._applyPatternGradientTransform(sr,cr),sr.fill(),sr.createPattern(ur,"no-repeat")},handleFiller:function(cr,ur,sr){var hr,gr;return sr.toLive?sr.gradientUnits==="percentage"||sr.gradientTransform||sr.patternTransform?(hr=-this.width/2,gr=-this.height/2,cr.translate(hr,gr),cr[ur]=this._applyPatternGradientTransformText(sr),{offsetX:hr,offsetY:gr}):(cr[ur]=sr.toLive(cr,this),this._applyPatternGradientTransform(cr,sr)):(cr[ur]=sr,{offsetX:0,offsetY:0})},_setStrokeStyles:function(cr,ur){return cr.lineWidth=ur.strokeWidth,cr.lineCap=this.strokeLineCap,cr.lineDashOffset=this.strokeDashOffset,cr.lineJoin=this.strokeLineJoin,cr.miterLimit=this.strokeMiterLimit,this.handleFiller(cr,"strokeStyle",ur.stroke)},_setFillStyles:function(cr,ur){return this.handleFiller(cr,"fillStyle",ur.fill)},_renderChar:function(cr,ur,sr,hr,gr,pr,mr){var vr=this._getStyleDeclaration(sr,hr),yr=this.getCompleteStyleDeclaration(sr,hr),br=cr==="fillText"&&yr.fill,xr=cr==="strokeText"&&yr.stroke&&yr.strokeWidth,Cr,kr;!xr&&!br||(ur.save(),br&&(Cr=this._setFillStyles(ur,yr)),xr&&(kr=this._setStrokeStyles(ur,yr)),ur.font=this._getFontDeclaration(yr),vr&&vr.textBackgroundColor&&this._removeShadow(ur),vr&&vr.deltaY&&(mr+=vr.deltaY),br&&ur.fillText(gr,pr-Cr.offsetX,mr-Cr.offsetY),xr&&ur.strokeText(gr,pr-kr.offsetX,mr-kr.offsetY),ur.restore())},setSuperscript:function(cr,ur){return this._setScript(cr,ur,this.superscript)},setSubscript:function(cr,ur){return this._setScript(cr,ur,this.subscript)},_setScript:function(cr,ur,sr){var hr=this.get2DCursorLocation(cr,!0),gr=this.getValueOfPropertyAt(hr.lineIndex,hr.charIndex,"fontSize"),pr=this.getValueOfPropertyAt(hr.lineIndex,hr.charIndex,"deltaY"),mr={fontSize:gr*sr.size,deltaY:pr+gr*sr.baseline};return this.setSelectionStyles(mr,cr,ur),this},_getLineLeftOffset:function(cr){var ur=this.getLineWidth(cr),sr=this.width-ur,hr=this.textAlign,gr=this.direction,mr,pr=0,mr=this.isEndOfWrapping(cr);return hr==="justify"||hr==="justify-center"&&!mr||hr==="justify-right"&&!mr||hr==="justify-left"&&!mr?0:(hr==="center"&&(pr=sr/2),hr==="right"&&(pr=sr),hr==="justify-center"&&(pr=sr/2),hr==="justify-right"&&(pr=sr),gr==="rtl"&&(pr-=sr),pr)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var cr=this._forceClearCache;return cr||(cr=this.hasStateChanged("_dimensionAffectingProps")),cr&&(this.dirty=!0,this._forceClearCache=!1),cr},getLineWidth:function(cr){if(this.__lineWidths[cr]!==void 0)return this.__lineWidths[cr];var ur=this.measureLine(cr),sr=ur.width;return this.__lineWidths[cr]=sr,sr},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(cr,ur,sr){var hr=this._getStyleDeclaration(cr,ur);return hr&&typeof hr[sr]<"u"?hr[sr]:this[sr]},_renderTextDecoration:function(cr,ur){if(!(!this[ur]&&!this.styleHas(ur))){for(var sr,hr,gr,pr,mr,vr,yr,br,xr=this._getLeftOffset(),Cr=this._getTopOffset(),kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr=this.path,Yr=this._getWidthOfCharSpacing(),nn=this.offsets[ur],Qr=0,Or=this._textLines.length;Qr<Or;Qr++){if(sr=this.getHeightOfLine(Qr),!this[ur]&&!this.styleHas(ur,Qr)){Cr+=sr;continue}yr=this._textLines[Qr],jr=sr/this.lineHeight,pr=this._getLineLeftOffset(Qr),Pr=0,$r=0,br=this.getValueOfPropertyAt(Qr,0,ur),zr=this.getValueOfPropertyAt(Qr,0,"fill"),kr=Cr+jr*(1-this._fontSizeFraction),hr=this.getHeightOfChar(Qr,0),mr=this.getValueOfPropertyAt(Qr,0,"deltaY");for(var Er=0,Dr=yr.length;Er<Dr;Er++)if(Kr=this.__charBounds[Qr][Er],Ir=this.getValueOfPropertyAt(Qr,Er,ur),Jr=this.getValueOfPropertyAt(Qr,Er,"fill"),gr=this.getHeightOfChar(Qr,Er),vr=this.getValueOfPropertyAt(Qr,Er,"deltaY"),Hr&&Ir&&Jr)cr.save(),cr.fillStyle=zr,cr.translate(Kr.renderLeft,Kr.renderTop),cr.rotate(Kr.angle),cr.fillRect(-Kr.kernedWidth/2,nn*gr+vr,Kr.kernedWidth,this.fontSize/15),cr.restore();else if((Ir!==br||Jr!==zr||gr!==hr||vr!==mr)&&$r>0){var Tr=xr+pr+Pr;this.direction==="rtl"&&(Tr=this.width-Tr-$r),br&&zr&&(cr.fillStyle=zr,cr.fillRect(Tr,kr+nn*hr+mr,$r,this.fontSize/15)),Pr=Kr.left,$r=Kr.width,br=Ir,zr=Jr,hr=gr,mr=vr}else $r+=Kr.kernedWidth;var Tr=xr+pr+Pr;this.direction==="rtl"&&(Tr=this.width-Tr-$r),cr.fillStyle=Jr,Ir&&Jr&&cr.fillRect(Tr,kr+nn*hr+mr,$r-Yr,this.fontSize/15),Cr+=sr}this._removeShadow(cr)}},_getFontDeclaration:function(cr,ur){var sr=cr||this,hr=this.fontFamily,gr=ir.Text.genericFonts.indexOf(hr.toLowerCase())>-1,pr=hr===void 0||hr.indexOf("'")>-1||hr.indexOf(",")>-1||hr.indexOf('"')>-1||gr?sr.fontFamily:'"'+sr.fontFamily+'"';return[ir.isLikelyNode?sr.fontWeight:sr.fontStyle,ir.isLikelyNode?sr.fontStyle:sr.fontWeight,ur?this.CACHE_FONT_SIZE+"px":sr.fontSize+"px",pr].join(" ")},render:function(cr){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",cr))},_splitTextIntoLines:function(cr){for(var ur=cr.split(this._reNewline),sr=new Array(ur.length),hr=[`
`],gr=[],pr=0;pr<ur.length;pr++)sr[pr]=ir.util.string.graphemeSplit(ur[pr]),gr=gr.concat(sr[pr],hr);return gr.pop(),{_unwrappedLines:sr,lines:ur,graphemeText:gr,graphemeLines:sr}},toObject:function(cr){var ur=fr.concat(cr),sr=this.callSuper("toObject",ur);return sr.styles=ir.util.stylesToArray(this.styles,this.text),sr.path&&(sr.path=this.path.toObject()),sr},set:function(cr,ur){this.callSuper("set",cr,ur);var sr=!1,hr=!1;if(typeof cr=="object")for(var gr in cr)gr==="path"&&this.setPathInfo(),sr=sr||this._dimensionAffectingProps.indexOf(gr)!==-1,hr=hr||gr==="path";else sr=this._dimensionAffectingProps.indexOf(cr)!==-1,hr=cr==="path";return hr&&this.setPathInfo(),sr&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),ir.Text.ATTRIBUTE_NAMES=ir.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),ir.Text.DEFAULT_SVG_FONT_SIZE=16,ir.Text.fromElement=function(cr,ur,sr){if(!cr)return ur(null);var hr=ir.parseAttributes(cr,ir.Text.ATTRIBUTE_NAMES),gr=hr.textAnchor||"left";if(sr=ir.util.object.extend(sr?lr(sr):{},hr),sr.top=sr.top||0,sr.left=sr.left||0,hr.textDecoration){var pr=hr.textDecoration;pr.indexOf("underline")!==-1&&(sr.underline=!0),pr.indexOf("overline")!==-1&&(sr.overline=!0),pr.indexOf("line-through")!==-1&&(sr.linethrough=!0),delete sr.textDecoration}"dx"in hr&&(sr.left+=hr.dx),"dy"in hr&&(sr.top+=hr.dy),"fontSize"in sr||(sr.fontSize=ir.Text.DEFAULT_SVG_FONT_SIZE);var mr="";"textContent"in cr?mr=cr.textContent:"firstChild"in cr&&cr.firstChild!==null&&"data"in cr.firstChild&&cr.firstChild.data!==null&&(mr=cr.firstChild.data),mr=mr.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var vr=sr.strokeWidth;sr.strokeWidth=0;var yr=new ir.Text(mr,sr),br=yr.getScaledHeight()/yr.height,xr=(yr.height+yr.strokeWidth)*yr.lineHeight-yr.height,Cr=xr*br,kr=yr.getScaledHeight()+Cr,Pr=0;gr==="center"&&(Pr=yr.getScaledWidth()/2),gr==="right"&&(Pr=yr.getScaledWidth()),yr.set({left:yr.left-Pr,top:yr.top-(kr-yr.fontSize*(.07+yr._fontSizeFraction))/yr.lineHeight,strokeWidth:typeof vr<"u"?vr:1}),ur(yr)},ir.Text.fromObject=function(cr,ur){var sr=lr(cr),hr=cr.path;return delete sr.path,ir.Object._fromObject("Text",sr,function(gr){gr.styles=ir.util.stylesFromArray(cr.styles,cr.text),hr?ir.Object._fromObject("Path",hr,function(pr){gr.set("path",pr),ur(gr)},"path"):ur(gr)},"text")},ir.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],ir.util.createAccessors&&ir.util.createAccessors(ir.Text)}(St),function(){er.util.object.extend(er.Text.prototype,{isEmptyStyles:function(or){if(!this.styles||typeof or<"u"&&!this.styles[or])return!0;var ir=typeof or>"u"?this.styles:{line:this.styles[or]};for(var lr in ir)for(var fr in ir[lr])for(var cr in ir[lr][fr])return!1;return!0},styleHas:function(or,ir){if(!this.styles||!or||or===""||typeof ir<"u"&&!this.styles[ir])return!1;var lr=typeof ir>"u"?this.styles:{0:this.styles[ir]};for(var fr in lr)for(var cr in lr[fr])if(typeof lr[fr][cr][or]<"u")return!0;return!1},cleanStyle:function(or){if(!this.styles||!or||or==="")return!1;var ir=this.styles,lr=0,fr,cr,ur=!0,sr=0,hr;for(var gr in ir){fr=0;for(var pr in ir[gr]){var hr=ir[gr][pr],mr=hr.hasOwnProperty(or);lr++,mr?(cr?hr[or]!==cr&&(ur=!1):cr=hr[or],hr[or]===this[or]&&delete hr[or]):ur=!1,Object.keys(hr).length!==0?fr++:delete ir[gr][pr]}fr===0&&delete ir[gr]}for(var vr=0;vr<this._textLines.length;vr++)sr+=this._textLines[vr].length;ur&&lr===sr&&(this[or]=cr,this.removeStyle(or))},removeStyle:function(or){if(!(!this.styles||!or||or==="")){var ir=this.styles,lr,fr,cr;for(fr in ir){lr=ir[fr];for(cr in lr)delete lr[cr][or],Object.keys(lr[cr]).length===0&&delete lr[cr];Object.keys(lr).length===0&&delete ir[fr]}}},_extendStyles:function(or,ir){var lr=this.get2DCursorLocation(or);this._getLineStyle(lr.lineIndex)||this._setLineStyle(lr.lineIndex),this._getStyleDeclaration(lr.lineIndex,lr.charIndex)||this._setStyleDeclaration(lr.lineIndex,lr.charIndex,{}),er.util.object.extend(this._getStyleDeclaration(lr.lineIndex,lr.charIndex),ir)},get2DCursorLocation:function(or,ir){typeof or>"u"&&(or=this.selectionStart);for(var lr=ir?this._unwrappedTextLines:this._textLines,fr=lr.length,cr=0;cr<fr;cr++){if(or<=lr[cr].length)return{lineIndex:cr,charIndex:or};or-=lr[cr].length+this.missingNewlineOffset(cr)}return{lineIndex:cr-1,charIndex:lr[cr-1].length<or?lr[cr-1].length:or}},getSelectionStyles:function(or,ir,lr){typeof or>"u"&&(or=this.selectionStart||0),typeof ir>"u"&&(ir=this.selectionEnd||or);for(var fr=[],cr=or;cr<ir;cr++)fr.push(this.getStyleAtPosition(cr,lr));return fr},getStyleAtPosition:function(or,ir){var lr=this.get2DCursorLocation(or),fr=ir?this.getCompleteStyleDeclaration(lr.lineIndex,lr.charIndex):this._getStyleDeclaration(lr.lineIndex,lr.charIndex);return fr||{}},setSelectionStyles:function(or,ir,lr){typeof ir>"u"&&(ir=this.selectionStart||0),typeof lr>"u"&&(lr=this.selectionEnd||ir);for(var fr=ir;fr<lr;fr++)this._extendStyles(fr,or);return this._forceClearCache=!0,this},_getStyleDeclaration:function(or,ir){var lr=this.styles&&this.styles[or];return lr?lr[ir]:null},getCompleteStyleDeclaration:function(or,ir){for(var lr=this._getStyleDeclaration(or,ir)||{},fr={},cr,ur=0;ur<this._styleProperties.length;ur++)cr=this._styleProperties[ur],fr[cr]=typeof lr[cr]>"u"?this[cr]:lr[cr];return fr},_setStyleDeclaration:function(or,ir,lr){this.styles[or][ir]=lr},_deleteStyleDeclaration:function(or,ir){delete this.styles[or][ir]},_getLineStyle:function(or){return!!this.styles[or]},_setLineStyle:function(or){this.styles[or]={}},_deleteLineStyle:function(or){delete this.styles[or]}})}(),function(){function or(ir){ir.textDecoration&&(ir.textDecoration.indexOf("underline")>-1&&(ir.underline=!0),ir.textDecoration.indexOf("line-through")>-1&&(ir.linethrough=!0),ir.textDecoration.indexOf("overline")>-1&&(ir.overline=!0),delete ir.textDecoration)}er.IText=er.util.createClass(er.Text,er.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(ir,lr){this.callSuper("initialize",ir,lr),this.initBehavior()},setSelectionStart:function(ir){ir=Math.max(ir,0),this._updateAndFire("selectionStart",ir)},setSelectionEnd:function(ir){ir=Math.min(ir,this.text.length),this._updateAndFire("selectionEnd",ir)},_updateAndFire:function(ir,lr){this[ir]!==lr&&(this._fireSelectionChanged(),this[ir]=lr),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(ir){this.clearContextTop(),this.callSuper("render",ir),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(ir){this.callSuper("_render",ir)},clearContextTop:function(ir){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var lr=this.canvas.contextTop,fr=this.canvas.viewportTransform;lr.save(),lr.transform(fr[0],fr[1],fr[2],fr[3],fr[4],fr[5]),this.transform(lr),this._clearTextArea(lr),ir||lr.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var ir=this._getCursorBoundaries(),lr=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(ir,lr):this.renderSelection(ir,lr),lr.restore()}},_clearTextArea:function(ir){var lr=this.width+4,fr=this.height+4;ir.clearRect(-lr/2,-fr/2,lr,fr)},_getCursorBoundaries:function(ir){typeof ir>"u"&&(ir=this.selectionStart);var lr=this._getLeftOffset(),fr=this._getTopOffset(),cr=this._getCursorBoundariesOffsets(ir);return{left:lr,top:fr,leftOffset:cr.left,topOffset:cr.top}},_getCursorBoundariesOffsets:function(ir){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var lr,fr,cr,ur=0,sr=0,hr,gr=this.get2DCursorLocation(ir);cr=gr.charIndex,fr=gr.lineIndex;for(var pr=0;pr<fr;pr++)ur+=this.getHeightOfLine(pr);lr=this._getLineLeftOffset(fr);var mr=this.__charBounds[fr][cr];return mr&&(sr=mr.left),this.charSpacing!==0&&cr===this._textLines[fr].length&&(sr-=this._getWidthOfCharSpacing()),hr={top:ur,left:lr+(sr>0?sr:0)},this.direction==="rtl"&&(hr.left*=-1),this.cursorOffsetCache=hr,this.cursorOffsetCache},renderCursor:function(ir,lr){var fr=this.get2DCursorLocation(),cr=fr.lineIndex,ur=fr.charIndex>0?fr.charIndex-1:0,sr=this.getValueOfPropertyAt(cr,ur,"fontSize"),hr=this.scaleX*this.canvas.getZoom(),gr=this.cursorWidth/hr,pr=ir.topOffset,mr=this.getValueOfPropertyAt(cr,ur,"deltaY");pr+=(1-this._fontSizeFraction)*this.getHeightOfLine(cr)/this.lineHeight-sr*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(ir,lr),lr.fillStyle=this.cursorColor||this.getValueOfPropertyAt(cr,ur,"fill"),lr.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,lr.fillRect(ir.left+ir.leftOffset-gr/2,pr+ir.top+mr,gr,sr)},renderSelection:function(ir,lr){for(var fr=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,cr=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,ur=this.textAlign.indexOf("justify")!==-1,sr=this.get2DCursorLocation(fr),hr=this.get2DCursorLocation(cr),gr=sr.lineIndex,pr=hr.lineIndex,mr=sr.charIndex<0?0:sr.charIndex,vr=hr.charIndex<0?0:hr.charIndex,yr=gr;yr<=pr;yr++){var br=this._getLineLeftOffset(yr)||0,xr=this.getHeightOfLine(yr),Cr=0,kr=0,Pr=0;if(yr===gr&&(kr=this.__charBounds[gr][mr].left),yr>=gr&&yr<pr)Pr=ur&&!this.isEndOfWrapping(yr)?this.width:this.getLineWidth(yr)||5;else if(yr===pr)if(vr===0)Pr=this.__charBounds[pr][vr].left;else{var $r=this._getWidthOfCharSpacing();Pr=this.__charBounds[pr][vr-1].left+this.__charBounds[pr][vr-1].width-$r}Cr=xr,(this.lineHeight<1||yr===pr&&this.lineHeight>1)&&(xr/=this.lineHeight);var Kr=ir.left+br+kr,Ir=Pr-kr,jr=xr,Jr=0;this.inCompositionMode?(lr.fillStyle=this.compositionColor||"black",jr=1,Jr=xr):lr.fillStyle=this.selectionColor,this.direction==="rtl"&&(Kr=this.width-Kr-Ir),lr.fillRect(Kr,ir.top+ir.topOffset+Jr,Ir,jr),ir.topOffset+=Cr}},getCurrentCharFontSize:function(){var ir=this._getCurrentCharIndex();return this.getValueOfPropertyAt(ir.l,ir.c,"fontSize")},getCurrentCharColor:function(){var ir=this._getCurrentCharIndex();return this.getValueOfPropertyAt(ir.l,ir.c,"fill")},_getCurrentCharIndex:function(){var ir=this.get2DCursorLocation(this.selectionStart,!0),lr=ir.charIndex>0?ir.charIndex-1:0;return{l:ir.lineIndex,c:lr}}}),er.IText.fromObject=function(ir,lr){var fr=er.util.stylesFromArray(ir.styles,ir.text),cr=Object.assign({},ir,{styles:fr});if(or(cr),cr.styles)for(var ur in cr.styles)for(var sr in cr.styles[ur])or(cr.styles[ur][sr]);er.Object._fromObject("IText",cr,lr,"text")}}(),function(){var or=er.util.object.clone;er.util.object.extend(er.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var ir=this;this.on("added",function(){var lr=ir.canvas;lr&&(lr._hasITextHandlers||(lr._hasITextHandlers=!0,ir._initCanvasHandlers(lr)),lr._iTextInstances=lr._iTextInstances||[],lr._iTextInstances.push(ir))})},initRemovedHandler:function(){var ir=this;this.on("removed",function(){var lr=ir.canvas;lr&&(lr._iTextInstances=lr._iTextInstances||[],er.util.removeFromArray(lr._iTextInstances,ir),lr._iTextInstances.length===0&&(lr._hasITextHandlers=!1,ir._removeCanvasHandlers(lr)))})},_initCanvasHandlers:function(ir){ir._mouseUpITextHandler=function(){ir._iTextInstances&&ir._iTextInstances.forEach(function(lr){lr.__isMousedown=!1})},ir.on("mouse:up",ir._mouseUpITextHandler)},_removeCanvasHandlers:function(ir){ir.off("mouse:up",ir._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(ir,lr,fr,cr){var ur;return ur={isAborted:!1,abort:function(){this.isAborted=!0}},ir.animate("_currentCursorOpacity",lr,{duration:fr,onComplete:function(){ur.isAborted||ir[cr]()},onChange:function(){ir.canvas&&ir.selectionStart===ir.selectionEnd&&ir.renderCursorOrSelection()},abort:function(){return ur.isAborted}}),ur},_onTickComplete:function(){var ir=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){ir._currentTickCompleteState=ir._animateCursor(ir,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(ir){var lr=this,fr=ir?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){lr._tick()},fr)},abortCursorAnimation:function(){var ir=this._currentTickState||this._currentTickCompleteState,lr=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,ir&&lr&&lr.clearContext(lr.contextTop||lr.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(ir){var lr=0,fr=ir-1;if(this._reSpace.test(this._text[fr]))for(;this._reSpace.test(this._text[fr]);)lr++,fr--;for(;/\S/.test(this._text[fr])&&fr>-1;)lr++,fr--;return ir-lr},findWordBoundaryRight:function(ir){var lr=0,fr=ir;if(this._reSpace.test(this._text[fr]))for(;this._reSpace.test(this._text[fr]);)lr++,fr++;for(;/\S/.test(this._text[fr])&&fr<this._text.length;)lr++,fr++;return ir+lr},findLineBoundaryLeft:function(ir){for(var lr=0,fr=ir-1;!/\n/.test(this._text[fr])&&fr>-1;)lr++,fr--;return ir-lr},findLineBoundaryRight:function(ir){for(var lr=0,fr=ir;!/\n/.test(this._text[fr])&&fr<this._text.length;)lr++,fr++;return ir+lr},searchWordBoundary:function(ir,lr){for(var fr=this._text,cr=this._reSpace.test(fr[ir])?ir-1:ir,ur=fr[cr],sr=er.reNonWord;!sr.test(ur)&&cr>0&&cr<fr.length;)cr+=lr,ur=fr[cr];return sr.test(ur)&&(cr+=lr===1?0:1),cr},selectWord:function(ir){ir=ir||this.selectionStart;var lr=this.searchWordBoundary(ir,-1),fr=this.searchWordBoundary(ir,1);this.selectionStart=lr,this.selectionEnd=fr,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(ir){ir=ir||this.selectionStart;var lr=this.findLineBoundaryLeft(ir),fr=this.findLineBoundaryRight(ir);return this.selectionStart=lr,this.selectionEnd=fr,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(ir){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(ir),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(ir){ir._iTextInstances&&ir._iTextInstances.forEach(function(lr){lr.selected=!1,lr.isEditing&&lr.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(ir){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var lr=this.getSelectionStartFromPointer(ir.e),fr=this.selectionStart,cr=this.selectionEnd;(lr!==this.__selectionStartOnMouseDown||fr===cr)&&(fr===lr||cr===lr)||(lr>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=lr):(this.selectionStart=lr,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==fr||this.selectionEnd!==cr)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(ir,lr,fr){var cr=fr.slice(0,ir),ur=er.util.string.graphemeSplit(cr).length;if(ir===lr)return{selectionStart:ur,selectionEnd:ur};var sr=fr.slice(ir,lr),hr=er.util.string.graphemeSplit(sr).length;return{selectionStart:ur,selectionEnd:ur+hr}},fromGraphemeToStringSelection:function(ir,lr,fr){var cr=fr.slice(0,ir),ur=cr.join("").length;if(ir===lr)return{selectionStart:ur,selectionEnd:ur};var sr=fr.slice(ir,lr),hr=sr.join("").length;return{selectionStart:ur,selectionEnd:ur+hr}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var ir=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=ir.selectionStart,this.hiddenTextarea.selectionEnd=ir.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var ir=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=ir.selectionEnd,this.inCompositionMode||(this.selectionStart=ir.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var ir=this._calcTextareaPosition();this.hiddenTextarea.style.left=ir.left,this.hiddenTextarea.style.top=ir.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var ir=this.inCompositionMode?this.compositionStart:this.selectionStart,lr=this._getCursorBoundaries(ir),fr=this.get2DCursorLocation(ir),cr=fr.lineIndex,ur=fr.charIndex,sr=this.getValueOfPropertyAt(cr,ur,"fontSize")*this.lineHeight,hr=lr.leftOffset,gr=this.calcTransformMatrix(),pr={x:lr.left+hr,y:lr.top+lr.topOffset+sr},mr=this.canvas.getRetinaScaling(),vr=this.canvas.upperCanvasEl,yr=vr.width/mr,br=vr.height/mr,xr=yr-sr,Cr=br-sr,kr=vr.clientWidth/yr,Pr=vr.clientHeight/br;return pr=er.util.transformPoint(pr,gr),pr=er.util.transformPoint(pr,this.canvas.viewportTransform),pr.x*=kr,pr.y*=Pr,pr.x<0&&(pr.x=0),pr.x>xr&&(pr.x=xr),pr.y<0&&(pr.y=0),pr.y>Cr&&(pr.y=Cr),pr.x+=this.canvas._offset.left,pr.y+=this.canvas._offset.top,{left:pr.x+"px",top:pr.y+"px",fontSize:sr+"px",charHeight:sr}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var ir=this._textBeforeEdit!==this.text,lr=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,lr&&(lr.blur&&lr.blur(),lr.parentNode&&lr.parentNode.removeChild(lr)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),ir&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),ir&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var ir in this.styles)this._textLines[ir]||delete this.styles[ir]},removeStyleFromTo:function(ir,lr){var fr=this.get2DCursorLocation(ir,!0),cr=this.get2DCursorLocation(lr,!0),ur=fr.lineIndex,sr=fr.charIndex,hr=cr.lineIndex,gr=cr.charIndex,pr,mr;if(ur!==hr){if(this.styles[ur])for(pr=sr;pr<this._unwrappedTextLines[ur].length;pr++)delete this.styles[ur][pr];if(this.styles[hr])for(pr=gr;pr<this._unwrappedTextLines[hr].length;pr++)mr=this.styles[hr][pr],mr&&(this.styles[ur]||(this.styles[ur]={}),this.styles[ur][sr+pr-gr]=mr);for(pr=ur+1;pr<=hr;pr++)delete this.styles[pr];this.shiftLineStyles(hr,ur-hr)}else if(this.styles[ur]){mr=this.styles[ur];var vr=gr-sr,yr,br;for(pr=sr;pr<gr;pr++)delete mr[pr];for(br in this.styles[ur])yr=parseInt(br,10),yr>=gr&&(mr[yr-vr]=mr[br],delete mr[br])}},shiftLineStyles:function(ir,lr){var fr=or(this.styles);for(var cr in this.styles){var ur=parseInt(cr,10);ur>ir&&(this.styles[ur+lr]=fr[ur],fr[ur-lr]||delete this.styles[ur])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(ir,lr,fr,cr){var ur,sr={},hr=!1,gr=this._unwrappedTextLines[ir].length===lr;fr||(fr=1),this.shiftLineStyles(ir,fr),this.styles[ir]&&(ur=this.styles[ir][lr===0?lr:lr-1]);for(var pr in this.styles[ir]){var mr=parseInt(pr,10);mr>=lr&&(hr=!0,sr[mr-lr]=this.styles[ir][pr],gr&&lr===0||delete this.styles[ir][pr])}var vr=!1;for(hr&&!gr&&(this.styles[ir+fr]=sr,vr=!0),vr&&fr--;fr>0;)cr&&cr[fr-1]?this.styles[ir+fr]={0:or(cr[fr-1])}:ur?this.styles[ir+fr]={0:or(ur)}:delete this.styles[ir+fr],fr--;this._forceClearCache=!0},insertCharStyleObject:function(ir,lr,fr,cr){this.styles||(this.styles={});var ur=this.styles[ir],sr=ur?or(ur):{};fr||(fr=1);for(var hr in sr){var gr=parseInt(hr,10);gr>=lr&&(ur[gr+fr]=sr[gr],sr[gr-fr]||delete ur[gr])}if(this._forceClearCache=!0,cr){for(;fr--;)!Object.keys(cr[fr]).length||(this.styles[ir]||(this.styles[ir]={}),this.styles[ir][lr+fr]=or(cr[fr]));return}if(!!ur)for(var pr=ur[lr?lr-1:1];pr&&fr--;)this.styles[ir][lr+fr]=or(pr)},insertNewStyleBlock:function(ir,lr,fr){for(var cr=this.get2DCursorLocation(lr,!0),ur=[0],sr=0,hr=0;hr<ir.length;hr++)ir[hr]===`
`?(sr++,ur[sr]=0):ur[sr]++;ur[0]>0&&(this.insertCharStyleObject(cr.lineIndex,cr.charIndex,ur[0],fr),fr=fr&&fr.slice(ur[0]+1)),sr&&this.insertNewlineStyleObject(cr.lineIndex,cr.charIndex+ur[0],sr);for(var hr=1;hr<sr;hr++)ur[hr]>0?this.insertCharStyleObject(cr.lineIndex+hr,0,ur[hr],fr):fr&&this.styles[cr.lineIndex+hr]&&fr[0]&&(this.styles[cr.lineIndex+hr][0]=fr[0]),fr=fr&&fr.slice(ur[hr]+1);ur[hr]>0&&this.insertCharStyleObject(cr.lineIndex+hr,0,ur[hr],fr)},setSelectionStartEndWithShift:function(ir,lr,fr){fr<=ir?(lr===ir?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=ir),this.selectionStart=fr):fr>ir&&fr<lr?this._selectionDirection==="right"?this.selectionEnd=fr:this.selectionStart=fr:(lr===ir?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=lr),this.selectionEnd=fr)},setSelectionInBoundaries:function(){var ir=this.text.length;this.selectionStart>ir?this.selectionStart=ir:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>ir?this.selectionEnd=ir:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),er.util.object.extend(er.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(or){if(!!this.canvas){this.__newClickTime=+new Date;var ir=or.pointer;this.isTripleClick(ir)&&(this.fire("tripleclick",or),this._stopEvent(or.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=ir,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(or){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===or.x&&this.__lastPointer.y===or.y},_stopEvent:function(or){or.preventDefault&&or.preventDefault(),or.stopPropagation&&or.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(or){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(or.e))},tripleClickHandler:function(or){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(or.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(or){!this.canvas||!this.editable||or.e.button&&or.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(or.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(or){!this.canvas||!this.editable||or.e.button&&or.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(or){if(this.__isMousedown=!1,!(!this.editable||this.group||or.transform&&or.transform.actionPerformed||or.e.button&&or.e.button!==1)){if(this.canvas){var ir=this.canvas._activeObject;if(ir&&ir!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(or.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(or){var ir=this.getSelectionStartFromPointer(or),lr=this.selectionStart,fr=this.selectionEnd;or.shiftKey?this.setSelectionStartEndWithShift(lr,fr,ir):(this.selectionStart=ir,this.selectionEnd=ir),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(or){for(var ir=this.getLocalPointer(or),lr=0,fr=0,cr=0,ur=0,sr=0,hr,gr,pr=0,mr=this._textLines.length;pr<mr&&cr<=ir.y;pr++)cr+=this.getHeightOfLine(pr)*this.scaleY,sr=pr,pr>0&&(ur+=this._textLines[pr-1].length+this.missingNewlineOffset(pr-1));hr=this._getLineLeftOffset(sr),fr=hr*this.scaleX,gr=this._textLines[sr],this.direction==="rtl"&&(ir.x=this.width*this.scaleX-ir.x+fr);for(var vr=0,yr=gr.length;vr<yr&&(lr=fr,fr+=this.__charBounds[sr][vr].kernedWidth*this.scaleX,fr<=ir.x);vr++)ur++;return this._getNewSelectionStartFromOffset(ir,lr,fr,ur,yr)},_getNewSelectionStartFromOffset:function(or,ir,lr,fr,cr){var ur=or.x-ir,sr=lr-or.x,hr=sr>ur||sr<0?0:1,gr=fr+hr;return this.flipX&&(gr=cr-gr),gr>this._text.length&&(gr=this._text.length),gr}}),er.util.object.extend(er.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=er.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var or=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+or.top+"; left: "+or.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+or.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):er.document.body.appendChild(this.hiddenTextarea),er.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),er.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),er.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),er.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),er.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),er.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),er.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),er.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),er.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(er.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(or){if(!!this.isEditing){var ir=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(or.keyCode in ir)this[ir[or.keyCode]](or);else if(or.keyCode in this.ctrlKeysMapDown&&(or.ctrlKey||or.metaKey))this[this.ctrlKeysMapDown[or.keyCode]](or);else return;or.stopImmediatePropagation(),or.preventDefault(),or.keyCode>=33&&or.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(or){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(or.keyCode in this.ctrlKeysMapUp&&(or.ctrlKey||or.metaKey))this[this.ctrlKeysMapUp[or.keyCode]](or);else return;or.stopImmediatePropagation(),or.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(or){var ir=this.fromPaste;if(this.fromPaste=!1,or&&or.stopPropagation(),!!this.isEditing){var lr=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,fr=this._text.length,cr=lr.length,ur,sr,hr=cr-fr,gr=this.selectionStart,pr=this.selectionEnd,mr=gr!==pr,vr,yr,br;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var xr=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),Cr=gr>xr.selectionStart;mr?(ur=this._text.slice(gr,pr),hr+=pr-gr):cr<fr&&(Cr?ur=this._text.slice(pr+hr,pr):ur=this._text.slice(gr,gr-hr)),sr=lr.slice(xr.selectionEnd-hr,xr.selectionEnd),ur&&ur.length&&(sr.length&&(vr=this.getSelectionStyles(gr,gr+1,!1),vr=sr.map(function(){return vr[0]})),mr?(yr=gr,br=pr):Cr?(yr=pr-ur.length,br=pr):(yr=pr,br=pr+ur.length),this.removeStyleFromTo(yr,br)),sr.length&&(ir&&sr.join("")===er.copiedText&&!er.disableStyleCopyPaste&&(vr=er.copiedTextStyle),this.insertNewStyleBlock(sr,gr,vr)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(or){this.compositionStart=or.target.selectionStart,this.compositionEnd=or.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(er.copiedText=this.getSelectedText(),er.disableStyleCopyPaste?er.copiedTextStyle=null:er.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(or){return or&&or.clipboardData||er.window.clipboardData},_getWidthBeforeCursor:function(or,ir){var lr=this._getLineLeftOffset(or),fr;return ir>0&&(fr=this.__charBounds[or][ir-1],lr+=fr.left+fr.width),lr},getDownCursorOffset:function(or,ir){var lr=this._getSelectionForOffset(or,ir),fr=this.get2DCursorLocation(lr),cr=fr.lineIndex;if(cr===this._textLines.length-1||or.metaKey||or.keyCode===34)return this._text.length-lr;var ur=fr.charIndex,sr=this._getWidthBeforeCursor(cr,ur),hr=this._getIndexOnLine(cr+1,sr),gr=this._textLines[cr].slice(ur);return gr.length+hr+1+this.missingNewlineOffset(cr)},_getSelectionForOffset:function(or,ir){return or.shiftKey&&this.selectionStart!==this.selectionEnd&&ir?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(or,ir){var lr=this._getSelectionForOffset(or,ir),fr=this.get2DCursorLocation(lr),cr=fr.lineIndex;if(cr===0||or.metaKey||or.keyCode===33)return-lr;var ur=fr.charIndex,sr=this._getWidthBeforeCursor(cr,ur),hr=this._getIndexOnLine(cr-1,sr),gr=this._textLines[cr].slice(0,ur),pr=this.missingNewlineOffset(cr-1);return-this._textLines[cr-1].length+hr-gr.length+(1-pr)},_getIndexOnLine:function(or,ir){for(var lr=this._textLines[or],fr=this._getLineLeftOffset(or),cr=fr,ur=0,sr,hr,gr=0,pr=lr.length;gr<pr;gr++)if(sr=this.__charBounds[or][gr].width,cr+=sr,cr>ir){hr=!0;var mr=cr-sr,vr=cr,yr=Math.abs(mr-ir),br=Math.abs(vr-ir);ur=br<yr?gr:gr-1;break}return hr||(ur=lr.length-1),ur},moveCursorDown:function(or){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",or)},moveCursorUp:function(or){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",or)},_moveCursorUpOrDown:function(or,ir){var lr="get"+or+"CursorOffset",fr=this[lr](ir,this._selectionDirection==="right");ir.shiftKey?this.moveCursorWithShift(fr):this.moveCursorWithoutShift(fr),fr!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(or){var ir=this._selectionDirection==="left"?this.selectionStart+or:this.selectionEnd+or;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,ir),or!==0},moveCursorWithoutShift:function(or){return or<0?(this.selectionStart+=or,this.selectionEnd=this.selectionStart):(this.selectionEnd+=or,this.selectionStart=this.selectionEnd),or!==0},moveCursorLeft:function(or){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",or)},_move:function(or,ir,lr){var fr;if(or.altKey)fr=this["findWordBoundary"+lr](this[ir]);else if(or.metaKey||or.keyCode===35||or.keyCode===36)fr=this["findLineBoundary"+lr](this[ir]);else return this[ir]+=lr==="Left"?-1:1,!0;if(typeof fr<"u"&&this[ir]!==fr)return this[ir]=fr,!0},_moveLeft:function(or,ir){return this._move(or,ir,"Left")},_moveRight:function(or,ir){return this._move(or,ir,"Right")},moveCursorLeftWithoutShift:function(or){var ir=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(ir=this._moveLeft(or,"selectionStart")),this.selectionEnd=this.selectionStart,ir},moveCursorLeftWithShift:function(or){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(or,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(or,"selectionStart")},moveCursorRight:function(or){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",or)},_moveCursorLeftOrRight:function(or,ir){var lr="moveCursor"+or+"With";this._currentCursorOpacity=1,ir.shiftKey?lr+="Shift":lr+="outShift",this[lr](ir)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(or){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(or,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(or,"selectionEnd")},moveCursorRightWithoutShift:function(or){var ir=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(ir=this._moveRight(or,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,ir},removeChars:function(or,ir){typeof ir>"u"&&(ir=or+1),this.removeStyleFromTo(or,ir),this._text.splice(or,ir-or),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(or,ir,lr,fr){typeof fr>"u"&&(fr=lr),fr>lr&&this.removeStyleFromTo(lr,fr);var cr=er.util.string.graphemeSplit(or);this.insertNewStyleBlock(cr,lr,ir),this._text=[].concat(this._text.slice(0,lr),cr,this._text.slice(fr)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var or=er.util.toFixed,ir=/  +/g;er.util.object.extend(er.Text.prototype,{_toSVG:function(){var lr=this._getSVGLeftTopOffsets(),fr=this._getSVGTextAndBg(lr.textTop,lr.textLeft);return this._wrapSVGTextAndBg(fr)},toSVG:function(lr){return this._createBaseSVGMarkup(this._toSVG(),{reviver:lr,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(lr){var fr=!0,cr=this.getSvgTextDecoration(this);return[lr.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",cr?'text-decoration="'+cr+'" ':"",'style="',this.getSvgStyles(fr),'"',this.addPaintOrder()," >",lr.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(lr,fr){var cr=[],ur=[],sr=lr,hr;this._setSVGBg(ur);for(var gr=0,pr=this._textLines.length;gr<pr;gr++)hr=this._getLineLeftOffset(gr),(this.textBackgroundColor||this.styleHas("textBackgroundColor",gr))&&this._setSVGTextLineBg(ur,gr,fr+hr,sr),this._setSVGTextLineText(cr,gr,fr+hr,sr),sr+=this.getHeightOfLine(gr);return{textSpans:cr,textBgRects:ur}},_createTextCharSpan:function(lr,fr,cr,ur){var sr=lr!==lr.trim()||lr.match(ir),hr=this.getSvgSpanStyles(fr,sr),gr=hr?'style="'+hr+'"':"",pr=fr.deltaY,mr="",vr=er.Object.NUM_FRACTION_DIGITS;return pr&&(mr=' dy="'+or(pr,vr)+'" '),['<tspan x="',or(cr,vr),'" y="',or(ur,vr),'" ',mr,gr,">",er.util.string.escapeXml(lr),"</tspan>"].join("")},_setSVGTextLineText:function(lr,fr,cr,ur){var sr=this.getHeightOfLine(fr),hr=this.textAlign.indexOf("justify")!==-1,gr,pr,mr="",vr,yr,br=0,xr=this._textLines[fr],Cr;ur+=sr*(1-this._fontSizeFraction)/this.lineHeight;for(var kr=0,Pr=xr.length-1;kr<=Pr;kr++)Cr=kr===Pr||this.charSpacing,mr+=xr[kr],vr=this.__charBounds[fr][kr],br===0?(cr+=vr.kernedWidth-vr.width,br+=vr.width):br+=vr.kernedWidth,hr&&!Cr&&this._reSpaceAndTab.test(xr[kr])&&(Cr=!0),Cr||(gr=gr||this.getCompleteStyleDeclaration(fr,kr),pr=this.getCompleteStyleDeclaration(fr,kr+1),Cr=er.util.hasStyleChanged(gr,pr,!0)),Cr&&(yr=this._getStyleDeclaration(fr,kr)||{},lr.push(this._createTextCharSpan(mr,yr,cr,ur)),mr="",gr=pr,cr+=br,br=0)},_pushTextBgRect:function(lr,fr,cr,ur,sr,hr){var gr=er.Object.NUM_FRACTION_DIGITS;lr.push("		<rect ",this._getFillAttributes(fr),' x="',or(cr,gr),'" y="',or(ur,gr),'" width="',or(sr,gr),'" height="',or(hr,gr),`"></rect>
`)},_setSVGTextLineBg:function(lr,fr,cr,ur){for(var sr=this._textLines[fr],hr=this.getHeightOfLine(fr)/this.lineHeight,gr=0,pr=0,mr,vr,yr=this.getValueOfPropertyAt(fr,0,"textBackgroundColor"),br=0,xr=sr.length;br<xr;br++)mr=this.__charBounds[fr][br],vr=this.getValueOfPropertyAt(fr,br,"textBackgroundColor"),vr!==yr?(yr&&this._pushTextBgRect(lr,yr,cr+pr,ur,gr,hr),pr=mr.left,gr=mr.width,yr=vr):gr+=mr.kernedWidth;vr&&this._pushTextBgRect(lr,vr,cr+pr,ur,gr,hr)},_getFillAttributes:function(lr){var fr=lr&&typeof lr=="string"?new er.Color(lr):"";return!fr||!fr.getSource()||fr.getAlpha()===1?'fill="'+lr+'"':'opacity="'+fr.getAlpha()+'" fill="'+fr.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(lr){for(var fr=0,cr=0,ur=0;ur<lr;ur++)fr+=this.getHeightOfLine(ur);return cr=this.getHeightOfLine(ur),{lineTop:fr,offset:(this._fontSizeMult-this._fontSizeFraction)*cr/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(lr){var fr=er.Object.prototype.getSvgStyles.call(this,lr);return fr+" white-space: pre;"}})}(),function(or){var ir=or.fabric||(or.fabric={});ir.Textbox=ir.util.createClass(ir.IText,ir.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:ir.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(lr){for(var fr=0,cr=0,ur=0,sr={},hr=0;hr<lr.graphemeLines.length;hr++)lr.graphemeText[ur]===`
`&&hr>0?(cr=0,ur++,fr++):!this.splitByGrapheme&&this._reSpaceAndTab.test(lr.graphemeText[ur])&&hr>0&&(cr++,ur++),sr[hr]={line:fr,offset:cr},ur+=lr.graphemeLines[hr].length,cr+=lr.graphemeLines[hr].length;return sr},styleHas:function(lr,fr){if(this._styleMap&&!this.isWrapping){var cr=this._styleMap[fr];cr&&(fr=cr.line)}return ir.Text.prototype.styleHas.call(this,lr,fr)},isEmptyStyles:function(lr){if(!this.styles)return!0;var fr=0,cr=lr+1,ur,sr,hr=!1,gr=this._styleMap[lr],pr=this._styleMap[lr+1];gr&&(lr=gr.line,fr=gr.offset),pr&&(cr=pr.line,hr=cr===lr,ur=pr.offset),sr=typeof lr>"u"?this.styles:{line:this.styles[lr]};for(var mr in sr)for(var vr in sr[mr])if(vr>=fr&&(!hr||vr<ur))for(var yr in sr[mr][vr])return!1;return!0},_getStyleDeclaration:function(lr,fr){if(this._styleMap&&!this.isWrapping){var cr=this._styleMap[lr];if(!cr)return null;lr=cr.line,fr=cr.offset+fr}return this.callSuper("_getStyleDeclaration",lr,fr)},_setStyleDeclaration:function(lr,fr,cr){var ur=this._styleMap[lr];lr=ur.line,fr=ur.offset+fr,this.styles[lr][fr]=cr},_deleteStyleDeclaration:function(lr,fr){var cr=this._styleMap[lr];lr=cr.line,fr=cr.offset+fr,delete this.styles[lr][fr]},_getLineStyle:function(lr){var fr=this._styleMap[lr];return!!this.styles[fr.line]},_setLineStyle:function(lr){var fr=this._styleMap[lr];this.styles[fr.line]={}},_wrapText:function(lr,fr){var cr=[],ur;for(this.isWrapping=!0,ur=0;ur<lr.length;ur++)cr=cr.concat(this._wrapLine(lr[ur],ur,fr));return this.isWrapping=!1,cr},_measureWord:function(lr,fr,cr){var ur=0,sr,hr=!0;cr=cr||0;for(var gr=0,pr=lr.length;gr<pr;gr++){var mr=this._getGraphemeBox(lr[gr],fr,gr+cr,sr,hr);ur+=mr.kernedWidth,sr=lr[gr]}return ur},_wrapLine:function(lr,fr,cr,Kr){var sr=0,hr=this.splitByGrapheme,gr=[],pr=[],mr=hr?ir.util.string.graphemeSplit(lr):lr.split(this._wordJoiners),vr="",yr=0,br=hr?"":" ",xr=0,Cr=0,kr=0,Pr=!0,$r=this._getWidthOfCharSpacing(),Kr=Kr||0;mr.length===0&&mr.push([]),cr-=Kr;for(var Ir=0;Ir<mr.length;Ir++)vr=hr?mr[Ir]:ir.util.string.graphemeSplit(mr[Ir]),xr=this._measureWord(vr,fr,yr),yr+=vr.length,sr+=Cr+xr-$r,sr>cr&&!Pr?(gr.push(pr),pr=[],sr=xr,Pr=!0):sr+=$r,!Pr&&!hr&&pr.push(br),pr=pr.concat(vr),Cr=hr?0:this._measureWord([br],fr,yr),yr++,Pr=!1,xr>kr&&(kr=xr);return Ir&&gr.push(pr),kr+Kr>this.dynamicMinWidth&&(this.dynamicMinWidth=kr-$r+Kr),gr},isEndOfWrapping:function(lr){return!this._styleMap[lr+1]||this._styleMap[lr+1].line!==this._styleMap[lr].line},missingNewlineOffset:function(lr){return this.splitByGrapheme?this.isEndOfWrapping(lr)?1:0:1},_splitTextIntoLines:function(lr){for(var fr=ir.Text.prototype._splitTextIntoLines.call(this,lr),cr=this._wrapText(fr.lines,this.width),ur=new Array(cr.length),sr=0;sr<cr.length;sr++)ur[sr]=cr[sr].join("");return fr.lines=ur,fr.graphemeLines=cr,fr},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var lr={};for(var fr in this._styleMap)this._textLines[fr]&&(lr[this._styleMap[fr].line]=1);for(var fr in this.styles)lr[fr]||delete this.styles[fr]},toObject:function(lr){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(lr))}}),ir.Textbox.fromObject=function(lr,fr){var cr=ir.util.stylesFromArray(lr.styles,lr.text),ur=Object.assign({},lr,{styles:cr});return ir.Object._fromObject("Textbox",ur,fr,"text")}}(St),function(){var or=er.controlsUtils,ir=or.scaleSkewCursorStyleHandler,lr=or.scaleCursorStyleHandler,fr=or.scalingEqually,cr=or.scalingYOrSkewingX,ur=or.scalingXOrSkewingY,sr=or.scaleOrSkewActionName,hr=er.Object.prototype.controls;if(hr.ml=new er.Control({x:-.5,y:0,cursorStyleHandler:ir,actionHandler:ur,getActionName:sr}),hr.mr=new er.Control({x:.5,y:0,cursorStyleHandler:ir,actionHandler:ur,getActionName:sr}),hr.mb=new er.Control({x:0,y:.5,cursorStyleHandler:ir,actionHandler:cr,getActionName:sr}),hr.mt=new er.Control({x:0,y:-.5,cursorStyleHandler:ir,actionHandler:cr,getActionName:sr}),hr.tl=new er.Control({x:-.5,y:-.5,cursorStyleHandler:lr,actionHandler:fr}),hr.tr=new er.Control({x:.5,y:-.5,cursorStyleHandler:lr,actionHandler:fr}),hr.bl=new er.Control({x:-.5,y:.5,cursorStyleHandler:lr,actionHandler:fr}),hr.br=new er.Control({x:.5,y:.5,cursorStyleHandler:lr,actionHandler:fr}),hr.mtr=new er.Control({x:0,y:-.5,actionHandler:or.rotationWithSnapping,cursorStyleHandler:or.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),er.Textbox){var gr=er.Textbox.prototype.controls={};gr.mtr=hr.mtr,gr.tr=hr.tr,gr.br=hr.br,gr.tl=hr.tl,gr.bl=hr.bl,gr.mt=hr.mt,gr.mb=hr.mb,gr.mr=new er.Control({x:.5,y:0,actionHandler:or.changeWidth,cursorStyleHandler:ir,actionName:"resizing"}),gr.ml=new er.Control({x:-.5,y:0,actionHandler:or.changeWidth,cursorStyleHandler:ir,actionName:"resizing"})}}()})(fabric);const SvgAdd=St=>react.exports.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...St},react.exports.createElement("g",{clipPath:"url(#clip0_3275_2687)"},react.exports.createElement("path",{d:"M38 26H26V38H22V26H10V22H22V10H26V22H38V26Z",fill:"#323338"})),react.exports.createElement("defs",null,react.exports.createElement("clipPath",{id:"clip0_3275_2687"},react.exports.createElement("rect",{width:48,height:48,fill:"white"})))),SvgEdit=St=>react.exports.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...St},react.exports.createElement("g",{clipPath:"url(#clip0_3293_6764)"},react.exports.createElement("path",{d:"M28.12 18.04L29.96 19.88L11.84 38H10V36.16L28.12 18.04ZM35.32 6C34.82 6 34.3 6.2 33.92 6.58L30.26 10.24L37.76 17.74L41.42 14.08C42.2 13.3 42.2 12.04 41.42 11.26L36.74 6.58C36.34 6.18 35.84 6 35.32 6ZM28.12 12.38L6 34.5V42H13.5L35.62 19.88L28.12 12.38Z",fill:"#323338"})),react.exports.createElement("defs",null,react.exports.createElement("clipPath",{id:"clip0_3293_6764"},react.exports.createElement("rect",{width:48,height:48,fill:"white"})))),SvgCalendarToday=St=>react.exports.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...St},react.exports.createElement("g",{clipPath:"url(#clip0_3310_7651)"},react.exports.createElement("path",{d:"M40 6H38V2H34V6H14V2H10V6H8C5.8 6 4 7.8 4 10V42C4 44.2 5.8 46 8 46H40C42.2 46 44 44.2 44 42V10C44 7.8 42.2 6 40 6ZM40 42H8V16H40V42Z",fill:"#323338"})),react.exports.createElement("defs",null,react.exports.createElement("clipPath",{id:"clip0_3310_7651"},react.exports.createElement("rect",{width:48,height:48,fill:"white"})))),SvgArrowLeft=St=>react.exports.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...St},react.exports.createElement("g",{clipPath:"url(#clip0_3284_1417)"},react.exports.createElement("path",{d:"M28 14L18 24L28 34V14Z",fill:"#323338"})),react.exports.createElement("defs",null,react.exports.createElement("clipPath",{id:"clip0_3284_1417"},react.exports.createElement("rect",{width:48,height:48,fill:"white"})))),SvgArrowRight=St=>react.exports.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...St},react.exports.createElement("g",{clipPath:"url(#clip0_3284_1418)"},react.exports.createElement("path",{d:"M20 34L30 24L20 14V34Z",fill:"#323338"})),react.exports.createElement("defs",null,react.exports.createElement("clipPath",{id:"clip0_3284_1418"},react.exports.createElement("rect",{width:48,height:48,fill:"white"})))),ModalBox=({children:St,isOpen:er,onClose:tr})=>jsx(Fragment,{children:jsx(Modal,{isOpen:er,onClose:tr,children:jsx(ModalOverlay,{children:jsxs(ModalContent,{w:{base:"90%",lg:"auto"},maxH:"500px",maxW:"500px",children:[jsx(ModalCloseButton,{}),jsx(ModalBody,{py:10,overflowY:"scroll",children:St})]})})})});function r(St){var er,tr,rr="";if(typeof St=="string"||typeof St=="number")rr+=St;else if(typeof St=="object")if(Array.isArray(St))for(er=0;er<St.length;er++)St[er]&&(tr=r(St[er]))&&(rr&&(rr+=" "),rr+=tr);else for(er in St)St[er]&&(rr&&(rr+=" "),rr+=er);return rr}function clsx(){for(var St,er,tr=0,rr="";tr<arguments.length;)(St=arguments[tr++])&&(er=r(St))&&(rr&&(rr+=" "),rr+=er);return rr}const u$1=St=>typeof St=="number"&&!isNaN(St),d$1=St=>typeof St=="string",p$1=St=>typeof St=="function",m$1=St=>d$1(St)||p$1(St)?St:null,f$1=St=>react.exports.isValidElement(St)||d$1(St)||p$1(St)||u$1(St);function g$1(St,er,tr){tr===void 0&&(tr=300);const{scrollHeight:rr,style:nr}=St;requestAnimationFrame(()=>{nr.minHeight="initial",nr.height=rr+"px",nr.transition=`all ${tr}ms`,requestAnimationFrame(()=>{nr.height="0",nr.padding="0",nr.margin="0",setTimeout(er,tr)})})}function h$1(St){let{enter:er,exit:tr,appendPosition:rr=!1,collapse:nr=!0,collapseDuration:ar=300}=St;return function(dr){let{children:or,position:ir,preventExitTransition:lr,done:fr,nodeRef:cr,isIn:ur}=dr;const sr=rr?`${er}--${ir}`:er,hr=rr?`${tr}--${ir}`:tr,gr=react.exports.useRef(0);return react.exports.useLayoutEffect(()=>{const pr=cr.current,mr=sr.split(" "),vr=yr=>{yr.target===cr.current&&(pr.dispatchEvent(new Event("d")),pr.removeEventListener("animationend",vr),pr.removeEventListener("animationcancel",vr),gr.current===0&&yr.type!=="animationcancel"&&pr.classList.remove(...mr))};pr.classList.add(...mr),pr.addEventListener("animationend",vr),pr.addEventListener("animationcancel",vr)},[]),react.exports.useEffect(()=>{const pr=cr.current,mr=()=>{pr.removeEventListener("animationend",mr),nr?g$1(pr,fr,ar):fr()};ur||(lr?mr():(gr.current=1,pr.className+=` ${hr}`,pr.addEventListener("animationend",mr)))},[ur]),React.createElement(React.Fragment,null,or)}}function y$1(St,er){return{content:St.content,containerId:St.props.containerId,id:St.props.toastId,theme:St.props.theme,type:St.props.type,data:St.props.data||{},isLoading:St.props.isLoading,icon:St.props.icon,status:er}}const v$1={list:new Map,emitQueue:new Map,on(St,er){return this.list.has(St)||this.list.set(St,[]),this.list.get(St).push(er),this},off(St,er){if(er){const tr=this.list.get(St).filter(rr=>rr!==er);return this.list.set(St,tr),this}return this.list.delete(St),this},cancelEmit(St){const er=this.emitQueue.get(St);return er&&(er.forEach(clearTimeout),this.emitQueue.delete(St)),this},emit(St){this.list.has(St)&&this.list.get(St).forEach(er=>{const tr=setTimeout(()=>{er(...[].slice.call(arguments,1))},0);this.emitQueue.has(St)||this.emitQueue.set(St,[]),this.emitQueue.get(St).push(tr)})}},T$1=St=>{let{theme:er,type:tr,...rr}=St;return jsx("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:er==="colored"?"currentColor":`var(--toastify-icon-color-${tr})`,...rr})},E$1={info:function(St){return jsx(T$1,{...St,children:jsx("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"})})},warning:function(St){return jsx(T$1,{...St,children:jsx("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"})})},success:function(St){return jsx(T$1,{...St,children:jsx("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"})})},error:function(St){return jsx(T$1,{...St,children:jsx("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"})})},spinner:function(){return jsx("div",{className:"Toastify__spinner"})}};function C$1(St){const[,er]=react.exports.useReducer(sr=>sr+1,0),[tr,rr]=react.exports.useState([]),nr=react.exports.useRef(null),ar=react.exports.useRef(new Map).current,dr=sr=>tr.indexOf(sr)!==-1,or=react.exports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:St,containerId:null,isToastActive:dr,getToast:sr=>ar.get(sr)}).current;function ir(sr){let{containerId:hr}=sr;const{limit:gr}=or.props;!gr||hr&&or.containerId!==hr||(or.count-=or.queue.length,or.queue=[])}function lr(sr){rr(hr=>sr==null?[]:hr.filter(gr=>gr!==sr))}function fr(){const{toastContent:sr,toastProps:hr,staleId:gr}=or.queue.shift();ur(sr,hr,gr)}function cr(sr,hr){let{delay:gr,staleId:pr,...mr}=hr;if(!f$1(sr)||function(jr){return!nr.current||or.props.enableMultiContainer&&jr.containerId!==or.props.containerId||ar.has(jr.toastId)&&jr.updateId==null}(mr))return;const{toastId:vr,updateId:yr,data:br}=mr,{props:xr}=or,Cr=()=>lr(vr),kr=yr==null;kr&&or.count++;const Pr={...xr,style:xr.toastStyle,key:or.toastKey++,...mr,toastId:vr,updateId:yr,data:br,closeToast:Cr,isIn:!1,className:m$1(mr.className||xr.toastClassName),bodyClassName:m$1(mr.bodyClassName||xr.bodyClassName),progressClassName:m$1(mr.progressClassName||xr.progressClassName),autoClose:!mr.isLoading&&($r=mr.autoClose,Kr=xr.autoClose,$r===!1||u$1($r)&&$r>0?$r:Kr),deleteToast(){const jr=y$1(ar.get(vr),"removed");ar.delete(vr),v$1.emit(4,jr);const Jr=or.queue.length;if(or.count=vr==null?or.count-or.displayedToast:or.count-1,or.count<0&&(or.count=0),Jr>0){const zr=vr==null?or.props.limit:1;if(Jr===1||zr===1)or.displayedToast++,fr();else{const Hr=zr>Jr?Jr:zr;or.displayedToast=Hr;for(let Yr=0;Yr<Hr;Yr++)fr()}}else er()}};var $r,Kr;Pr.iconOut=function(jr){let{theme:Jr,type:zr,isLoading:Hr,icon:Yr}=jr,nn=null;const Qr={theme:Jr,type:zr};return Yr===!1||(p$1(Yr)?nn=Yr(Qr):react.exports.isValidElement(Yr)?nn=react.exports.cloneElement(Yr,Qr):d$1(Yr)||u$1(Yr)?nn=Yr:Hr?nn=E$1.spinner():(Or=>Or in E$1)(zr)&&(nn=E$1[zr](Qr))),nn}(Pr),p$1(mr.onOpen)&&(Pr.onOpen=mr.onOpen),p$1(mr.onClose)&&(Pr.onClose=mr.onClose),Pr.closeButton=xr.closeButton,mr.closeButton===!1||f$1(mr.closeButton)?Pr.closeButton=mr.closeButton:mr.closeButton===!0&&(Pr.closeButton=!f$1(xr.closeButton)||xr.closeButton);let Ir=sr;react.exports.isValidElement(sr)&&!d$1(sr.type)?Ir=react.exports.cloneElement(sr,{closeToast:Cr,toastProps:Pr,data:br}):p$1(sr)&&(Ir=sr({closeToast:Cr,toastProps:Pr,data:br})),xr.limit&&xr.limit>0&&or.count>xr.limit&&kr?or.queue.push({toastContent:Ir,toastProps:Pr,staleId:pr}):u$1(gr)?setTimeout(()=>{ur(Ir,Pr,pr)},gr):ur(Ir,Pr,pr)}function ur(sr,hr,gr){const{toastId:pr}=hr;gr&&ar.delete(gr);const mr={content:sr,props:hr};ar.set(pr,mr),rr(vr=>[...vr,pr].filter(yr=>yr!==gr)),v$1.emit(4,y$1(mr,mr.props.updateId==null?"added":"updated"))}return react.exports.useEffect(()=>(or.containerId=St.containerId,v$1.cancelEmit(3).on(0,cr).on(1,sr=>nr.current&&lr(sr)).on(5,ir).emit(2,or),()=>{ar.clear(),v$1.emit(3,or)}),[]),react.exports.useEffect(()=>{or.props=St,or.isToastActive=dr,or.displayedToast=tr.length}),{getToastToRender:function(sr){const hr=new Map,gr=Array.from(ar.values());return St.newestOnTop&&gr.reverse(),gr.forEach(pr=>{const{position:mr}=pr.props;hr.has(mr)||hr.set(mr,[]),hr.get(mr).push(pr)}),Array.from(hr,pr=>sr(pr[0],pr[1]))},containerRef:nr,isToastActive:dr}}function I$1(St){return St.targetTouches&&St.targetTouches.length>=1?St.targetTouches[0].clientX:St.clientX}function b$1(St){return St.targetTouches&&St.targetTouches.length>=1?St.targetTouches[0].clientY:St.clientY}function _$1(St){const[er,tr]=react.exports.useState(!1),[rr,nr]=react.exports.useState(!1),ar=react.exports.useRef(null),dr=react.exports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,or=react.exports.useRef(St),{autoClose:ir,pauseOnHover:lr,closeToast:fr,onClick:cr,closeOnClick:ur}=St;function sr(br){if(St.draggable){br.nativeEvent.type==="touchstart"&&br.nativeEvent.preventDefault(),dr.didMove=!1,document.addEventListener("mousemove",mr),document.addEventListener("mouseup",vr),document.addEventListener("touchmove",mr),document.addEventListener("touchend",vr);const xr=ar.current;dr.canCloseOnClick=!0,dr.canDrag=!0,dr.boundingRect=xr.getBoundingClientRect(),xr.style.transition="",dr.x=I$1(br.nativeEvent),dr.y=b$1(br.nativeEvent),St.draggableDirection==="x"?(dr.start=dr.x,dr.removalDistance=xr.offsetWidth*(St.draggablePercent/100)):(dr.start=dr.y,dr.removalDistance=xr.offsetHeight*(St.draggablePercent===80?1.5*St.draggablePercent:St.draggablePercent/100))}}function hr(br){if(dr.boundingRect){const{top:xr,bottom:Cr,left:kr,right:Pr}=dr.boundingRect;br.nativeEvent.type!=="touchend"&&St.pauseOnHover&&dr.x>=kr&&dr.x<=Pr&&dr.y>=xr&&dr.y<=Cr?pr():gr()}}function gr(){tr(!0)}function pr(){tr(!1)}function mr(br){const xr=ar.current;dr.canDrag&&xr&&(dr.didMove=!0,er&&pr(),dr.x=I$1(br),dr.y=b$1(br),dr.delta=St.draggableDirection==="x"?dr.x-dr.start:dr.y-dr.start,dr.start!==dr.x&&(dr.canCloseOnClick=!1),xr.style.transform=`translate${St.draggableDirection}(${dr.delta}px)`,xr.style.opacity=""+(1-Math.abs(dr.delta/dr.removalDistance)))}function vr(){document.removeEventListener("mousemove",mr),document.removeEventListener("mouseup",vr),document.removeEventListener("touchmove",mr),document.removeEventListener("touchend",vr);const br=ar.current;if(dr.canDrag&&dr.didMove&&br){if(dr.canDrag=!1,Math.abs(dr.delta)>dr.removalDistance)return nr(!0),void St.closeToast();br.style.transition="transform 0.2s, opacity 0.2s",br.style.transform=`translate${St.draggableDirection}(0)`,br.style.opacity="1"}}react.exports.useEffect(()=>{or.current=St}),react.exports.useEffect(()=>(ar.current&&ar.current.addEventListener("d",gr,{once:!0}),p$1(St.onOpen)&&St.onOpen(react.exports.isValidElement(St.children)&&St.children.props),()=>{const br=or.current;p$1(br.onClose)&&br.onClose(react.exports.isValidElement(br.children)&&br.children.props)}),[]),react.exports.useEffect(()=>(St.pauseOnFocusLoss&&(document.hasFocus()||pr(),window.addEventListener("focus",gr),window.addEventListener("blur",pr)),()=>{St.pauseOnFocusLoss&&(window.removeEventListener("focus",gr),window.removeEventListener("blur",pr))}),[St.pauseOnFocusLoss]);const yr={onMouseDown:sr,onTouchStart:sr,onMouseUp:hr,onTouchEnd:hr};return ir&&lr&&(yr.onMouseEnter=pr,yr.onMouseLeave=gr),ur&&(yr.onClick=br=>{cr&&cr(br),dr.canCloseOnClick&&fr()}),{playToast:gr,pauseToast:pr,isRunning:er,preventExitTransition:rr,toastRef:ar,eventHandlers:yr}}function L$1(St){let{closeToast:er,theme:tr,ariaLabel:rr="close"}=St;return jsx("button",{className:`Toastify__close-button Toastify__close-button--${tr}`,type:"button",onClick:nr=>{nr.stopPropagation(),er(nr)},"aria-label":rr,children:jsx("svg",{"aria-hidden":"true",viewBox:"0 0 14 16",children:jsx("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})})})}function O$1(St){let{delay:er,isRunning:tr,closeToast:rr,type:nr="default",hide:ar,className:dr,style:or,controlledProgress:ir,progress:lr,rtl:fr,isIn:cr,theme:ur}=St;const sr=ar||ir&&lr===0,hr={...or,animationDuration:`${er}ms`,animationPlayState:tr?"running":"paused",opacity:sr?0:1};ir&&(hr.transform=`scaleX(${lr})`);const gr=clsx("Toastify__progress-bar",ir?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${ur}`,`Toastify__progress-bar--${nr}`,{"Toastify__progress-bar--rtl":fr}),pr=p$1(dr)?dr({rtl:fr,type:nr,defaultClassName:gr}):clsx(gr,dr);return React.createElement("div",{role:"progressbar","aria-hidden":sr?"true":"false","aria-label":"notification timer",className:pr,style:hr,[ir&&lr>=1?"onTransitionEnd":"onAnimationEnd"]:ir&&lr<1?null:()=>{cr&&rr()}})}const N$1=St=>{const{isRunning:er,preventExitTransition:tr,toastRef:rr,eventHandlers:nr}=_$1(St),{closeButton:ar,children:dr,autoClose:or,onClick:ir,type:lr,hideProgressBar:fr,closeToast:cr,transition:ur,position:sr,className:hr,style:gr,bodyClassName:pr,bodyStyle:mr,progressClassName:vr,progressStyle:yr,updateId:br,role:xr,progress:Cr,rtl:kr,toastId:Pr,deleteToast:$r,isIn:Kr,isLoading:Ir,iconOut:jr,closeOnClick:Jr,theme:zr}=St,Hr=clsx("Toastify__toast",`Toastify__toast-theme--${zr}`,`Toastify__toast--${lr}`,{"Toastify__toast--rtl":kr},{"Toastify__toast--close-on-click":Jr}),Yr=p$1(hr)?hr({rtl:kr,position:sr,type:lr,defaultClassName:Hr}):clsx(Hr,hr),nn=!!Cr||!or,Qr={closeToast:cr,type:lr,theme:zr};let Or=null;return ar===!1||(Or=p$1(ar)?ar(Qr):react.exports.isValidElement(ar)?react.exports.cloneElement(ar,Qr):L$1(Qr)),React.createElement(ur,{isIn:Kr,done:$r,position:sr,preventExitTransition:tr,nodeRef:rr},jsxs("div",{id:Pr,onClick:ir,className:Yr,...nr,style:gr,ref:rr,children:[jsxs("div",{...Kr&&{role:xr},className:p$1(pr)?pr({type:lr}):clsx("Toastify__toast-body",pr),style:mr,children:[jr!=null&&jsx("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ir}),children:jr}),jsx("div",{children:dr})]}),Or,jsx(O$1,{...br&&!nn?{key:`pb-${br}`}:{},rtl:kr,theme:zr,delay:or,isRunning:er,isIn:Kr,closeToast:cr,hide:fr,type:lr,style:yr,className:vr,controlledProgress:nn,progress:Cr||0})]}))},M$1=function(St,er){return er===void 0&&(er=!1),{enter:`Toastify--animate Toastify__${St}-enter`,exit:`Toastify--animate Toastify__${St}-exit`,appendPosition:er}},R$1=h$1(M$1("bounce",!0));h$1(M$1("slide",!0));h$1(M$1("zoom"));h$1(M$1("flip"));const k$1=react.exports.forwardRef((St,er)=>{const{getToastToRender:tr,containerRef:rr,isToastActive:nr}=C$1(St),{className:ar,style:dr,rtl:or,containerId:ir}=St;function lr(fr){const cr=clsx("Toastify__toast-container",`Toastify__toast-container--${fr}`,{"Toastify__toast-container--rtl":or});return p$1(ar)?ar({position:fr,rtl:or,defaultClassName:cr}):clsx(cr,m$1(ar))}return react.exports.useEffect(()=>{er&&(er.current=rr.current)},[]),jsx("div",{ref:rr,className:"Toastify",id:ir,children:tr((fr,cr)=>{const ur=cr.length?{...dr}:{...dr,pointerEvents:"none"};return jsx("div",{className:lr(fr),style:ur,children:cr.map((sr,hr)=>{let{content:gr,props:pr}=sr;return react.exports.createElement(N$1,{...pr,isIn:nr(pr.toastId),style:{...pr.style,"--nth":hr+1,"--len":cr.length},key:`toast-${pr.key}`},gr)})},`container-${fr}`)})})});k$1.displayName="ToastContainer",k$1.defaultProps={position:"top-right",transition:R$1,autoClose:5e3,closeButton:L$1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let P$1,B$1=new Map,D$1=[],A$1=1;function z$1(){return""+A$1++}function F$1(St){return St&&(d$1(St.toastId)||u$1(St.toastId))?St.toastId:z$1()}function H$1(St,er){return B$1.size>0?v$1.emit(0,St,er):D$1.push({content:St,options:er}),er.toastId}function S$1(St,er){return{...er,type:er&&er.type||St,toastId:F$1(er)}}function q$1(St){return(er,tr)=>H$1(er,S$1(St,tr))}function Q$1(St,er){return H$1(St,S$1("default",er))}Q$1.loading=(St,er)=>H$1(St,S$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...er})),Q$1.promise=function(St,er,tr){let rr,{pending:nr,error:ar,success:dr}=er;nr&&(rr=d$1(nr)?Q$1.loading(nr,tr):Q$1.loading(nr.render,{...tr,...nr}));const or={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},ir=(fr,cr,ur)=>{if(cr==null)return void Q$1.dismiss(rr);const sr={type:fr,...or,...tr,data:ur},hr=d$1(cr)?{render:cr}:cr;return rr?Q$1.update(rr,{...sr,...hr}):Q$1(hr.render,{...sr,...hr}),ur},lr=p$1(St)?St():St;return lr.then(fr=>ir("success",dr,fr)).catch(fr=>ir("error",ar,fr)),lr},Q$1.success=q$1("success"),Q$1.info=q$1("info"),Q$1.error=q$1("error"),Q$1.warning=q$1("warning"),Q$1.warn=Q$1.warning,Q$1.dark=(St,er)=>H$1(St,S$1("default",{theme:"dark",...er})),Q$1.dismiss=St=>{B$1.size>0?v$1.emit(1,St):D$1=D$1.filter(er=>St!=null&&er.options.toastId!==St)},Q$1.clearWaitingQueue=function(St){return St===void 0&&(St={}),v$1.emit(5,St)},Q$1.isActive=St=>{let er=!1;return B$1.forEach(tr=>{tr.isToastActive&&tr.isToastActive(St)&&(er=!0)}),er},Q$1.update=function(St,er){er===void 0&&(er={}),setTimeout(()=>{const tr=function(rr,nr){let{containerId:ar}=nr;const dr=B$1.get(ar||P$1);return dr&&dr.getToast(rr)}(St,er);if(tr){const{props:rr,content:nr}=tr,ar={...rr,...er,toastId:er.toastId||St,updateId:z$1()};ar.toastId!==St&&(ar.staleId=St);const dr=ar.render||nr;delete ar.render,H$1(dr,ar)}},0)},Q$1.done=St=>{Q$1.update(St,{progress:1})},Q$1.onChange=St=>(v$1.on(4,St),()=>{v$1.off(4,St)}),Q$1.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Q$1.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},v$1.on(2,St=>{P$1=St.containerId||St,B$1.set(P$1,St),D$1.forEach(er=>{v$1.emit(0,er.content,er.options)}),D$1=[]}).on(3,St=>{B$1.delete(St.containerId||St),B$1.size===0&&v$1.off(0).off(1).off(5)});function checkFileSize(St){return St.size>10485760?(Q$1.error("\u5C3A\u5BF8\u8D85\u904E10MB!\u8ACB\u58D3\u7E2E\u6A94\u6848\u518D\u91CD\u65B0\u4E0A\u50B3"),!1):!0}function checkImageType(St){return["image/jpg","image/jpeg","image/png"].includes(St.type)?!0:(Q$1.error("\u6A94\u6848\u985E\u578B\u4E0D\u7B26\uFF0C\u8ACB\u91CD\u65B0\u4E0A\u50B3"),console.log("\u6A94\u6848\u985E\u578B\u4E0D\u7B26\uFF0C\u8ACB\u91CD\u65B0\u4E0A\u50B3"),!1)}var FontList=(St=>(St[St["Noto Sans TC"]=0]="Noto Sans TC",St[St["Noto Serif TC"]=1]="Noto Serif TC",St))(FontList||{});const Sign=({setSign:St,setContent:er})=>{const tr=react.exports.useRef(null),[rr,nr]=react.exports.useState(!1),[ar,dr]=react.exports.useState(0);let or=react.exports.useRef(null);const ir=react.exports.useRef(null),lr=react.exports.useRef(!1),fr=react.exports.useRef(null),cr=react.exports.useRef(null),[ur,sr]=react.exports.useState("black"),hr=react.exports.useRef([]),gr=["black","blue","red"],[pr]=useMediaQuery("(min-width: 1024px)"),{handleSubmit:mr,register:vr,formState:{errors:yr,isSubmitting:br}}=useForm(),xr=react.exports.useCallback(Er=>{const Dr=Er;!checkFileSize(Dr[0])||!checkImageType(Dr[0])||(or.current=Dr[0],nr(!0))},[]),{getRootProps:Cr,getInputProps:kr,isDragActive:Pr}=useDropzone({onDrop:xr}),$r=Er=>{const Dr=ir.current.width/cr.current.width,Tr=ir.current.height/cr.current.height;return Er.nativeEvent instanceof MouseEvent?{x:(Er.clientX-cr.current.left)*Dr,y:(Er.clientY-cr.current.top)*Tr}:{x:(Er.touches[0].clientX-cr.current.left)*Dr,y:(Er.touches[0].clientY-cr.current.top)*Tr}},Kr=Er=>{Er.preventDefault(),lr.current=!0},Ir=()=>{!lr.current||(lr.current=!1,fr.current.beginPath(),Qr())},jr=Er=>{if(!lr.current)return;const Dr=$r(Er);fr.current.lineTo(Dr.x,Dr.y),fr.current.stroke()},Jr=()=>{fr.current.clearRect(0,0,ir.current.width,ir.current.height)},zr=()=>{const Er=ir.current.toDataURL("image/png");localStorage.setItem("sign_img",Er),St()},Hr=()=>{Jr();const Er=[...hr.current];Er.splice(Er.length-1,1);const Dr=Er[Er.length-1];hr.current=Er,Dr&&fr.current.drawImage(Dr,0,0)},Yr=()=>{const Er=window.URL.createObjectURL(or.current);localStorage.setItem("sign_img",Er),St()},nn=Er=>{fr.current.strokeStyle=Er,sr(Er)},Qr=()=>{const Er=ir.current.toDataURL(),Dr=document.createElement("img");Dr.src=Er,hr.current=[...hr.current,Dr]},Or=Er=>{er(Er.name,FontList[ar])};return react.exports.useEffect(()=>{!rr||!or.current||(tr.current.src=window.URL.createObjectURL(or.current))},[rr]),react.exports.useEffect(()=>{const Er=ir.current.getContext("2d");cr.current=ir.current.getBoundingClientRect(),Er&&(Er.lineWidth=4,Er.lineCap="round"),fr.current=Er},[]),jsxs(Tabs,{colorScheme:"green",children:[jsxs(TabList,{children:[jsx(Tab,{w:"30%",children:"\u624B\u5BEB"}),jsx(Tab,{w:"30%",children:"\u8F38\u5165"}),jsx(Tab,{w:"30%",children:"\u4E0A\u50B3"})]}),jsxs(TabPanels,{children:[jsx(TabPanel,{children:jsxs(Flex,{flexDirection:"column",align:"center",justify:"between",className:"flex items-center justify-between",children:[jsxs(Box,{border:"1px",p:2,borderColor:"gray.200",children:[jsx(Text$1,{cursor:"pointer",onClick:Hr,pb:2,textAlign:"right",color:"primary.default",children:"\u56DE\u4E0A\u4E00\u6B65"}),jsx("canvas",{id:"canvas",style:{border:"1px solid #aaa"},width:pr?400:300,height:200,onMouseDown:Kr,onMouseUp:Ir,onMouseLeave:Ir,onMouseMove:jr,onTouchStart:Kr,onTouchEnd:Ir,onTouchCancel:Ir,onTouchMove:jr,ref:ir}),jsx(Flex,{pt:2,float:"right",w:"80px",justifyContent:"space-between",children:gr.map(Er=>jsx(Box,{w:4,h:4,position:"relative",borderRadius:"50%",bg:Er,_before:{content:'""',position:"absolute",width:"24px",height:"24px",border:"2px solid",borderRadius:"50%",borderColor:Er,left:"-4px",right:0,top:0,bottom:0,margin:"auto",display:Er===ur?"block":"none"},onClick:()=>nn(Er)},Er))})]}),jsx(Text$1,{textAlign:"center",py:4,fontSize:"sm",color:"gray.400",children:"\u6211\u4E86\u89E3\u9019\u662F\u4E00\u500B\u5177\u6CD5\u5F8B\u6548\u529B\u7684\u672C\u4EBA\u7C3D\u540D"}),jsxs(Flex,{dir:"row",children:[jsx(Button$2,{variant:"disable",mx:"auto",mr:"10px",onClick:Jr,children:"\u6E05\u9664"}),jsx(Button$2,{mx:"auto",onClick:zr,children:"\u5132\u5B58"})]})]})}),jsxs(TabPanel,{children:[jsxs(Box,{mb:4,children:[jsx(Button$2,{onClick:()=>dr(0),variant:ar===0?"outline_active":"outline",mr:2,children:"\u601D\u6E90\u9ED1\u9AD4"}),jsx(Button$2,{onClick:()=>dr(1),variant:ar===1?"outline_active":"outline",children:"\u601D\u6E90\u5B8B\u9AD4"})]}),jsx("form",{onSubmit:mr(Or),children:jsxs(FormControl,{mt:2,isInvalid:Boolean(yr.name),children:[jsx(FormLabel,{fontWeight:"bold",htmlFor:"content",children:"\u8F38\u5165\u59D3\u540D"}),jsx(Input,{id:"content",fontFamily:FontList[ar],fontSize:22,placeholder:"\u8ACB\u8F38\u5165\u59D3\u540D",...vr("name",{required:"\u5167\u5BB9\u4E0D\u5F97\u70BA\u7A7A"})}),jsx(FormErrorMessage,{children:yr.name&&yr.name.message?.toString()}),jsx(Box,{textAlign:"center",children:jsx(Button$2,{mt:10,mx:"auto",isLoading:br,type:"submit",children:"\u65B0\u589E"})})]})})]}),jsx(TabPanel,{children:jsx(Flex,{flexDir:"column",p:4,children:rr?jsxs(Flex,{direction:"column",children:[jsx(Box,{border:"1px",borderColor:"gray.200",h:"300px",overflowY:"auto",children:jsx(Image2,{objectFit:"contain",maxW:"100%",ref:tr,src:"",alt:""})}),jsx(Button$2,{onClick:Yr,mt:2,children:"\u5132\u5B58"})]}):jsxs(Flex,{...Cr(),justifyContent:"center",flexDir:"column",children:[jsx(Button$2,{variant:"outline",children:"\u4E0A\u50B3\u6A94\u6848"}),jsx("input",{...kr()}),jsx(Text$1,{textAlign:"center",pt:"2",as:"span",display:"block",color:"primary.default",children:"\u6A94\u6848\u5927\u5C0F10MB\u4EE5\u5167\uFF0C\u6A94\u6848\u683C\u5F0F\u70BAJPG\u3001PNG"})]})})})]})]})},Sign$1=react.exports.memo(Sign),Content=({setContent:St})=>{const{handleSubmit:er,register:tr,formState:{errors:rr,isSubmitting:nr}}=useForm();return jsx("form",{onSubmit:er(dr=>{St(dr.content)}),children:jsxs(FormControl,{mt:2,isInvalid:Boolean(rr.content),children:[jsx(FormLabel,{fontWeight:"bold",htmlFor:"content",children:"\u65B0\u589E\u6587\u5B57"}),jsx(Textarea,{w:{base:"300px",lg:"400px"},maxLength:100,id:"content",placeholder:"\u8ACB\u8F38\u5165\u5167\u5BB9",...tr("content",{required:"\u5167\u5BB9\u4E0D\u5F97\u70BA\u7A7A"})}),jsx(FormErrorMessage,{children:rr.content&&rr.content.message?.toString()}),jsx(Box,{textAlign:"center",children:jsx(Button$2,{mt:10,mx:"auto",isLoading:nr,type:"submit",children:"\u65B0\u589E\u6587\u5B57"})})]})})};function toInteger(St){if(St===null||St===!0||St===!1)return NaN;var er=Number(St);return isNaN(er)?er:er<0?Math.ceil(er):Math.floor(er)}function requiredArgs(St,er){if(er.length<St)throw new TypeError(St+" argument"+(St>1?"s":"")+" required, but only "+er.length+" present")}function _typeof$4(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(tr){return typeof tr}:_typeof$4=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof$4(St)}function toDate(St){requiredArgs(1,arguments);var er=Object.prototype.toString.call(St);return St instanceof Date||_typeof$4(St)==="object"&&er==="[object Date]"?new Date(St.getTime()):typeof St=="number"||er==="[object Number]"?new Date(St):((typeof St=="string"||er==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function addDays(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toInteger(er);return isNaN(rr)?new Date(NaN):(rr&&tr.setDate(tr.getDate()+rr),tr)}function addMonths(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toInteger(er);if(isNaN(rr))return new Date(NaN);if(!rr)return tr;var nr=tr.getDate(),ar=new Date(tr.getTime());ar.setMonth(tr.getMonth()+rr+1,0);var dr=ar.getDate();return nr>=dr?ar:(tr.setFullYear(ar.getFullYear(),ar.getMonth(),nr),tr)}function addMilliseconds(St,er){requiredArgs(2,arguments);var tr=toDate(St).getTime(),rr=toInteger(er);return new Date(tr+rr)}var defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=getDefaultOptions(),cr=toInteger((tr=(rr=(nr=(ar=er?.weekStartsOn)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.weekStartsOn)!==null&&nr!==void 0?nr:fr.weekStartsOn)!==null&&rr!==void 0?rr:(ir=fr.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.weekStartsOn)!==null&&tr!==void 0?tr:0);if(!(cr>=0&&cr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ur=toDate(St),sr=ur.getDay(),hr=(sr<cr?7:0)+sr-cr;return ur.setDate(ur.getDate()-hr),ur.setHours(0,0,0,0),ur}function startOfISOWeek(St){return requiredArgs(1,arguments),startOfWeek(St,{weekStartsOn:1})}function getISOWeekYear(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getFullYear(),rr=new Date(0);rr.setFullYear(tr+1,0,4),rr.setHours(0,0,0,0);var nr=startOfISOWeek(rr),ar=new Date(0);ar.setFullYear(tr,0,4),ar.setHours(0,0,0,0);var dr=startOfISOWeek(ar);return er.getTime()>=nr.getTime()?tr+1:er.getTime()>=dr.getTime()?tr:tr-1}function startOfISOWeekYear(St){requiredArgs(1,arguments);var er=getISOWeekYear(St),tr=new Date(0);tr.setFullYear(er,0,4),tr.setHours(0,0,0,0);var rr=startOfISOWeek(tr);return rr}function getTimezoneOffsetInMilliseconds(St){var er=new Date(Date.UTC(St.getFullYear(),St.getMonth(),St.getDate(),St.getHours(),St.getMinutes(),St.getSeconds(),St.getMilliseconds()));return er.setUTCFullYear(St.getFullYear()),St.getTime()-er.getTime()}function startOfDay(St){requiredArgs(1,arguments);var er=toDate(St);return er.setHours(0,0,0,0),er}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(St,er){requiredArgs(2,arguments);var tr=startOfDay(St),rr=startOfDay(er),nr=tr.getTime()-getTimezoneOffsetInMilliseconds(tr),ar=rr.getTime()-getTimezoneOffsetInMilliseconds(rr);return Math.round((nr-ar)/MILLISECONDS_IN_DAY$1)}function addWeeks(St,er){requiredArgs(2,arguments);var tr=toInteger(er),rr=tr*7;return addDays(St,rr)}function addYears(St,er){requiredArgs(2,arguments);var tr=toInteger(er);return addMonths(St,tr*12)}function _typeof$3(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(tr){return typeof tr}:_typeof$3=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof$3(St)}function max$1(St){requiredArgs(1,arguments);var er;if(St&&typeof St.forEach=="function")er=St;else if(_typeof$3(St)==="object"&&St!==null)er=Array.prototype.slice.call(St);else return new Date(NaN);var tr;return er.forEach(function(rr){var nr=toDate(rr);(tr===void 0||tr<nr||isNaN(Number(nr)))&&(tr=nr)}),tr||new Date(NaN)}function _typeof$2(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(tr){return typeof tr}:_typeof$2=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof$2(St)}function min(St){requiredArgs(1,arguments);var er;if(St&&typeof St.forEach=="function")er=St;else if(_typeof$2(St)==="object"&&St!==null)er=Array.prototype.slice.call(St);else return new Date(NaN);var tr;return er.forEach(function(rr){var nr=toDate(rr);(tr===void 0||tr>nr||isNaN(nr.getDate()))&&(tr=nr)}),tr||new Date(NaN)}function isSameDay(St,er){requiredArgs(2,arguments);var tr=startOfDay(St),rr=startOfDay(er);return tr.getTime()===rr.getTime()}function _typeof$1(St){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(tr){return typeof tr}:_typeof$1=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof$1(St)}function isDate(St){return requiredArgs(1,arguments),St instanceof Date||_typeof$1(St)==="object"&&Object.prototype.toString.call(St)==="[object Date]"}function isValid(St){if(requiredArgs(1,arguments),!isDate(St)&&typeof St!="number")return!1;var er=toDate(St);return!isNaN(Number(er))}function differenceInCalendarMonths(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toDate(er),nr=tr.getFullYear()-rr.getFullYear(),ar=tr.getMonth()-rr.getMonth();return nr*12+ar}var MILLISECONDS_IN_WEEK$4=6048e5;function differenceInCalendarWeeks(St,er,tr){requiredArgs(2,arguments);var rr=startOfWeek(St,tr),nr=startOfWeek(er,tr),ar=rr.getTime()-getTimezoneOffsetInMilliseconds(rr),dr=nr.getTime()-getTimezoneOffsetInMilliseconds(nr);return Math.round((ar-dr)/MILLISECONDS_IN_WEEK$4)}function endOfMonth(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getMonth();return er.setFullYear(er.getFullYear(),tr+1,0),er.setHours(23,59,59,999),er}function startOfMonth(St){requiredArgs(1,arguments);var er=toDate(St);return er.setDate(1),er.setHours(0,0,0,0),er}function startOfYear(St){requiredArgs(1,arguments);var er=toDate(St),tr=new Date(0);return tr.setFullYear(er.getFullYear(),0,1),tr.setHours(0,0,0,0),tr}function endOfWeek(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=getDefaultOptions(),cr=toInteger((tr=(rr=(nr=(ar=er?.weekStartsOn)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.weekStartsOn)!==null&&nr!==void 0?nr:fr.weekStartsOn)!==null&&rr!==void 0?rr:(ir=fr.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.weekStartsOn)!==null&&tr!==void 0?tr:0);if(!(cr>=0&&cr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ur=toDate(St),sr=ur.getDay(),hr=(sr<cr?-7:0)+6-(sr-cr);return ur.setDate(ur.getDate()+hr),ur.setHours(23,59,59,999),ur}function endOfISOWeek(St){return requiredArgs(1,arguments),endOfWeek(St,{weekStartsOn:1})}function subMilliseconds(St,er){requiredArgs(2,arguments);var tr=toInteger(er);return addMilliseconds(St,-tr)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getTime();er.setUTCMonth(0,1),er.setUTCHours(0,0,0,0);var rr=er.getTime(),nr=tr-rr;return Math.floor(nr/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(St){requiredArgs(1,arguments);var er=1,tr=toDate(St),rr=tr.getUTCDay(),nr=(rr<er?7:0)+rr-er;return tr.setUTCDate(tr.getUTCDate()-nr),tr.setUTCHours(0,0,0,0),tr}function getUTCISOWeekYear(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getUTCFullYear(),rr=new Date(0);rr.setUTCFullYear(tr+1,0,4),rr.setUTCHours(0,0,0,0);var nr=startOfUTCISOWeek(rr),ar=new Date(0);ar.setUTCFullYear(tr,0,4),ar.setUTCHours(0,0,0,0);var dr=startOfUTCISOWeek(ar);return er.getTime()>=nr.getTime()?tr+1:er.getTime()>=dr.getTime()?tr:tr-1}function startOfUTCISOWeekYear(St){requiredArgs(1,arguments);var er=getUTCISOWeekYear(St),tr=new Date(0);tr.setUTCFullYear(er,0,4),tr.setUTCHours(0,0,0,0);var rr=startOfUTCISOWeek(tr);return rr}var MILLISECONDS_IN_WEEK$3=6048e5;function getUTCISOWeek(St){requiredArgs(1,arguments);var er=toDate(St),tr=startOfUTCISOWeek(er).getTime()-startOfUTCISOWeekYear(er).getTime();return Math.round(tr/MILLISECONDS_IN_WEEK$3)+1}function startOfUTCWeek(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=getDefaultOptions(),cr=toInteger((tr=(rr=(nr=(ar=er?.weekStartsOn)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.weekStartsOn)!==null&&nr!==void 0?nr:fr.weekStartsOn)!==null&&rr!==void 0?rr:(ir=fr.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.weekStartsOn)!==null&&tr!==void 0?tr:0);if(!(cr>=0&&cr<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var ur=toDate(St),sr=ur.getUTCDay(),hr=(sr<cr?7:0)+sr-cr;return ur.setUTCDate(ur.getUTCDate()-hr),ur.setUTCHours(0,0,0,0),ur}function getUTCWeekYear(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=toDate(St),cr=fr.getUTCFullYear(),ur=getDefaultOptions(),sr=toInteger((tr=(rr=(nr=(ar=er?.firstWeekContainsDate)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.firstWeekContainsDate)!==null&&nr!==void 0?nr:ur.firstWeekContainsDate)!==null&&rr!==void 0?rr:(ir=ur.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.firstWeekContainsDate)!==null&&tr!==void 0?tr:1);if(!(sr>=1&&sr<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var hr=new Date(0);hr.setUTCFullYear(cr+1,0,sr),hr.setUTCHours(0,0,0,0);var gr=startOfUTCWeek(hr,er),pr=new Date(0);pr.setUTCFullYear(cr,0,sr),pr.setUTCHours(0,0,0,0);var mr=startOfUTCWeek(pr,er);return fr.getTime()>=gr.getTime()?cr+1:fr.getTime()>=mr.getTime()?cr:cr-1}function startOfUTCWeekYear(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=getDefaultOptions(),cr=toInteger((tr=(rr=(nr=(ar=er?.firstWeekContainsDate)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.firstWeekContainsDate)!==null&&nr!==void 0?nr:fr.firstWeekContainsDate)!==null&&rr!==void 0?rr:(ir=fr.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.firstWeekContainsDate)!==null&&tr!==void 0?tr:1),ur=getUTCWeekYear(St,er),sr=new Date(0);sr.setUTCFullYear(ur,0,cr),sr.setUTCHours(0,0,0,0);var hr=startOfUTCWeek(sr,er);return hr}var MILLISECONDS_IN_WEEK$2=6048e5;function getUTCWeek(St,er){requiredArgs(1,arguments);var tr=toDate(St),rr=startOfUTCWeek(tr,er).getTime()-startOfUTCWeekYear(tr,er).getTime();return Math.round(rr/MILLISECONDS_IN_WEEK$2)+1}function addLeadingZeros(St,er){for(var tr=St<0?"-":"",rr=Math.abs(St).toString();rr.length<er;)rr="0"+rr;return tr+rr}var formatters$3={y:function(er,tr){var rr=er.getUTCFullYear(),nr=rr>0?rr:1-rr;return addLeadingZeros(tr==="yy"?nr%100:nr,tr.length)},M:function(er,tr){var rr=er.getUTCMonth();return tr==="M"?String(rr+1):addLeadingZeros(rr+1,2)},d:function(er,tr){return addLeadingZeros(er.getUTCDate(),tr.length)},a:function(er,tr){var rr=er.getUTCHours()/12>=1?"pm":"am";switch(tr){case"a":case"aa":return rr.toUpperCase();case"aaa":return rr;case"aaaaa":return rr[0];case"aaaa":default:return rr==="am"?"a.m.":"p.m."}},h:function(er,tr){return addLeadingZeros(er.getUTCHours()%12||12,tr.length)},H:function(er,tr){return addLeadingZeros(er.getUTCHours(),tr.length)},m:function(er,tr){return addLeadingZeros(er.getUTCMinutes(),tr.length)},s:function(er,tr){return addLeadingZeros(er.getUTCSeconds(),tr.length)},S:function(er,tr){var rr=tr.length,nr=er.getUTCMilliseconds(),ar=Math.floor(nr*Math.pow(10,rr-3));return addLeadingZeros(ar,tr.length)}};const formatters$4=formatters$3;var dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters$1={G:function(er,tr,rr){var nr=er.getUTCFullYear()>0?1:0;switch(tr){case"G":case"GG":case"GGG":return rr.era(nr,{width:"abbreviated"});case"GGGGG":return rr.era(nr,{width:"narrow"});case"GGGG":default:return rr.era(nr,{width:"wide"})}},y:function(er,tr,rr){if(tr==="yo"){var nr=er.getUTCFullYear(),ar=nr>0?nr:1-nr;return rr.ordinalNumber(ar,{unit:"year"})}return formatters$4.y(er,tr)},Y:function(er,tr,rr,nr){var ar=getUTCWeekYear(er,nr),dr=ar>0?ar:1-ar;if(tr==="YY"){var or=dr%100;return addLeadingZeros(or,2)}return tr==="Yo"?rr.ordinalNumber(dr,{unit:"year"}):addLeadingZeros(dr,tr.length)},R:function(er,tr){var rr=getUTCISOWeekYear(er);return addLeadingZeros(rr,tr.length)},u:function(er,tr){var rr=er.getUTCFullYear();return addLeadingZeros(rr,tr.length)},Q:function(er,tr,rr){var nr=Math.ceil((er.getUTCMonth()+1)/3);switch(tr){case"Q":return String(nr);case"QQ":return addLeadingZeros(nr,2);case"Qo":return rr.ordinalNumber(nr,{unit:"quarter"});case"QQQ":return rr.quarter(nr,{width:"abbreviated",context:"formatting"});case"QQQQQ":return rr.quarter(nr,{width:"narrow",context:"formatting"});case"QQQQ":default:return rr.quarter(nr,{width:"wide",context:"formatting"})}},q:function(er,tr,rr){var nr=Math.ceil((er.getUTCMonth()+1)/3);switch(tr){case"q":return String(nr);case"qq":return addLeadingZeros(nr,2);case"qo":return rr.ordinalNumber(nr,{unit:"quarter"});case"qqq":return rr.quarter(nr,{width:"abbreviated",context:"standalone"});case"qqqqq":return rr.quarter(nr,{width:"narrow",context:"standalone"});case"qqqq":default:return rr.quarter(nr,{width:"wide",context:"standalone"})}},M:function(er,tr,rr){var nr=er.getUTCMonth();switch(tr){case"M":case"MM":return formatters$4.M(er,tr);case"Mo":return rr.ordinalNumber(nr+1,{unit:"month"});case"MMM":return rr.month(nr,{width:"abbreviated",context:"formatting"});case"MMMMM":return rr.month(nr,{width:"narrow",context:"formatting"});case"MMMM":default:return rr.month(nr,{width:"wide",context:"formatting"})}},L:function(er,tr,rr){var nr=er.getUTCMonth();switch(tr){case"L":return String(nr+1);case"LL":return addLeadingZeros(nr+1,2);case"Lo":return rr.ordinalNumber(nr+1,{unit:"month"});case"LLL":return rr.month(nr,{width:"abbreviated",context:"standalone"});case"LLLLL":return rr.month(nr,{width:"narrow",context:"standalone"});case"LLLL":default:return rr.month(nr,{width:"wide",context:"standalone"})}},w:function(er,tr,rr,nr){var ar=getUTCWeek(er,nr);return tr==="wo"?rr.ordinalNumber(ar,{unit:"week"}):addLeadingZeros(ar,tr.length)},I:function(er,tr,rr){var nr=getUTCISOWeek(er);return tr==="Io"?rr.ordinalNumber(nr,{unit:"week"}):addLeadingZeros(nr,tr.length)},d:function(er,tr,rr){return tr==="do"?rr.ordinalNumber(er.getUTCDate(),{unit:"date"}):formatters$4.d(er,tr)},D:function(er,tr,rr){var nr=getUTCDayOfYear(er);return tr==="Do"?rr.ordinalNumber(nr,{unit:"dayOfYear"}):addLeadingZeros(nr,tr.length)},E:function(er,tr,rr){var nr=er.getUTCDay();switch(tr){case"E":case"EE":case"EEE":return rr.day(nr,{width:"abbreviated",context:"formatting"});case"EEEEE":return rr.day(nr,{width:"narrow",context:"formatting"});case"EEEEEE":return rr.day(nr,{width:"short",context:"formatting"});case"EEEE":default:return rr.day(nr,{width:"wide",context:"formatting"})}},e:function(er,tr,rr,nr){var ar=er.getUTCDay(),dr=(ar-nr.weekStartsOn+8)%7||7;switch(tr){case"e":return String(dr);case"ee":return addLeadingZeros(dr,2);case"eo":return rr.ordinalNumber(dr,{unit:"day"});case"eee":return rr.day(ar,{width:"abbreviated",context:"formatting"});case"eeeee":return rr.day(ar,{width:"narrow",context:"formatting"});case"eeeeee":return rr.day(ar,{width:"short",context:"formatting"});case"eeee":default:return rr.day(ar,{width:"wide",context:"formatting"})}},c:function(er,tr,rr,nr){var ar=er.getUTCDay(),dr=(ar-nr.weekStartsOn+8)%7||7;switch(tr){case"c":return String(dr);case"cc":return addLeadingZeros(dr,tr.length);case"co":return rr.ordinalNumber(dr,{unit:"day"});case"ccc":return rr.day(ar,{width:"abbreviated",context:"standalone"});case"ccccc":return rr.day(ar,{width:"narrow",context:"standalone"});case"cccccc":return rr.day(ar,{width:"short",context:"standalone"});case"cccc":default:return rr.day(ar,{width:"wide",context:"standalone"})}},i:function(er,tr,rr){var nr=er.getUTCDay(),ar=nr===0?7:nr;switch(tr){case"i":return String(ar);case"ii":return addLeadingZeros(ar,tr.length);case"io":return rr.ordinalNumber(ar,{unit:"day"});case"iii":return rr.day(nr,{width:"abbreviated",context:"formatting"});case"iiiii":return rr.day(nr,{width:"narrow",context:"formatting"});case"iiiiii":return rr.day(nr,{width:"short",context:"formatting"});case"iiii":default:return rr.day(nr,{width:"wide",context:"formatting"})}},a:function(er,tr,rr){var nr=er.getUTCHours(),ar=nr/12>=1?"pm":"am";switch(tr){case"a":case"aa":return rr.dayPeriod(ar,{width:"abbreviated",context:"formatting"});case"aaa":return rr.dayPeriod(ar,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return rr.dayPeriod(ar,{width:"narrow",context:"formatting"});case"aaaa":default:return rr.dayPeriod(ar,{width:"wide",context:"formatting"})}},b:function(er,tr,rr){var nr=er.getUTCHours(),ar;switch(nr===12?ar=dayPeriodEnum.noon:nr===0?ar=dayPeriodEnum.midnight:ar=nr/12>=1?"pm":"am",tr){case"b":case"bb":return rr.dayPeriod(ar,{width:"abbreviated",context:"formatting"});case"bbb":return rr.dayPeriod(ar,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return rr.dayPeriod(ar,{width:"narrow",context:"formatting"});case"bbbb":default:return rr.dayPeriod(ar,{width:"wide",context:"formatting"})}},B:function(er,tr,rr){var nr=er.getUTCHours(),ar;switch(nr>=17?ar=dayPeriodEnum.evening:nr>=12?ar=dayPeriodEnum.afternoon:nr>=4?ar=dayPeriodEnum.morning:ar=dayPeriodEnum.night,tr){case"B":case"BB":case"BBB":return rr.dayPeriod(ar,{width:"abbreviated",context:"formatting"});case"BBBBB":return rr.dayPeriod(ar,{width:"narrow",context:"formatting"});case"BBBB":default:return rr.dayPeriod(ar,{width:"wide",context:"formatting"})}},h:function(er,tr,rr){if(tr==="ho"){var nr=er.getUTCHours()%12;return nr===0&&(nr=12),rr.ordinalNumber(nr,{unit:"hour"})}return formatters$4.h(er,tr)},H:function(er,tr,rr){return tr==="Ho"?rr.ordinalNumber(er.getUTCHours(),{unit:"hour"}):formatters$4.H(er,tr)},K:function(er,tr,rr){var nr=er.getUTCHours()%12;return tr==="Ko"?rr.ordinalNumber(nr,{unit:"hour"}):addLeadingZeros(nr,tr.length)},k:function(er,tr,rr){var nr=er.getUTCHours();return nr===0&&(nr=24),tr==="ko"?rr.ordinalNumber(nr,{unit:"hour"}):addLeadingZeros(nr,tr.length)},m:function(er,tr,rr){return tr==="mo"?rr.ordinalNumber(er.getUTCMinutes(),{unit:"minute"}):formatters$4.m(er,tr)},s:function(er,tr,rr){return tr==="so"?rr.ordinalNumber(er.getUTCSeconds(),{unit:"second"}):formatters$4.s(er,tr)},S:function(er,tr){return formatters$4.S(er,tr)},X:function(er,tr,rr,nr){var ar=nr._originalDate||er,dr=ar.getTimezoneOffset();if(dr===0)return"Z";switch(tr){case"X":return formatTimezoneWithOptionalMinutes(dr);case"XXXX":case"XX":return formatTimezone(dr);case"XXXXX":case"XXX":default:return formatTimezone(dr,":")}},x:function(er,tr,rr,nr){var ar=nr._originalDate||er,dr=ar.getTimezoneOffset();switch(tr){case"x":return formatTimezoneWithOptionalMinutes(dr);case"xxxx":case"xx":return formatTimezone(dr);case"xxxxx":case"xxx":default:return formatTimezone(dr,":")}},O:function(er,tr,rr,nr){var ar=nr._originalDate||er,dr=ar.getTimezoneOffset();switch(tr){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(dr,":");case"OOOO":default:return"GMT"+formatTimezone(dr,":")}},z:function(er,tr,rr,nr){var ar=nr._originalDate||er,dr=ar.getTimezoneOffset();switch(tr){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(dr,":");case"zzzz":default:return"GMT"+formatTimezone(dr,":")}},t:function(er,tr,rr,nr){var ar=nr._originalDate||er,dr=Math.floor(ar.getTime()/1e3);return addLeadingZeros(dr,tr.length)},T:function(er,tr,rr,nr){var ar=nr._originalDate||er,dr=ar.getTime();return addLeadingZeros(dr,tr.length)}};function formatTimezoneShort(St,er){var tr=St>0?"-":"+",rr=Math.abs(St),nr=Math.floor(rr/60),ar=rr%60;if(ar===0)return tr+String(nr);var dr=er||"";return tr+String(nr)+dr+addLeadingZeros(ar,2)}function formatTimezoneWithOptionalMinutes(St,er){if(St%60===0){var tr=St>0?"-":"+";return tr+addLeadingZeros(Math.abs(St)/60,2)}return formatTimezone(St,er)}function formatTimezone(St,er){var tr=er||"",rr=St>0?"-":"+",nr=Math.abs(St),ar=addLeadingZeros(Math.floor(nr/60),2),dr=addLeadingZeros(nr%60,2);return rr+ar+tr+dr}const formatters$2=formatters$1;var dateLongFormatter=function(er,tr){switch(er){case"P":return tr.date({width:"short"});case"PP":return tr.date({width:"medium"});case"PPP":return tr.date({width:"long"});case"PPPP":default:return tr.date({width:"full"})}},timeLongFormatter=function(er,tr){switch(er){case"p":return tr.time({width:"short"});case"pp":return tr.time({width:"medium"});case"ppp":return tr.time({width:"long"});case"pppp":default:return tr.time({width:"full"})}},dateTimeLongFormatter=function(er,tr){var rr=er.match(/(P+)(p+)?/)||[],nr=rr[1],ar=rr[2];if(!ar)return dateLongFormatter(er,tr);var dr;switch(nr){case"P":dr=tr.dateTime({width:"short"});break;case"PP":dr=tr.dateTime({width:"medium"});break;case"PPP":dr=tr.dateTime({width:"long"});break;case"PPPP":default:dr=tr.dateTime({width:"full"});break}return dr.replace("{{date}}",dateLongFormatter(nr,tr)).replace("{{time}}",timeLongFormatter(ar,tr))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter};const longFormatters$1=longFormatters;var protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(St){return protectedDayOfYearTokens.indexOf(St)!==-1}function isProtectedWeekYearToken(St){return protectedWeekYearTokens.indexOf(St)!==-1}function throwProtectedError(St,er,tr){if(St==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(er,"`) for formatting years to the input `").concat(tr,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(St==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(er,"`) for formatting years to the input `").concat(tr,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(St==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(er,"`) for formatting days of the month to the input `").concat(tr,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(St==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(er,"`) for formatting days of the month to the input `").concat(tr,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(er,tr,rr){var nr,ar=formatDistanceLocale[er];return typeof ar=="string"?nr=ar:tr===1?nr=ar.one:nr=ar.other.replace("{{count}}",tr.toString()),rr!=null&&rr.addSuffix?rr.comparison&&rr.comparison>0?"in "+nr:nr+" ago":nr};const formatDistance$1=formatDistance;function buildFormatLongFn(St){return function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tr=er.width?String(er.width):St.defaultWidth,rr=St.formats[tr]||St.formats[St.defaultWidth];return rr}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})};const formatLong$1=formatLong;var formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(er,tr,rr,nr){return formatRelativeLocale[er]};const formatRelative$1=formatRelative;function buildLocalizeFn(St){return function(er,tr){var rr=tr!=null&&tr.context?String(tr.context):"standalone",nr;if(rr==="formatting"&&St.formattingValues){var ar=St.defaultFormattingWidth||St.defaultWidth,dr=tr!=null&&tr.width?String(tr.width):ar;nr=St.formattingValues[dr]||St.formattingValues[ar]}else{var or=St.defaultWidth,ir=tr!=null&&tr.width?String(tr.width):St.defaultWidth;nr=St.values[ir]||St.values[or]}var lr=St.argumentCallback?St.argumentCallback(er):er;return nr[lr]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(er,tr){var rr=Number(er),nr=rr%100;if(nr>20||nr<10)switch(nr%10){case 1:return rr+"st";case 2:return rr+"nd";case 3:return rr+"rd"}return rr+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(er){return er-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};const localize$1=localize;function buildMatchFn(St){return function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=tr.width,nr=rr&&St.matchPatterns[rr]||St.matchPatterns[St.defaultMatchWidth],ar=er.match(nr);if(!ar)return null;var dr=ar[0],or=rr&&St.parsePatterns[rr]||St.parsePatterns[St.defaultParseWidth],ir=Array.isArray(or)?findIndex(or,function(cr){return cr.test(dr)}):findKey(or,function(cr){return cr.test(dr)}),lr;lr=St.valueCallback?St.valueCallback(ir):ir,lr=tr.valueCallback?tr.valueCallback(lr):lr;var fr=er.slice(dr.length);return{value:lr,rest:fr}}}function findKey(St,er){for(var tr in St)if(St.hasOwnProperty(tr)&&er(St[tr]))return tr}function findIndex(St,er){for(var tr=0;tr<St.length;tr++)if(er(St[tr]))return tr}function buildMatchPatternFn(St){return function(er){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=er.match(St.matchPattern);if(!rr)return null;var nr=rr[0],ar=er.match(St.parsePattern);if(!ar)return null;var dr=St.valueCallback?St.valueCallback(ar[0]):ar[0];dr=tr.valueCallback?tr.valueCallback(dr):dr;var or=er.slice(nr.length);return{value:dr,rest:or}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(er){return parseInt(er,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(er){return er+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})};const match$1=match;var locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const enUS=locale;var formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(St,er,tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur,sr,hr,gr,pr,mr,vr,yr,br;requiredArgs(2,arguments);var xr=String(er),Cr=getDefaultOptions(),kr=(rr=(nr=tr?.locale)!==null&&nr!==void 0?nr:Cr.locale)!==null&&rr!==void 0?rr:enUS,Pr=toInteger((ar=(dr=(or=(ir=tr?.firstWeekContainsDate)!==null&&ir!==void 0?ir:tr==null||(lr=tr.locale)===null||lr===void 0||(fr=lr.options)===null||fr===void 0?void 0:fr.firstWeekContainsDate)!==null&&or!==void 0?or:Cr.firstWeekContainsDate)!==null&&dr!==void 0?dr:(cr=Cr.locale)===null||cr===void 0||(ur=cr.options)===null||ur===void 0?void 0:ur.firstWeekContainsDate)!==null&&ar!==void 0?ar:1);if(!(Pr>=1&&Pr<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $r=toInteger((sr=(hr=(gr=(pr=tr?.weekStartsOn)!==null&&pr!==void 0?pr:tr==null||(mr=tr.locale)===null||mr===void 0||(vr=mr.options)===null||vr===void 0?void 0:vr.weekStartsOn)!==null&&gr!==void 0?gr:Cr.weekStartsOn)!==null&&hr!==void 0?hr:(yr=Cr.locale)===null||yr===void 0||(br=yr.options)===null||br===void 0?void 0:br.weekStartsOn)!==null&&sr!==void 0?sr:0);if(!($r>=0&&$r<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!kr.localize)throw new RangeError("locale must contain localize property");if(!kr.formatLong)throw new RangeError("locale must contain formatLong property");var Kr=toDate(St);if(!isValid(Kr))throw new RangeError("Invalid time value");var Ir=getTimezoneOffsetInMilliseconds(Kr),jr=subMilliseconds(Kr,Ir),Jr={firstWeekContainsDate:Pr,weekStartsOn:$r,locale:kr,_originalDate:Kr},zr=xr.match(longFormattingTokensRegExp).map(function(Hr){var Yr=Hr[0];if(Yr==="p"||Yr==="P"){var nn=longFormatters$1[Yr];return nn(Hr,kr.formatLong)}return Hr}).join("").match(formattingTokensRegExp).map(function(Hr){if(Hr==="''")return"'";var Yr=Hr[0];if(Yr==="'")return cleanEscapedString(Hr);var nn=formatters$2[Yr];if(nn)return!(tr!=null&&tr.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Hr)&&throwProtectedError(Hr,er,String(St)),!(tr!=null&&tr.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Hr)&&throwProtectedError(Hr,er,String(St)),nn(jr,Hr,kr.localize,Jr);if(Yr.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Yr+"`");return Hr}).join("");return zr}function cleanEscapedString(St){var er=St.match(escapedStringRegExp);return er?er[1].replace(doubleQuoteRegExp,"'"):St}function getDaysInMonth(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getFullYear(),rr=er.getMonth(),nr=new Date(0);return nr.setFullYear(tr,rr+1,0),nr.setHours(0,0,0,0),nr.getDate()}var MILLISECONDS_IN_WEEK$1=6048e5;function getISOWeek(St){requiredArgs(1,arguments);var er=toDate(St),tr=startOfISOWeek(er).getTime()-startOfISOWeekYear(er).getTime();return Math.round(tr/MILLISECONDS_IN_WEEK$1)+1}function getTime(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getTime();return tr}function getUnixTime(St){return requiredArgs(1,arguments),Math.floor(getTime(St)/1e3)}function getWeekYear(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=toDate(St),cr=fr.getFullYear(),ur=getDefaultOptions(),sr=toInteger((tr=(rr=(nr=(ar=er?.firstWeekContainsDate)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.firstWeekContainsDate)!==null&&nr!==void 0?nr:ur.firstWeekContainsDate)!==null&&rr!==void 0?rr:(ir=ur.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.firstWeekContainsDate)!==null&&tr!==void 0?tr:1);if(!(sr>=1&&sr<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var hr=new Date(0);hr.setFullYear(cr+1,0,sr),hr.setHours(0,0,0,0);var gr=startOfWeek(hr,er),pr=new Date(0);pr.setFullYear(cr,0,sr),pr.setHours(0,0,0,0);var mr=startOfWeek(pr,er);return fr.getTime()>=gr.getTime()?cr+1:fr.getTime()>=mr.getTime()?cr:cr-1}function startOfWeekYear(St,er){var tr,rr,nr,ar,dr,or,ir,lr;requiredArgs(1,arguments);var fr=getDefaultOptions(),cr=toInteger((tr=(rr=(nr=(ar=er?.firstWeekContainsDate)!==null&&ar!==void 0?ar:er==null||(dr=er.locale)===null||dr===void 0||(or=dr.options)===null||or===void 0?void 0:or.firstWeekContainsDate)!==null&&nr!==void 0?nr:fr.firstWeekContainsDate)!==null&&rr!==void 0?rr:(ir=fr.locale)===null||ir===void 0||(lr=ir.options)===null||lr===void 0?void 0:lr.firstWeekContainsDate)!==null&&tr!==void 0?tr:1),ur=getWeekYear(St,er),sr=new Date(0);sr.setFullYear(ur,0,cr),sr.setHours(0,0,0,0);var hr=startOfWeek(sr,er);return hr}var MILLISECONDS_IN_WEEK=6048e5;function getWeek(St,er){requiredArgs(1,arguments);var tr=toDate(St),rr=startOfWeek(tr,er).getTime()-startOfWeekYear(tr,er).getTime();return Math.round(rr/MILLISECONDS_IN_WEEK)+1}function lastDayOfMonth(St){requiredArgs(1,arguments);var er=toDate(St),tr=er.getMonth();return er.setFullYear(er.getFullYear(),tr+1,0),er.setHours(0,0,0,0),er}function getWeeksInMonth(St,er){return requiredArgs(1,arguments),differenceInCalendarWeeks(lastDayOfMonth(St),startOfMonth(St),er)+1}function isAfter(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toDate(er);return tr.getTime()>rr.getTime()}function isBefore(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toDate(er);return tr.getTime()<rr.getTime()}function isSameMonth(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toDate(er);return tr.getFullYear()===rr.getFullYear()&&tr.getMonth()===rr.getMonth()}function isSameYear(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toDate(er);return tr.getFullYear()===rr.getFullYear()}function subDays(St,er){requiredArgs(2,arguments);var tr=toInteger(er);return addDays(St,-tr)}function setMonth(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toInteger(er),nr=tr.getFullYear(),ar=tr.getDate(),dr=new Date(0);dr.setFullYear(nr,rr,15),dr.setHours(0,0,0,0);var or=getDaysInMonth(dr);return tr.setMonth(rr,Math.min(ar,or)),tr}function setYear(St,er){requiredArgs(2,arguments);var tr=toDate(St),rr=toInteger(er);return isNaN(tr.getTime())?new Date(NaN):(tr.setFullYear(rr),tr)}var __assign=function(){return __assign=Object.assign||function(er){for(var tr,rr=1,nr=arguments.length;rr<nr;rr++){tr=arguments[rr];for(var ar in tr)Object.prototype.hasOwnProperty.call(tr,ar)&&(er[ar]=tr[ar])}return er},__assign.apply(this,arguments)};function __rest(St,er){var tr={};for(var rr in St)Object.prototype.hasOwnProperty.call(St,rr)&&er.indexOf(rr)<0&&(tr[rr]=St[rr]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nr=0,rr=Object.getOwnPropertySymbols(St);nr<rr.length;nr++)er.indexOf(rr[nr])<0&&Object.prototype.propertyIsEnumerable.call(St,rr[nr])&&(tr[rr[nr]]=St[rr[nr]]);return tr}function __spreadArray(St,er,tr){if(tr||arguments.length===2)for(var rr=0,nr=er.length,ar;rr<nr;rr++)(ar||!(rr in er))&&(ar||(ar=Array.prototype.slice.call(er,0,rr)),ar[rr]=er[rr]);return St.concat(ar||Array.prototype.slice.call(er))}function isDayPickerMultiple(St){return St.mode==="multiple"}function isDayPickerRange(St){return St.mode==="range"}function isDayPickerSingle(St){return St.mode==="single"}var defaultClassNames={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function formatCaption(St,er){return format(St,"LLLL y",er)}function formatDay(St,er){return format(St,"d",er)}function formatMonthCaption(St,er){return format(St,"LLLL",er)}function formatWeekNumber(St){return"".concat(St)}function formatWeekdayName(St,er){return format(St,"cccccc",er)}function formatYearCaption(St,er){return format(St,"yyyy",er)}var formatters=Object.freeze({__proto__:null,formatCaption,formatDay,formatMonthCaption,formatWeekNumber,formatWeekdayName,formatYearCaption}),labelDay=function(St,er,tr){return format(St,"do MMMM (EEEE)",tr)},labelMonthDropdown=function(){return"Month: "},labelNext=function(){return"Go to next month"},labelPrevious=function(){return"Go to previous month"},labelWeekday=function(St,er){return format(St,"cccc",er)},labelWeekNumber=function(St){return"Week n. ".concat(St)},labelYearDropdown=function(){return"Year: "},labels=Object.freeze({__proto__:null,labelDay,labelMonthDropdown,labelNext,labelPrevious,labelWeekday,labelWeekNumber,labelYearDropdown});function getDefaultContextValues(){var St="buttons",er=defaultClassNames,tr=enUS,rr={},nr={},ar=1,dr={},or=new Date;return{captionLayout:St,classNames:er,formatters,labels,locale:tr,modifiersClassNames:rr,modifiers:nr,numberOfMonths:ar,styles:dr,today:or,mode:"default"}}function parseFromToProps(St){var er=St.fromYear,tr=St.toYear,rr=St.fromMonth,nr=St.toMonth,ar=St.fromDate,dr=St.toDate;return rr?ar=startOfMonth(rr):er&&(ar=new Date(er,0,1)),nr?dr=endOfMonth(nr):tr&&(dr=new Date(tr,11,31)),{fromDate:ar?startOfDay(ar):void 0,toDate:dr?startOfDay(dr):void 0}}var DayPickerContext=react.exports.createContext(void 0);function DayPickerProvider(St){var er,tr=St.initialProps,rr=getDefaultContextValues(),nr=parseFromToProps(tr),ar=nr.fromDate,dr=nr.toDate,or=(er=tr.captionLayout)!==null&&er!==void 0?er:rr.captionLayout;or!=="buttons"&&(!ar||!dr)&&(or="buttons");var ir;(isDayPickerSingle(tr)||isDayPickerMultiple(tr)||isDayPickerRange(tr))&&(ir=tr.onSelect);var lr=__assign(__assign(__assign({},rr),tr),{captionLayout:or,classNames:__assign(__assign({},rr.classNames),tr.classNames),components:__assign({},tr.components),formatters:__assign(__assign({},rr.formatters),tr.formatters),fromDate:ar,labels:__assign(__assign({},rr.labels),tr.labels),mode:tr.mode||rr.mode,modifiers:__assign(__assign({},rr.modifiers),tr.modifiers),modifiersClassNames:__assign(__assign({},rr.modifiersClassNames),tr.modifiersClassNames),onSelect:ir,styles:__assign(__assign({},rr.styles),tr.styles),toDate:dr});return React.createElement(DayPickerContext.Provider,{value:lr},St.children)}function useDayPicker(){var St=react.exports.useContext(DayPickerContext);if(!St)throw new Error("useDayPicker must be used within a DayPickerProvider.");return St}function CaptionLabel(St){var er=useDayPicker(),tr=er.locale,rr=er.classNames,nr=er.styles,ar=er.formatters.formatCaption;return React.createElement("h2",{className:rr.caption_label,style:nr.caption_label,"aria-live":"polite","aria-atomic":"true",id:St.id},ar(St.displayMonth,{locale:tr}))}function IconDropdown(St){return React.createElement("svg",__assign({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},St),React.createElement("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"}))}function Dropdown(St){var er,tr,rr=St.onChange,nr=St.value,ar=St.children,dr=St.caption,or=St.className,ir=St.style,lr=useDayPicker(),fr=(tr=(er=lr.components)===null||er===void 0?void 0:er.IconDropdown)!==null&&tr!==void 0?tr:IconDropdown;return React.createElement("div",{className:or,style:ir},React.createElement("span",{className:lr.classNames.vhidden},St["aria-label"]),React.createElement("select",{name:St.name,"aria-label":St["aria-label"],className:lr.classNames.dropdown,style:lr.styles.dropdown,value:nr,onChange:rr},ar),React.createElement("div",{className:lr.classNames.caption_label,style:lr.styles.caption_label,"aria-hidden":"true"},dr,React.createElement(fr,{className:lr.classNames.dropdown_icon,style:lr.styles.dropdown_icon})))}function MonthsDropdown(St){var er,tr=useDayPicker(),rr=tr.fromDate,nr=tr.toDate,ar=tr.styles,dr=tr.locale,or=tr.formatters.formatMonthCaption,ir=tr.classNames,lr=tr.components,fr=tr.labels.labelMonthDropdown;if(!rr||!nr)return React.createElement(React.Fragment,null);var cr=[];if(isSameYear(rr,nr))for(var ur=startOfMonth(rr),sr=rr.getMonth();sr<=nr.getMonth();sr++)cr.push(setMonth(ur,sr));else for(var ur=startOfMonth(new Date),sr=0;sr<=11;sr++)cr.push(setMonth(ur,sr));var hr=function(pr){var mr=Number(pr.target.value),vr=setMonth(startOfMonth(St.displayMonth),mr);St.onChange(vr)},gr=(er=lr?.Dropdown)!==null&&er!==void 0?er:Dropdown;return React.createElement(gr,{name:"months","aria-label":fr(),className:ir.dropdown_month,style:ar.dropdown_month,onChange:hr,value:St.displayMonth.getMonth(),caption:or(St.displayMonth,{locale:dr})},cr.map(function(pr){return React.createElement("option",{key:pr.getMonth(),value:pr.getMonth()},or(pr,{locale:dr}))}))}function YearsDropdown(St){var er,tr=St.displayMonth,rr=useDayPicker(),nr=rr.fromDate,ar=rr.toDate,dr=rr.locale,or=rr.styles,ir=rr.classNames,lr=rr.components,fr=rr.formatters.formatYearCaption,cr=rr.labels.labelYearDropdown,ur=[];if(!nr||!ar)return React.createElement(React.Fragment,null);for(var sr=nr.getFullYear(),hr=ar.getFullYear(),gr=sr;gr<=hr;gr++)ur.push(setYear(startOfYear(new Date),gr));var pr=function(vr){var yr=setYear(startOfMonth(tr),Number(vr.target.value));St.onChange(yr)},mr=(er=lr?.Dropdown)!==null&&er!==void 0?er:Dropdown;return React.createElement(mr,{name:"years","aria-label":cr(),className:ir.dropdown_year,style:or.dropdown_year,onChange:pr,value:tr.getFullYear(),caption:fr(tr,{locale:dr})},ur.map(function(vr){return React.createElement("option",{key:vr.getFullYear(),value:vr.getFullYear()},fr(vr,{locale:dr}))}))}function useControlledValue(St,er){var tr=react.exports.useState(St),rr=tr[0],nr=tr[1],ar=er===void 0?rr:er;return[ar,nr]}function getInitialMonth(St){var er=St.month,tr=St.defaultMonth,rr=St.today,nr=er||tr||rr||new Date,ar=St.toDate,dr=St.fromDate,or=St.numberOfMonths,ir=or===void 0?1:or;if(ar&&differenceInCalendarMonths(ar,nr)<0){var lr=-1*(ir-1);nr=addMonths(ar,lr)}return dr&&differenceInCalendarMonths(nr,dr)<0&&(nr=dr),startOfMonth(nr)}function useNavigationState(){var St=useDayPicker(),er=getInitialMonth(St),tr=useControlledValue(er,St.month),rr=tr[0],nr=tr[1],ar=function(dr){var or;if(!St.disableNavigation){var ir=startOfMonth(dr);nr(ir),(or=St.onMonthChange)===null||or===void 0||or.call(St,ir)}};return[rr,ar]}function getDisplayMonths(St,er){for(var tr=er.reverseMonths,rr=er.numberOfMonths,nr=startOfMonth(St),ar=startOfMonth(addMonths(nr,rr)),dr=differenceInCalendarMonths(ar,nr),or=[],ir=0;ir<dr;ir++){var lr=addMonths(nr,ir);or.push(lr)}return tr&&(or=or.reverse()),or}function getNextMonth(St,er){if(!er.disableNavigation){var tr=er.toDate,rr=er.pagedNavigation,nr=er.numberOfMonths,ar=nr===void 0?1:nr,dr=rr?ar:1,or=startOfMonth(St);if(!tr)return addMonths(or,dr);var ir=differenceInCalendarMonths(tr,St);if(!(ir<ar))return addMonths(or,dr)}}function getPreviousMonth(St,er){if(!er.disableNavigation){var tr=er.fromDate,rr=er.pagedNavigation,nr=er.numberOfMonths,ar=nr===void 0?1:nr,dr=rr?ar:1,or=startOfMonth(St);if(!tr)return addMonths(or,-dr);var ir=differenceInCalendarMonths(or,tr);if(!(ir<=0))return addMonths(or,-dr)}}var NavigationContext=react.exports.createContext(void 0);function NavigationProvider(St){var er=useDayPicker(),tr=useNavigationState(),rr=tr[0],nr=tr[1],ar=getDisplayMonths(rr,er),dr=getNextMonth(rr,er),or=getPreviousMonth(rr,er),ir=function(cr){return ar.some(function(ur){return isSameMonth(cr,ur)})},lr=function(cr,ur){ir(cr)||(ur&&isBefore(cr,ur)?nr(addMonths(cr,1+er.numberOfMonths*-1)):nr(cr))},fr={currentMonth:rr,displayMonths:ar,goToMonth:nr,goToDate:lr,previousMonth:or,nextMonth:dr,isDateDisplayed:ir};return React.createElement(NavigationContext.Provider,{value:fr},St.children)}function useNavigation(){var St=react.exports.useContext(NavigationContext);if(!St)throw new Error("useNavigation must be used within a NavigationProvider");return St}function CaptionDropdowns(St){var er,tr=useDayPicker(),rr=tr.classNames,nr=tr.styles,ar=tr.components,dr=useNavigation().goToMonth,or=function(fr){dr(fr)},ir=(er=ar?.CaptionLabel)!==null&&er!==void 0?er:CaptionLabel,lr=React.createElement(ir,{id:St.id,displayMonth:St.displayMonth});return React.createElement("div",{className:rr.caption_dropdowns,style:nr.caption_dropdowns},React.createElement("div",{className:rr.vhidden},lr),React.createElement(MonthsDropdown,{onChange:or,displayMonth:St.displayMonth}),React.createElement(YearsDropdown,{onChange:or,displayMonth:St.displayMonth}))}function IconLeft(St){return React.createElement("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},St),React.createElement("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"}))}function IconRight(St){return React.createElement("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},St),React.createElement("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"}))}var Button$1=react.exports.forwardRef(function(St,er){var tr=useDayPicker(),rr=tr.classNames,nr=tr.styles,ar=[rr.button_reset,rr.button];St.className&&ar.push(St.className);var dr=ar.join(" "),or=__assign(__assign({},nr.button_reset),nr.button);return St.style&&Object.assign(or,St.style),React.createElement("button",__assign({},St,{ref:er,type:"button",className:dr,style:or}))});function Navigation(St){var er,tr,rr=useDayPicker(),nr=rr.dir,ar=rr.locale,dr=rr.classNames,or=rr.styles,ir=rr.labels,lr=ir.labelPrevious,fr=ir.labelNext,cr=rr.components;if(!St.nextMonth&&!St.previousMonth)return React.createElement(React.Fragment,null);var ur=lr(St.previousMonth,{locale:ar}),sr=[dr.nav_button,dr.nav_button_previous].join(" "),hr=fr(St.nextMonth,{locale:ar}),gr=[dr.nav_button,dr.nav_button_next].join(" "),pr=(er=cr?.IconRight)!==null&&er!==void 0?er:IconRight,mr=(tr=cr?.IconLeft)!==null&&tr!==void 0?tr:IconLeft;return React.createElement("div",{className:dr.nav,style:or.nav},!St.hidePrevious&&React.createElement(Button$1,{name:"previous-month","aria-label":ur,className:sr,style:or.nav_button_previous,disabled:!St.previousMonth,onClick:St.onPreviousClick},nr==="rtl"?React.createElement(pr,{className:dr.nav_icon,style:or.nav_icon}):React.createElement(mr,{className:dr.nav_icon,style:or.nav_icon})),!St.hideNext&&React.createElement(Button$1,{name:"next-month","aria-label":hr,className:gr,style:or.nav_button_next,disabled:!St.nextMonth,onClick:St.onNextClick},nr==="rtl"?React.createElement(mr,{className:dr.nav_icon,style:or.nav_icon}):React.createElement(pr,{className:dr.nav_icon,style:or.nav_icon})))}function CaptionNavigation(St){var er,tr,rr=useDayPicker(),nr=rr.numberOfMonths,ar=rr.dir,dr=rr.components,or=useNavigation(),ir=or.previousMonth,lr=or.nextMonth,fr=or.goToMonth,cr=or.displayMonths,ur=cr.findIndex(function(xr){return isSameMonth(St.displayMonth,xr)}),sr=ur===0,hr=ur===cr.length-1;ar==="rtl"&&(er=[sr,hr],hr=er[0],sr=er[1]);var gr=nr>1&&(sr||!hr),pr=nr>1&&(hr||!sr),mr=function(){!ir||fr(ir)},vr=function(){!lr||fr(lr)},yr=(tr=dr?.CaptionLabel)!==null&&tr!==void 0?tr:CaptionLabel,br=React.createElement(yr,{id:St.id,displayMonth:St.displayMonth});return React.createElement(React.Fragment,null,br,React.createElement(Navigation,{displayMonth:St.displayMonth,hideNext:gr,hidePrevious:pr,nextMonth:lr,previousMonth:ir,onPreviousClick:mr,onNextClick:vr}))}function Caption(St){var er,tr=useDayPicker(),rr=tr.classNames,nr=tr.disableNavigation,ar=tr.styles,dr=tr.captionLayout,or=tr.components,ir=(er=or?.CaptionLabel)!==null&&er!==void 0?er:CaptionLabel,lr;return nr?lr=React.createElement(ir,{id:St.id,displayMonth:St.displayMonth}):dr==="dropdown"?lr=React.createElement(CaptionDropdowns,{displayMonth:St.displayMonth,id:St.id}):lr=React.createElement(CaptionNavigation,{displayMonth:St.displayMonth,id:St.id}),React.createElement("div",{className:rr.caption,style:ar.caption},lr)}function Footer$1(){var St=useDayPicker(),er=St.footer,tr=St.styles,rr=St.classNames.tfoot;return er?React.createElement("tfoot",{className:rr,style:tr.tfoot},React.createElement("tr",null,React.createElement("td",{colSpan:8},er))):React.createElement(React.Fragment,null)}function getWeekdays(St,er,tr){for(var rr=tr?startOfISOWeek(new Date):startOfWeek(new Date,{locale:St,weekStartsOn:er}),nr=[],ar=0;ar<7;ar++){var dr=addDays(rr,ar);nr.push(dr)}return nr}function HeadRow(){var St=useDayPicker(),er=St.classNames,tr=St.styles,rr=St.showWeekNumber,nr=St.locale,ar=St.weekStartsOn,dr=St.ISOWeek,or=St.formatters.formatWeekdayName,ir=St.labels.labelWeekday,lr=getWeekdays(nr,ar,dr);return React.createElement("tr",{style:tr.head_row,className:er.head_row},rr&&React.createElement("th",{scope:"col",style:tr.head_cell,className:er.head_cell}),lr.map(function(fr,cr){return React.createElement("th",{key:cr,scope:"col",className:er.head_cell,style:tr.head_cell},React.createElement("span",{"aria-hidden":!0},or(fr,{locale:nr})),React.createElement("span",{className:er.vhidden},ir(fr,{locale:nr})))}))}function Head(){var St,er=useDayPicker(),tr=er.classNames,rr=er.styles,nr=er.components,ar=(St=nr?.HeadRow)!==null&&St!==void 0?St:HeadRow;return React.createElement("thead",{style:rr.head,className:tr.head},React.createElement(ar,null))}function DayContent(St){var er=useDayPicker(),tr=er.locale,rr=er.formatters.formatDay;return React.createElement(React.Fragment,null,rr(St.date,{locale:tr}))}var SelectMultipleContext=react.exports.createContext(void 0);function SelectMultipleProvider(St){if(!isDayPickerMultiple(St.initialProps)){var er={selected:void 0,modifiers:{disabled:[]}};return React.createElement(SelectMultipleContext.Provider,{value:er},St.children)}return React.createElement(SelectMultipleProviderInternal,{initialProps:St.initialProps,children:St.children})}function SelectMultipleProviderInternal(St){var er=St.initialProps,tr=St.children,rr=er.selected,nr=er.min,ar=er.max,dr=function(lr,fr,cr){var ur,sr;(ur=er.onDayClick)===null||ur===void 0||ur.call(er,lr,fr,cr);var hr=Boolean(fr.selected&&nr&&rr?.length===nr);if(!hr){var gr=Boolean(!fr.selected&&ar&&rr?.length===ar);if(!gr){var pr=rr?__spreadArray([],rr,!0):[];if(fr.selected){var mr=pr.findIndex(function(vr){return isSameDay(lr,vr)});pr.splice(mr,1)}else pr.push(lr);(sr=er.onSelect)===null||sr===void 0||sr.call(er,pr,lr,fr,cr)}}},or={disabled:[]};rr&&or.disabled.push(function(lr){var fr=ar&&rr.length>ar-1,cr=rr.some(function(ur){return isSameDay(ur,lr)});return Boolean(fr&&!cr)});var ir={selected:rr,onDayClick:dr,modifiers:or};return React.createElement(SelectMultipleContext.Provider,{value:ir},tr)}function useSelectMultiple(){var St=react.exports.useContext(SelectMultipleContext);if(!St)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return St}function addToRange(St,er){var tr=er||{},rr=tr.from,nr=tr.to;if(!rr)return{from:St,to:void 0};if(!nr&&isSameDay(rr,St))return{from:rr,to:St};if(!nr&&isBefore(St,rr))return{from:St,to:rr};if(!nr)return{from:rr,to:St};if(!(isSameDay(nr,St)&&isSameDay(rr,St))){if(isSameDay(nr,St))return{from:nr,to:void 0};if(!isSameDay(rr,St))return isAfter(rr,St)?{from:St,to:nr}:{from:rr,to:St}}}var SelectRangeContext=react.exports.createContext(void 0);function SelectRangeProvider(St){if(!isDayPickerRange(St.initialProps)){var er={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return React.createElement(SelectRangeContext.Provider,{value:er},St.children)}return React.createElement(SelectRangeProviderInternal,{initialProps:St.initialProps,children:St.children})}function SelectRangeProviderInternal(St){var er=St.initialProps,tr=St.children,rr=er.selected,nr=rr||{},ar=nr.from,dr=nr.to,or=er.min,ir=er.max,lr=function(sr,hr,gr){var pr,mr;(pr=er.onDayClick)===null||pr===void 0||pr.call(er,sr,hr,gr);var vr=addToRange(sr,rr);(mr=er.onSelect)===null||mr===void 0||mr.call(er,vr,sr,hr,gr)},fr={range_start:[],range_end:[],range_middle:[],disabled:[]};if(ar&&(fr.range_start=[ar],dr?(fr.range_end=[dr],isSameDay(ar,dr)||(fr.range_middle=[{after:ar,before:dr}])):fr.range_end=[ar]),or&&(ar&&!dr&&fr.disabled.push({after:subDays(ar,or-1),before:addDays(ar,or-1)}),ar&&dr&&fr.disabled.push({after:ar,before:addDays(ar,or-1)})),ir&&(ar&&!dr&&(fr.disabled.push({before:addDays(ar,-ir+1)}),fr.disabled.push({after:addDays(ar,ir-1)})),ar&&dr)){var cr=differenceInCalendarDays(dr,ar)+1,ur=ir-cr;fr.disabled.push({before:subDays(ar,ur)}),fr.disabled.push({after:addDays(dr,ur)})}return React.createElement(SelectRangeContext.Provider,{value:{selected:rr,onDayClick:lr,modifiers:fr}},tr)}function useSelectRange(){var St=react.exports.useContext(SelectRangeContext);if(!St)throw new Error("useSelectRange must be used within a SelectRangeProvider");return St}function matcherToArray(St){return Array.isArray(St)?__spreadArray([],St,!0):St!==void 0?[St]:[]}function getCustomModifiers(St){var er={};return Object.entries(St).forEach(function(tr){var rr=tr[0],nr=tr[1];er[rr]=matcherToArray(nr)}),er}var InternalModifier;(function(St){St.Outside="outside",St.Disabled="disabled",St.Selected="selected",St.Hidden="hidden",St.Today="today",St.RangeStart="range_start",St.RangeEnd="range_end",St.RangeMiddle="range_middle"})(InternalModifier||(InternalModifier={}));var Selected=InternalModifier.Selected,Disabled=InternalModifier.Disabled,Hidden=InternalModifier.Hidden,Today=InternalModifier.Today,RangeEnd=InternalModifier.RangeEnd,RangeMiddle=InternalModifier.RangeMiddle,RangeStart=InternalModifier.RangeStart,Outside=InternalModifier.Outside;function getInternalModifiers(St,er,tr){var rr,nr=(rr={},rr[Selected]=matcherToArray(St.selected),rr[Disabled]=matcherToArray(St.disabled),rr[Hidden]=matcherToArray(St.hidden),rr[Today]=[St.today],rr[RangeEnd]=[],rr[RangeMiddle]=[],rr[RangeStart]=[],rr[Outside]=[],rr);return St.fromDate&&nr[Disabled].push({before:St.fromDate}),St.toDate&&nr[Disabled].push({after:St.toDate}),isDayPickerMultiple(St)?nr[Disabled]=nr[Disabled].concat(er.modifiers[Disabled]):isDayPickerRange(St)&&(nr[Disabled]=nr[Disabled].concat(tr.modifiers[Disabled]),nr[RangeStart]=tr.modifiers[RangeStart],nr[RangeMiddle]=tr.modifiers[RangeMiddle],nr[RangeEnd]=tr.modifiers[RangeEnd]),nr}var ModifiersContext=react.exports.createContext(void 0);function ModifiersProvider(St){var er=useDayPicker(),tr=useSelectMultiple(),rr=useSelectRange(),nr=getInternalModifiers(er,tr,rr),ar=getCustomModifiers(er.modifiers),dr=__assign(__assign({},nr),ar);return React.createElement(ModifiersContext.Provider,{value:dr},St.children)}function useModifiers(){var St=react.exports.useContext(ModifiersContext);if(!St)throw new Error("useModifiers must be used within a ModifiersProvider");return St}function isDateInterval(St){return Boolean(St&&typeof St=="object"&&"before"in St&&"after"in St)}function isDateRange(St){return Boolean(St&&typeof St=="object"&&"from"in St)}function isDateAfterType(St){return Boolean(St&&typeof St=="object"&&"after"in St)}function isDateBeforeType(St){return Boolean(St&&typeof St=="object"&&"before"in St)}function isDayOfWeekType(St){return Boolean(St&&typeof St=="object"&&"dayOfWeek"in St)}function isDateInRange(St,er){var tr,rr=er.from,nr=er.to;if(!rr)return!1;if(!nr&&isSameDay(rr,St))return!0;if(!nr)return!1;var ar=differenceInCalendarDays(nr,rr)<0;ar&&(tr=[nr,rr],rr=tr[0],nr=tr[1]);var dr=differenceInCalendarDays(St,rr)>=0&&differenceInCalendarDays(nr,St)>=0;return dr}function isDateType(St){return isDate(St)}function isArrayOfDates(St){return Array.isArray(St)&&St.every(isDate)}function isMatch(St,er){return er.some(function(tr){if(typeof tr=="boolean")return tr;if(isDateType(tr))return isSameDay(St,tr);if(isArrayOfDates(tr))return tr.includes(St);if(isDateRange(tr))return isDateInRange(St,tr);if(isDayOfWeekType(tr))return tr.dayOfWeek.includes(St.getDay());if(isDateInterval(tr)){var rr=differenceInCalendarDays(tr.before,St),nr=differenceInCalendarDays(tr.after,St),ar=rr>0,dr=nr<0,or=isAfter(tr.before,tr.after);return or?dr&&ar:ar||dr}return isDateAfterType(tr)?differenceInCalendarDays(St,tr.after)>0:isDateBeforeType(tr)?differenceInCalendarDays(tr.before,St)>0:typeof tr=="function"?tr(St):!1})}function getActiveModifiers(St,er,tr){var rr=Object.keys(er).reduce(function(ar,dr){var or=er[dr];return isMatch(St,or)&&ar.push(dr),ar},[]),nr={};return rr.forEach(function(ar){return nr[ar]=!0}),tr&&!isSameMonth(St,tr)&&(nr.outside=!0),nr}function getInitialFocusTarget(St,er){for(var tr=startOfMonth(St[0]),rr=endOfMonth(St[St.length-1]),nr,ar,dr=tr;dr<=rr;){var or=getActiveModifiers(dr,er),ir=!or.disabled&&!or.hidden;if(!ir){dr=addDays(dr,1);continue}if(or.selected)return dr;or.today&&!ar&&(ar=dr),nr||(nr=dr),dr=addDays(dr,1)}return ar||nr}var MAX_RETRY=365;function getNextFocus(St,er){var tr=er.moveBy,rr=er.direction,nr=er.context,ar=er.modifiers,dr=er.retry,or=dr===void 0?{count:0,lastFocused:St}:dr,ir=nr.weekStartsOn,lr=nr.fromDate,fr=nr.toDate,cr=nr.locale,ur={day:addDays,week:addWeeks,month:addMonths,year:addYears,startOfWeek:function(pr){return nr.ISOWeek?startOfISOWeek(pr):startOfWeek(pr,{locale:cr,weekStartsOn:ir})},endOfWeek:function(pr){return nr.ISOWeek?endOfISOWeek(pr):endOfWeek(pr,{locale:cr,weekStartsOn:ir})}},sr=ur[tr](St,rr==="after"?1:-1);rr==="before"&&lr?sr=max$1([lr,sr]):rr==="after"&&fr&&(sr=min([fr,sr]));var hr=!0;if(ar){var gr=getActiveModifiers(sr,ar);hr=!gr.disabled&&!gr.hidden}return hr?sr:or.count>MAX_RETRY?or.lastFocused:getNextFocus(sr,{moveBy:tr,direction:rr,context:nr,modifiers:ar,retry:__assign(__assign({},or),{count:or.count+1})})}var FocusContext=react.exports.createContext(void 0);function FocusProvider(St){var er=useNavigation(),tr=useModifiers(),rr=react.exports.useState(),nr=rr[0],ar=rr[1],dr=react.exports.useState(),or=dr[0],ir=dr[1],lr=getInitialFocusTarget(er.displayMonths,tr),fr=nr??(or&&er.isDateDisplayed(or))?or:lr,cr=function(){ir(nr),ar(void 0)},ur=function(pr){ar(pr)},sr=useDayPicker(),hr=function(pr,mr){if(!!nr){var vr=getNextFocus(nr,{moveBy:pr,direction:mr,context:sr,modifiers:tr});isSameDay(nr,vr)||(er.goToDate(vr,nr),ur(vr))}},gr={focusedDay:nr,focusTarget:fr,blur:cr,focus:ur,focusDayAfter:function(){return hr("day","after")},focusDayBefore:function(){return hr("day","before")},focusWeekAfter:function(){return hr("week","after")},focusWeekBefore:function(){return hr("week","before")},focusMonthBefore:function(){return hr("month","before")},focusMonthAfter:function(){return hr("month","after")},focusYearBefore:function(){return hr("year","before")},focusYearAfter:function(){return hr("year","after")},focusStartOfWeek:function(){return hr("startOfWeek","before")},focusEndOfWeek:function(){return hr("endOfWeek","after")}};return React.createElement(FocusContext.Provider,{value:gr},St.children)}function useFocusContext(){var St=react.exports.useContext(FocusContext);if(!St)throw new Error("useFocusContext must be used within a FocusProvider");return St}function useActiveModifiers(St,er){var tr=useModifiers(),rr=getActiveModifiers(St,tr,er);return rr}var SelectSingleContext=react.exports.createContext(void 0);function SelectSingleProvider(St){if(!isDayPickerSingle(St.initialProps)){var er={selected:void 0};return React.createElement(SelectSingleContext.Provider,{value:er},St.children)}return React.createElement(SelectSingleProviderInternal,{initialProps:St.initialProps,children:St.children})}function SelectSingleProviderInternal(St){var er=St.initialProps,tr=St.children,rr=function(ar,dr,or){var ir,lr,fr;if((ir=er.onDayClick)===null||ir===void 0||ir.call(er,ar,dr,or),dr.selected&&!er.required){(lr=er.onSelect)===null||lr===void 0||lr.call(er,void 0,ar,dr,or);return}(fr=er.onSelect)===null||fr===void 0||fr.call(er,ar,ar,dr,or)},nr={selected:er.selected,onDayClick:rr};return React.createElement(SelectSingleContext.Provider,{value:nr},tr)}function useSelectSingle(){var St=react.exports.useContext(SelectSingleContext);if(!St)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return St}function useDayEventHandlers(St,er){var tr=useDayPicker(),rr=useSelectSingle(),nr=useSelectMultiple(),ar=useSelectRange(),dr=useFocusContext(),or=dr.focusDayAfter,ir=dr.focusDayBefore,lr=dr.focusWeekAfter,fr=dr.focusWeekBefore,cr=dr.blur,ur=dr.focus,sr=dr.focusMonthBefore,hr=dr.focusMonthAfter,gr=dr.focusYearBefore,pr=dr.focusYearAfter,mr=dr.focusStartOfWeek,vr=dr.focusEndOfWeek,yr=function(Hr){var Yr,nn,Qr,Or;isDayPickerSingle(tr)?(Yr=rr.onDayClick)===null||Yr===void 0||Yr.call(rr,St,er,Hr):isDayPickerMultiple(tr)?(nn=nr.onDayClick)===null||nn===void 0||nn.call(nr,St,er,Hr):isDayPickerRange(tr)?(Qr=ar.onDayClick)===null||Qr===void 0||Qr.call(ar,St,er,Hr):(Or=tr.onDayClick)===null||Or===void 0||Or.call(tr,St,er,Hr)},br=function(Hr){var Yr;ur(St),(Yr=tr.onDayFocus)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},xr=function(Hr){var Yr;cr(),(Yr=tr.onDayBlur)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},Cr=function(Hr){var Yr;(Yr=tr.onDayMouseEnter)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},kr=function(Hr){var Yr;(Yr=tr.onDayMouseLeave)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},Pr=function(Hr){var Yr;(Yr=tr.onDayTouchCancel)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},$r=function(Hr){var Yr;(Yr=tr.onDayTouchEnd)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},Kr=function(Hr){var Yr;(Yr=tr.onDayTouchMove)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},Ir=function(Hr){var Yr;(Yr=tr.onDayTouchStart)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},jr=function(Hr){var Yr;(Yr=tr.onDayKeyUp)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},Jr=function(Hr){var Yr;switch(Hr.key){case"ArrowLeft":Hr.preventDefault(),Hr.stopPropagation(),tr.dir==="rtl"?or():ir();break;case"ArrowRight":Hr.preventDefault(),Hr.stopPropagation(),tr.dir==="rtl"?ir():or();break;case"ArrowDown":Hr.preventDefault(),Hr.stopPropagation(),lr();break;case"ArrowUp":Hr.preventDefault(),Hr.stopPropagation(),fr();break;case"PageUp":Hr.preventDefault(),Hr.stopPropagation(),Hr.shiftKey?gr():sr();break;case"PageDown":Hr.preventDefault(),Hr.stopPropagation(),Hr.shiftKey?pr():hr();break;case"Home":Hr.preventDefault(),Hr.stopPropagation(),mr();break;case"End":Hr.preventDefault(),Hr.stopPropagation(),vr();break}(Yr=tr.onDayKeyDown)===null||Yr===void 0||Yr.call(tr,St,er,Hr)},zr={onClick:yr,onFocus:br,onBlur:xr,onKeyDown:Jr,onKeyUp:jr,onMouseEnter:Cr,onMouseLeave:kr,onTouchCancel:Pr,onTouchEnd:$r,onTouchMove:Kr,onTouchStart:Ir};return zr}function useSelectedDays(){var St=useDayPicker(),er=useSelectSingle(),tr=useSelectMultiple(),rr=useSelectRange(),nr=isDayPickerSingle(St)?er.selected:isDayPickerMultiple(St)?tr.selected:isDayPickerRange(St)?rr.selected:void 0;return nr}function isInternalModifier(St){return Object.values(InternalModifier).includes(St)}function getDayClassNames(St,er){var tr=[St.classNames.day];return Object.keys(er).forEach(function(rr){var nr=St.modifiersClassNames[rr];if(nr)tr.push(nr);else if(isInternalModifier(rr)){var ar=St.classNames["day_".concat(rr)];ar&&tr.push(ar)}}),tr}function getDayStyle(St,er){var tr=__assign({},St.styles.day);return Object.keys(er).forEach(function(rr){var nr;tr=__assign(__assign({},tr),(nr=St.modifiersStyles)===null||nr===void 0?void 0:nr[rr])}),tr}function useDayRender(St,er,tr){var rr,nr,ar,dr=useDayPicker(),or=useFocusContext(),ir=useActiveModifiers(St,er),lr=useDayEventHandlers(St,ir),fr=useSelectedDays(),cr=Boolean(dr.onDayClick||dr.mode!=="default");react.exports.useEffect(function(){var kr;ir.outside||!or.focusedDay||!cr||isSameDay(or.focusedDay,St)&&((kr=tr.current)===null||kr===void 0||kr.focus())},[or.focusedDay,St,tr,cr,ir.outside]);var ur=getDayClassNames(dr,ir).join(" "),sr=getDayStyle(dr,ir),hr=dr.labels.labelDay(St,ir,{locale:dr.locale}),gr=Boolean(ir.outside&&!dr.showOutsideDays||ir.hidden),pr=(ar=(nr=dr.components)===null||nr===void 0?void 0:nr.DayContent)!==null&&ar!==void 0?ar:DayContent,mr=React.createElement(pr,{date:St,displayMonth:er,activeModifiers:ir}),vr={style:sr,className:ur,children:mr,"aria-label":hr},yr=or.focusTarget&&isSameDay(or.focusTarget,St)&&!ir.outside,br=or.focusedDay&&isSameDay(or.focusedDay,St),xr=__assign(__assign(__assign({},vr),(rr={disabled:ir.disabled},rr["aria-pressed"]=ir.selected,rr["aria-label"]=hr,rr.tabIndex=br||yr?0:-1,rr)),lr),Cr={isButton:cr,isHidden:gr,activeModifiers:ir,selectedDays:fr,buttonProps:xr,divProps:vr};return Cr}function Day(St){var er=react.exports.useRef(null),tr=useDayRender(St.date,St.displayMonth,er);return tr.isHidden?React.createElement(React.Fragment,null):tr.isButton?React.createElement(Button$1,__assign({name:"day",ref:er},tr.buttonProps)):React.createElement("div",__assign({},tr.divProps))}function WeekNumber(St){var er=St.number,tr=St.dates,rr=useDayPicker(),nr=rr.onWeekNumberClick,ar=rr.styles,dr=rr.classNames,or=rr.locale,ir=rr.labels.labelWeekNumber,lr=rr.formatters.formatWeekNumber,fr=lr(Number(er),{locale:or});if(!nr)return React.createElement("span",{className:dr.weeknumber,style:ar.weeknumber},fr);var cr=ir(Number(er),{locale:or}),ur=function(sr){nr(er,tr,sr)};return React.createElement(Button$1,{name:"week-number","aria-label":cr,className:dr.weeknumber,style:ar.weeknumber,onClick:ur},fr)}function Row(St){var er,tr,rr=useDayPicker(),nr=rr.styles,ar=rr.classNames,dr=rr.showWeekNumber,or=rr.components,ir=(er=or?.Day)!==null&&er!==void 0?er:Day,lr=(tr=or?.WeekNumber)!==null&&tr!==void 0?tr:WeekNumber,fr;return dr&&(fr=React.createElement("td",{className:ar.cell,style:nr.cell},React.createElement(lr,{number:St.weekNumber,dates:St.dates}))),React.createElement("tr",{className:ar.row,style:nr.row},fr,St.dates.map(function(cr){return React.createElement("td",{className:ar.cell,style:nr.cell,key:getUnixTime(cr)},React.createElement(ir,{displayMonth:St.displayMonth,date:cr}))}))}function daysToMonthWeeks(St,er,tr){for(var rr=tr?.ISOWeek?endOfISOWeek(er):endOfWeek(er,tr),nr=tr?.ISOWeek?startOfISOWeek(St):startOfWeek(St,tr),ar=differenceInCalendarDays(rr,nr),dr=[],or=0;or<=ar;or++)dr.push(addDays(nr,or));var ir=dr.reduce(function(lr,fr){var cr=tr?.ISOWeek?getISOWeek(fr):getWeek(fr,tr),ur=lr.find(function(sr){return sr.weekNumber===cr});return ur?(ur.dates.push(fr),lr):(lr.push({weekNumber:cr,dates:[fr]}),lr)},[]);return ir}function getMonthWeeks(St,er){var tr=daysToMonthWeeks(startOfMonth(St),endOfMonth(St),er);if(er?.useFixedWeeks){var rr=getWeeksInMonth(St,er);if(rr<6){var nr=tr[tr.length-1],ar=nr.dates[nr.dates.length-1],dr=addWeeks(ar,6-rr),or=daysToMonthWeeks(addWeeks(ar,1),dr,er);tr.push.apply(tr,or)}}return tr}function Table(St){var er,tr,rr,nr=useDayPicker(),ar=nr.locale,dr=nr.classNames,or=nr.styles,ir=nr.hideHead,lr=nr.fixedWeeks,fr=nr.components,cr=nr.weekStartsOn,ur=nr.firstWeekContainsDate,sr=nr.ISOWeek,hr=getMonthWeeks(St.displayMonth,{useFixedWeeks:Boolean(lr),ISOWeek:sr,locale:ar,weekStartsOn:cr,firstWeekContainsDate:ur}),gr=(er=fr?.Head)!==null&&er!==void 0?er:Head,pr=(tr=fr?.Row)!==null&&tr!==void 0?tr:Row,mr=(rr=fr?.Footer)!==null&&rr!==void 0?rr:Footer$1;return React.createElement("table",{className:dr.table,style:or.table,role:"grid","aria-labelledby":St["aria-labelledby"]},!ir&&React.createElement(gr,null),React.createElement("tbody",{className:dr.tbody,style:or.tbody},hr.map(function(vr){return React.createElement(pr,{displayMonth:St.displayMonth,key:vr.weekNumber,dates:vr.dates,weekNumber:vr.weekNumber})})),React.createElement(mr,null))}function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var useIsomorphicLayoutEffect=canUseDOM()?react.exports.useLayoutEffect:react.exports.useEffect,serverHandoffComplete=!1,id=0;function genId(){return"react-day-picker-".concat(++id)}function useId(St){var er,tr=St??(serverHandoffComplete?genId():null),rr=react.exports.useState(tr),nr=rr[0],ar=rr[1];return useIsomorphicLayoutEffect(function(){nr===null&&ar(genId())},[]),react.exports.useEffect(function(){serverHandoffComplete===!1&&(serverHandoffComplete=!0)},[]),(er=St??nr)!==null&&er!==void 0?er:void 0}function Month(St){var er,tr,rr=useDayPicker(),nr=rr.dir,ar=rr.classNames,dr=rr.styles,or=rr.components,ir=useNavigation().displayMonths,lr=useId(rr.id?"".concat(rr.id,"-").concat(St.displayIndex):void 0),fr=[ar.month],cr=dr.month,ur=St.displayIndex===0,sr=St.displayIndex===ir.length-1,hr=!ur&&!sr;nr==="rtl"&&(er=[ur,sr],sr=er[0],ur=er[1]),ur&&(fr.push(ar.caption_start),cr=__assign(__assign({},cr),dr.caption_start)),sr&&(fr.push(ar.caption_end),cr=__assign(__assign({},cr),dr.caption_end)),hr&&(fr.push(ar.caption_between),cr=__assign(__assign({},cr),dr.caption_between));var gr=(tr=or?.Caption)!==null&&tr!==void 0?tr:Caption;return React.createElement("div",{key:St.displayIndex,className:fr.join(" "),style:cr},React.createElement(gr,{id:lr,displayMonth:St.displayMonth}),React.createElement(Table,{"aria-labelledby":lr,displayMonth:St.displayMonth}))}function Root(){var St=useDayPicker(),er=useFocusContext(),tr=useNavigation(),rr=react.exports.useState(!1),nr=rr[0],ar=rr[1];react.exports.useEffect(function(){!St.initialFocus||!er.focusTarget||nr||(er.focus(er.focusTarget),ar(!0))},[St.initialFocus,nr,er.focus,er.focusTarget,er]);var dr=[St.classNames.root,St.className];St.numberOfMonths>1&&dr.push(St.classNames.multiple_months),St.showWeekNumber&&dr.push(St.classNames.with_weeknumber);var or=__assign(__assign({},St.styles.root),St.style);return React.createElement("div",{className:dr.join(" "),style:or,dir:St.dir},React.createElement("div",{className:St.classNames.months,style:St.styles.months},tr.displayMonths.map(function(ir,lr){return React.createElement(Month,{key:lr,displayIndex:lr,displayMonth:ir})})))}function RootProvider(St){var er=St.children,tr=__rest(St,["children"]);return React.createElement(DayPickerProvider,{initialProps:tr},React.createElement(NavigationProvider,null,React.createElement(SelectSingleProvider,{initialProps:tr},React.createElement(SelectMultipleProvider,{initialProps:tr},React.createElement(SelectRangeProvider,{initialProps:tr},React.createElement(ModifiersProvider,null,React.createElement(FocusProvider,null,er)))))))}function DayPicker(St){return React.createElement(RootProvider,__assign({},St),React.createElement(Root,null))}const style="",DateSelect=({setContent:St})=>{const[er,tr]=react.exports.useState(),rr=()=>{const ar=format(er,"yyyy/MM/dd");St(ar)};let nr=jsx("p",{children:"\u8ACB\u9078\u64C7\u65E5\u671F"});return er&&(nr=jsxs("p",{children:["\u60A8\u9078\u64C7\u7684\u65E5\u671F\u70BA ",format(er,"PP"),"."]})),jsxs(Flex,{flexDir:"column",alignItems:"center",children:[jsx(DayPicker,{mode:"single",selected:er,onSelect:tr,footer:nr}),jsx(Button$2,{mt:4,onClick:rr,children:"\u78BA\u8A8D"})]})},Side=()=>{const{nextStep:St,prevStep:er,activeStep:tr}=useStep(),{saveSequence:rr}=useFile(),nr=useNavigate(),{canvas:ar}=useCanvas();react.exports.useRef(null);const{isOpen:dr,onOpen:or,onClose:ir}=useDisclosure(),[lr,fr]=react.exports.useState(!1),{isOpen:cr,onOpen:ur,onClose:sr}=useDisclosure(),{isOpen:hr,onOpen:gr,onClose:pr}=useDisclosure(),mr=()=>{er(),nr("/")},vr=()=>{St(),rr()},yr=()=>{const kr=localStorage.getItem("sign_img");!kr||fabric.fabric.Image.fromURL(kr,function(Pr){Pr.top=400,Pr.scaleX=.5,Pr.scaleY=.5,ar.current.add(Pr)})},br=react.exports.useCallback(()=>{yr(),ir()},[]),xr=(kr,Pr="Noto Sans TC")=>{const $r=new fabric.fabric.Text(kr,{top:400,fill:"black",fontFamily:Pr});ar.current.add($r)},Cr=react.exports.useCallback((kr,Pr)=>{xr(kr,Pr),ir(),sr(),pr()},[]);return jsxs(Box,{position:{base:"absolute",lg:"relative"},bgColor:"#fff",w:{base:"95%",lg:"400px"},h:"full",transitionDuration:"0.5s",transform:lr?{sm:"translateX(5%)",lg:"translateX(0)"}:{sm:"translateX(95%)",lg:"translateX(0)"},boxShadow:"-2px 0px 5px 2px rgba(0,0,0,.2)",p:{base:0,lg:4},pl:{base:"60px",lg:4},children:[jsx(Flex,{alignItems:"center",justifyContent:"center",position:"absolute",left:0,display:{base:"flex",lg:"none"},h:"full",boxShadow:"4px 0px 5px rgba(0, 0, 0,.2)",onClick:()=>fr(!lr),children:lr?jsx(SvgArrowLeft,{}):jsx(SvgArrowRight,{})}),jsxs(Button$2,{mt:4,mb:2,w:"full",variant:"outline",onClick:or,children:[jsx(SvgAdd,{width:"30px"}),jsx(Text$1,{pl:2,children:" \u52A0\u5165\u7C3D\u540D"})]}),jsxs(Button$2,{mb:2,w:"full",variant:"outline",onClick:ur,children:[jsx(SvgEdit,{width:"30px"}),jsx(Text$1,{pl:2,children:" \u52A0\u5165\u6587\u5B57"})]}),jsxs(Button$2,{mb:2,w:"full",variant:"outline",onClick:gr,children:[jsx(SvgCalendarToday,{width:"30px"}),jsx(Text$1,{pl:2,children:" \u52A0\u5165\u65E5\u671F"})]}),jsxs(Box,{mt:4,children:[jsx(Button$2,{mb:2,onClick:vr,w:"full",children:"\u4E0B\u4E00\u6B65"}),jsx(Button$2,{onClick:mr,w:"full",color:"gray.400",bgColor:"gray.200",variant:"outline",children:"\u4E0A\u4E00\u6B65"})]}),tr===2&&jsxs(Flex,{position:"absolute",top:0,left:0,w:"full",h:"full",justifyContent:"center",alignItems:"center",children:[jsx(Box,{position:"absolute",bgColor:"rgba(11, 125, 119, 0.1)",w:"full",h:"full",backdropFilter:"auto",backdropBlur:"6px"}),jsxs(Box,{position:"relative",zIndex:10,bgColor:"#fff",w:"80%",p:8,borderRadius:"6px",bg:"",textAlign:"center",children:[jsx(Text$1,{pb:2,color:"primary.default",textStyle:"h2",children:"\u8ACB\u78BA\u8A8D\u60A8\u7684\u6A94\u6848"}),jsx(Text$1,{pb:4,color:"gray.500",children:"\u78BA\u8A8D\u5F8C\u5C07\u7121\u6CD5\u4FEE\u6539"}),jsx(Button$2,{w:"full",mb:2,variant:"solid",onClick:()=>nr("/finish"),children:"\u78BA\u8A8D"}),jsx(Button$2,{w:"full",variant:"outline",onClick:()=>er(),children:"\u8FD4\u56DE"})]})]}),jsx(ModalBox,{isOpen:dr,onClose:ir,children:jsx(Sign$1,{setContent:Cr,setSign:br})}),jsx(ModalBox,{isOpen:cr,onClose:sr,children:jsx(Content,{setContent:Cr})}),jsx(ModalBox,{isOpen:hr,onClose:pr,children:jsx(DateSelect,{setContent:Cr})})]})},scriptRel="modulepreload",assetsURL=function(St){return"/"+St},seen={},__vitePreload=function(er,tr,rr){if(!tr||tr.length===0)return er();const nr=document.getElementsByTagName("link");return Promise.all(tr.map(ar=>{if(ar=assetsURL(ar),ar in seen)return;seen[ar]=!0;const dr=ar.endsWith(".css"),or=dr?'[rel="stylesheet"]':"";if(!!rr)for(let fr=nr.length-1;fr>=0;fr--){const cr=nr[fr];if(cr.href===ar&&(!dr||cr.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ar}"]${or}`))return;const lr=document.createElement("link");if(lr.rel=dr?"stylesheet":scriptRel,dr||(lr.as="script",lr.crossOrigin=""),lr.href=ar,document.head.appendChild(lr),dr)return new Promise((fr,cr)=>{lr.addEventListener("load",fr),lr.addEventListener("error",()=>cr(new Error(`Unable to preload CSS for ${ar}`)))})})).then(()=>er())};function _typeof(St){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof(St)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(St,er){for(var tr=new u16(31),rr=0;rr<31;++rr)tr[rr]=er+=1<<St[rr-1];for(var nr=new u32(tr[30]),rr=1;rr<30;++rr)for(var ar=tr[rr];ar<tr[rr+1];++ar)nr[ar]=ar-tr[rr]<<5|rr;return[tr,nr]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(St,er,tr){for(var rr=St.length,nr=0,ar=new u16(er);nr<rr;++nr)++ar[St[nr]-1];var dr=new u16(er);for(nr=0;nr<er;++nr)dr[nr]=dr[nr-1]+ar[nr-1]<<1;var or;if(tr){or=new u16(1<<er);var ir=15-er;for(nr=0;nr<rr;++nr)if(St[nr])for(var lr=nr<<4|St[nr],fr=er-St[nr],cr=dr[St[nr]-1]++<<fr,ur=cr|(1<<fr)-1;cr<=ur;++cr)or[rev[cr]>>>ir]=lr}else for(or=new u16(rr),nr=0;nr<rr;++nr)or[nr]=rev[dr[St[nr]-1]++]>>>15-St[nr];return or},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(St){for(var er=St[0],tr=1;tr<St.length;++tr)St[tr]>er&&(er=St[tr]);return er},bits=function(St,er,tr){var rr=er/8>>0;return(St[rr]|St[rr+1]<<8)>>>(er&7)&tr},bits16=function(St,er){var tr=er/8>>0;return(St[tr]|St[tr+1]<<8|St[tr+2]<<16)>>>(er&7)},shft=function(St){return(St/8>>0)+(St&7&&1)},slc=function(St,er,tr){(er==null||er<0)&&(er=0),(tr==null||tr>St.length)&&(tr=St.length);var rr=new(St instanceof u16?u16:St instanceof u32?u32:u8)(tr-er);return rr.set(St.subarray(er,tr)),rr},inflt=function(St,er,tr){var rr=St.length,nr=!er||tr,ar=!tr||tr.i;tr||(tr={}),er||(er=new u8(rr*3));var dr=function(Fr){var Nr=er.length;if(Fr>Nr){var Br=new u8(Math.max(Nr*2,Fr));Br.set(er),er=Br}},or=tr.f||0,ir=tr.p||0,lr=tr.b||0,fr=tr.l,cr=tr.d,ur=tr.m,sr=tr.n,hr=rr*8;do{if(!fr){tr.f=or=bits(St,ir,1);var gr=bits(St,ir+1,3);if(ir+=3,gr)if(gr==1)fr=flrm,cr=fdrm,ur=9,sr=5;else if(gr==2){var yr=bits(St,ir,31)+257,br=bits(St,ir+10,15)+4,xr=yr+bits(St,ir+5,31)+1;ir+=14;for(var Cr=new u8(xr),kr=new u8(19),Pr=0;Pr<br;++Pr)kr[clim[Pr]]=bits(St,ir+Pr*3,7);ir+=br*3;var $r=max(kr),Kr=(1<<$r)-1;if(!ar&&ir+xr*($r+7)>hr)break;for(var Ir=hMap(kr,$r,1),Pr=0;Pr<xr;){var jr=Ir[bits(St,ir,Kr)];ir+=jr&15;var pr=jr>>>4;if(pr<16)Cr[Pr++]=pr;else{var Jr=0,zr=0;for(pr==16?(zr=3+bits(St,ir,3),ir+=2,Jr=Cr[Pr-1]):pr==17?(zr=3+bits(St,ir,7),ir+=3):pr==18&&(zr=11+bits(St,ir,127),ir+=7);zr--;)Cr[Pr++]=Jr}}var Hr=Cr.subarray(0,yr),Yr=Cr.subarray(yr);ur=max(Hr),sr=max(Yr),fr=hMap(Hr,ur,1),cr=hMap(Yr,sr,1)}else throw"invalid block type";else{var pr=shft(ir)+4,mr=St[pr-4]|St[pr-3]<<8,vr=pr+mr;if(vr>rr){if(ar)throw"unexpected EOF";break}nr&&dr(lr+mr),er.set(St.subarray(pr,vr),lr),tr.b=lr+=mr,tr.p=ir=vr*8;continue}if(ir>hr)throw"unexpected EOF"}nr&&dr(lr+131072);for(var nn=(1<<ur)-1,Qr=(1<<sr)-1,Or=ur+sr+18;ar||ir+Or<hr;){var Jr=fr[bits16(St,ir)&nn],Er=Jr>>>4;if(ir+=Jr&15,ir>hr)throw"unexpected EOF";if(!Jr)throw"invalid length/literal";if(Er<256)er[lr++]=Er;else if(Er==256){fr=null;break}else{var Dr=Er-254;if(Er>264){var Pr=Er-257,Tr=fleb[Pr];Dr=bits(St,ir,(1<<Tr)-1)+fl[Pr],ir+=Tr}var Lr=cr[bits16(St,ir)&Qr],_r=Lr>>>4;if(!Lr)throw"invalid distance";ir+=Lr&15;var Yr=fd[_r];if(_r>3){var Tr=fdeb[_r];Yr+=bits16(St,ir)&(1<<Tr)-1,ir+=Tr}if(ir>hr)throw"unexpected EOF";nr&&dr(lr+131072);for(var wr=lr+Dr;lr<wr;lr+=4)er[lr]=er[lr-Yr],er[lr+1]=er[lr+1-Yr],er[lr+2]=er[lr+2-Yr],er[lr+3]=er[lr+3-Yr];lr=wr}}tr.l=fr,tr.p=ir,tr.b=lr,fr&&(or=1,tr.m=ur,tr.d=cr,tr.n=sr)}while(!or);return lr==er.length?er:slc(er,0,lr)},wbits=function(St,er,tr){tr<<=er&7;var rr=er/8>>0;St[rr]|=tr,St[rr+1]|=tr>>>8},wbits16=function(St,er,tr){tr<<=er&7;var rr=er/8>>0;St[rr]|=tr,St[rr+1]|=tr>>>8,St[rr+2]|=tr>>>16},hTree=function(St,er){for(var tr=[],rr=0;rr<St.length;++rr)St[rr]&&tr.push({s:rr,f:St[rr]});var nr=tr.length,ar=tr.slice();if(!nr)return[new u8(0),0];if(nr==1){var dr=new u8(tr[0].s+1);return dr[tr[0].s]=1,[dr,1]}tr.sort(function(xr,Cr){return xr.f-Cr.f}),tr.push({s:-1,f:25001});var or=tr[0],ir=tr[1],lr=0,fr=1,cr=2;for(tr[0]={s:-1,f:or.f+ir.f,l:or,r:ir};fr!=nr-1;)or=tr[tr[lr].f<tr[cr].f?lr++:cr++],ir=tr[lr!=fr&&tr[lr].f<tr[cr].f?lr++:cr++],tr[fr++]={s:-1,f:or.f+ir.f,l:or,r:ir};for(var ur=ar[0].s,rr=1;rr<nr;++rr)ar[rr].s>ur&&(ur=ar[rr].s);var sr=new u16(ur+1),hr=ln(tr[fr-1],sr,0);if(hr>er){var rr=0,gr=0,pr=hr-er,mr=1<<pr;for(ar.sort(function(Cr,kr){return sr[kr.s]-sr[Cr.s]||Cr.f-kr.f});rr<nr;++rr){var vr=ar[rr].s;if(sr[vr]>er)gr+=mr-(1<<hr-sr[vr]),sr[vr]=er;else break}for(gr>>>=pr;gr>0;){var yr=ar[rr].s;sr[yr]<er?gr-=1<<er-sr[yr]++-1:++rr}for(;rr>=0&&gr;--rr){var br=ar[rr].s;sr[br]==er&&(--sr[br],++gr)}hr=er}return[new u8(sr),hr]},ln=function(St,er,tr){return St.s==-1?Math.max(ln(St.l,er,tr+1),ln(St.r,er,tr+1)):er[St.s]=tr},lc=function(St){for(var er=St.length;er&&!St[--er];);for(var tr=new u16(++er),rr=0,nr=St[0],ar=1,dr=function(ir){tr[rr++]=ir},or=1;or<=er;++or)if(St[or]==nr&&or!=er)++ar;else{if(!nr&&ar>2){for(;ar>138;ar-=138)dr(32754);ar>2&&(dr(ar>10?ar-11<<5|28690:ar-3<<5|12305),ar=0)}else if(ar>3){for(dr(nr),--ar;ar>6;ar-=6)dr(8304);ar>2&&(dr(ar-3<<5|8208),ar=0)}for(;ar--;)dr(nr);ar=1,nr=St[or]}return[tr.subarray(0,rr),er]},clen=function(St,er){for(var tr=0,rr=0;rr<er.length;++rr)tr+=St[rr]*er[rr];return tr},wfblk=function(St,er,tr){var rr=tr.length,nr=shft(er+2);St[nr]=rr&255,St[nr+1]=rr>>>8,St[nr+2]=St[nr]^255,St[nr+3]=St[nr+1]^255;for(var ar=0;ar<rr;++ar)St[nr+ar+4]=tr[ar];return(nr+4+rr)*8},wblk=function(St,er,tr,rr,nr,ar,dr,or,ir,lr,fr){wbits(er,fr++,tr),++nr[256];for(var cr=hTree(nr,15),ur=cr[0],sr=cr[1],hr=hTree(ar,15),gr=hr[0],pr=hr[1],mr=lc(ur),vr=mr[0],yr=mr[1],br=lc(gr),xr=br[0],Cr=br[1],kr=new u16(19),Pr=0;Pr<vr.length;++Pr)kr[vr[Pr]&31]++;for(var Pr=0;Pr<xr.length;++Pr)kr[xr[Pr]&31]++;for(var $r=hTree(kr,7),Kr=$r[0],Ir=$r[1],jr=19;jr>4&&!Kr[clim[jr-1]];--jr);var Jr=lr+5<<3,zr=clen(nr,flt)+clen(ar,fdt)+dr,Hr=clen(nr,ur)+clen(ar,gr)+dr+14+3*jr+clen(kr,Kr)+(2*kr[16]+3*kr[17]+7*kr[18]);if(Jr<=zr&&Jr<=Hr)return wfblk(er,fr,St.subarray(ir,ir+lr));var Yr,nn,Qr,Or;if(wbits(er,fr,1+(Hr<zr)),fr+=2,Hr<zr){Yr=hMap(ur,sr,0),nn=ur,Qr=hMap(gr,pr,0),Or=gr;var Er=hMap(Kr,Ir,0);wbits(er,fr,yr-257),wbits(er,fr+5,Cr-1),wbits(er,fr+10,jr-4),fr+=14;for(var Pr=0;Pr<jr;++Pr)wbits(er,fr+3*Pr,Kr[clim[Pr]]);fr+=3*jr;for(var Dr=[vr,xr],Tr=0;Tr<2;++Tr)for(var Lr=Dr[Tr],Pr=0;Pr<Lr.length;++Pr){var _r=Lr[Pr]&31;wbits(er,fr,Er[_r]),fr+=Kr[_r],_r>15&&(wbits(er,fr,Lr[Pr]>>>5&127),fr+=Lr[Pr]>>>12)}}else Yr=flm,nn=flt,Qr=fdm,Or=fdt;for(var Pr=0;Pr<or;++Pr)if(rr[Pr]>255){var _r=rr[Pr]>>>18&31;wbits16(er,fr,Yr[_r+257]),fr+=nn[_r+257],_r>7&&(wbits(er,fr,rr[Pr]>>>23&31),fr+=fleb[_r]);var wr=rr[Pr]&31;wbits16(er,fr,Qr[wr]),fr+=Or[wr],wr>3&&(wbits16(er,fr,rr[Pr]>>>5&8191),fr+=fdeb[wr])}else wbits16(er,fr,Yr[rr[Pr]]),fr+=nn[rr[Pr]];return wbits16(er,fr,Yr[256]),fr+nn[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(St,er,tr,rr,nr,ar){var dr=St.length,or=new u8(rr+dr+5*(1+Math.floor(dr/7e3))+nr),ir=or.subarray(rr,or.length-nr),lr=0;if(!er||dr<8)for(var fr=0;fr<=dr;fr+=65535){var cr=fr+65535;cr<dr?lr=wfblk(ir,lr,St.subarray(fr,cr)):(ir[fr]=ar,lr=wfblk(ir,lr,St.subarray(fr,dr)))}else{for(var ur=deo[er-1],sr=ur>>>13,hr=ur&8191,gr=(1<<tr)-1,pr=new u16(32768),mr=new u16(gr+1),vr=Math.ceil(tr/3),yr=2*vr,br=function(Xr){return(St[Xr]^St[Xr+1]<<vr^St[Xr+2]<<yr)&gr},xr=new u32(25e3),Cr=new u16(288),kr=new u16(32),Pr=0,$r=0,fr=0,Kr=0,Ir=0,jr=0;fr<dr;++fr){var Jr=br(fr),zr=fr&32767,Hr=mr[Jr];if(pr[zr]=Hr,mr[Jr]=zr,Ir<=fr){var Yr=dr-fr;if((Pr>7e3||Kr>24576)&&Yr>423){lr=wblk(St,ir,0,xr,Cr,kr,$r,Kr,jr,fr-jr,lr),Kr=Pr=$r=0,jr=fr;for(var nn=0;nn<286;++nn)Cr[nn]=0;for(var nn=0;nn<30;++nn)kr[nn]=0}var Qr=2,Or=0,Er=hr,Dr=zr-Hr&32767;if(Yr>2&&Jr==br(fr-Dr))for(var Tr=Math.min(sr,Yr)-1,Lr=Math.min(32767,fr),_r=Math.min(258,Yr);Dr<=Lr&&--Er&&zr!=Hr;){if(St[fr+Qr]==St[fr+Qr-Dr]){for(var wr=0;wr<_r&&St[fr+wr]==St[fr+wr-Dr];++wr);if(wr>Qr){if(Qr=wr,Or=Dr,wr>Tr)break;for(var Fr=Math.min(Dr,wr-2),Nr=0,nn=0;nn<Fr;++nn){var Br=fr-Dr+nn+32768&32767,Ur=pr[Br],Zr=Br-Ur+32768&32767;Zr>Nr&&(Nr=Zr,Hr=Br)}}}zr=Hr,Hr=pr[zr],Dr+=zr-Hr+32768&32767}if(Or){xr[Kr++]=268435456|revfl[Qr]<<18|revfd[Or];var an=revfl[Qr]&31,qr=revfd[Or]&31;$r+=fleb[an]+fdeb[qr],++Cr[257+an],++kr[qr],Ir=fr+Qr,++Pr}else xr[Kr++]=St[fr],++Cr[St[fr]]}}lr=wblk(St,ir,ar,xr,Cr,kr,$r,Kr,jr,fr-jr,lr),ar||(lr=wfblk(ir,lr,et$1))}return slc(or,0,rr+shft(lr)+nr)},adler=function(){var St=1,er=0;return{p:function(tr){for(var rr=St,nr=er,ar=tr.length,dr=0;dr!=ar;){for(var or=Math.min(dr+5552,ar);dr<or;++dr)rr+=tr[dr],nr+=rr;rr%=65521,nr%=65521}St=rr,er=nr},d:function(){return(St>>>8<<16|(er&255)<<8|er>>>8)+((St&255)<<23)*2}}},dopt=function(St,er,tr,rr,nr){return dflt(St,er.level==null?6:er.level,er.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(St.length)))*1.5):12+er.mem,tr,rr,!nr)},wbytes=function(St,er,tr){for(;tr;++er)St[er]=tr,tr>>>=8},zlh=function(St,er){var tr=er.level,rr=tr==0?0:tr<6?1:tr==9?3:2;St[0]=120,St[1]=rr<<6|(rr?32-2*rr:1)},zlv=function(St){if((St[0]&15)!=8||St[0]>>>4>7||(St[0]<<8|St[1])%31)throw"invalid zlib data";if(St[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(St,er){er===void 0&&(er={});var tr=adler();tr.p(St);var rr=dopt(St,er,2,4);return zlh(rr,er),wbytes(rr,rr.length-4,tr.d()),rr}function unzlibSync(St,er){return inflt((zlv(St),St.subarray(2,-4)),er)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(St){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(St){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(St))}};function o(St,er,tr){var rr=new XMLHttpRequest;rr.open("GET",St),rr.responseType="blob",rr.onload=function(){l(rr.response,er,tr)},rr.onerror=function(){a.error("could not download file")},rr.send()}function s(St){var er=new XMLHttpRequest;er.open("HEAD",St,!1);try{er.send()}catch{}return er.status>=200&&er.status<=299}function c(St){try{St.dispatchEvent(new MouseEvent("click"))}catch{var er=document.createEvent("MouseEvents");er.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),St.dispatchEvent(er)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(St,er,tr){var rr=n.URL||n.webkitURL,nr=document.createElement("a");er=er||St.name||"download",nr.download=er,nr.rel="noopener",typeof St=="string"?(nr.href=St,nr.origin!==location.origin?s(nr.href)?o(St,er,tr):c(nr,nr.target="_blank"):c(nr)):(nr.href=rr.createObjectURL(St),setTimeout(function(){rr.revokeObjectURL(nr.href)},4e4),setTimeout(function(){c(nr)},0))}:"msSaveOrOpenBlob"in navigator?function(St,er,tr){if(er=er||St.name||"download",typeof St=="string")if(s(St))o(St,er,tr);else{var rr=document.createElement("a");rr.href=St,rr.target="_blank",setTimeout(function(){c(rr)})}else navigator.msSaveOrOpenBlob(function(nr,ar){return ar===void 0?ar={autoBom:!1}:_typeof(ar)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),ar={autoBom:!ar}),ar.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(nr.type)?new Blob([String.fromCharCode(65279),nr],{type:nr.type}):nr}(St,tr),er)}:function(St,er,tr,rr){if((rr=rr||open("","_blank"))&&(rr.document.title=rr.document.body.innerText="downloading..."),typeof St=="string")return o(St,er,tr);var nr=St.type==="application/octet-stream",ar=/constructor/i.test(n.HTMLElement)||n.safari,dr=/CriOS\/[\d]+/.test(navigator.userAgent);if((dr||nr&&ar)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var or=new FileReader;or.onloadend=function(){var fr=or.result;fr=dr?fr:fr.replace(/^data:[^;]*;/,"data:attachment/file;"),rr?rr.location.href=fr:location=fr,rr=null},or.readAsDataURL(St)}else{var ir=n.URL||n.webkitURL,lr=ir.createObjectURL(St);rr?rr.location=lr:location.href=lr,rr=null,setTimeout(function(){ir.revokeObjectURL(lr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(St){var er;St=St||"",this.ok=!1,St.charAt(0)=="#"&&(St=St.substr(1,6)),St={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[St=(St=St.replace(/ /g,"")).toLowerCase()]||St;for(var tr=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(or){return[parseInt(or[1]),parseInt(or[2]),parseInt(or[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(or){return[parseInt(or[1],16),parseInt(or[2],16),parseInt(or[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(or){return[parseInt(or[1]+or[1],16),parseInt(or[2]+or[2],16),parseInt(or[3]+or[3],16)]}}],rr=0;rr<tr.length;rr++){var nr=tr[rr].re,ar=tr[rr].process,dr=nr.exec(St);dr&&(er=ar(dr),this.r=er[0],this.g=er[1],this.b=er[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var or=this.r.toString(16),ir=this.g.toString(16),lr=this.b.toString(16);return or.length==1&&(or="0"+or),ir.length==1&&(ir="0"+ir),lr.length==1&&(lr="0"+lr),"#"+or+ir+lr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(St,er){var tr=St[0],rr=St[1],nr=St[2],ar=St[3];tr=g(tr,rr,nr,ar,er[0],7,-680876936),ar=g(ar,tr,rr,nr,er[1],12,-389564586),nr=g(nr,ar,tr,rr,er[2],17,606105819),rr=g(rr,nr,ar,tr,er[3],22,-1044525330),tr=g(tr,rr,nr,ar,er[4],7,-176418897),ar=g(ar,tr,rr,nr,er[5],12,1200080426),nr=g(nr,ar,tr,rr,er[6],17,-1473231341),rr=g(rr,nr,ar,tr,er[7],22,-45705983),tr=g(tr,rr,nr,ar,er[8],7,1770035416),ar=g(ar,tr,rr,nr,er[9],12,-1958414417),nr=g(nr,ar,tr,rr,er[10],17,-42063),rr=g(rr,nr,ar,tr,er[11],22,-1990404162),tr=g(tr,rr,nr,ar,er[12],7,1804603682),ar=g(ar,tr,rr,nr,er[13],12,-40341101),nr=g(nr,ar,tr,rr,er[14],17,-1502002290),tr=m(tr,rr=g(rr,nr,ar,tr,er[15],22,1236535329),nr,ar,er[1],5,-165796510),ar=m(ar,tr,rr,nr,er[6],9,-1069501632),nr=m(nr,ar,tr,rr,er[11],14,643717713),rr=m(rr,nr,ar,tr,er[0],20,-373897302),tr=m(tr,rr,nr,ar,er[5],5,-701558691),ar=m(ar,tr,rr,nr,er[10],9,38016083),nr=m(nr,ar,tr,rr,er[15],14,-660478335),rr=m(rr,nr,ar,tr,er[4],20,-405537848),tr=m(tr,rr,nr,ar,er[9],5,568446438),ar=m(ar,tr,rr,nr,er[14],9,-1019803690),nr=m(nr,ar,tr,rr,er[3],14,-187363961),rr=m(rr,nr,ar,tr,er[8],20,1163531501),tr=m(tr,rr,nr,ar,er[13],5,-1444681467),ar=m(ar,tr,rr,nr,er[2],9,-51403784),nr=m(nr,ar,tr,rr,er[7],14,1735328473),tr=v(tr,rr=m(rr,nr,ar,tr,er[12],20,-1926607734),nr,ar,er[5],4,-378558),ar=v(ar,tr,rr,nr,er[8],11,-2022574463),nr=v(nr,ar,tr,rr,er[11],16,1839030562),rr=v(rr,nr,ar,tr,er[14],23,-35309556),tr=v(tr,rr,nr,ar,er[1],4,-1530992060),ar=v(ar,tr,rr,nr,er[4],11,1272893353),nr=v(nr,ar,tr,rr,er[7],16,-155497632),rr=v(rr,nr,ar,tr,er[10],23,-1094730640),tr=v(tr,rr,nr,ar,er[13],4,681279174),ar=v(ar,tr,rr,nr,er[0],11,-358537222),nr=v(nr,ar,tr,rr,er[3],16,-722521979),rr=v(rr,nr,ar,tr,er[6],23,76029189),tr=v(tr,rr,nr,ar,er[9],4,-640364487),ar=v(ar,tr,rr,nr,er[12],11,-421815835),nr=v(nr,ar,tr,rr,er[15],16,530742520),tr=b(tr,rr=v(rr,nr,ar,tr,er[2],23,-995338651),nr,ar,er[0],6,-198630844),ar=b(ar,tr,rr,nr,er[7],10,1126891415),nr=b(nr,ar,tr,rr,er[14],15,-1416354905),rr=b(rr,nr,ar,tr,er[5],21,-57434055),tr=b(tr,rr,nr,ar,er[12],6,1700485571),ar=b(ar,tr,rr,nr,er[3],10,-1894986606),nr=b(nr,ar,tr,rr,er[10],15,-1051523),rr=b(rr,nr,ar,tr,er[1],21,-2054922799),tr=b(tr,rr,nr,ar,er[8],6,1873313359),ar=b(ar,tr,rr,nr,er[15],10,-30611744),nr=b(nr,ar,tr,rr,er[6],15,-1560198380),rr=b(rr,nr,ar,tr,er[13],21,1309151649),tr=b(tr,rr,nr,ar,er[4],6,-145523070),ar=b(ar,tr,rr,nr,er[11],10,-1120210379),nr=b(nr,ar,tr,rr,er[2],15,718787259),rr=b(rr,nr,ar,tr,er[9],21,-343485551),St[0]=_(tr,St[0]),St[1]=_(rr,St[1]),St[2]=_(nr,St[2]),St[3]=_(ar,St[3])}function p(St,er,tr,rr,nr,ar){return er=_(_(er,St),_(rr,ar)),_(er<<nr|er>>>32-nr,tr)}function g(St,er,tr,rr,nr,ar,dr){return p(er&tr|~er&rr,St,er,nr,ar,dr)}function m(St,er,tr,rr,nr,ar,dr){return p(er&rr|tr&~rr,St,er,nr,ar,dr)}function v(St,er,tr,rr,nr,ar,dr){return p(er^tr^rr,St,er,nr,ar,dr)}function b(St,er,tr,rr,nr,ar,dr){return p(tr^(er|~rr),St,er,nr,ar,dr)}function y(St){var er,tr=St.length,rr=[1732584193,-271733879,-1732584194,271733878];for(er=64;er<=St.length;er+=64)d(rr,w(St.substring(er-64,er)));St=St.substring(er-64);var nr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(er=0;er<St.length;er++)nr[er>>2]|=St.charCodeAt(er)<<(er%4<<3);if(nr[er>>2]|=128<<(er%4<<3),er>55)for(d(rr,nr),er=0;er<16;er++)nr[er]=0;return nr[14]=8*tr,d(rr,nr),rr}function w(St){var er,tr=[];for(er=0;er<64;er+=4)tr[er>>2]=St.charCodeAt(er)+(St.charCodeAt(er+1)<<8)+(St.charCodeAt(er+2)<<16)+(St.charCodeAt(er+3)<<24);return tr}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(St){for(var er="",tr=0;tr<4;tr++)er+=N[St>>8*tr+4&15]+N[St>>8*tr&15];return er}function A(St){return String.fromCharCode((255&St)>>0,(65280&St)>>8,(16711680&St)>>16,(4278190080&St)>>24)}function x(St){return y(St).map(A).join("")}var S=function(St){for(var er=0;er<St.length;er++)St[er]=L(St[er]);return St.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(St,er){if(S){var tr=(65535&St)+(65535&er);return(St>>16)+(er>>16)+(tr>>16)<<16|65535&tr}return St+er&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(St,er){var tr,rr,nr,ar;if(St!==tr){for(var dr=(nr=St,ar=1+(256/St.length>>0),new Array(ar+1).join(nr)),or=[],ir=0;ir<256;ir++)or[ir]=ir;var lr=0;for(ir=0;ir<256;ir++){var fr=or[ir];lr=(lr+fr+dr.charCodeAt(ir))%256,or[ir]=or[lr],or[lr]=fr}tr=St,rr=or}else or=rr;var cr=er.length,ur=0,sr=0,hr="";for(ir=0;ir<cr;ir++)sr=(sr+(fr=or[ur=(ur+1)%256]))%256,or[ur]=or[sr],or[sr]=fr,dr=or[(or[ur]+or[sr])%256],hr+=String.fromCharCode(er.charCodeAt(ir)^dr);return hr}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(St,er,tr,rr){this.v=1,this.r=2;var nr=192;St.forEach(function(or){if(k.perm!==void 0)throw new Error("Invalid permission: "+or);nr+=k[or]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var ar=(er+this.padding).substr(0,32),dr=(tr+this.padding).substr(0,32);this.O=this.processOwnerPassword(ar,dr),this.P=-(1+(255^nr)),this.encryptionKey=x(ar+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(rr)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(St){if(/[^\u0000-\u00ff]/.test(St))throw new Error("Invalid PDF Name Object: "+St+", Only accept ASCII characters.");for(var er="",tr=St.length,rr=0;rr<tr;rr++){var nr=St.charCodeAt(rr);nr<33||nr===35||nr===37||nr===40||nr===41||nr===47||nr===60||nr===62||nr===91||nr===93||nr===123||nr===125||nr>126?er+="#"+("0"+nr.toString(16)).slice(-2):er+=St[rr]}return er}function C(St){if(_typeof(St)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var er={};this.subscribe=function(tr,rr,nr){if(nr=nr||!1,typeof tr!="string"||typeof rr!="function"||typeof nr!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");er.hasOwnProperty(tr)||(er[tr]={});var ar=Math.random().toString(35);return er[tr][ar]=[rr,!!nr],ar},this.unsubscribe=function(tr){for(var rr in er)if(er[rr][tr])return delete er[rr][tr],Object.keys(er[rr]).length===0&&delete er[rr],!0;return!1},this.publish=function(tr){if(er.hasOwnProperty(tr)){var rr=Array.prototype.slice.call(arguments,1),nr=[];for(var ar in er[tr]){var dr=er[tr][ar];try{dr[0].apply(St,rr)}catch(or){n.console&&a.error("jsPDF PubSub Error",or.message,or)}dr[1]&&nr.push(ar)}nr.length&&nr.forEach(this.unsubscribe)}},this.getTopics=function(){return er}}function j(St){if(!(this instanceof j))return new j(St);var er="opacity,stroke-opacity".split(",");for(var tr in St)St.hasOwnProperty(tr)&&er.indexOf(tr)>=0&&(this[tr]=St[tr]);this.id="",this.objectNumber=-1}function O(St,er){this.gState=St,this.matrix=er,this.id="",this.objectNumber=-1}function B(St,er,tr,rr,nr){if(!(this instanceof B))return new B(St,er,tr,rr,nr);this.type=St==="axial"?2:3,this.coords=er,this.colors=tr,O.call(this,rr,nr)}function M(St,er,tr,rr,nr){if(!(this instanceof M))return new M(St,er,tr,rr,nr);this.boundingBox=St,this.xStep=er,this.yStep=tr,this.stream="",this.cloneIndex=0,O.call(this,rr,nr)}function E(St){var er,tr=typeof arguments[0]=="string"?arguments[0]:"p",rr=arguments[1],nr=arguments[2],ar=arguments[3],dr=[],or=1,ir=16,lr="S",fr=null;_typeof(St=St||{})==="object"&&(tr=St.orientation,rr=St.unit||rr,nr=St.format||nr,ar=St.compress||St.compressPdf||ar,(fr=St.encryption||null)!==null&&(fr.userPassword=fr.userPassword||"",fr.ownerPassword=fr.ownerPassword||"",fr.userPermissions=fr.userPermissions||[]),or=typeof St.userUnit=="number"?Math.abs(St.userUnit):1,St.precision!==void 0&&(er=St.precision),St.floatPrecision!==void 0&&(ir=St.floatPrecision),lr=St.defaultPathOperation||"S"),dr=St.filters||(ar===!0?["FlateEncode"]:dr),rr=rr||"mm",tr=(""+(tr||"P")).toLowerCase();var cr=St.putOnlyUsedFonts||!1,ur={},sr={internal:{},__private__:{}};sr.__private__.PubSub=C;var hr="1.3",gr=sr.__private__.getPdfVersion=function(){return hr};sr.__private__.setPdfVersion=function(Mr){hr=Mr};var pr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};sr.__private__.getPageFormats=function(){return pr};var mr=sr.__private__.getPageFormat=function(Mr){return pr[Mr]};nr=nr||"a4";var vr={COMPAT:"compat",ADVANCED:"advanced"},yr=vr.COMPAT;function br(){this.saveGraphicsState(),Wr(new na(zn,0,0,-zn,0,Ll()*zn).toString()+" cm"),this.setFontSize(this.getFontSize()/zn),lr="n",yr=vr.ADVANCED}function xr(){this.restoreGraphicsState(),lr="S",yr=vr.COMPAT}var Cr=sr.__private__.combineFontStyleAndFontWeight=function(Mr,rn){if(Mr=="bold"&&rn=="normal"||Mr=="bold"&&rn==400||Mr=="normal"&&rn=="italic"||Mr=="bold"&&rn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return rn&&(Mr=rn==400||rn==="normal"?Mr==="italic"?"italic":"normal":rn!=700&&rn!=="bold"||Mr!=="normal"?(rn==700?"bold":rn)+""+Mr:"bold"),Mr};sr.advancedAPI=function(Mr){var rn=yr===vr.COMPAT;return rn&&br.call(this),typeof Mr!="function"||(Mr(this),rn&&xr.call(this)),this},sr.compatAPI=function(Mr){var rn=yr===vr.ADVANCED;return rn&&xr.call(this),typeof Mr!="function"||(Mr(this),rn&&br.call(this)),this},sr.isAdvancedAPI=function(){return yr===vr.ADVANCED};var kr,Pr=function(Mr){if(yr!==vr.ADVANCED)throw new Error(Mr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$r=sr.roundToPrecision=sr.__private__.roundToPrecision=function(Mr,rn){var mn=er||rn;if(isNaN(Mr)||isNaN(mn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Mr.toFixed(mn).replace(/0+$/,"")};kr=sr.hpf=sr.__private__.hpf=typeof ir=="number"?function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.hpf");return $r(Mr,ir)}:ir==="smart"?function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.hpf");return $r(Mr,Mr>-1&&Mr<1?16:5)}:function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.hpf");return $r(Mr,16)};var Kr=sr.f2=sr.__private__.f2=function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.f2");return $r(Mr,2)},Ir=sr.__private__.f3=function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.f3");return $r(Mr,3)},jr=sr.scale=sr.__private__.scale=function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.scale");return yr===vr.COMPAT?Mr*zn:yr===vr.ADVANCED?Mr:void 0},Jr=function(Mr){return yr===vr.COMPAT?Ll()-Mr:yr===vr.ADVANCED?Mr:void 0},zr=function(Mr){return jr(Jr(Mr))};sr.__private__.setPrecision=sr.setPrecision=function(Mr){typeof parseInt(Mr,10)=="number"&&(er=parseInt(Mr,10))};var Hr,Yr="00000000000000000000000000000000",nn=sr.__private__.getFileId=function(){return Yr},Qr=sr.__private__.setFileId=function(Mr){return Yr=Mr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Mr)?Mr.toUpperCase():Yr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),fr!==null&&(zo=new I(fr.userPermissions,fr.userPassword,fr.ownerPassword,Yr)),Yr};sr.setFileId=function(Mr){return Qr(Mr),this},sr.getFileId=function(){return nn()};var Or=sr.__private__.convertDateToPDFDate=function(Mr){var rn=Mr.getTimezoneOffset(),mn=rn<0?"+":"-",Sn=Math.floor(Math.abs(rn/60)),Pn=Math.abs(rn%60),Nn=[mn,_r(Sn),"'",_r(Pn),"'"].join("");return["D:",Mr.getFullYear(),_r(Mr.getMonth()+1),_r(Mr.getDate()),_r(Mr.getHours()),_r(Mr.getMinutes()),_r(Mr.getSeconds()),Nn].join("")},Er=sr.__private__.convertPDFDateToDate=function(Mr){var rn=parseInt(Mr.substr(2,4),10),mn=parseInt(Mr.substr(6,2),10)-1,Sn=parseInt(Mr.substr(8,2),10),Pn=parseInt(Mr.substr(10,2),10),Nn=parseInt(Mr.substr(12,2),10),Wn=parseInt(Mr.substr(14,2),10);return new Date(rn,mn,Sn,Pn,Nn,Wn,0)},Dr=sr.__private__.setCreationDate=function(Mr){var rn;if(Mr===void 0&&(Mr=new Date),Mr instanceof Date)rn=Or(Mr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Mr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");rn=Mr}return Hr=rn},Tr=sr.__private__.getCreationDate=function(Mr){var rn=Hr;return Mr==="jsDate"&&(rn=Er(Hr)),rn};sr.setCreationDate=function(Mr){return Dr(Mr),this},sr.getCreationDate=function(Mr){return Tr(Mr)};var Lr,_r=sr.__private__.padd2=function(Mr){return("0"+parseInt(Mr)).slice(-2)},wr=sr.__private__.padd2Hex=function(Mr){return("00"+(Mr=Mr.toString())).substr(Mr.length)},Fr=0,Nr=[],Br=[],Ur=0,Zr=[],an=[],qr=!1,Gr=Br,Xr=function(){Fr=0,Ur=0,Br=[],Nr=[],Zr=[],es=ko(),ts=ko()};sr.__private__.setCustomOutputDestination=function(Mr){qr=!0,Gr=Mr};var en=function(Mr){qr||(Gr=Mr)};sr.__private__.resetCustomOutputDestination=function(){qr=!1,Gr=Br};var Wr=sr.__private__.out=function(Mr){return Mr=Mr.toString(),Ur+=Mr.length+1,Gr.push(Mr),Gr},cn=sr.__private__.write=function(Mr){return Wr(arguments.length===1?Mr.toString():Array.prototype.join.call(arguments," "))},fn=sr.__private__.getArrayBuffer=function(Mr){for(var rn=Mr.length,mn=new ArrayBuffer(rn),Sn=new Uint8Array(mn);rn--;)Sn[rn]=Mr.charCodeAt(rn);return mn},gn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];sr.__private__.getStandardFonts=function(){return gn};var wn=St.fontSize||16;sr.__private__.setFontSize=sr.setFontSize=function(Mr){return wn=yr===vr.ADVANCED?Mr/zn:Mr,this};var yn,vn=sr.__private__.getFontSize=sr.getFontSize=function(){return yr===vr.COMPAT?wn:wn*zn},Ln=St.R2L||!1;sr.__private__.setR2L=sr.setR2L=function(Mr){return Ln=Mr,this},sr.__private__.getR2L=sr.getR2L=function(){return Ln};var bn,Mn=sr.__private__.setZoomMode=function(Mr){var rn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Mr))yn=Mr;else if(isNaN(Mr)){if(rn.indexOf(Mr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Mr+'" is not recognized.');yn=Mr}else yn=parseInt(Mr,10)};sr.__private__.getZoomMode=function(){return yn};var Un,Hn=sr.__private__.setPageMode=function(Mr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Mr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Mr+'" is not recognized.');bn=Mr};sr.__private__.getPageMode=function(){return bn};var Yn=sr.__private__.setLayoutMode=function(Mr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Mr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Mr+'" is not recognized.');Un=Mr};sr.__private__.getLayoutMode=function(){return Un},sr.__private__.setDisplayMode=sr.setDisplayMode=function(Mr,rn,mn){return Mn(Mr),Yn(rn),Hn(mn),this};var Gn={title:"",subject:"",author:"",keywords:"",creator:""};sr.__private__.getDocumentProperty=function(Mr){if(Object.keys(Gn).indexOf(Mr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Gn[Mr]},sr.__private__.getDocumentProperties=function(){return Gn},sr.__private__.setDocumentProperties=sr.setProperties=sr.setDocumentProperties=function(Mr){for(var rn in Gn)Gn.hasOwnProperty(rn)&&Mr[rn]&&(Gn[rn]=Mr[rn]);return this},sr.__private__.setDocumentProperty=function(Mr,rn){if(Object.keys(Gn).indexOf(Mr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Gn[Mr]=rn};var Qn,zn,fo,no,Mo,ho={},so={},Rn=[],xn={},En={},qn={},ba={},oo=null,eo=0,ga=[],co=new C(sr),Zo=St.hotfixes||[],go={},qo={},jo=[],na=function Mr(rn,mn,Sn,Pn,Nn,Wn){if(!(this instanceof Mr))return new Mr(rn,mn,Sn,Pn,Nn,Wn);isNaN(rn)&&(rn=1),isNaN(mn)&&(mn=0),isNaN(Sn)&&(Sn=0),isNaN(Pn)&&(Pn=1),isNaN(Nn)&&(Nn=0),isNaN(Wn)&&(Wn=0),this._matrix=[rn,mn,Sn,Pn,Nn,Wn]};Object.defineProperty(na.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Mr){this._matrix[0]=Mr}}),Object.defineProperty(na.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Mr){this._matrix[1]=Mr}}),Object.defineProperty(na.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Mr){this._matrix[2]=Mr}}),Object.defineProperty(na.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Mr){this._matrix[3]=Mr}}),Object.defineProperty(na.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Mr){this._matrix[4]=Mr}}),Object.defineProperty(na.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Mr){this._matrix[5]=Mr}}),Object.defineProperty(na.prototype,"a",{get:function(){return this._matrix[0]},set:function(Mr){this._matrix[0]=Mr}}),Object.defineProperty(na.prototype,"b",{get:function(){return this._matrix[1]},set:function(Mr){this._matrix[1]=Mr}}),Object.defineProperty(na.prototype,"c",{get:function(){return this._matrix[2]},set:function(Mr){this._matrix[2]=Mr}}),Object.defineProperty(na.prototype,"d",{get:function(){return this._matrix[3]},set:function(Mr){this._matrix[3]=Mr}}),Object.defineProperty(na.prototype,"e",{get:function(){return this._matrix[4]},set:function(Mr){this._matrix[4]=Mr}}),Object.defineProperty(na.prototype,"f",{get:function(){return this._matrix[5]},set:function(Mr){this._matrix[5]=Mr}}),Object.defineProperty(na.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(na.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(na.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(na.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),na.prototype.join=function(Mr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(kr).join(Mr)},na.prototype.multiply=function(Mr){var rn=Mr.sx*this.sx+Mr.shy*this.shx,mn=Mr.sx*this.shy+Mr.shy*this.sy,Sn=Mr.shx*this.sx+Mr.sy*this.shx,Pn=Mr.shx*this.shy+Mr.sy*this.sy,Nn=Mr.tx*this.sx+Mr.ty*this.shx+this.tx,Wn=Mr.tx*this.shy+Mr.ty*this.sy+this.ty;return new na(rn,mn,Sn,Pn,Nn,Wn)},na.prototype.decompose=function(){var Mr=this.sx,rn=this.shy,mn=this.shx,Sn=this.sy,Pn=this.tx,Nn=this.ty,Wn=Math.sqrt(Mr*Mr+rn*rn),Jn=(Mr/=Wn)*mn+(rn/=Wn)*Sn;mn-=Mr*Jn,Sn-=rn*Jn;var xa=Math.sqrt(mn*mn+Sn*Sn);return Jn/=xa,Mr*(Sn/=xa)<rn*(mn/=xa)&&(Mr=-Mr,rn=-rn,Jn=-Jn,Wn=-Wn),{scale:new na(Wn,0,0,xa,0,0),translate:new na(1,0,0,1,Pn,Nn),rotate:new na(Mr,rn,-rn,Mr,0,0),skew:new na(1,0,Jn,1,0,0)}},na.prototype.toString=function(Mr){return this.join(" ")},na.prototype.inversed=function(){var Mr=this.sx,rn=this.shy,mn=this.shx,Sn=this.sy,Pn=this.tx,Nn=this.ty,Wn=1/(Mr*Sn-rn*mn),Jn=Sn*Wn,xa=-rn*Wn,io=-mn*Wn,lo=Mr*Wn;return new na(Jn,xa,io,lo,-Jn*Pn-io*Nn,-xa*Pn-lo*Nn)},na.prototype.applyToPoint=function(Mr){var rn=Mr.x*this.sx+Mr.y*this.shx+this.tx,mn=Mr.x*this.shy+Mr.y*this.sy+this.ty;return new _u(rn,mn)},na.prototype.applyToRectangle=function(Mr){var rn=this.applyToPoint(Mr),mn=this.applyToPoint(new _u(Mr.x+Mr.w,Mr.y+Mr.h));return new Qu(rn.x,rn.y,mn.x-rn.x,mn.y-rn.y)},na.prototype.clone=function(){var Mr=this.sx,rn=this.shy,mn=this.shx,Sn=this.sy,Pn=this.tx,Nn=this.ty;return new na(Mr,rn,mn,Sn,Pn,Nn)},sr.Matrix=na;var bo=sr.matrixMult=function(Mr,rn){return rn.multiply(Mr)},Jo=new na(1,0,0,1,0,0);sr.unitMatrix=sr.identityMatrix=Jo;var Bo=function(Mr,rn){if(!En[Mr]){var mn=(rn instanceof B?"Sh":"P")+(Object.keys(xn).length+1).toString(10);rn.id=mn,En[Mr]=mn,xn[mn]=rn,co.publish("addPattern",rn)}};sr.ShadingPattern=B,sr.TilingPattern=M,sr.addShadingPattern=function(Mr,rn){return Pr("addShadingPattern()"),Bo(Mr,rn),this},sr.beginTilingPattern=function(Mr){Pr("beginTilingPattern()"),vp(Mr.boundingBox[0],Mr.boundingBox[1],Mr.boundingBox[2]-Mr.boundingBox[0],Mr.boundingBox[3]-Mr.boundingBox[1],Mr.matrix)},sr.endTilingPattern=function(Mr,rn){Pr("endTilingPattern()"),rn.stream=an[Lr].join(`
`),Bo(Mr,rn),co.publish("endTilingPattern",rn),jo.pop().restore()};var Fo=sr.__private__.newObject=function(){var Mr=ko();return Eo(Mr,!0),Mr},ko=sr.__private__.newObjectDeferred=function(){return Fr++,Nr[Fr]=function(){return Ur},Fr},Eo=function(Mr,rn){return rn=typeof rn=="boolean"&&rn,Nr[Mr]=Ur,rn&&Wr(Mr+" 0 obj"),Mr},Ro=sr.__private__.newAdditionalObject=function(){var Mr={objId:ko(),content:""};return Zr.push(Mr),Mr},es=ko(),ts=ko(),gs=sr.__private__.decodeColorString=function(Mr){var rn=Mr.split(" ");if(rn.length!==2||rn[1]!=="g"&&rn[1]!=="G")rn.length===5&&(rn[4]==="k"||rn[4]==="K")&&(rn=[(1-rn[0])*(1-rn[3]),(1-rn[1])*(1-rn[3]),(1-rn[2])*(1-rn[3]),"r"]);else{var mn=parseFloat(rn[0]);rn=[mn,mn,mn,"r"]}for(var Sn="#",Pn=0;Pn<3;Pn++)Sn+=("0"+Math.floor(255*parseFloat(rn[Pn])).toString(16)).slice(-2);return Sn},ms=sr.__private__.encodeColorString=function(Mr){var rn;typeof Mr=="string"&&(Mr={ch1:Mr});var mn=Mr.ch1,Sn=Mr.ch2,Pn=Mr.ch3,Nn=Mr.ch4,Wn=Mr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof mn=="string"&&mn.charAt(0)!=="#"){var Jn=new f(mn);if(Jn.ok)mn=Jn.toHex();else if(!/^\d*\.?\d*$/.test(mn))throw new Error('Invalid color "'+mn+'" passed to jsPDF.encodeColorString.')}if(typeof mn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(mn)&&(mn="#"+mn[1]+mn[1]+mn[2]+mn[2]+mn[3]+mn[3]),typeof mn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(mn)){var xa=parseInt(mn.substr(1),16);mn=xa>>16&255,Sn=xa>>8&255,Pn=255&xa}if(Sn===void 0||Nn===void 0&&mn===Sn&&Sn===Pn)if(typeof mn=="string")rn=mn+" "+Wn[0];else switch(Mr.precision){case 2:rn=Kr(mn/255)+" "+Wn[0];break;case 3:default:rn=Ir(mn/255)+" "+Wn[0]}else if(Nn===void 0||_typeof(Nn)==="object"){if(Nn&&!isNaN(Nn.a)&&Nn.a===0)return rn=["1.","1.","1.",Wn[1]].join(" ");if(typeof mn=="string")rn=[mn,Sn,Pn,Wn[1]].join(" ");else switch(Mr.precision){case 2:rn=[Kr(mn/255),Kr(Sn/255),Kr(Pn/255),Wn[1]].join(" ");break;default:case 3:rn=[Ir(mn/255),Ir(Sn/255),Ir(Pn/255),Wn[1]].join(" ")}}else if(typeof mn=="string")rn=[mn,Sn,Pn,Nn,Wn[2]].join(" ");else switch(Mr.precision){case 2:rn=[Kr(mn),Kr(Sn),Kr(Pn),Kr(Nn),Wn[2]].join(" ");break;case 3:default:rn=[Ir(mn),Ir(Sn),Ir(Pn),Ir(Nn),Wn[2]].join(" ")}return rn},rs=sr.__private__.getFilters=function(){return dr},cs=sr.__private__.putStream=function(Mr){var rn=(Mr=Mr||{}).data||"",mn=Mr.filters||rs(),Sn=Mr.alreadyAppliedFilters||[],Pn=Mr.addLength1||!1,Nn=rn.length,Wn=Mr.objectId,Jn=function(ss){return ss};if(fr!==null&&Wn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");fr!==null&&(Jn=zo.encryptor(Wn,0));var xa={};mn===!0&&(mn=["FlateEncode"]);var io=Mr.additionalKeyValues||[],lo=(xa=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(rn,mn):{data:rn,reverseChain:[]}).reverseChain+(Array.isArray(Sn)?Sn.join(" "):Sn.toString());if(xa.data.length!==0&&(io.push({key:"Length",value:xa.data.length}),Pn===!0&&io.push({key:"Length1",value:Nn})),lo.length!=0)if(lo.split("/").length-1==1)io.push({key:"Filter",value:lo});else{io.push({key:"Filter",value:"["+lo+"]"});for(var mo=0;mo<io.length;mo+=1)if(io[mo].key==="DecodeParms"){for(var Lo=[],No=0;No<xa.reverseChain.split("/").length-1;No+=1)Lo.push("null");Lo.push(io[mo].value),io[mo].value="["+Lo.join(" ")+"]"}}Wr("<<");for(var Uo=0;Uo<io.length;Uo++)Wr("/"+io[Uo].key+" "+io[Uo].value);Wr(">>"),xa.data.length!==0&&(Wr("stream"),Wr(Jn(xa.data)),Wr("endstream"))},ws=sr.__private__.putPage=function(Mr){var rn=Mr.number,mn=Mr.data,Sn=Mr.objId,Pn=Mr.contentsObjId;Eo(Sn,!0),Wr("<</Type /Page"),Wr("/Parent "+Mr.rootDictionaryObjId+" 0 R"),Wr("/Resources "+Mr.resourceDictionaryObjId+" 0 R"),Wr("/MediaBox ["+parseFloat(kr(Mr.mediaBox.bottomLeftX))+" "+parseFloat(kr(Mr.mediaBox.bottomLeftY))+" "+kr(Mr.mediaBox.topRightX)+" "+kr(Mr.mediaBox.topRightY)+"]"),Mr.cropBox!==null&&Wr("/CropBox ["+kr(Mr.cropBox.bottomLeftX)+" "+kr(Mr.cropBox.bottomLeftY)+" "+kr(Mr.cropBox.topRightX)+" "+kr(Mr.cropBox.topRightY)+"]"),Mr.bleedBox!==null&&Wr("/BleedBox ["+kr(Mr.bleedBox.bottomLeftX)+" "+kr(Mr.bleedBox.bottomLeftY)+" "+kr(Mr.bleedBox.topRightX)+" "+kr(Mr.bleedBox.topRightY)+"]"),Mr.trimBox!==null&&Wr("/TrimBox ["+kr(Mr.trimBox.bottomLeftX)+" "+kr(Mr.trimBox.bottomLeftY)+" "+kr(Mr.trimBox.topRightX)+" "+kr(Mr.trimBox.topRightY)+"]"),Mr.artBox!==null&&Wr("/ArtBox ["+kr(Mr.artBox.bottomLeftX)+" "+kr(Mr.artBox.bottomLeftY)+" "+kr(Mr.artBox.topRightX)+" "+kr(Mr.artBox.topRightY)+"]"),typeof Mr.userUnit=="number"&&Mr.userUnit!==1&&Wr("/UserUnit "+Mr.userUnit),co.publish("putPage",{objId:Sn,pageContext:ga[rn],pageNumber:rn,page:mn}),Wr("/Contents "+Pn+" 0 R"),Wr(">>"),Wr("endobj");var Nn=mn.join(`
`);return yr===vr.ADVANCED&&(Nn+=`
Q`),Eo(Pn,!0),cs({data:Nn,filters:rs(),objectId:Pn}),Wr("endobj"),Sn},Us=sr.__private__.putPages=function(){var Mr,rn,mn=[];for(Mr=1;Mr<=eo;Mr++)ga[Mr].objId=ko(),ga[Mr].contentsObjId=ko();for(Mr=1;Mr<=eo;Mr++)mn.push(ws({number:Mr,data:an[Mr],objId:ga[Mr].objId,contentsObjId:ga[Mr].contentsObjId,mediaBox:ga[Mr].mediaBox,cropBox:ga[Mr].cropBox,bleedBox:ga[Mr].bleedBox,trimBox:ga[Mr].trimBox,artBox:ga[Mr].artBox,userUnit:ga[Mr].userUnit,rootDictionaryObjId:es,resourceDictionaryObjId:ts}));Eo(es,!0),Wr("<</Type /Pages");var Sn="/Kids [";for(rn=0;rn<eo;rn++)Sn+=mn[rn]+" 0 R ";Wr(Sn+"]"),Wr("/Count "+eo),Wr(">>"),Wr("endobj"),co.publish("postPutPages")},xl=function(Mr){co.publish("putFont",{font:Mr,out:Wr,newObject:Fo,putStream:cs}),Mr.isAlreadyPutted!==!0&&(Mr.objectNumber=Fo(),Wr("<<"),Wr("/Type /Font"),Wr("/BaseFont /"+F(Mr.postScriptName)),Wr("/Subtype /Type1"),typeof Mr.encoding=="string"&&Wr("/Encoding /"+Mr.encoding),Wr("/FirstChar 32"),Wr("/LastChar 255"),Wr(">>"),Wr("endobj"))},_l=function(){for(var Mr in ho)ho.hasOwnProperty(Mr)&&(cr===!1||cr===!0&&ur.hasOwnProperty(Mr))&&xl(ho[Mr])},Cl=function(Mr){Mr.objectNumber=Fo();var rn=[];rn.push({key:"Type",value:"/XObject"}),rn.push({key:"Subtype",value:"/Form"}),rn.push({key:"BBox",value:"["+[kr(Mr.x),kr(Mr.y),kr(Mr.x+Mr.width),kr(Mr.y+Mr.height)].join(" ")+"]"}),rn.push({key:"Matrix",value:"["+Mr.matrix.toString()+"]"});var mn=Mr.pages[1].join(`
`);cs({data:mn,additionalKeyValues:rn,objectId:Mr.objectNumber}),Wr("endobj")},Bs=function(){for(var Mr in go)go.hasOwnProperty(Mr)&&Cl(go[Mr])},su=function(Mr,rn){var mn,Sn=[],Pn=1/(rn-1);for(mn=0;mn<1;mn+=Pn)Sn.push(mn);if(Sn.push(1),Mr[0].offset!=0){var Nn={offset:0,color:Mr[0].color};Mr.unshift(Nn)}if(Mr[Mr.length-1].offset!=1){var Wn={offset:1,color:Mr[Mr.length-1].color};Mr.push(Wn)}for(var Jn="",xa=0,io=0;io<Sn.length;io++){for(mn=Sn[io];mn>Mr[xa+1].offset;)xa++;var lo=Mr[xa].offset,mo=(mn-lo)/(Mr[xa+1].offset-lo),Lo=Mr[xa].color,No=Mr[xa+1].color;Jn+=wr(Math.round((1-mo)*Lo[0]+mo*No[0]).toString(16))+wr(Math.round((1-mo)*Lo[1]+mo*No[1]).toString(16))+wr(Math.round((1-mo)*Lo[2]+mo*No[2]).toString(16))}return Jn.trim()},Al=function(Mr,rn){rn||(rn=21);var mn=Fo(),Sn=su(Mr.colors,rn),Pn=[];Pn.push({key:"FunctionType",value:"0"}),Pn.push({key:"Domain",value:"[0.0 1.0]"}),Pn.push({key:"Size",value:"["+rn+"]"}),Pn.push({key:"BitsPerSample",value:"8"}),Pn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cs({data:Sn,additionalKeyValues:Pn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:mn}),Wr("endobj"),Mr.objectNumber=Fo(),Wr("<< /ShadingType "+Mr.type),Wr("/ColorSpace /DeviceRGB");var Nn="/Coords ["+kr(parseFloat(Mr.coords[0]))+" "+kr(parseFloat(Mr.coords[1]))+" ";Mr.type===2?Nn+=kr(parseFloat(Mr.coords[2]))+" "+kr(parseFloat(Mr.coords[3])):Nn+=kr(parseFloat(Mr.coords[2]))+" "+kr(parseFloat(Mr.coords[3]))+" "+kr(parseFloat(Mr.coords[4]))+" "+kr(parseFloat(Mr.coords[5])),Wr(Nn+="]"),Mr.matrix&&Wr("/Matrix ["+Mr.matrix.toString()+"]"),Wr("/Function "+mn+" 0 R"),Wr("/Extend [true true]"),Wr(">>"),Wr("endobj")},Xl=function(Mr,rn){var mn=ko(),Sn=Fo();rn.push({resourcesOid:mn,objectOid:Sn}),Mr.objectNumber=Sn;var Pn=[];Pn.push({key:"Type",value:"/Pattern"}),Pn.push({key:"PatternType",value:"1"}),Pn.push({key:"PaintType",value:"1"}),Pn.push({key:"TilingType",value:"1"}),Pn.push({key:"BBox",value:"["+Mr.boundingBox.map(kr).join(" ")+"]"}),Pn.push({key:"XStep",value:kr(Mr.xStep)}),Pn.push({key:"YStep",value:kr(Mr.yStep)}),Pn.push({key:"Resources",value:mn+" 0 R"}),Mr.matrix&&Pn.push({key:"Matrix",value:"["+Mr.matrix.toString()+"]"}),cs({data:Mr.stream,additionalKeyValues:Pn,objectId:Mr.objectNumber}),Wr("endobj")},Tl=function(Mr){var rn;for(rn in xn)xn.hasOwnProperty(rn)&&(xn[rn]instanceof B?Al(xn[rn]):xn[rn]instanceof M&&Xl(xn[rn],Mr))},Ws=function(Mr){for(var rn in Mr.objectNumber=Fo(),Wr("<<"),Mr)switch(rn){case"opacity":Wr("/ca "+Kr(Mr[rn]));break;case"stroke-opacity":Wr("/CA "+Kr(Mr[rn]))}Wr(">>"),Wr("endobj")},lu=function(){var Mr;for(Mr in qn)qn.hasOwnProperty(Mr)&&Ws(qn[Mr])},Kl=function(){for(var Mr in Wr("/XObject <<"),go)go.hasOwnProperty(Mr)&&go[Mr].objectNumber>=0&&Wr("/"+Mr+" "+go[Mr].objectNumber+" 0 R");co.publish("putXobjectDict"),Wr(">>")},Nu=function(){zo.oid=Fo(),Wr("<<"),Wr("/Filter /Standard"),Wr("/V "+zo.v),Wr("/R "+zo.r),Wr("/U <"+zo.toHexString(zo.U)+">"),Wr("/O <"+zo.toHexString(zo.O)+">"),Wr("/P "+zo.P),Wr(">>"),Wr("endobj")},cu=function(){for(var Mr in Wr("/Font <<"),ho)ho.hasOwnProperty(Mr)&&(cr===!1||cr===!0&&ur.hasOwnProperty(Mr))&&Wr("/"+Mr+" "+ho[Mr].objectNumber+" 0 R");Wr(">>")},uu=function(){if(Object.keys(xn).length>0){for(var Mr in Wr("/Shading <<"),xn)xn.hasOwnProperty(Mr)&&xn[Mr]instanceof B&&xn[Mr].objectNumber>=0&&Wr("/"+Mr+" "+xn[Mr].objectNumber+" 0 R");co.publish("putShadingPatternDict"),Wr(">>")}},El=function(Mr){if(Object.keys(xn).length>0){for(var rn in Wr("/Pattern <<"),xn)xn.hasOwnProperty(rn)&&xn[rn]instanceof sr.TilingPattern&&xn[rn].objectNumber>=0&&xn[rn].objectNumber<Mr&&Wr("/"+rn+" "+xn[rn].objectNumber+" 0 R");co.publish("putTilingPatternDict"),Wr(">>")}},$u=function(){if(Object.keys(qn).length>0){var Mr;for(Mr in Wr("/ExtGState <<"),qn)qn.hasOwnProperty(Mr)&&qn[Mr].objectNumber>=0&&Wr("/"+Mr+" "+qn[Mr].objectNumber+" 0 R");co.publish("putGStateDict"),Wr(">>")}},Do=function(Mr){Eo(Mr.resourcesOid,!0),Wr("<<"),Wr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cu(),uu(),El(Mr.objectOid),$u(),Kl(),Wr(">>"),Wr("endobj")},du=function(){var Mr=[];_l(),lu(),Bs(),Tl(Mr),co.publish("putResources"),Mr.forEach(Do),Do({resourcesOid:ts,objectOid:Number.MAX_SAFE_INTEGER}),co.publish("postPutResources")},fu=function(){co.publish("putAdditionalObjects");for(var Mr=0;Mr<Zr.length;Mr++){var rn=Zr[Mr];Eo(rn.objId,!0),Wr(rn.content),Wr("endobj")}co.publish("postPutAdditionalObjects")},hu=function(Mr){so[Mr.fontName]=so[Mr.fontName]||{},so[Mr.fontName][Mr.fontStyle]=Mr.id},Ql=function(Mr,rn,mn,Sn,Pn){var Nn={id:"F"+(Object.keys(ho).length+1).toString(10),postScriptName:Mr,fontName:rn,fontStyle:mn,encoding:Sn,isStandardFont:Pn||!1,metadata:{}};return co.publish("addFont",{font:Nn,instance:this}),ho[Nn.id]=Nn,hu(Nn),Nn.id},ju=function(Mr){for(var rn=0,mn=gn.length;rn<mn;rn++){var Sn=Ql.call(this,Mr[rn][0],Mr[rn][1],Mr[rn][2],gn[rn][3],!0);cr===!1&&(ur[Sn]=!0);var Pn=Mr[rn][0].split("-");hu({id:Sn,fontName:Pn[0],fontStyle:Pn[1]||""})}co.publish("addFonts",{fonts:ho,dictionary:so})},vs=function(Mr){return Mr.foo=function(){try{return Mr.apply(this,arguments)}catch(Sn){var rn=Sn.stack||"";~rn.indexOf(" at ")&&(rn=rn.split(" at ")[1]);var mn="Error in function "+rn.split(`
`)[0].split("<")[0]+": "+Sn.message;if(!n.console)throw new Error(mn);n.console.error(mn,Sn),n.alert&&alert(mn)}},Mr.foo.bar=Mr,Mr.foo},Pl=function(Mr,rn){var mn,Sn,Pn,Nn,Wn,Jn,xa,io,lo;if(Pn=(rn=rn||{}).sourceEncoding||"Unicode",Wn=rn.outputEncoding,(rn.autoencode||Wn)&&ho[Qn].metadata&&ho[Qn].metadata[Pn]&&ho[Qn].metadata[Pn].encoding&&(Nn=ho[Qn].metadata[Pn].encoding,!Wn&&ho[Qn].encoding&&(Wn=ho[Qn].encoding),!Wn&&Nn.codePages&&(Wn=Nn.codePages[0]),typeof Wn=="string"&&(Wn=Nn[Wn]),Wn)){for(xa=!1,Jn=[],mn=0,Sn=Mr.length;mn<Sn;mn++)(io=Wn[Mr.charCodeAt(mn)])?Jn.push(String.fromCharCode(io)):Jn.push(Mr[mn]),Jn[mn].charCodeAt(0)>>8&&(xa=!0);Mr=Jn.join("")}for(mn=Mr.length;xa===void 0&&mn!==0;)Mr.charCodeAt(mn-1)>>8&&(xa=!0),mn--;if(!xa)return Mr;for(Jn=rn.noBOM?[]:[254,255],mn=0,Sn=Mr.length;mn<Sn;mn++){if((lo=(io=Mr.charCodeAt(mn))>>8)>>8)throw new Error("Character at position "+mn+" of string '"+Mr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jn.push(lo),Jn.push(io-(lo<<8))}return String.fromCharCode.apply(void 0,Jn)},Go=sr.__private__.pdfEscape=sr.pdfEscape=function(Mr,rn){return Pl(Mr,rn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hs=sr.__private__.beginPage=function(Mr){an[++eo]=[],ga[eo]={objId:0,contentsObjId:0,userUnit:Number(or),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Mr[0]),topRightY:Number(Mr[1])}},Zl(eo),en(an[Lr])},pu=function(Mr,rn){var mn,Sn,Pn;switch(tr=rn||tr,typeof Mr=="string"&&(mn=mr(Mr.toLowerCase()),Array.isArray(mn)&&(Sn=mn[0],Pn=mn[1])),Array.isArray(Mr)&&(Sn=Mr[0]*zn,Pn=Mr[1]*zn),isNaN(Sn)&&(Sn=nr[0],Pn=nr[1]),(Sn>14400||Pn>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Sn=Math.min(14400,Sn),Pn=Math.min(14400,Pn)),nr=[Sn,Pn],tr.substr(0,1)){case"l":Pn>Sn&&(nr=[Pn,Sn]);break;case"p":Sn>Pn&&(nr=[Pn,Sn])}Hs(nr),Zn(An),Wr(ns),Xu!==0&&Wr(Xu+" J"),Ku!==0&&Wr(Ku+" j"),co.publish("addPage",{pageNumber:eo})},Bu=function(Mr){Mr>0&&Mr<=eo&&(an.splice(Mr,1),ga.splice(Mr,1),eo--,Lr>eo&&(Lr=eo),this.setPage(Lr))},Zl=function(Mr){Mr>0&&Mr<=eo&&(Lr=Mr)},zu=sr.__private__.getNumberOfPages=sr.getNumberOfPages=function(){return an.length-1},gu=function(Mr,rn,mn){var Sn,Pn=void 0;return mn=mn||{},Mr=Mr!==void 0?Mr:ho[Qn].fontName,rn=rn!==void 0?rn:ho[Qn].fontStyle,Sn=Mr.toLowerCase(),so[Sn]!==void 0&&so[Sn][rn]!==void 0?Pn=so[Sn][rn]:so[Mr]!==void 0&&so[Mr][rn]!==void 0?Pn=so[Mr][rn]:mn.disableWarning===!1&&a.warn("Unable to look up font label for font '"+Mr+"', '"+rn+"'. Refer to getFontList() for available fonts."),Pn||mn.noFallback||(Pn=so.times[rn])==null&&(Pn=so.times.normal),Pn},Vu=sr.__private__.putInfo=function(){var Mr=Fo(),rn=function(Sn){return Sn};for(var mn in fr!==null&&(rn=zo.encryptor(Mr,0)),Wr("<<"),Wr("/Producer ("+Go(rn("jsPDF "+E.version))+")"),Gn)Gn.hasOwnProperty(mn)&&Gn[mn]&&Wr("/"+mn.substr(0,1).toUpperCase()+mn.substr(1)+" ("+Go(rn(Gn[mn]))+")");Wr("/CreationDate ("+Go(rn(Hr))+")"),Wr(">>"),Wr("endobj")},Ol=sr.__private__.putCatalog=function(Mr){var rn=(Mr=Mr||{}).rootDictionaryObjId||es;switch(Fo(),Wr("<<"),Wr("/Type /Catalog"),Wr("/Pages "+rn+" 0 R"),yn||(yn="fullwidth"),yn){case"fullwidth":Wr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Wr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Wr("/OpenAction [3 0 R /Fit]");break;case"original":Wr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var mn=""+yn;mn.substr(mn.length-1)==="%"&&(yn=parseInt(yn)/100),typeof yn=="number"&&Wr("/OpenAction [3 0 R /XYZ null null "+Kr(yn)+"]")}switch(Un||(Un="continuous"),Un){case"continuous":Wr("/PageLayout /OneColumn");break;case"single":Wr("/PageLayout /SinglePage");break;case"two":case"twoleft":Wr("/PageLayout /TwoColumnLeft");break;case"tworight":Wr("/PageLayout /TwoColumnRight")}bn&&Wr("/PageMode /"+bn),co.publish("putCatalog"),Wr(">>"),Wr("endobj")},Uu=sr.__private__.putTrailer=function(){Wr("trailer"),Wr("<<"),Wr("/Size "+(Fr+1)),Wr("/Root "+Fr+" 0 R"),Wr("/Info "+(Fr-1)+" 0 R"),fr!==null&&Wr("/Encrypt "+zo.oid+" 0 R"),Wr("/ID [ <"+Yr+"> <"+Yr+"> ]"),Wr(">>")},Wu=sr.__private__.putHeader=function(){Wr("%PDF-"+hr),Wr("%\xBA\xDF\xAC\xE0")},Hu=sr.__private__.putXRef=function(){var Mr="0000000000";Wr("xref"),Wr("0 "+(Fr+1)),Wr("0000000000 65535 f ");for(var rn=1;rn<=Fr;rn++)typeof Nr[rn]=="function"?Wr((Mr+Nr[rn]()).slice(-10)+" 00000 n "):Nr[rn]!==void 0?Wr((Mr+Nr[rn]).slice(-10)+" 00000 n "):Wr("0000000000 00000 n ")},ys=sr.__private__.buildDocument=function(){Xr(),en(Br),co.publish("buildDocument"),Wu(),Us(),fu(),du(),fr!==null&&Nu(),Vu(),Ol();var Mr=Ur;return Hu(),Uu(),Wr("startxref"),Wr(""+Mr),Wr("%%EOF"),en(an[Lr]),Br.join(`
`)},Fl=sr.__private__.getBlob=function(Mr){return new Blob([fn(Mr)],{type:"application/pdf"})},Ml=sr.output=sr.__private__.output=vs(function(Mr,rn){switch(typeof(rn=rn||{})=="string"?rn={filename:rn}:rn.filename=rn.filename||"generated.pdf",Mr){case void 0:return ys();case"save":sr.save(rn.filename);break;case"arraybuffer":return fn(ys());case"blob":return Fl(ys());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(Fl(ys()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var mn="",Sn=ys();try{mn=h(Sn)}catch{mn=h(unescape(encodeURIComponent(Sn)))}return"data:application/pdf;filename="+rn.filename+";base64,"+mn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Pn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nn=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';rn.pdfObjectUrl&&(Pn=rn.pdfObjectUrl,Nn="");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pn+'"'+Nn+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(rn)+");<\/script></body></html>",Jn=n.open();return Jn!==null&&Jn.document.write(Wn),Jn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var xa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(rn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+rn.filename+'" width="500px" height="400px" /></body></html>',io=n.open();if(io!==null){io.document.write(xa);var lo=this;io.document.documentElement.querySelector("#pdfViewer").onload=function(){io.document.title=rn.filename,io.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lo.output("bloburl"))}}return io}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var mo='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",rn)+'"></iframe></body></html>',Lo=n.open();if(Lo!==null&&(Lo.document.write(mo),Lo.document.title=rn.filename),Lo||typeof safari>"u")return Lo;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",rn);default:return null}}),mu=function(Mr){return Array.isArray(Zo)===!0&&Zo.indexOf(Mr)>-1};switch(rr){case"pt":zn=1;break;case"mm":zn=72/25.4;break;case"cm":zn=72/2.54;break;case"in":zn=72;break;case"px":zn=mu("px_scaling")==1?.75:96/72;break;case"pc":case"em":zn=12;break;case"ex":zn=6;break;default:if(typeof rr!="number")throw new Error("Invalid unit: "+rr);zn=rr}var zo=null;Dr(),Qr();var Jl=function(Mr){return fr!==null?zo.encryptor(Mr,0):function(rn){return rn}},Dl=sr.__private__.getPageInfo=sr.getPageInfo=function(Mr){if(isNaN(Mr)||Mr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ga[Mr].objId,pageNumber:Mr,pageContext:ga[Mr]}},to=sr.__private__.getPageInfoByObjId=function(Mr){if(isNaN(Mr)||Mr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var rn in ga)if(ga[rn].objId===Mr)break;return Dl(rn)},qu=sr.__private__.getCurrentPageInfo=sr.getCurrentPageInfo=function(){return{objId:ga[Lr].objId,pageNumber:Lr,pageContext:ga[Lr]}};sr.addPage=function(){return pu.apply(this,arguments),this},sr.setPage=function(){return Zl.apply(this,arguments),en.call(this,an[Lr]),this},sr.insertPage=function(Mr){return this.addPage(),this.movePage(Lr,Mr),this},sr.movePage=function(Mr,rn){var mn,Sn;if(Mr>rn){mn=an[Mr],Sn=ga[Mr];for(var Pn=Mr;Pn>rn;Pn--)an[Pn]=an[Pn-1],ga[Pn]=ga[Pn-1];an[rn]=mn,ga[rn]=Sn,this.setPage(rn)}else if(Mr<rn){mn=an[Mr],Sn=ga[Mr];for(var Nn=Mr;Nn<rn;Nn++)an[Nn]=an[Nn+1],ga[Nn]=ga[Nn+1];an[rn]=mn,ga[rn]=Sn,this.setPage(rn)}return this},sr.deletePage=function(){return Bu.apply(this,arguments),this},sr.__private__.text=sr.text=function(Mr,rn,mn,Sn,Pn){var Nn,Wn,Jn,xa,io,lo,mo,Lo,No,Uo=(Sn=Sn||{}).scope||this;if(typeof Mr=="number"&&typeof rn=="number"&&(typeof mn=="string"||Array.isArray(mn))){var ss=mn;mn=rn,rn=Mr,Mr=ss}if(arguments[3]instanceof na?(Pr("The transform parameter of text() with a Matrix value"),No=Pn):(Jn=arguments[4],xa=arguments[5],_typeof(mo=arguments[3])==="object"&&mo!==null||(typeof Jn=="string"&&(xa=Jn,Jn=null),typeof mo=="string"&&(xa=mo,mo=null),typeof mo=="number"&&(Jn=mo,mo=null),Sn={flags:mo,angle:Jn,align:xa})),isNaN(rn)||isNaN(mn)||Mr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Mr.length===0)return Uo;var Xo="",Ds=!1,bs=typeof Sn.lineHeightFactor=="number"?Sn.lineHeightFactor:pn,Ys=Uo.internal.scaleFactor;function yp(Po){return Po=Po.split("	").join(Array(Sn.TabLen||9).join(" ")),Go(Po,mo)}function tp(Po){for(var Oo,Vo=Po.concat(),Yo=[],Zs=Vo.length;Zs--;)typeof(Oo=Vo.shift())=="string"?Yo.push(Oo):Array.isArray(Po)&&(Oo.length===1||Oo[1]===void 0&&Oo[2]===void 0)?Yo.push(Oo[0]):Yo.push([Oo[0],Oo[1],Oo[2]]);return Yo}function rp(Po,Oo){var Vo;if(typeof Po=="string")Vo=Oo(Po)[0];else if(Array.isArray(Po)){for(var Yo,Zs,Bl=Po.concat(),Mu=[],Sp=Bl.length;Sp--;)typeof(Yo=Bl.shift())=="string"?Mu.push(Oo(Yo)[0]):Array.isArray(Yo)&&typeof Yo[0]=="string"&&(Zs=Oo(Yo[0],Yo[1],Yo[2]),Mu.push([Zs[0],Zs[1],Zs[2]]));Vo=Mu}return Vo}var Cu=!1,np=!0;if(typeof Mr=="string")Cu=!0;else if(Array.isArray(Mr)){var ip=Mr.concat();Wn=[];for(var Au,ds=ip.length;ds--;)(typeof(Au=ip.shift())!="string"||Array.isArray(Au)&&typeof Au[0]!="string")&&(np=!1);Cu=np}if(Cu===!1)throw new Error('Type of text must be string or Array. "'+Mr+'" is not recognized.');typeof Mr=="string"&&(Mr=Mr.match(/[\r?\n]/)?Mr.split(/\r\n|\r|\n/g):[Mr]);var Tu=wn/Uo.internal.scaleFactor,ku=Tu*(bs-1);switch(Sn.baseline){case"bottom":mn-=ku;break;case"top":mn+=Tu-ku;break;case"hanging":mn+=Tu-2*ku;break;case"middle":mn+=Tu/2-ku}if((lo=Sn.maxWidth||0)>0&&(typeof Mr=="string"?Mr=Uo.splitTextToSize(Mr,lo):Object.prototype.toString.call(Mr)==="[object Array]"&&(Mr=Mr.reduce(function(Po,Oo){return Po.concat(Uo.splitTextToSize(Oo,lo))},[]))),Nn={text:Mr,x:rn,y:mn,options:Sn,mutex:{pdfEscape:Go,activeFontKey:Qn,fonts:ho,activeFontSize:wn}},co.publish("preProcessText",Nn),Mr=Nn.text,Jn=(Sn=Nn.options).angle,!(No instanceof na)&&Jn&&typeof Jn=="number"){Jn*=Math.PI/180,Sn.rotationDirection===0&&(Jn=-Jn),yr===vr.ADVANCED&&(Jn=-Jn);var Eu=Math.cos(Jn),ap=Math.sin(Jn);No=new na(Eu,ap,-ap,Eu,0,0)}else Jn&&Jn instanceof na&&(No=Jn);yr!==vr.ADVANCED||No||(No=Jo),(io=Sn.charSpace||xu)!==void 0&&(Xo+=kr(jr(io))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Lo=Sn.horizontalScale)!==void 0&&(Xo+=kr(100*Lo)+` Tz
`),Sn.lang;var fs=-1,Vp=Sn.renderingMode!==void 0?Sn.renderingMode:Sn.stroke,op=Uo.internal.getCurrentPageInfo().pageContext;switch(Vp){case 0:case!1:case"fill":fs=0;break;case 1:case!0:case"stroke":fs=1;break;case 2:case"fillThenStroke":fs=2;break;case 3:case"invisible":fs=3;break;case 4:case"fillAndAddForClipping":fs=4;break;case 5:case"strokeAndAddPathForClipping":fs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fs=6;break;case 7:case"addToPathForClipping":fs=7}var bp=op.usedRenderingMode!==void 0?op.usedRenderingMode:-1;fs!==-1?Xo+=fs+` Tr
`:bp!==-1&&(Xo+=`0 Tr
`),fs!==-1&&(op.usedRenderingMode=fs),xa=Sn.align||"left";var Ls,sp=wn*bs,Up=Uo.internal.pageSize.getWidth(),Wp=ho[Qn];io=Sn.charSpace||xu,lo=Sn.maxWidth||0,mo=Object.assign({autoencode:!0,noBOM:!0},Sn.flags);var Rl=[];if(Object.prototype.toString.call(Mr)==="[object Array]"){var Ts;Wn=tp(Mr),xa!=="left"&&(Ls=Wn.map(function(Po){return Uo.getStringUnitWidth(Po,{font:Wp,charSpace:io,fontSize:wn,doKerning:!1})*wn/Ys}));var Rs,Il=0;if(xa==="right"){rn-=Ls[0],Mr=[],ds=Wn.length;for(var zs=0;zs<ds;zs++)zs===0?(Rs=ro(rn),Ts=vo(mn)):(Rs=jr(Il-Ls[zs]),Ts=-sp),Mr.push([Wn[zs],Rs,Ts]),Il=Ls[zs]}else if(xa==="center"){rn-=Ls[0]/2,Mr=[],ds=Wn.length;for(var Xs=0;Xs<ds;Xs++)Xs===0?(Rs=ro(rn),Ts=vo(mn)):(Rs=jr((Il-Ls[Xs])/2),Ts=-sp),Mr.push([Wn[Xs],Rs,Ts]),Il=Ls[Xs]}else if(xa==="left"){Mr=[],ds=Wn.length;for(var Pu=0;Pu<ds;Pu++)Mr.push(Wn[Pu])}else{if(xa!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');Mr=[],ds=Wn.length,lo=lo!==0?lo:Up;for(var Is=0;Is<ds;Is++)Ts=Is===0?vo(mn):-sp,Rs=Is===0?ro(rn):0,Is<ds-1?Rl.push(kr(jr((lo-Ls[Is])/(Wn[Is].split(" ").length-1)))):Rl.push(0),Mr.push([Wn[Is],Rs,Ts])}}var Ou=typeof Sn.R2L=="boolean"?Sn.R2L:Ln;Ou===!0&&(Mr=rp(Mr,function(Po,Oo,Vo){return[Po.split("").reverse().join(""),Oo,Vo]})),Nn={text:Mr,x:rn,y:mn,options:Sn,mutex:{pdfEscape:Go,activeFontKey:Qn,fonts:ho,activeFontSize:wn}},co.publish("postProcessText",Nn),Mr=Nn.text,Ds=Nn.mutex.isHex||!1;var lp=ho[Qn].encoding;lp!=="WinAnsiEncoding"&&lp!=="StandardEncoding"||(Mr=rp(Mr,function(Po,Oo,Vo){return[yp(Po),Oo,Vo]})),Wn=tp(Mr),Mr=[];for(var Nl,Ns,Ks,iu=0,Fu=1,au=Array.isArray(Wn[0])?Fu:iu,$l="",cp=function(Po,Oo,Vo){var Yo="";return Vo instanceof na?(Vo=typeof Sn.angle=="number"?bo(Vo,new na(1,0,0,1,Po,Oo)):bo(new na(1,0,0,1,Po,Oo),Vo),yr===vr.ADVANCED&&(Vo=bo(new na(1,0,0,-1,0,0),Vo)),Yo=Vo.join(" ")+` Tm
`):Yo=kr(Po)+" "+kr(Oo)+` Td
`,Yo},ks=0;ks<Wn.length;ks++){switch($l="",au){case Fu:Ks=(Ds?"<":"(")+Wn[ks][0]+(Ds?">":")"),Nl=parseFloat(Wn[ks][1]),Ns=parseFloat(Wn[ks][2]);break;case iu:Ks=(Ds?"<":"(")+Wn[ks]+(Ds?">":")"),Nl=ro(rn),Ns=vo(mn)}Rl!==void 0&&Rl[ks]!==void 0&&($l=Rl[ks]+` Tw
`),ks===0?Mr.push($l+cp(Nl,Ns,No)+Ks):au===iu?Mr.push($l+Ks):au===Fu&&Mr.push($l+cp(Nl,Ns,No)+Ks)}Mr=au===iu?Mr.join(` Tj
T* `):Mr.join(` Tj
`),Mr+=` Tj
`;var Qs=`BT
/`;return Qs+=Qn+" "+wn+` Tf
`,Qs+=kr(wn*bs)+` TL
`,Qs+=Ms+`
`,Qs+=Xo,Qs+=Mr,Wr(Qs+="ET"),ur[Qn]=!0,Uo};var vu=sr.__private__.clip=sr.clip=function(Mr){return Wr(Mr==="evenodd"?"W*":"W"),this};sr.clipEvenOdd=function(){return vu("evenodd")},sr.__private__.discardPath=sr.discardPath=function(){return Wr("n"),this};var us=sr.__private__.isValidStyle=function(Mr){var rn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Mr)!==-1&&(rn=!0),rn};sr.__private__.setDefaultPathOperation=sr.setDefaultPathOperation=function(Mr){return us(Mr)&&(lr=Mr),this};var eu=sr.__private__.getStyle=sr.getStyle=function(Mr){var rn=lr;switch(Mr){case"D":case"S":rn="S";break;case"F":rn="f";break;case"FD":case"DF":rn="B";break;case"f":case"f*":case"B":case"B*":rn=Mr}return rn},Cs=sr.close=function(){return Wr("h"),this};sr.stroke=function(){return Wr("S"),this},sr.fill=function(Mr){return As("f",Mr),this},sr.fillEvenOdd=function(Mr){return As("f*",Mr),this},sr.fillStroke=function(Mr){return As("B",Mr),this},sr.fillStrokeEvenOdd=function(Mr){return As("B*",Mr),this};var As=function(Mr,rn){_typeof(rn)==="object"?Gu(rn,Mr):Wr(Mr)},tu=function(Mr){Mr===null||yr===vr.ADVANCED&&Mr===void 0||(Mr=eu(Mr),Wr(Mr))};function yu(Mr,rn,mn,Sn,Pn){var Nn=new M(rn||this.boundingBox,mn||this.xStep,Sn||this.yStep,this.gState,Pn||this.matrix);Nn.stream=this.stream;var Wn=Mr+"$$"+this.cloneIndex+++"$$";return Bo(Wn,Nn),Nn}var Gu=function(Mr,rn){var mn=En[Mr.key],Sn=xn[mn];if(Sn instanceof B)Wr("q"),Wr(bu(rn)),Sn.gState&&sr.setGState(Sn.gState),Wr(Mr.matrix.toString()+" cm"),Wr("/"+mn+" sh"),Wr("Q");else if(Sn instanceof M){var Pn=new na(1,0,0,-1,0,Ll());Mr.matrix&&(Pn=Pn.multiply(Mr.matrix||Jo),mn=yu.call(Sn,Mr.key,Mr.boundingBox,Mr.xStep,Mr.yStep,Pn).id),Wr("q"),Wr("/Pattern cs"),Wr("/"+mn+" scn"),Sn.gState&&sr.setGState(Sn.gState),Wr(rn),Wr("Q")}},bu=function(Mr){switch(Mr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ru=sr.moveTo=function(Mr,rn){return Wr(kr(jr(Mr))+" "+kr(zr(rn))+" m"),this},qs=sr.lineTo=function(Mr,rn){return Wr(kr(jr(Mr))+" "+kr(zr(rn))+" l"),this},Fs=sr.curveTo=function(Mr,rn,mn,Sn,Pn,Nn){return Wr([kr(jr(Mr)),kr(zr(rn)),kr(jr(mn)),kr(zr(Sn)),kr(jr(Pn)),kr(zr(Nn)),"c"].join(" ")),this};sr.__private__.line=sr.line=function(Mr,rn,mn,Sn,Pn){if(isNaN(Mr)||isNaN(rn)||isNaN(mn)||isNaN(Sn)||!us(Pn))throw new Error("Invalid arguments passed to jsPDF.line");return yr===vr.COMPAT?this.lines([[mn-Mr,Sn-rn]],Mr,rn,[1,1],Pn||"S"):this.lines([[mn-Mr,Sn-rn]],Mr,rn,[1,1]).stroke()},sr.__private__.lines=sr.lines=function(Mr,rn,mn,Sn,Pn,Nn){var Wn,Jn,xa,io,lo,mo,Lo,No,Uo,ss,Xo,Ds;if(typeof Mr=="number"&&(Ds=mn,mn=rn,rn=Mr,Mr=Ds),Sn=Sn||[1,1],Nn=Nn||!1,isNaN(rn)||isNaN(mn)||!Array.isArray(Mr)||!Array.isArray(Sn)||!us(Pn)||typeof Nn!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ru(rn,mn),Wn=Sn[0],Jn=Sn[1],io=Mr.length,ss=rn,Xo=mn,xa=0;xa<io;xa++)(lo=Mr[xa]).length===2?(ss=lo[0]*Wn+ss,Xo=lo[1]*Jn+Xo,qs(ss,Xo)):(mo=lo[0]*Wn+ss,Lo=lo[1]*Jn+Xo,No=lo[2]*Wn+ss,Uo=lo[3]*Jn+Xo,ss=lo[4]*Wn+ss,Xo=lo[5]*Jn+Xo,Fs(mo,Lo,No,Uo,ss,Xo));return Nn&&Cs(),tu(Pn),this},sr.path=function(Mr){for(var rn=0;rn<Mr.length;rn++){var mn=Mr[rn],Sn=mn.c;switch(mn.op){case"m":ru(Sn[0],Sn[1]);break;case"l":qs(Sn[0],Sn[1]);break;case"c":Fs.apply(this,Sn);break;case"h":Cs()}}return this},sr.__private__.rect=sr.rect=function(Mr,rn,mn,Sn,Pn){if(isNaN(Mr)||isNaN(rn)||isNaN(mn)||isNaN(Sn)||!us(Pn))throw new Error("Invalid arguments passed to jsPDF.rect");return yr===vr.COMPAT&&(Sn=-Sn),Wr([kr(jr(Mr)),kr(zr(rn)),kr(jr(mn)),kr(jr(Sn)),"re"].join(" ")),tu(Pn),this},sr.__private__.triangle=sr.triangle=function(Mr,rn,mn,Sn,Pn,Nn,Wn){if(isNaN(Mr)||isNaN(rn)||isNaN(mn)||isNaN(Sn)||isNaN(Pn)||isNaN(Nn)||!us(Wn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[mn-Mr,Sn-rn],[Pn-mn,Nn-Sn],[Mr-Pn,rn-Nn]],Mr,rn,[1,1],Wn,!0),this},sr.__private__.roundedRect=sr.roundedRect=function(Mr,rn,mn,Sn,Pn,Nn,Wn){if(isNaN(Mr)||isNaN(rn)||isNaN(mn)||isNaN(Sn)||isNaN(Pn)||isNaN(Nn)||!us(Wn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jn=4/3*(Math.SQRT2-1);return Pn=Math.min(Pn,.5*mn),Nn=Math.min(Nn,.5*Sn),this.lines([[mn-2*Pn,0],[Pn*Jn,0,Pn,Nn-Nn*Jn,Pn,Nn],[0,Sn-2*Nn],[0,Nn*Jn,-Pn*Jn,Nn,-Pn,Nn],[2*Pn-mn,0],[-Pn*Jn,0,-Pn,-Nn*Jn,-Pn,-Nn],[0,2*Nn-Sn],[0,-Nn*Jn,Pn*Jn,-Nn,Pn,-Nn]],Mr+Pn,rn,[1,1],Wn,!0),this},sr.__private__.ellipse=sr.ellipse=function(Mr,rn,mn,Sn,Pn){if(isNaN(Mr)||isNaN(rn)||isNaN(mn)||isNaN(Sn)||!us(Pn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nn=4/3*(Math.SQRT2-1)*mn,Wn=4/3*(Math.SQRT2-1)*Sn;return ru(Mr+mn,rn),Fs(Mr+mn,rn-Wn,Mr+Nn,rn-Sn,Mr,rn-Sn),Fs(Mr-Nn,rn-Sn,Mr-mn,rn-Wn,Mr-mn,rn),Fs(Mr-mn,rn+Wn,Mr-Nn,rn+Sn,Mr,rn+Sn),Fs(Mr+Nn,rn+Sn,Mr+mn,rn+Wn,Mr+mn,rn),tu(Pn),this},sr.__private__.circle=sr.circle=function(Mr,rn,mn,Sn){if(isNaN(Mr)||isNaN(rn)||isNaN(mn)||!us(Sn))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Mr,rn,mn,mn,Sn)},sr.setFont=function(Mr,rn,mn){return mn&&(rn=Cr(rn,mn)),Qn=gu(Mr,rn,{disableWarning:!1}),this};var Yu=sr.__private__.getFont=sr.getFont=function(){return ho[gu.apply(sr,arguments)]};sr.__private__.getFontList=sr.getFontList=function(){var Mr,rn,mn={};for(Mr in so)if(so.hasOwnProperty(Mr))for(rn in mn[Mr]=[],so[Mr])so[Mr].hasOwnProperty(rn)&&mn[Mr].push(rn);return mn},sr.addFont=function(Mr,rn,mn,Sn,Pn){var Nn=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nn.indexOf(arguments[3])!==-1?Pn=arguments[3]:arguments[3]&&Nn.indexOf(arguments[3])==-1&&(mn=Cr(mn,Sn)),Pn=Pn||"Identity-H",Ql.call(this,Mr,rn,mn,Pn)};var pn,An=St.lineWidth||.200025,Dn=sr.__private__.getLineWidth=sr.getLineWidth=function(){return An},Zn=sr.__private__.setLineWidth=sr.setLineWidth=function(Mr){return An=Mr,Wr(kr(jr(Mr))+" w"),this};sr.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Mr,rn){if(Mr=Mr||[],rn=rn||0,isNaN(rn)||!Array.isArray(Mr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Mr=Mr.map(function(mn){return kr(jr(mn))}).join(" "),rn=kr(jr(rn)),Wr("["+Mr+"] "+rn+" d"),this};var uo=sr.__private__.getLineHeight=sr.getLineHeight=function(){return wn*pn};sr.__private__.getLineHeight=sr.getLineHeight=function(){return wn*pn};var So=sr.__private__.setLineHeightFactor=sr.setLineHeightFactor=function(Mr){return typeof(Mr=Mr||1.15)=="number"&&(pn=Mr),this},_o=sr.__private__.getLineHeightFactor=sr.getLineHeightFactor=function(){return pn};So(St.lineHeight);var ro=sr.__private__.getHorizontalCoordinate=function(Mr){return jr(Mr)},vo=sr.__private__.getVerticalCoordinate=function(Mr){return yr===vr.ADVANCED?Mr:ga[Lr].mediaBox.topRightY-ga[Lr].mediaBox.bottomLeftY-jr(Mr)},os=sr.__private__.getHorizontalCoordinateString=sr.getHorizontalCoordinateString=function(Mr){return kr(ro(Mr))},Io=sr.__private__.getVerticalCoordinateString=sr.getVerticalCoordinateString=function(Mr){return kr(vo(Mr))},ns=St.strokeColor||"0 G";sr.__private__.getStrokeColor=sr.getDrawColor=function(){return gs(ns)},sr.__private__.setStrokeColor=sr.setDrawColor=function(Mr,rn,mn,Sn){return ns=ms({ch1:Mr,ch2:rn,ch3:mn,ch4:Sn,pdfColorType:"draw",precision:2}),Wr(ns),this};var Gs=St.fillColor||"0 g";sr.__private__.getFillColor=sr.getFillColor=function(){return gs(Gs)},sr.__private__.setFillColor=sr.setFillColor=function(Mr,rn,mn,Sn){return Gs=ms({ch1:Mr,ch2:rn,ch3:mn,ch4:Sn,pdfColorType:"fill",precision:2}),Wr(Gs),this};var Ms=St.textColor||"0 g",Su=sr.__private__.getTextColor=sr.getTextColor=function(){return gs(Ms)};sr.__private__.setTextColor=sr.setTextColor=function(Mr,rn,mn,Sn){return Ms=ms({ch1:Mr,ch2:rn,ch3:mn,ch4:Sn,pdfColorType:"text",precision:3}),this};var xu=St.charSpace,Bp=sr.__private__.getCharSpace=sr.getCharSpace=function(){return parseFloat(xu||0)};sr.__private__.setCharSpace=sr.setCharSpace=function(Mr){if(isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xu=Mr,this};var Xu=0;sr.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},sr.__private__.setLineCap=sr.setLineCap=function(Mr){var rn=sr.CapJoinStyles[Mr];if(rn===void 0)throw new Error("Line cap style of '"+Mr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xu=rn,Wr(rn+" J"),this};var Ku=0;sr.__private__.setLineJoin=sr.setLineJoin=function(Mr){var rn=sr.CapJoinStyles[Mr];if(rn===void 0)throw new Error("Line join style of '"+Mr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ku=rn,Wr(rn+" j"),this},sr.__private__.setLineMiterLimit=sr.__private__.setMiterLimit=sr.setLineMiterLimit=sr.setMiterLimit=function(Mr){if(Mr=Mr||0,isNaN(Mr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Wr(kr(jr(Mr))+" M"),this},sr.GState=j,sr.setGState=function(Mr){(Mr=typeof Mr=="string"?qn[ba[Mr]]:mp(null,Mr)).equals(oo)||(Wr("/"+Mr.id+" gs"),oo=Mr)};var mp=function(Mr,rn){if(!Mr||!ba[Mr]){var mn=!1;for(var Sn in qn)if(qn.hasOwnProperty(Sn)&&qn[Sn].equals(rn)){mn=!0;break}if(mn)rn=qn[Sn];else{var Pn="GS"+(Object.keys(qn).length+1).toString(10);qn[Pn]=rn,rn.id=Pn}return Mr&&(ba[Mr]=rn.id),co.publish("addGState",rn),rn}};sr.addGState=function(Mr,rn){return mp(Mr,rn),this},sr.saveGraphicsState=function(){return Wr("q"),Rn.push({key:Qn,size:wn,color:Ms}),this},sr.restoreGraphicsState=function(){Wr("Q");var Mr=Rn.pop();return Qn=Mr.key,wn=Mr.size,Ms=Mr.color,oo=null,this},sr.setCurrentTransformationMatrix=function(Mr){return Wr(Mr.toString()+" cm"),this},sr.comment=function(Mr){return Wr("#"+Mr),this};var _u=function(Mr,rn){var mn=Mr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return mn},set:function(Nn){isNaN(Nn)||(mn=parseFloat(Nn))}});var Sn=rn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Sn},set:function(Nn){isNaN(Nn)||(Sn=parseFloat(Nn))}});var Pn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pn},set:function(Nn){Pn=Nn.toString()}}),this},Qu=function(Mr,rn,mn,Sn){_u.call(this,Mr,rn),this.type="rect";var Pn=mn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pn},set:function(Wn){isNaN(Wn)||(Pn=parseFloat(Wn))}});var Nn=Sn||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nn},set:function(Wn){isNaN(Wn)||(Nn=parseFloat(Wn))}}),this},Zu=function(){this.page=eo,this.currentPage=Lr,this.pages=an.slice(0),this.pagesContext=ga.slice(0),this.x=fo,this.y=no,this.matrix=Mo,this.width=nu(Lr),this.height=Ll(Lr),this.outputDestination=Gr,this.id="",this.objectNumber=-1};Zu.prototype.restore=function(){eo=this.page,Lr=this.currentPage,ga=this.pagesContext,an=this.pages,fo=this.x,no=this.y,Mo=this.matrix,Ju(Lr,this.width),ep(Lr,this.height),Gr=this.outputDestination};var vp=function(Mr,rn,mn,Sn,Pn){jo.push(new Zu),eo=Lr=0,an=[],fo=Mr,no=rn,Mo=Pn,Hs([mn,Sn])},zp=function(Mr){if(qo[Mr])jo.pop().restore();else{var rn=new Zu,mn="Xo"+(Object.keys(go).length+1).toString(10);rn.id=mn,qo[Mr]=mn,go[mn]=rn,co.publish("addFormObject",rn),jo.pop().restore()}};for(var wu in sr.beginFormObject=function(Mr,rn,mn,Sn,Pn){return vp(Mr,rn,mn,Sn,Pn),this},sr.endFormObject=function(Mr){return zp(Mr),this},sr.doFormObject=function(Mr,rn){var mn=go[qo[Mr]];return Wr("q"),Wr(rn.toString()+" cm"),Wr("/"+mn.id+" Do"),Wr("Q"),this},sr.getFormObject=function(Mr){var rn=go[qo[Mr]];return{x:rn.x,y:rn.y,width:rn.width,height:rn.height,matrix:rn.matrix}},sr.save=function(Mr,rn){return Mr=Mr||"generated.pdf",(rn=rn||{}).returnPromise=rn.returnPromise||!1,rn.returnPromise===!1?(l(Fl(ys()),Mr),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(mn,Sn){try{var Pn=l(Fl(ys()),Mr);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),mn(Pn)}catch(Nn){Sn(Nn.message)}})},E.API)E.API.hasOwnProperty(wu)&&(wu==="events"&&E.API.events.length?function(Mr,rn){var mn,Sn,Pn;for(Pn=rn.length-1;Pn!==-1;Pn--)mn=rn[Pn][0],Sn=rn[Pn][1],Mr.subscribe.apply(Mr,[mn].concat(typeof Sn=="function"?[Sn]:Sn))}(co,E.API.events):sr[wu]=E.API[wu]);var nu=sr.getPageWidth=function(Mr){return(ga[Mr=Mr||Lr].mediaBox.topRightX-ga[Mr].mediaBox.bottomLeftX)/zn},Ju=sr.setPageWidth=function(Mr,rn){ga[Mr].mediaBox.topRightX=rn*zn+ga[Mr].mediaBox.bottomLeftX},Ll=sr.getPageHeight=function(Mr){return(ga[Mr=Mr||Lr].mediaBox.topRightY-ga[Mr].mediaBox.bottomLeftY)/zn},ep=sr.setPageHeight=function(Mr,rn){ga[Mr].mediaBox.topRightY=rn*zn+ga[Mr].mediaBox.bottomLeftY};return sr.internal={pdfEscape:Go,getStyle:eu,getFont:Yu,getFontSize:vn,getCharSpace:Bp,getTextColor:Su,getLineHeight:uo,getLineHeightFactor:_o,getLineWidth:Dn,write:cn,getHorizontalCoordinate:ro,getVerticalCoordinate:vo,getCoordinateString:os,getVerticalCoordinateString:Io,collections:{},newObject:Fo,newAdditionalObject:Ro,newObjectDeferred:ko,newObjectDeferredBegin:Eo,getFilters:rs,putStream:cs,events:co,scaleFactor:zn,pageSize:{getWidth:function(){return nu(Lr)},setWidth:function(Mr){Ju(Lr,Mr)},getHeight:function(){return Ll(Lr)},setHeight:function(Mr){ep(Lr,Mr)}},encryptionOptions:fr,encryption:zo,getEncryptor:Jl,output:Ml,getNumberOfPages:zu,pages:an,out:Wr,f2:Kr,f3:Ir,getPageInfo:Dl,getPageInfoByObjId:to,getCurrentPageInfo:qu,getPDFVersion:gr,Point:_u,Rectangle:Qu,Matrix:na,hasHotfix:mu},Object.defineProperty(sr.internal.pageSize,"width",{get:function(){return nu(Lr)},set:function(Mr){Ju(Lr,Mr)},enumerable:!0,configurable:!0}),Object.defineProperty(sr.internal.pageSize,"height",{get:function(){return Ll(Lr)},set:function(Mr){ep(Lr,Mr)},enumerable:!0,configurable:!0}),ju.call(sr,gn),Qn="F1",pu(nr,tr),co.publish("initialized"),sr}I.prototype.lsbFirstWord=function(St){return String.fromCharCode(St>>0&255,St>>8&255,St>>16&255,St>>24&255)},I.prototype.toHexString=function(St){return St.split("").map(function(er){return("0"+(255&er.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(St){for(var er=[],tr=0;tr<St.length;tr+=2)er.push(String.fromCharCode(parseInt(St.substr(tr,2),16)));return er.join("")},I.prototype.processOwnerPassword=function(St,er){return P(x(er).substr(0,5),St)},I.prototype.encryptor=function(St,er){var tr=x(this.encryptionKey+String.fromCharCode(255&St,St>>8&255,St>>16&255,255&er,er>>8&255)).substr(0,10);return function(rr){return P(tr,rr)}},j.prototype.equals=function(St){var er,tr="id,objectNumber,equals";if(!St||_typeof(St)!==_typeof(this))return!1;var rr=0;for(er in this)if(!(tr.indexOf(er)>=0)){if(this.hasOwnProperty(er)&&!St.hasOwnProperty(er)||this[er]!==St[er])return!1;rr++}for(er in St)St.hasOwnProperty(er)&&tr.indexOf(er)<0&&rr--;return rr===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(St){return St.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(St){return St.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(St){return St.toFixed(2)},z=function(St){return St.toFixed(5)};q.__acroform__={};var H=function(St,er){St.prototype=Object.create(er.prototype),St.prototype.constructor=St},W=function(St){return St*D},V=function(St){var er=new ut,tr=At.internal.getHeight(St)||0,rr=At.internal.getWidth(St)||0;return er.BBox=[0,0,Number(U(rr)),Number(U(tr))],er},G=q.__acroform__.setBit=function(St,er){if(St=St||0,er=er||0,isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return St|=1<<er},Y=q.__acroform__.clearBit=function(St,er){if(St=St||0,er=er||0,isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return St&=~(1<<er)},J=q.__acroform__.getBit=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(St&1<<er)==0?0:1},X=q.__acroform__.getBitForPdf=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(St,er-1)},K=q.__acroform__.setBitForPdf=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(St,er-1)},Z=q.__acroform__.clearBitForPdf=function(St,er){if(isNaN(St)||isNaN(er))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(St,er-1)},$=q.__acroform__.calculateCoordinates=function(St,er){var tr=er.internal.getHorizontalCoordinate,rr=er.internal.getVerticalCoordinate,nr=St[0],ar=St[1],dr=St[2],or=St[3],ir={};return ir.lowerLeft_X=tr(nr)||0,ir.lowerLeft_Y=rr(ar+or)||0,ir.upperRight_X=tr(nr+dr)||0,ir.upperRight_Y=rr(ar)||0,[Number(U(ir.lowerLeft_X)),Number(U(ir.lowerLeft_Y)),Number(U(ir.upperRight_X)),Number(U(ir.upperRight_Y))]},Q=function(St){if(St.appearanceStreamContent)return St.appearanceStreamContent;if(St.V||St.DV){var er=[],tr=St._V||St.DV,rr=tt(St,tr),nr=St.scope.internal.getFont(St.fontName,St.fontStyle).id;er.push("/Tx BMC"),er.push("q"),er.push("BT"),er.push(St.scope.__private__.encodeColorString(St.color)),er.push("/"+nr+" "+U(rr.fontSize)+" Tf"),er.push("1 0 0 1 0 0 Tm"),er.push(rr.text),er.push("ET"),er.push("Q"),er.push("EMC");var ar=V(St);return ar.scope=St.scope,ar.stream=er.join(`
`),ar}},tt=function(St,er){var tr=St.fontSize===0?St.maxFontSize:St.fontSize,rr={text:"",fontSize:""},nr=(er=(er=er.substr(0,1)=="("?er.substr(1):er).substr(er.length-1)==")"?er.substr(0,er.length-1):er).split(" ");nr=St.multiline?nr.map(function(Ir){return Ir.split(`
`)}):nr.map(function(Ir){return[Ir]});var ar=tr,dr=At.internal.getHeight(St)||0;dr=dr<0?-dr:dr;var or=At.internal.getWidth(St)||0;or=or<0?-or:or;var ir=function(Ir,jr,Jr){if(Ir+1<nr.length){var zr=jr+" "+nr[Ir+1][0];return et(zr,St,Jr).width<=or-4}return!1};ar++;e:for(;ar>0;){er="",ar--;var lr,fr,cr=et("3",St,ar).height,ur=St.multiline?dr-ar:(dr-cr)/2,sr=ur+=2,hr=0,gr=0,pr=0;if(ar<=0){er=`(...) Tj
`,er+="% Width of Text: "+et(er,St,ar=12).width+", FieldWidth:"+or+`
`;break}for(var mr="",vr=0,yr=0;yr<nr.length;yr++)if(nr.hasOwnProperty(yr)){var br=!1;if(nr[yr].length!==1&&pr!==nr[yr].length-1){if((cr+2)*(vr+2)+2>dr)continue e;mr+=nr[yr][pr],br=!0,gr=yr,yr--}else{mr=(mr+=nr[yr][pr]+" ").substr(mr.length-1)==" "?mr.substr(0,mr.length-1):mr;var xr=parseInt(yr),Cr=ir(xr,mr,ar),kr=yr>=nr.length-1;if(Cr&&!kr){mr+=" ",pr=0;continue}if(Cr||kr){if(kr)gr=xr;else if(St.multiline&&(cr+2)*(vr+2)+2>dr)continue e}else{if(!St.multiline||(cr+2)*(vr+2)+2>dr)continue e;gr=xr}}for(var Pr="",$r=hr;$r<=gr;$r++){var Kr=nr[$r];if(St.multiline){if($r===gr){Pr+=Kr[pr]+" ",pr=(pr+1)%Kr.length;continue}if($r===hr){Pr+=Kr[Kr.length-1]+" ";continue}}Pr+=Kr[0]+" "}switch(Pr=Pr.substr(Pr.length-1)==" "?Pr.substr(0,Pr.length-1):Pr,fr=et(Pr,St,ar).width,St.textAlign){case"right":lr=or-fr-2;break;case"center":lr=(or-fr)/2;break;case"left":default:lr=2}er+=U(lr)+" "+U(sr)+` Td
`,er+="("+R(Pr)+`) Tj
`,er+=-U(lr)+` 0 Td
`,sr=-(ar+2),fr=0,hr=br?gr:gr+1,vr++,mr=""}break}return rr.text=er,rr.fontSize=ar,rr},et=function(St,er,tr){var rr=er.scope.internal.getFont(er.fontName,er.fontStyle),nr=er.scope.getStringUnitWidth(St,{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr);return{height:er.scope.getStringUnitWidth("3",{font:rr,fontSize:parseFloat(tr),charSpace:0})*parseFloat(tr)*1.5,width:nr}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(St,er){var tr={type:"reference",object:St};er.internal.getPageInfo(St.page).pageContext.annotations.find(function(rr){return rr.type===tr.type&&rr.object===tr.object})===void 0&&er.internal.getPageInfo(St.page).pageContext.annotations.push(tr)},it=function(St,er){for(var tr in St)if(St.hasOwnProperty(tr)){var rr=tr,nr=St[tr];er.internal.newObjectDeferredBegin(nr.objId,!0),_typeof(nr)==="object"&&typeof nr.putStream=="function"&&nr.putStream(),delete St[rr]}},at=function(St,er){if(er.scope=St,St.internal!==void 0&&(St.internal.acroformPlugin===void 0||St.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,St.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),St.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=St.internal.scaleFactor,St.internal.acroformPlugin.acroFormDictionaryRoot=new ht,St.internal.acroformPlugin.acroFormDictionaryRoot.scope=St,St.internal.acroformPlugin.acroFormDictionaryRoot._eventID=St.internal.events.subscribe("postPutResources",function(){(function(tr){tr.internal.events.unsubscribe(tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete tr.internal.acroformPlugin.acroFormDictionaryRoot._eventID,tr.internal.acroformPlugin.printedOut=!0})(St)}),St.internal.events.subscribe("buildDocument",function(){(function(tr){tr.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var rr=tr.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var nr in rr)if(rr.hasOwnProperty(nr)){var ar=rr[nr];ar.objId=void 0,ar.hasAnnotation&&nt(ar,tr)}})(St)}),St.internal.events.subscribe("putCatalog",function(){(function(tr){if(tr.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");tr.internal.write("/AcroForm "+tr.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(St)}),St.internal.events.subscribe("postPutPages",function(tr){(function(rr,nr){var ar=!rr;for(var dr in rr||(nr.internal.newObjectDeferredBegin(nr.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),nr.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),rr=rr||nr.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(rr.hasOwnProperty(dr)){var or=rr[dr],ir=[],lr=or.Rect;if(or.Rect&&(or.Rect=$(or.Rect,nr)),nr.internal.newObjectDeferredBegin(or.objId,!0),or.DA=At.createDefaultAppearanceStream(or),_typeof(or)==="object"&&typeof or.getKeyValueListForStream=="function"&&(ir=or.getKeyValueListForStream()),or.Rect=lr,or.hasAppearanceStream&&!or.appearanceStreamContent){var fr=Q(or);ir.push({key:"AP",value:"<</N "+fr+">>"}),nr.internal.acroformPlugin.xForms.push(fr)}if(or.appearanceStreamContent){var cr="";for(var ur in or.appearanceStreamContent)if(or.appearanceStreamContent.hasOwnProperty(ur)){var sr=or.appearanceStreamContent[ur];if(cr+="/"+ur+" ",cr+="<<",Object.keys(sr).length>=1||Array.isArray(sr)){for(var dr in sr)if(sr.hasOwnProperty(dr)){var hr=sr[dr];typeof hr=="function"&&(hr=hr.call(nr,or)),cr+="/"+dr+" "+hr+" ",nr.internal.acroformPlugin.xForms.indexOf(hr)>=0||nr.internal.acroformPlugin.xForms.push(hr)}}else typeof(hr=sr)=="function"&&(hr=hr.call(nr,or)),cr+="/"+dr+" "+hr,nr.internal.acroformPlugin.xForms.indexOf(hr)>=0||nr.internal.acroformPlugin.xForms.push(hr);cr+=">>"}ir.push({key:"AP",value:`<<
`+cr+">>"})}nr.internal.putStream({additionalKeyValues:ir,objectId:or.objId}),nr.internal.out("endobj")}ar&&it(nr.internal.acroformPlugin.xForms,nr)})(tr,St)}),St.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(St,er,tr){var rr=function(dr){return dr};if(Array.isArray(St)){for(var nr="[",ar=0;ar<St.length;ar++)switch(ar!==0&&(nr+=" "),_typeof(St[ar])){case"boolean":case"number":case"object":nr+=St[ar].toString();break;case"string":St[ar].substr(0,1)!=="/"?(er!==void 0&&tr&&(rr=tr.internal.getEncryptor(er)),nr+="("+R(rr(St[ar].toString()))+")"):nr+=St[ar].toString()}return nr+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(St,er,tr){var rr=function(nr){return nr};return er!==void 0&&tr&&(rr=tr.internal.getEncryptor(er)),(St=St||"").toString(),St="("+R(rr(St))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(St){this._objId=St}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var St=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:St,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var St=[],er=Object.getOwnPropertyNames(this).filter(function(ar){return ar!="content"&&ar!="appearanceStreamContent"&&ar!="scope"&&ar!="objId"&&ar.substring(0,1)!="_"});for(var tr in er)if(Object.getOwnPropertyDescriptor(this,er[tr]).configurable===!1){var rr=er[tr],nr=this[rr];nr&&(Array.isArray(nr)?St.push({key:rr,value:ot(nr,this.objId,this.scope)}):nr instanceof ct?(nr.scope=this.scope,St.push({key:rr,value:nr.objId+" 0 R"})):typeof nr!="function"&&St.push({key:rr,value:nr}))}return St};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var St,er=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return er},set:function(tr){er=tr}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(tr){St=tr.trim()},get:function(){return St||null}})};H(ut,ct);var ht=function(){ct.call(this);var St,er=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return er.length>0?er:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return er}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(St){var tr=function(rr){return rr};return this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),"("+R(tr(St))+")"}},set:function(tr){St=tr}})};H(ht,ct);var lt=function St(){ct.call(this);var er=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return er},set:function(mr){if(isNaN(mr))throw new Error('Invalid value "'+mr+'" for attribute F supplied.');er=mr}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(er,3))},set:function(mr){Boolean(mr)===!0?this.F=K(er,3):this.F=Z(er,3)}});var tr=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(mr){if(isNaN(mr))throw new Error('Invalid value "'+mr+'" for attribute Ff supplied.');tr=mr}});var rr=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(rr.length!==0)return rr},set:function(mr){rr=mr!==void 0?mr:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[0])?0:rr[0]},set:function(mr){rr[0]=mr}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[1])?0:rr[1]},set:function(mr){rr[1]=mr}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[2])?0:rr[2]},set:function(mr){rr[2]=mr}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!rr||isNaN(rr[3])?0:rr[3]},set:function(mr){rr[3]=mr}});var nr="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return nr},set:function(mr){switch(mr){case"/Btn":case"/Tx":case"/Ch":case"/Sig":nr=mr;break;default:throw new Error('Invalid value "'+mr+'" for attribute FT supplied.')}}});var ar=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ar||ar.length<1){if(this instanceof yt)return;ar="FieldObject"+St.FieldNum++}var mr=function(vr){return vr};return this.scope&&(mr=this.scope.internal.getEncryptor(this.objId)),"("+R(mr(ar))+")"},set:function(mr){ar=mr.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ar},set:function(mr){ar=mr}});var dr="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return dr},set:function(mr){dr=mr}});var or="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return or},set:function(mr){or=mr}});var ir=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ir},set:function(mr){ir=mr}});var lr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return lr===void 0?50/D:lr},set:function(mr){lr=mr}});var fr="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return fr},set:function(mr){fr=mr}});var cr="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!cr||this instanceof yt||this instanceof Nt))return st(cr,this.objId,this.scope)},set:function(mr){mr=mr.toString(),cr=mr}});var ur=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(ur)return this instanceof mt?ur:st(ur,this.objId,this.scope)},set:function(mr){mr=mr.toString(),ur=this instanceof mt?mr:mr.substr(0,1)==="("?T(mr.substr(1,mr.length-2)):T(mr)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(ur.substr(1,ur.length-1)):ur},set:function(mr){mr=mr.toString(),ur=this instanceof mt?"/"+mr:mr}});var sr=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(sr)return sr},set:function(mr){this.V=mr}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(sr)return this instanceof mt?sr:st(sr,this.objId,this.scope)},set:function(mr){mr=mr.toString(),sr=this instanceof mt?mr:mr.substr(0,1)==="("?T(mr.substr(1,mr.length-2)):T(mr)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(sr.substr(1,sr.length-1)):sr},set:function(mr){mr=mr.toString(),sr=this instanceof mt?"/"+mr:mr}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var hr,gr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return gr},set:function(mr){mr=Boolean(mr),gr=mr}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(hr)return hr},set:function(mr){hr=mr}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(mr){Boolean(mr)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(mr){Boolean(mr)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(mr){Boolean(mr)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var pr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(pr!==null)return pr},set:function(mr){if([0,1,2].indexOf(mr)===-1)throw new Error('Invalid value "'+mr+'" for attribute Q supplied.');pr=mr}}),Object.defineProperty(this,"textAlign",{get:function(){var mr;switch(pr){case 0:default:mr="left";break;case 1:mr="center";break;case 2:mr="right"}return mr},configurable:!0,enumerable:!0,set:function(mr){switch(mr){case"right":case 2:pr=2;break;case"center":case 1:pr=1;break;case"left":case 0:default:pr=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var St=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return St},set:function(tr){St=tr}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return St},set:function(tr){St=tr}});var er=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(er,this.objId,this.scope)},set:function(tr){var rr,nr;nr=[],typeof(rr=tr)=="string"&&(nr=function(ar,dr,or){or||(or=1);for(var ir,lr=[];ir=dr.exec(ar);)lr.push(ir[or]);return lr}(rr,/\((.*?)\)/g)),er=nr}}),this.getOptions=function(){return er},this.setOptions=function(tr){er=tr,this.sort&&er.sort()},this.addOption=function(tr){tr=(tr=tr||"").toString(),er.push(tr),this.sort&&er.sort()},this.removeOption=function(tr,rr){for(rr=rr||!1,tr=(tr=tr||"").toString();er.indexOf(tr)!==-1&&(er.splice(er.indexOf(tr),1),rr!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(tr){this.combo===!0&&(Boolean(tr)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(tr){Boolean(tr)===!0?(this.Ff=K(this.Ff,20),er.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(tr){Boolean(tr)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St,er={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var tr=function(ar){return ar};if(this.scope&&(tr=this.scope.internal.getEncryptor(this.objId)),Object.keys(er).length!==0){var rr,nr=[];for(rr in nr.push("<<"),er)nr.push("/"+rr+" ("+R(tr(er[rr]))+")");return nr.push(">>"),nr.join(`
`)}},set:function(tr){_typeof(tr)==="object"&&(er=tr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return er.CA||""},set:function(tr){typeof tr=="string"&&(er.CA=tr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return St},set:function(tr){St=tr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return St.substr(1,St.length-1)},set:function(tr){St="/"+tr}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var St=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return St},set:function(er){St=er!==void 0?er:[]}})};H(bt,mt);var yt=function(){var St,er;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return St},set:function(nr){St=nr}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return er},set:function(nr){er=nr}});var tr,rr={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var nr=function(or){return or};this.scope&&(nr=this.scope.internal.getEncryptor(this.objId));var ar,dr=[];for(ar in dr.push("<<"),rr)dr.push("/"+ar+" ("+R(nr(rr[ar]))+")");return dr.push(">>"),dr.join(`
`)},set:function(nr){_typeof(nr)==="object"&&(rr=nr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return rr.CA||""},set:function(nr){typeof nr=="string"&&(rr.CA=nr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return tr},set:function(nr){tr=nr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return tr.substr(1,tr.length-1)},set:function(nr){tr="/"+nr}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(St){if(!("createAppearanceStream"in St)||!("getCA"in St))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var er in this.Kids)if(this.Kids.hasOwnProperty(er)){var tr=this.Kids[er];tr.appearanceStreamContent=St.createAppearanceStream(tr.optionName),tr.caption=St.getCA()}},bt.prototype.createOption=function(St){var er=new yt;return er.Parent=this,er.optionName=St,this.Kids.push(er),xt.call(this.scope,er),er};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(er){Boolean(er)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(er){Boolean(er)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(er){Boolean(er)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(er){Boolean(er)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(er){Boolean(er)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(er){Boolean(er)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var St=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return St},set:function(er){St=er}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return St},set:function(er){Number.isInteger(er)&&(St=er)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=St.scope.internal.getFont(St.fontName,St.fontStyle).id,nr=St.scope.__private__.encodeColorString(St.color),ar=tt(St,St.caption);return tr.push("0.749023 g"),tr.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),tr.push("f"),tr.push("BMC"),tr.push("q"),tr.push("0 0 1 rg"),tr.push("/"+rr+" "+U(ar.fontSize)+" Tf "+nr),tr.push("BT"),tr.push(ar.text),tr.push("ET"),tr.push("Q"),tr.push("EMC"),er.stream=tr.join(`
`),er},YesNormal:function(St){var er=V(St);er.scope=St.scope;var tr=St.scope.internal.getFont(St.fontName,St.fontStyle).id,rr=St.scope.__private__.encodeColorString(St.color),nr=[],ar=At.internal.getHeight(St),dr=At.internal.getWidth(St),or=tt(St,St.caption);return nr.push("1 g"),nr.push("0 0 "+U(dr)+" "+U(ar)+" re"),nr.push("f"),nr.push("q"),nr.push("0 0 1 rg"),nr.push("0 0 "+U(dr-1)+" "+U(ar-1)+" re"),nr.push("W"),nr.push("n"),nr.push("0 g"),nr.push("BT"),nr.push("/"+tr+" "+U(or.fontSize)+" Tf "+rr),nr.push(or.text),nr.push("ET"),nr.push("Q"),er.stream=nr.join(`
`),er},OffPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),tr.push("f"),er.stream=tr.join(`
`),er}},RadioButton:{Circle:{createAppearanceStream:function(St){var er={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return er.N[St]=At.RadioButton.Circle.YesNormal,er.D[St]=At.RadioButton.Circle.YesPushDown,er},getCA:function(){return"l"},YesNormal:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;rr=Number((.9*rr).toFixed(5));var nr=At.internal.Bezier_C,ar=Number((rr*nr).toFixed(5));return tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+ar+" "+ar+" "+rr+" 0 "+rr+" c"),tr.push("-"+ar+" "+rr+" -"+rr+" "+ar+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+ar+" -"+ar+" -"+rr+" 0 -"+rr+" c"),tr.push(ar+" -"+rr+" "+rr+" -"+ar+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),er.stream=tr.join(`
`),er},YesPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),ar=Number((nr*At.internal.Bezier_C).toFixed(5)),dr=Number((rr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+ar+" "+ar+" "+nr+" 0 "+nr+" c"),tr.push("-"+ar+" "+nr+" -"+nr+" "+ar+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+ar+" -"+ar+" -"+nr+" 0 -"+nr+" c"),tr.push(ar+" -"+nr+" "+nr+" -"+ar+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),tr.push("0 g"),tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),tr.push(rr+" 0 m"),tr.push(rr+" "+dr+" "+dr+" "+rr+" 0 "+rr+" c"),tr.push("-"+dr+" "+rr+" -"+rr+" "+dr+" -"+rr+" 0 c"),tr.push("-"+rr+" -"+dr+" -"+dr+" -"+rr+" 0 -"+rr+" c"),tr.push(dr+" -"+rr+" "+rr+" -"+dr+" "+rr+" 0 c"),tr.push("f"),tr.push("Q"),er.stream=tr.join(`
`),er},OffPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.getWidth(St)<=At.internal.getHeight(St)?At.internal.getWidth(St)/4:At.internal.getHeight(St)/4;rr=Number((.9*rr).toFixed(5));var nr=Number((2*rr).toFixed(5)),ar=Number((nr*At.internal.Bezier_C).toFixed(5));return tr.push("0.749023 g"),tr.push("q"),tr.push("1 0 0 1 "+z(At.internal.getWidth(St)/2)+" "+z(At.internal.getHeight(St)/2)+" cm"),tr.push(nr+" 0 m"),tr.push(nr+" "+ar+" "+ar+" "+nr+" 0 "+nr+" c"),tr.push("-"+ar+" "+nr+" -"+nr+" "+ar+" -"+nr+" 0 c"),tr.push("-"+nr+" -"+ar+" -"+ar+" -"+nr+" 0 -"+nr+" c"),tr.push(ar+" -"+nr+" "+nr+" -"+ar+" "+nr+" 0 c"),tr.push("f"),tr.push("Q"),er.stream=tr.join(`
`),er}},Cross:{createAppearanceStream:function(St){var er={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return er.N[St]=At.RadioButton.Cross.YesNormal,er.D[St]=At.RadioButton.Cross.YesPushDown,er},getCA:function(){return"8"},YesNormal:function(St){var er=V(St);er.scope=St.scope;var tr=[],rr=At.internal.calculateCross(St);return tr.push("q"),tr.push("1 1 "+U(At.internal.getWidth(St)-2)+" "+U(At.internal.getHeight(St)-2)+" re"),tr.push("W"),tr.push("n"),tr.push(U(rr.x1.x)+" "+U(rr.x1.y)+" m"),tr.push(U(rr.x2.x)+" "+U(rr.x2.y)+" l"),tr.push(U(rr.x4.x)+" "+U(rr.x4.y)+" m"),tr.push(U(rr.x3.x)+" "+U(rr.x3.y)+" l"),tr.push("s"),tr.push("Q"),er.stream=tr.join(`
`),er},YesPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=At.internal.calculateCross(St),rr=[];return rr.push("0.749023 g"),rr.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),rr.push("f"),rr.push("q"),rr.push("1 1 "+U(At.internal.getWidth(St)-2)+" "+U(At.internal.getHeight(St)-2)+" re"),rr.push("W"),rr.push("n"),rr.push(U(tr.x1.x)+" "+U(tr.x1.y)+" m"),rr.push(U(tr.x2.x)+" "+U(tr.x2.y)+" l"),rr.push(U(tr.x4.x)+" "+U(tr.x4.y)+" m"),rr.push(U(tr.x3.x)+" "+U(tr.x3.y)+" l"),rr.push("s"),rr.push("Q"),er.stream=rr.join(`
`),er},OffPushDown:function(St){var er=V(St);er.scope=St.scope;var tr=[];return tr.push("0.749023 g"),tr.push("0 0 "+U(At.internal.getWidth(St))+" "+U(At.internal.getHeight(St))+" re"),tr.push("f"),er.stream=tr.join(`
`),er}}},createDefaultAppearanceStream:function(St){var er=St.scope.internal.getFont(St.fontName,St.fontStyle).id,tr=St.scope.__private__.encodeColorString(St.color);return"/"+er+" "+St.fontSize+" Tf "+tr}};At.internal={Bezier_C:.551915024494,calculateCross:function(St){var er=At.internal.getWidth(St),tr=At.internal.getHeight(St),rr=Math.min(er,tr);return{x1:{x:(er-rr)/2,y:(tr-rr)/2+rr},x2:{x:(er-rr)/2+rr,y:(tr-rr)/2},x3:{x:(er-rr)/2,y:(tr-rr)/2},x4:{x:(er-rr)/2+rr,y:(tr-rr)/2+rr}}}},At.internal.getWidth=function(St){var er=0;return _typeof(St)==="object"&&(er=W(St.Rect[2])),er},At.internal.getHeight=function(St){var er=0;return _typeof(St)==="object"&&(er=W(St.Rect[3])),er};var xt=q.addField=function(St){if(at(this,St),!(St instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var er;return(er=St).scope.internal.acroformPlugin.printedOut&&(er.scope.internal.acroformPlugin.printedOut=!1,er.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),er.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(er),St.page=St.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(St){return St.reduce(function(er,tr,rr){return er[tr]=rr,er},{})}(function(St){St.__addimage__={};var er="UNKNOWN",tr={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},rr=St.__addimage__.getImageFileTypeByImageData=function(Ir,jr){var Jr,zr,Hr,Yr,nn,Qr=er;if((jr=jr||er)==="RGBA"||Ir.data!==void 0&&Ir.data instanceof Uint8ClampedArray&&"height"in Ir&&"width"in Ir)return"RGBA";if(Cr(Ir))for(nn in tr)for(Hr=tr[nn],Jr=0;Jr<Hr.length;Jr+=1){for(Yr=!0,zr=0;zr<Hr[Jr].length;zr+=1)if(Hr[Jr][zr]!==void 0&&Hr[Jr][zr]!==Ir[zr]){Yr=!1;break}if(Yr===!0){Qr=nn;break}}else for(nn in tr)for(Hr=tr[nn],Jr=0;Jr<Hr.length;Jr+=1){for(Yr=!0,zr=0;zr<Hr[Jr].length;zr+=1)if(Hr[Jr][zr]!==void 0&&Hr[Jr][zr]!==Ir.charCodeAt(zr)){Yr=!1;break}if(Yr===!0){Qr=nn;break}}return Qr===er&&jr!==er&&(Qr=jr),Qr},nr=function Ir(jr){for(var Jr=this.internal.write,zr=this.internal.putStream,Hr=(0,this.internal.getFilters)();Hr.indexOf("FlateEncode")!==-1;)Hr.splice(Hr.indexOf("FlateEncode"),1);jr.objectId=this.internal.newObject();var Yr=[];if(Yr.push({key:"Type",value:"/XObject"}),Yr.push({key:"Subtype",value:"/Image"}),Yr.push({key:"Width",value:jr.width}),Yr.push({key:"Height",value:jr.height}),jr.colorSpace===pr.INDEXED?Yr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(jr.palette.length/3-1)+" "+("sMask"in jr&&jr.sMask!==void 0?jr.objectId+2:jr.objectId+1)+" 0 R]"}):(Yr.push({key:"ColorSpace",value:"/"+jr.colorSpace}),jr.colorSpace===pr.DEVICE_CMYK&&Yr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Yr.push({key:"BitsPerComponent",value:jr.bitsPerComponent}),"decodeParameters"in jr&&jr.decodeParameters!==void 0&&Yr.push({key:"DecodeParms",value:"<<"+jr.decodeParameters+">>"}),"transparency"in jr&&Array.isArray(jr.transparency)){for(var nn="",Qr=0,Or=jr.transparency.length;Qr<Or;Qr++)nn+=jr.transparency[Qr]+" "+jr.transparency[Qr]+" ";Yr.push({key:"Mask",value:"["+nn+"]"})}jr.sMask!==void 0&&Yr.push({key:"SMask",value:jr.objectId+1+" 0 R"});var Er=jr.filter!==void 0?["/"+jr.filter]:void 0;if(zr({data:jr.data,additionalKeyValues:Yr,alreadyAppliedFilters:Er,objectId:jr.objectId}),Jr("endobj"),"sMask"in jr&&jr.sMask!==void 0){var Dr="/Predictor "+jr.predictor+" /Colors 1 /BitsPerComponent "+jr.bitsPerComponent+" /Columns "+jr.width,Tr={width:jr.width,height:jr.height,colorSpace:"DeviceGray",bitsPerComponent:jr.bitsPerComponent,decodeParameters:Dr,data:jr.sMask};"filter"in jr&&(Tr.filter=jr.filter),Ir.call(this,Tr)}if(jr.colorSpace===pr.INDEXED){var Lr=this.internal.newObject();zr({data:Pr(new Uint8Array(jr.palette)),objectId:Lr}),Jr("endobj")}},ar=function(){var Ir=this.internal.collections.addImage_images;for(var jr in Ir)nr.call(this,Ir[jr])},dr=function(){var Ir,jr=this.internal.collections.addImage_images,Jr=this.internal.write;for(var zr in jr)Jr("/I"+(Ir=jr[zr]).index,Ir.objectId,"0","R")},or=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ar),this.internal.events.subscribe("putXobjectDict",dr))},ir=function(){var Ir=this.internal.collections.addImage_images;return or.call(this),Ir},lr=function(){return Object.keys(this.internal.collections.addImage_images).length},fr=function(Ir){return typeof St["process"+Ir.toUpperCase()]=="function"},cr=function(Ir){return _typeof(Ir)==="object"&&Ir.nodeType===1},ur=function(Ir,jr){if(Ir.nodeName==="IMG"&&Ir.hasAttribute("src")){var Jr=""+Ir.getAttribute("src");if(Jr.indexOf("data:image/")===0)return u(unescape(Jr).split("base64,").pop());var zr=St.loadFile(Jr,!0);if(zr!==void 0)return zr}if(Ir.nodeName==="CANVAS"){if(Ir.width===0||Ir.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ir.width+", height: "+Ir.height);var Hr;switch(jr){case"PNG":Hr="image/png";break;case"WEBP":Hr="image/webp";break;case"JPEG":case"JPG":default:Hr="image/jpeg"}return u(Ir.toDataURL(Hr,1).split("base64,").pop())}},sr=function(Ir){var jr=this.internal.collections.addImage_images;if(jr){for(var Jr in jr)if(Ir===jr[Jr].alias)return jr[Jr]}},hr=function(Ir,jr,Jr){return Ir||jr||(Ir=-96,jr=-96),Ir<0&&(Ir=-1*Jr.width*72/Ir/this.internal.scaleFactor),jr<0&&(jr=-1*Jr.height*72/jr/this.internal.scaleFactor),Ir===0&&(Ir=jr*Jr.width/Jr.height),jr===0&&(jr=Ir*Jr.height/Jr.width),[Ir,jr]},gr=function(Ir,jr,Jr,zr,Hr,Yr){var nn=hr.call(this,Jr,zr,Hr),Qr=this.internal.getCoordinateString,Or=this.internal.getVerticalCoordinateString,Er=ir.call(this);if(Jr=nn[0],zr=nn[1],Er[Hr.index]=Hr,Yr){Yr*=Math.PI/180;var Dr=Math.cos(Yr),Tr=Math.sin(Yr),Lr=function(wr){return wr.toFixed(4)},_r=[Lr(Dr),Lr(Tr),Lr(-1*Tr),Lr(Dr),0,0,"cm"]}this.internal.write("q"),Yr?(this.internal.write([1,"0","0",1,Qr(Ir),Or(jr+zr),"cm"].join(" ")),this.internal.write(_r.join(" ")),this.internal.write([Qr(Jr),"0","0",Qr(zr),"0","0","cm"].join(" "))):this.internal.write([Qr(Jr),"0","0",Qr(zr),Qr(Ir),Or(jr+zr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Hr.index+" Do"),this.internal.write("Q")},pr=St.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};St.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var mr=St.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},vr=St.__addimage__.sHashCode=function(Ir){var jr,Jr,zr=0;if(typeof Ir=="string")for(Jr=Ir.length,jr=0;jr<Jr;jr++)zr=(zr<<5)-zr+Ir.charCodeAt(jr),zr|=0;else if(Cr(Ir))for(Jr=Ir.byteLength/2,jr=0;jr<Jr;jr++)zr=(zr<<5)-zr+Ir[jr],zr|=0;return zr},yr=St.__addimage__.validateStringAsBase64=function(Ir){(Ir=Ir||"").toString().trim();var jr=!0;return Ir.length===0&&(jr=!1),Ir.length%4!=0&&(jr=!1),/^[A-Za-z0-9+/]+$/.test(Ir.substr(0,Ir.length-2))===!1&&(jr=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ir.substr(-2))===!1&&(jr=!1),jr},br=St.__addimage__.extractImageFromDataUrl=function(Ir){var jr=(Ir=Ir||"").split("base64,"),Jr=null;if(jr.length===2){var zr=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(jr[0]);Array.isArray(zr)&&(Jr={mimeType:zr[1],charset:zr[2],data:jr[1]})}return Jr},xr=St.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};St.__addimage__.isArrayBuffer=function(Ir){return xr()&&Ir instanceof ArrayBuffer};var Cr=St.__addimage__.isArrayBufferView=function(Ir){return xr()&&typeof Uint32Array<"u"&&(Ir instanceof Int8Array||Ir instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Ir instanceof Uint8ClampedArray||Ir instanceof Int16Array||Ir instanceof Uint16Array||Ir instanceof Int32Array||Ir instanceof Uint32Array||Ir instanceof Float32Array||Ir instanceof Float64Array)},kr=St.__addimage__.binaryStringToUint8Array=function(Ir){for(var jr=Ir.length,Jr=new Uint8Array(jr),zr=0;zr<jr;zr++)Jr[zr]=Ir.charCodeAt(zr);return Jr},Pr=St.__addimage__.arrayBufferToBinaryString=function(Ir){for(var jr="",Jr=Cr(Ir)?Ir:new Uint8Array(Ir),zr=0;zr<Jr.length;zr+=8192)jr+=String.fromCharCode.apply(null,Jr.subarray(zr,zr+8192));return jr};St.addImage=function(){var Ir,jr,Jr,zr,Hr,Yr,nn,Qr,Or;if(typeof arguments[1]=="number"?(jr=er,Jr=arguments[1],zr=arguments[2],Hr=arguments[3],Yr=arguments[4],nn=arguments[5],Qr=arguments[6],Or=arguments[7]):(jr=arguments[1],Jr=arguments[2],zr=arguments[3],Hr=arguments[4],Yr=arguments[5],nn=arguments[6],Qr=arguments[7],Or=arguments[8]),_typeof(Ir=arguments[0])==="object"&&!cr(Ir)&&"imageData"in Ir){var Er=Ir;Ir=Er.imageData,jr=Er.format||jr||er,Jr=Er.x||Jr||0,zr=Er.y||zr||0,Hr=Er.w||Er.width||Hr,Yr=Er.h||Er.height||Yr,nn=Er.alias||nn,Qr=Er.compression||Qr,Or=Er.rotation||Er.angle||Or}var Dr=this.internal.getFilters();if(Qr===void 0&&Dr.indexOf("FlateEncode")!==-1&&(Qr="SLOW"),isNaN(Jr)||isNaN(zr))throw new Error("Invalid coordinates passed to jsPDF.addImage");or.call(this);var Tr=$r.call(this,Ir,jr,nn,Qr);return gr.call(this,Jr,zr,Hr,Yr,Tr,Or),this};var $r=function(Ir,jr,Jr,zr){var Hr,Yr,nn;if(typeof Ir=="string"&&rr(Ir)===er){Ir=unescape(Ir);var Qr=Kr(Ir,!1);(Qr!==""||(Qr=St.loadFile(Ir,!0))!==void 0)&&(Ir=Qr)}if(cr(Ir)&&(Ir=ur(Ir,jr)),jr=rr(Ir,jr),!fr(jr))throw new Error("addImage does not support files of type '"+jr+"', please ensure that a plugin for '"+jr+"' support is added.");if(((nn=Jr)==null||nn.length===0)&&(Jr=function(Or){return typeof Or=="string"||Cr(Or)?vr(Or):Cr(Or.data)?vr(Or.data):null}(Ir)),(Hr=sr.call(this,Jr))||(xr()&&(Ir instanceof Uint8Array||jr==="RGBA"||(Yr=Ir,Ir=kr(Ir))),Hr=this["process"+jr.toUpperCase()](Ir,lr.call(this),Jr,function(Or){return Or&&typeof Or=="string"&&(Or=Or.toUpperCase()),Or in St.image_compression?Or:mr.NONE}(zr),Yr)),!Hr)throw new Error("An unknown error occurred whilst processing the image.");return Hr},Kr=St.__addimage__.convertBase64ToBinaryString=function(Ir,jr){var Jr;jr=typeof jr!="boolean"||jr;var zr,Hr="";if(typeof Ir=="string"){zr=(Jr=br(Ir))!==null?Jr.data:Ir;try{Hr=u(zr)}catch(Yr){if(jr)throw yr(zr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Yr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Hr};St.getImageProperties=function(Ir){var jr,Jr,zr="";if(cr(Ir)&&(Ir=ur(Ir)),typeof Ir=="string"&&rr(Ir)===er&&((zr=Kr(Ir,!1))===""&&(zr=St.loadFile(Ir)||""),Ir=zr),Jr=rr(Ir),!fr(Jr))throw new Error("addImage does not support files of type '"+Jr+"', please ensure that a plugin for '"+Jr+"' support is added.");if(!xr()||Ir instanceof Uint8Array||(Ir=kr(Ir)),!(jr=this["process"+Jr.toUpperCase()](Ir)))throw new Error("An unknown error occurred whilst processing the image");return jr.fileType=Jr,jr}})(E.API),function(St){var er=function(tr){if(tr!==void 0&&tr!="")return!0};E.API.events.push(["addPage",function(tr){this.internal.getPageInfo(tr.pageNumber).pageContext.annotations=[]}]),St.events.push(["putPage",function(tr){for(var rr,nr,ar,dr=this.internal.getCoordinateString,or=this.internal.getVerticalCoordinateString,ir=this.internal.getPageInfoByObjId(tr.objId),lr=tr.pageContext.annotations,fr=!1,cr=0;cr<lr.length&&!fr;cr++)switch((rr=lr[cr]).type){case"link":(er(rr.options.url)||er(rr.options.pageNumber))&&(fr=!0);break;case"reference":case"text":case"freetext":fr=!0}if(fr!=0){this.internal.write("/Annots [");for(var ur=0;ur<lr.length;ur++){rr=lr[ur];var sr=this.internal.pdfEscape,hr=this.internal.getEncryptor(tr.objId);switch(rr.type){case"reference":this.internal.write(" "+rr.object.objId+" 0 R ");break;case"text":var gr=this.internal.newAdditionalObject(),pr=this.internal.newAdditionalObject(),mr=this.internal.getEncryptor(gr.objId),vr=rr.title||"Note";ar="<</Type /Annot /Subtype /Text "+(nr="/Rect ["+dr(rr.bounds.x)+" "+or(rr.bounds.y+rr.bounds.h)+" "+dr(rr.bounds.x+rr.bounds.w)+" "+or(rr.bounds.y)+"] ")+"/Contents ("+sr(mr(rr.contents))+")",ar+=" /Popup "+pr.objId+" 0 R",ar+=" /P "+ir.objId+" 0 R",ar+=" /T ("+sr(mr(vr))+") >>",gr.content=ar;var yr=gr.objId+" 0 R";ar="<</Type /Annot /Subtype /Popup "+(nr="/Rect ["+dr(rr.bounds.x+30)+" "+or(rr.bounds.y+rr.bounds.h)+" "+dr(rr.bounds.x+rr.bounds.w+30)+" "+or(rr.bounds.y)+"] ")+" /Parent "+yr,rr.open&&(ar+=" /Open true"),ar+=" >>",pr.content=ar,this.internal.write(gr.objId,"0 R",pr.objId,"0 R");break;case"freetext":nr="/Rect ["+dr(rr.bounds.x)+" "+or(rr.bounds.y)+" "+dr(rr.bounds.x+rr.bounds.w)+" "+or(rr.bounds.y+rr.bounds.h)+"] ";var br=rr.color||"#000000";ar="<</Type /Annot /Subtype /FreeText "+nr+"/Contents ("+sr(hr(rr.contents))+")",ar+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+br+")",ar+=" /Border [0 0 0]",ar+=" >>",this.internal.write(ar);break;case"link":if(rr.options.name){var xr=this.annotations._nameMap[rr.options.name];rr.options.pageNumber=xr.page,rr.options.top=xr.y}else rr.options.top||(rr.options.top=0);if(nr="/Rect ["+rr.finalBounds.x+" "+rr.finalBounds.y+" "+rr.finalBounds.w+" "+rr.finalBounds.h+"] ",ar="",rr.options.url)ar="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /A <</S /URI /URI ("+sr(hr(rr.options.url))+") >>";else if(rr.options.pageNumber)switch(ar="<</Type /Annot /Subtype /Link "+nr+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(rr.options.pageNumber).objId+" 0 R",rr.options.magFactor=rr.options.magFactor||"XYZ",rr.options.magFactor){case"Fit":ar+=" /Fit]";break;case"FitH":ar+=" /FitH "+rr.options.top+"]";break;case"FitV":rr.options.left=rr.options.left||0,ar+=" /FitV "+rr.options.left+"]";break;case"XYZ":default:var Cr=or(rr.options.top);rr.options.left=rr.options.left||0,rr.options.zoom===void 0&&(rr.options.zoom=0),ar+=" /XYZ "+rr.options.left+" "+Cr+" "+rr.options.zoom+"]"}ar!=""&&(ar+=" >>",this.internal.write(ar))}}this.internal.write("]")}}]),St.createAnnotation=function(tr){var rr=this.internal.getCurrentPageInfo();switch(tr.type){case"link":this.link(tr.bounds.x,tr.bounds.y,tr.bounds.w,tr.bounds.h,tr);break;case"text":case"freetext":rr.pageContext.annotations.push(tr)}},St.link=function(tr,rr,nr,ar,dr){var or=this.internal.getCurrentPageInfo(),ir=this.internal.getCoordinateString,lr=this.internal.getVerticalCoordinateString;or.pageContext.annotations.push({finalBounds:{x:ir(tr),y:lr(rr),w:ir(tr+nr),h:lr(rr+ar)},options:dr,type:"link"})},St.textWithLink=function(tr,rr,nr,ar){var dr,or,ir=this.getTextWidth(tr),lr=this.internal.getLineHeight()/this.internal.scaleFactor;if(ar.maxWidth!==void 0){or=ar.maxWidth;var fr=this.splitTextToSize(tr,or).length;dr=Math.ceil(lr*fr)}else or=ir,dr=lr;return this.text(tr,rr,nr,ar),nr+=.2*lr,ar.align==="center"&&(rr-=ir/2),ar.align==="right"&&(rr-=ir),this.link(rr,nr-lr,or,dr,ar),ir},St.getTextWidth=function(tr){var rr=this.internal.getFontSize();return this.getStringUnitWidth(tr)*rr/this.internal.scaleFactor}}(E.API),function(St){var er={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},tr={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},rr={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},nr=[1570,1571,1573,1575];St.__arabicParser__={};var ar=St.__arabicParser__.isInArabicSubstitutionA=function(gr){return er[gr.charCodeAt(0)]!==void 0},dr=St.__arabicParser__.isArabicLetter=function(gr){return typeof gr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(gr)},or=St.__arabicParser__.isArabicEndLetter=function(gr){return dr(gr)&&ar(gr)&&er[gr.charCodeAt(0)].length<=2},ir=St.__arabicParser__.isArabicAlfLetter=function(gr){return dr(gr)&&nr.indexOf(gr.charCodeAt(0))>=0};St.__arabicParser__.arabicLetterHasIsolatedForm=function(gr){return dr(gr)&&ar(gr)&&er[gr.charCodeAt(0)].length>=1};var lr=St.__arabicParser__.arabicLetterHasFinalForm=function(gr){return dr(gr)&&ar(gr)&&er[gr.charCodeAt(0)].length>=2};St.__arabicParser__.arabicLetterHasInitialForm=function(gr){return dr(gr)&&ar(gr)&&er[gr.charCodeAt(0)].length>=3};var fr=St.__arabicParser__.arabicLetterHasMedialForm=function(gr){return dr(gr)&&ar(gr)&&er[gr.charCodeAt(0)].length==4},cr=St.__arabicParser__.resolveLigatures=function(gr){var pr=0,mr=tr,vr="",yr=0;for(pr=0;pr<gr.length;pr+=1)mr[gr.charCodeAt(pr)]!==void 0?(yr++,typeof(mr=mr[gr.charCodeAt(pr)])=="number"&&(vr+=String.fromCharCode(mr),mr=tr,yr=0),pr===gr.length-1&&(mr=tr,vr+=gr.charAt(pr-(yr-1)),pr-=yr-1,yr=0)):(mr=tr,vr+=gr.charAt(pr-yr),pr-=yr,yr=0);return vr};St.__arabicParser__.isArabicDiacritic=function(gr){return gr!==void 0&&rr[gr.charCodeAt(0)]!==void 0};var ur=St.__arabicParser__.getCorrectForm=function(gr,pr,mr){return dr(gr)?ar(gr)===!1?-1:!lr(gr)||!dr(pr)&&!dr(mr)||!dr(mr)&&or(pr)||or(gr)&&!dr(pr)||or(gr)&&ir(pr)||or(gr)&&or(pr)?0:fr(gr)&&dr(pr)&&!or(pr)&&dr(mr)&&lr(mr)?3:or(gr)||!dr(mr)?1:2:-1},sr=function(gr){var pr=0,mr=0,vr=0,yr="",br="",xr="",Cr=(gr=gr||"").split("\\s+"),kr=[];for(pr=0;pr<Cr.length;pr+=1){for(kr.push(""),mr=0;mr<Cr[pr].length;mr+=1)yr=Cr[pr][mr],br=Cr[pr][mr-1],xr=Cr[pr][mr+1],dr(yr)?(vr=ur(yr,br,xr),kr[pr]+=vr!==-1?String.fromCharCode(er[yr.charCodeAt(0)][vr]):yr):kr[pr]+=yr;kr[pr]=cr(kr[pr])}return kr.join(" ")},hr=St.__arabicParser__.processArabic=St.processArabic=function(){var gr,pr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,mr=[];if(Array.isArray(pr)){var vr=0;for(mr=[],vr=0;vr<pr.length;vr+=1)Array.isArray(pr[vr])?mr.push([sr(pr[vr][0]),pr[vr][1],pr[vr][2]]):mr.push([sr(pr[vr])]);gr=mr}else gr=sr(pr);return typeof arguments[0]=="string"?gr:(arguments[0].text=gr,arguments[0])};St.events.push(["preProcessText",hr])}(E.API),E.API.autoPrint=function(St){var er;switch((St=St||{}).variant=St.variant||"non-conform",St.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){er=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+er+" 0 R")})}return this},function(St){var er=function(){var tr=void 0;Object.defineProperty(this,"pdf",{get:function(){return tr},set:function(or){tr=or}});var rr=150;Object.defineProperty(this,"width",{get:function(){return rr},set:function(or){rr=isNaN(or)||Number.isInteger(or)===!1||or<0?150:or,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=rr+1)}});var nr=300;Object.defineProperty(this,"height",{get:function(){return nr},set:function(or){nr=isNaN(or)||Number.isInteger(or)===!1||or<0?300:or,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=nr+1)}});var ar=[];Object.defineProperty(this,"childNodes",{get:function(){return ar},set:function(or){ar=or}});var dr={};Object.defineProperty(this,"style",{get:function(){return dr},set:function(or){dr=or}}),Object.defineProperty(this,"parentNode",{})};er.prototype.getContext=function(tr,rr){var nr;if((tr=tr||"2d")!=="2d")return null;for(nr in rr)this.pdf.context2d.hasOwnProperty(nr)&&(this.pdf.context2d[nr]=rr[nr]);return this.pdf.context2d._canvas=this,this.pdf.context2d},er.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},St.events.push(["initialized",function(){this.canvas=new er,this.canvas.pdf=this}])}(E.API),function(St){var er={left:0,top:0,bottom:0,right:0},tr=!1,rr=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},er),this.internal.__cell__.margins.width=this.getPageWidth(),nr.call(this))},nr=function(){this.internal.__cell__.lastCell=new ar,this.internal.__cell__.pages=1},ar=function(){var ir=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ir},set:function(gr){ir=gr}});var lr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return lr},set:function(gr){lr=gr}});var fr=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return fr},set:function(gr){fr=gr}});var cr=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return cr},set:function(gr){cr=gr}});var ur=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return ur},set:function(gr){ur=gr}});var sr=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return sr},set:function(gr){sr=gr}});var hr=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return hr},set:function(gr){hr=gr}}),this};ar.prototype.clone=function(){return new ar(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ar.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},St.setHeaderFunction=function(ir){return rr.call(this),this.internal.__cell__.headerFunction=typeof ir=="function"?ir:void 0,this},St.getTextDimensions=function(ir,lr){rr.call(this);var fr=(lr=lr||{}).fontSize||this.getFontSize(),cr=lr.font||this.getFont(),ur=lr.scaleFactor||this.internal.scaleFactor,sr=0,hr=0,gr=0,pr=this;if(!Array.isArray(ir)&&typeof ir!="string"){if(typeof ir!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ir=String(ir)}var mr=lr.maxWidth;mr>0?typeof ir=="string"?ir=this.splitTextToSize(ir,mr):Object.prototype.toString.call(ir)==="[object Array]"&&(ir=ir.reduce(function(yr,br){return yr.concat(pr.splitTextToSize(br,mr))},[])):ir=Array.isArray(ir)?ir:[ir];for(var vr=0;vr<ir.length;vr++)sr<(gr=this.getStringUnitWidth(ir[vr],{font:cr})*fr)&&(sr=gr);return sr!==0&&(hr=ir.length),{w:sr/=ur,h:Math.max((hr*fr*this.getLineHeightFactor()-fr*(this.getLineHeightFactor()-1))/ur,0)}},St.cellAddPage=function(){rr.call(this),this.addPage();var ir=this.internal.__cell__.margins||er;return this.internal.__cell__.lastCell=new ar(ir.left,ir.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var dr=St.cell=function(){var ir;ir=arguments[0]instanceof ar?arguments[0]:new ar(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),rr.call(this);var lr=this.internal.__cell__.lastCell,fr=this.internal.__cell__.padding,cr=this.internal.__cell__.margins||er,ur=this.internal.__cell__.tableHeaderRow,sr=this.internal.__cell__.printHeaders;return lr.lineNumber!==void 0&&(lr.lineNumber===ir.lineNumber?(ir.x=(lr.x||0)+(lr.width||0),ir.y=lr.y||0):lr.y+lr.height+ir.height+cr.bottom>this.getPageHeight()?(this.cellAddPage(),ir.y=cr.top,sr&&ur&&(this.printHeaderRow(ir.lineNumber,!0),ir.y+=ur[0].height)):ir.y=lr.y+lr.height||ir.y),ir.text[0]!==void 0&&(this.rect(ir.x,ir.y,ir.width,ir.height,tr===!0?"FD":void 0),ir.align==="right"?this.text(ir.text,ir.x+ir.width-fr,ir.y+fr,{align:"right",baseline:"top"}):ir.align==="center"?this.text(ir.text,ir.x+ir.width/2,ir.y+fr,{align:"center",baseline:"top",maxWidth:ir.width-fr-fr}):this.text(ir.text,ir.x+fr,ir.y+fr,{align:"left",baseline:"top",maxWidth:ir.width-fr-fr})),this.internal.__cell__.lastCell=ir,this};St.table=function(ir,lr,fr,cr,ur){if(rr.call(this),!fr)throw new Error("No data for PDF table.");var sr,hr,gr,pr,mr=[],vr=[],yr=[],br={},xr={},Cr=[],kr=[],Pr=(ur=ur||{}).autoSize||!1,$r=ur.printHeaders!==!1,Kr=ur.css&&ur.css["font-size"]!==void 0?16*ur.css["font-size"]:ur.fontSize||12,Ir=ur.margins||Object.assign({width:this.getPageWidth()},er),jr=typeof ur.padding=="number"?ur.padding:3,Jr=ur.headerBackgroundColor||"#c8c8c8",zr=ur.headerTextColor||"#000";if(nr.call(this),this.internal.__cell__.printHeaders=$r,this.internal.__cell__.margins=Ir,this.internal.__cell__.table_font_size=Kr,this.internal.__cell__.padding=jr,this.internal.__cell__.headerBackgroundColor=Jr,this.internal.__cell__.headerTextColor=zr,this.setFontSize(Kr),cr==null)vr=mr=Object.keys(fr[0]),yr=mr.map(function(){return"left"});else if(Array.isArray(cr)&&_typeof(cr[0])==="object")for(mr=cr.map(function(Er){return Er.name}),vr=cr.map(function(Er){return Er.prompt||Er.name||""}),yr=cr.map(function(Er){return Er.align||"left"}),sr=0;sr<cr.length;sr+=1)xr[cr[sr].name]=cr[sr].width*(19.049976/25.4);else Array.isArray(cr)&&typeof cr[0]=="string"&&(vr=mr=cr,yr=mr.map(function(){return"left"}));if(Pr||Array.isArray(cr)&&typeof cr[0]=="string")for(sr=0;sr<mr.length;sr+=1){for(br[pr=mr[sr]]=fr.map(function(Er){return Er[pr]}),this.setFont(void 0,"bold"),Cr.push(this.getTextDimensions(vr[sr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),hr=br[pr],this.setFont(void 0,"normal"),gr=0;gr<hr.length;gr+=1)Cr.push(this.getTextDimensions(hr[gr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);xr[pr]=Math.max.apply(null,Cr)+jr+jr,Cr=[]}if($r){var Hr={};for(sr=0;sr<mr.length;sr+=1)Hr[mr[sr]]={},Hr[mr[sr]].text=vr[sr],Hr[mr[sr]].align=yr[sr];var Yr=or.call(this,Hr,xr);kr=mr.map(function(Er){return new ar(ir,lr,xr[Er],Yr,Hr[Er].text,void 0,Hr[Er].align)}),this.setTableHeaderRow(kr),this.printHeaderRow(1,!1)}var nn=cr.reduce(function(Er,Dr){return Er[Dr.name]=Dr.align,Er},{});for(sr=0;sr<fr.length;sr+=1){"rowStart"in ur&&ur.rowStart instanceof Function&&ur.rowStart({row:sr,data:fr[sr]},this);var Qr=or.call(this,fr[sr],xr);for(gr=0;gr<mr.length;gr+=1){var Or=fr[sr][mr[gr]];"cellStart"in ur&&ur.cellStart instanceof Function&&ur.cellStart({row:sr,col:gr,data:Or},this),dr.call(this,new ar(ir,lr,xr[mr[gr]],Qr,Or,sr+2,nn[mr[gr]]))}}return this.internal.__cell__.table_x=ir,this.internal.__cell__.table_y=lr,this};var or=function(ir,lr){var fr=this.internal.__cell__.padding,cr=this.internal.__cell__.table_font_size,ur=this.internal.scaleFactor;return Object.keys(ir).map(function(sr){var hr=ir[sr];return this.splitTextToSize(hr.hasOwnProperty("text")?hr.text:hr,lr[sr]-fr-fr)},this).map(function(sr){return this.getLineHeightFactor()*sr.length*cr/ur+fr+fr},this).reduce(function(sr,hr){return Math.max(sr,hr)},0)};St.setTableHeaderRow=function(ir){rr.call(this),this.internal.__cell__.tableHeaderRow=ir},St.printHeaderRow=function(ir,lr){if(rr.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var fr;if(tr=!0,typeof this.internal.__cell__.headerFunction=="function"){var cr=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ar(cr[0],cr[1],cr[2],cr[3],void 0,-1)}this.setFont(void 0,"bold");for(var ur=[],sr=0;sr<this.internal.__cell__.tableHeaderRow.length;sr+=1){fr=this.internal.__cell__.tableHeaderRow[sr].clone(),lr&&(fr.y=this.internal.__cell__.margins.top||0,ur.push(fr)),fr.lineNumber=ir;var hr=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),dr.call(this,fr),this.setTextColor(hr)}ur.length>0&&this.setTableHeaderRow(ur),this.setFont(void 0,"normal"),tr=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(St){var er=St.family.replace(/"|'/g,"").toLowerCase(),tr=function(ar){return Pt[ar=ar||"normal"]?ar:"normal"}(St.style),rr=function(ar){if(!ar)return 400;if(typeof ar=="number")return ar>=100&&ar<=900&&ar%100==0?ar:400;if(/^\d00$/.test(ar))return parseInt(ar);switch(ar){case"bold":return 700;case"normal":default:return 400}}(St.weight),nr=function(ar){return typeof It[ar=ar||"normal"]=="number"?ar:"normal"}(St.stretch);return{family:er,style:tr,weight:rr,stretch:nr,src:St.src||[],ref:St.ref||{name:er,style:[nr,tr,rr].join(" ")}}}function Ot(St,er,tr,rr){var nr;for(nr=tr;nr>=0&&nr<er.length;nr+=rr)if(St[er[nr]])return St[er[nr]];for(nr=tr;nr>=0&&nr<er.length;nr-=rr)if(St[er[nr]])return St[er[nr]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(St){return[St.stretch,St.style,St.weight,St.family].join(" ")}function qt(St,er,tr){for(var rr=(tr=tr||{}).defaultFontFamily||"times",nr=Object.assign({},Bt,tr.genericFontFamilies||{}),ar=null,dr=null,or=0;or<er.length;++or)if(nr[(ar=jt(er[or])).family]&&(ar.family=nr[ar.family]),St.hasOwnProperty(ar.family)){dr=St[ar.family];break}if(!(dr=dr||St[rr]))throw new Error("Could not find a font-family for the rule '"+Et(ar)+"' and default family '"+rr+"'.");if(dr=function(ir,lr){if(lr[ir])return lr[ir];var fr=It[ir],cr=fr<=It.normal?-1:1,ur=Ot(lr,kt,fr,cr);if(!ur)throw new Error("Could not find a matching font-stretch value for "+ir);return ur}(ar.stretch,dr),dr=function(ir,lr){if(lr[ir])return lr[ir];for(var fr=Pt[ir],cr=0;cr<fr.length;++cr)if(lr[fr[cr]])return lr[fr[cr]];throw new Error("Could not find a matching font-style for "+ir)}(ar.style,dr),!(dr=function(ir,lr){if(lr[ir])return lr[ir];if(ir===400&&lr[500])return lr[500];if(ir===500&&lr[400])return lr[400];var fr=Ct[ir],cr=Ot(lr,Ft,fr,ir<400?-1:1);if(!cr)throw new Error("Could not find a matching font-weight for value "+ir);return cr}(ar.weight,dr)))throw new Error("Failed to resolve a font for the rule '"+Et(ar)+"'.");return dr}function Dt(St){return St.trimLeft()}function Rt(St,er){for(var tr=0;tr<St.length;){if(St.charAt(tr)===er)return[St.substring(0,tr),St.substring(tr+1)];tr+=1}return null}function Tt(St){var er=St.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return er===null?null:[er[0],St.substring(er[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(St){var er,tr,rr,nr,ar,dr,or,ir,lr,fr=function(Tr){return Tr=Tr||{},this.isStrokeTransparent=Tr.isStrokeTransparent||!1,this.strokeOpacity=Tr.strokeOpacity||1,this.strokeStyle=Tr.strokeStyle||"#000000",this.fillStyle=Tr.fillStyle||"#000000",this.isFillTransparent=Tr.isFillTransparent||!1,this.fillOpacity=Tr.fillOpacity||1,this.font=Tr.font||"10px sans-serif",this.textBaseline=Tr.textBaseline||"alphabetic",this.textAlign=Tr.textAlign||"left",this.lineWidth=Tr.lineWidth||1,this.lineJoin=Tr.lineJoin||"miter",this.lineCap=Tr.lineCap||"butt",this.path=Tr.path||[],this.transform=Tr.transform!==void 0?Tr.transform.clone():new ir,this.globalCompositeOperation=Tr.globalCompositeOperation||"normal",this.globalAlpha=Tr.globalAlpha||1,this.clip_path=Tr.clip_path||[],this.currentPoint=Tr.currentPoint||new dr,this.miterLimit=Tr.miterLimit||10,this.lastPoint=Tr.lastPoint||new dr,this.lineDashOffset=Tr.lineDashOffset||0,this.lineDash=Tr.lineDash||[],this.margin=Tr.margin||[0,0,0,0],this.prevPageLastElemOffset=Tr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Tr.ignoreClearRect!="boolean"||Tr.ignoreClearRect,this};St.events.push(["initialized",function(){this.context2d=new cr(this),er=this.internal.f2,tr=this.internal.getCoordinateString,rr=this.internal.getVerticalCoordinateString,nr=this.internal.getHorizontalCoordinate,ar=this.internal.getVerticalCoordinate,dr=this.internal.Point,or=this.internal.Rectangle,ir=this.internal.Matrix,lr=new fr}]);var cr=function(Tr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Lr=Tr;Object.defineProperty(this,"pdf",{get:function(){return Lr}});var _r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return _r},set:function(en){_r=Boolean(en)}});var wr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return wr},set:function(en){wr=Boolean(en)}});var Fr=0;Object.defineProperty(this,"posX",{get:function(){return Fr},set:function(en){isNaN(en)||(Fr=en)}});var Nr=0;Object.defineProperty(this,"posY",{get:function(){return Nr},set:function(en){isNaN(en)||(Nr=en)}}),Object.defineProperty(this,"margin",{get:function(){return lr.margin},set:function(en){var Wr;typeof en=="number"?Wr=[en,en,en,en]:((Wr=new Array(4))[0]=en[0],Wr[1]=en.length>=2?en[1]:Wr[0],Wr[2]=en.length>=3?en[2]:Wr[0],Wr[3]=en.length>=4?en[3]:Wr[1]),lr.margin=Wr}});var Br=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Br},set:function(en){Br=en}});var Ur=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ur},set:function(en){Ur=en}});var Zr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Zr},set:function(en){Zr=en}}),Object.defineProperty(this,"ctx",{get:function(){return lr},set:function(en){en instanceof fr&&(lr=en)}}),Object.defineProperty(this,"path",{get:function(){return lr.path},set:function(en){lr.path=en}});var an=[];Object.defineProperty(this,"ctxStack",{get:function(){return an},set:function(en){an=en}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(en){var Wr;Wr=ur(en),this.ctx.fillStyle=Wr.style,this.ctx.isFillTransparent=Wr.a===0,this.ctx.fillOpacity=Wr.a,this.pdf.setFillColor(Wr.r,Wr.g,Wr.b,{a:Wr.a}),this.pdf.setTextColor(Wr.r,Wr.g,Wr.b,{a:Wr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(en){var Wr=ur(en);this.ctx.strokeStyle=Wr.style,this.ctx.isStrokeTransparent=Wr.a===0,this.ctx.strokeOpacity=Wr.a,Wr.a===0?this.pdf.setDrawColor(255,255,255):(Wr.a,this.pdf.setDrawColor(Wr.r,Wr.g,Wr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(en){["butt","round","square"].indexOf(en)!==-1&&(this.ctx.lineCap=en,this.pdf.setLineCap(en))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(en){isNaN(en)||(this.ctx.lineWidth=en,this.pdf.setLineWidth(en))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(en){["bevel","round","miter"].indexOf(en)!==-1&&(this.ctx.lineJoin=en,this.pdf.setLineJoin(en))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(en){isNaN(en)||(this.ctx.miterLimit=en,this.pdf.setMiterLimit(en))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(en){this.ctx.textBaseline=en}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(en){["right","end","center","left","start"].indexOf(en)!==-1&&(this.ctx.textAlign=en)}});var qr=null;function Gr(en,Wr){if(qr===null){var cn=function(fn){var gn=[];return Object.keys(fn).forEach(function(wn){fn[wn].forEach(function(yn){var vn=null;switch(yn){case"bold":vn={family:wn,weight:"bold"};break;case"italic":vn={family:wn,style:"italic"};break;case"bolditalic":vn={family:wn,weight:"bold",style:"italic"};break;case"":case"normal":vn={family:wn}}vn!==null&&(vn.ref={name:wn,style:yn},gn.push(vn))})}),gn}(en.getFontList());qr=function(fn){for(var gn={},wn=0;wn<fn.length;++wn){var yn=jt(fn[wn]),vn=yn.family,Ln=yn.stretch,bn=yn.style,Mn=yn.weight;gn[vn]=gn[vn]||{},gn[vn][Ln]=gn[vn][Ln]||{},gn[vn][Ln][bn]=gn[vn][Ln][bn]||{},gn[vn][Ln][bn][Mn]=yn}return gn}(cn.concat(Wr))}return qr}var Xr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xr},set:function(en){qr=null,Xr=en}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(en){var Wr;if(this.ctx.font=en,(Wr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(en))!==null){var cn=Wr[1],fn=(Wr[2],Wr[3]),gn=Wr[4],wn=(Wr[5],Wr[6]),yn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gn)[2];gn=Math.floor(yn==="px"?parseFloat(gn)*this.pdf.internal.scaleFactor:yn==="em"?parseFloat(gn)*this.pdf.getFontSize():parseFloat(gn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gn);var vn=function(Gn){var Qn,zn,fo=[],no=Gn.trim();if(no==="")return Wt;if(no in Mt)return[Mt[no]];for(;no!=="";){switch(zn=null,Qn=(no=Dt(no)).charAt(0)){case'"':case"'":zn=Rt(no.substring(1),Qn);break;default:zn=Tt(no)}if(zn===null||(fo.push(zn[0]),(no=Dt(zn[1]))!==""&&no.charAt(0)!==","))return Wt;no=no.replace(/^,/,"")}return fo}(wn);if(this.fontFaces){var Ln=qt(Gr(this.pdf,this.fontFaces),vn.map(function(Gn){return{family:Gn,stretch:"normal",weight:fn,style:cn}}));this.pdf.setFont(Ln.ref.name,Ln.ref.style)}else{var bn="";(fn==="bold"||parseInt(fn,10)>=700||cn==="bold")&&(bn="bold"),cn==="italic"&&(bn+="italic"),bn.length===0&&(bn="normal");for(var Mn="",Un={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Hn=0;Hn<vn.length;Hn++){if(this.pdf.internal.getFont(vn[Hn],bn,{noFallback:!0,disableWarning:!0})!==void 0){Mn=vn[Hn];break}if(bn==="bolditalic"&&this.pdf.internal.getFont(vn[Hn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mn=vn[Hn],bn="bold";else if(this.pdf.internal.getFont(vn[Hn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mn=vn[Hn],bn="normal";break}}if(Mn===""){for(var Yn=0;Yn<vn.length;Yn++)if(Un[vn[Yn]]){Mn=Un[vn[Yn]];break}}Mn=Mn===""?"Times":Mn,this.pdf.setFont(Mn,bn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(en){this.ctx.globalCompositeOperation=en}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(en){this.ctx.globalAlpha=en}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(en){this.ctx.lineDashOffset=en,Dr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(en){this.ctx.lineDash=en,Dr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(en){this.ctx.ignoreClearRect=Boolean(en)}})};cr.prototype.setLineDash=function(Tr){this.lineDash=Tr},cr.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},cr.prototype.fill=function(){br.call(this,"fill",!1)},cr.prototype.stroke=function(){br.call(this,"stroke",!1)},cr.prototype.beginPath=function(){this.path=[{type:"begin"}]},cr.prototype.moveTo=function(Tr,Lr){if(isNaN(Tr)||isNaN(Lr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var _r=this.ctx.transform.applyToPoint(new dr(Tr,Lr));this.path.push({type:"mt",x:_r.x,y:_r.y}),this.ctx.lastPoint=new dr(Tr,Lr)},cr.prototype.closePath=function(){var Tr=new dr(0,0),Lr=0;for(Lr=this.path.length-1;Lr!==-1;Lr--)if(this.path[Lr].type==="begin"&&_typeof(this.path[Lr+1])==="object"&&typeof this.path[Lr+1].x=="number"){Tr=new dr(this.path[Lr+1].x,this.path[Lr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new dr(Tr.x,Tr.y)},cr.prototype.lineTo=function(Tr,Lr){if(isNaN(Tr)||isNaN(Lr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var _r=this.ctx.transform.applyToPoint(new dr(Tr,Lr));this.path.push({type:"lt",x:_r.x,y:_r.y}),this.ctx.lastPoint=new dr(_r.x,_r.y)},cr.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),br.call(this,null,!0)},cr.prototype.quadraticCurveTo=function(Tr,Lr,_r,wr){if(isNaN(_r)||isNaN(wr)||isNaN(Tr)||isNaN(Lr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Fr=this.ctx.transform.applyToPoint(new dr(_r,wr)),Nr=this.ctx.transform.applyToPoint(new dr(Tr,Lr));this.path.push({type:"qct",x1:Nr.x,y1:Nr.y,x:Fr.x,y:Fr.y}),this.ctx.lastPoint=new dr(Fr.x,Fr.y)},cr.prototype.bezierCurveTo=function(Tr,Lr,_r,wr,Fr,Nr){if(isNaN(Fr)||isNaN(Nr)||isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Br=this.ctx.transform.applyToPoint(new dr(Fr,Nr)),Ur=this.ctx.transform.applyToPoint(new dr(Tr,Lr)),Zr=this.ctx.transform.applyToPoint(new dr(_r,wr));this.path.push({type:"bct",x1:Ur.x,y1:Ur.y,x2:Zr.x,y2:Zr.y,x:Br.x,y:Br.y}),this.ctx.lastPoint=new dr(Br.x,Br.y)},cr.prototype.arc=function(Tr,Lr,_r,wr,Fr,Nr){if(isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr)||isNaN(Fr))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Nr=Boolean(Nr),!this.ctx.transform.isIdentity){var Br=this.ctx.transform.applyToPoint(new dr(Tr,Lr));Tr=Br.x,Lr=Br.y;var Ur=this.ctx.transform.applyToPoint(new dr(0,_r)),Zr=this.ctx.transform.applyToPoint(new dr(0,0));_r=Math.sqrt(Math.pow(Ur.x-Zr.x,2)+Math.pow(Ur.y-Zr.y,2))}Math.abs(Fr-wr)>=2*Math.PI&&(wr=0,Fr=2*Math.PI),this.path.push({type:"arc",x:Tr,y:Lr,radius:_r,startAngle:wr,endAngle:Fr,counterclockwise:Nr})},cr.prototype.arcTo=function(Tr,Lr,_r,wr,Fr){throw new Error("arcTo not implemented.")},cr.prototype.rect=function(Tr,Lr,_r,wr){if(isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Tr,Lr),this.lineTo(Tr+_r,Lr),this.lineTo(Tr+_r,Lr+wr),this.lineTo(Tr,Lr+wr),this.lineTo(Tr,Lr),this.lineTo(Tr+_r,Lr),this.lineTo(Tr,Lr)},cr.prototype.fillRect=function(Tr,Lr,_r,wr){if(isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!sr.call(this)){var Fr={};this.lineCap!=="butt"&&(Fr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Fr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Tr,Lr,_r,wr),this.fill(),Fr.hasOwnProperty("lineCap")&&(this.lineCap=Fr.lineCap),Fr.hasOwnProperty("lineJoin")&&(this.lineJoin=Fr.lineJoin)}},cr.prototype.strokeRect=function(Tr,Lr,_r,wr){if(isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");hr.call(this)||(this.beginPath(),this.rect(Tr,Lr,_r,wr),this.stroke())},cr.prototype.clearRect=function(Tr,Lr,_r,wr){if(isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Tr,Lr,_r,wr))},cr.prototype.save=function(Tr){Tr=typeof Tr!="boolean"||Tr;for(var Lr=this.pdf.internal.getCurrentPageInfo().pageNumber,_r=0;_r<this.pdf.internal.getNumberOfPages();_r++)this.pdf.setPage(_r+1),this.pdf.internal.out("q");if(this.pdf.setPage(Lr),Tr){this.ctx.fontSize=this.pdf.internal.getFontSize();var wr=new fr(this.ctx);this.ctxStack.push(this.ctx),this.ctx=wr}},cr.prototype.restore=function(Tr){Tr=typeof Tr!="boolean"||Tr;for(var Lr=this.pdf.internal.getCurrentPageInfo().pageNumber,_r=0;_r<this.pdf.internal.getNumberOfPages();_r++)this.pdf.setPage(_r+1),this.pdf.internal.out("Q");this.pdf.setPage(Lr),Tr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},cr.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var ur=function(Tr){var Lr,_r,wr,Fr;if(Tr.isCanvasGradient===!0&&(Tr=Tr.getColor()),!Tr)return{r:0,g:0,b:0,a:0,style:Tr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Tr))Lr=0,_r=0,wr=0,Fr=0;else{var Nr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Tr);if(Nr!==null)Lr=parseInt(Nr[1]),_r=parseInt(Nr[2]),wr=parseInt(Nr[3]),Fr=1;else if((Nr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Tr))!==null)Lr=parseInt(Nr[1]),_r=parseInt(Nr[2]),wr=parseInt(Nr[3]),Fr=parseFloat(Nr[4]);else{if(Fr=1,typeof Tr=="string"&&Tr.charAt(0)!=="#"){var Br=new f(Tr);Tr=Br.ok?Br.toHex():"#000000"}Tr.length===4?(Lr=Tr.substring(1,2),Lr+=Lr,_r=Tr.substring(2,3),_r+=_r,wr=Tr.substring(3,4),wr+=wr):(Lr=Tr.substring(1,3),_r=Tr.substring(3,5),wr=Tr.substring(5,7)),Lr=parseInt(Lr,16),_r=parseInt(_r,16),wr=parseInt(wr,16)}}return{r:Lr,g:_r,b:wr,a:Fr,style:Tr}},sr=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},hr=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};cr.prototype.fillText=function(Tr,Lr,_r,wr){if(isNaN(Lr)||isNaN(_r)||typeof Tr!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(wr=isNaN(wr)?void 0:wr,!sr.call(this)){var Fr=Qr(this.ctx.transform.rotation),Nr=this.ctx.transform.scaleX;jr.call(this,{text:Tr,x:Lr,y:_r,scale:Nr,angle:Fr,align:this.textAlign,maxWidth:wr})}},cr.prototype.strokeText=function(Tr,Lr,_r,wr){if(isNaN(Lr)||isNaN(_r)||typeof Tr!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!hr.call(this)){wr=isNaN(wr)?void 0:wr;var Fr=Qr(this.ctx.transform.rotation),Nr=this.ctx.transform.scaleX;jr.call(this,{text:Tr,x:Lr,y:_r,scale:Nr,renderingMode:"stroke",angle:Fr,align:this.textAlign,maxWidth:wr})}},cr.prototype.measureText=function(Tr){if(typeof Tr!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Lr=this.pdf,_r=this.pdf.internal.scaleFactor,wr=Lr.internal.getFontSize(),Fr=Lr.getStringUnitWidth(Tr)*wr/Lr.internal.scaleFactor,Nr=function(Br){var Ur=(Br=Br||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ur}}),this};return new Nr({width:Fr*=Math.round(96*_r/72*1e4)/1e4})},cr.prototype.scale=function(Tr,Lr){if(isNaN(Tr)||isNaN(Lr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var _r=new ir(Tr,0,0,Lr,0,0);this.ctx.transform=this.ctx.transform.multiply(_r)},cr.prototype.rotate=function(Tr){if(isNaN(Tr))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Lr=new ir(Math.cos(Tr),Math.sin(Tr),-Math.sin(Tr),Math.cos(Tr),0,0);this.ctx.transform=this.ctx.transform.multiply(Lr)},cr.prototype.translate=function(Tr,Lr){if(isNaN(Tr)||isNaN(Lr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var _r=new ir(1,0,0,1,Tr,Lr);this.ctx.transform=this.ctx.transform.multiply(_r)},cr.prototype.transform=function(Tr,Lr,_r,wr,Fr,Nr){if(isNaN(Tr)||isNaN(Lr)||isNaN(_r)||isNaN(wr)||isNaN(Fr)||isNaN(Nr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Br=new ir(Tr,Lr,_r,wr,Fr,Nr);this.ctx.transform=this.ctx.transform.multiply(Br)},cr.prototype.setTransform=function(Tr,Lr,_r,wr,Fr,Nr){Tr=isNaN(Tr)?1:Tr,Lr=isNaN(Lr)?0:Lr,_r=isNaN(_r)?0:_r,wr=isNaN(wr)?1:wr,Fr=isNaN(Fr)?0:Fr,Nr=isNaN(Nr)?0:Nr,this.ctx.transform=new ir(Tr,Lr,_r,wr,Fr,Nr)};var gr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};cr.prototype.drawImage=function(Tr,Lr,_r,wr,Fr,Nr,Br,Ur,Zr){var an=this.pdf.getImageProperties(Tr),qr=1,Gr=1,Xr=1,en=1;wr!==void 0&&Ur!==void 0&&(Xr=Ur/wr,en=Zr/Fr,qr=an.width/wr*Ur/wr,Gr=an.height/Fr*Zr/Fr),Nr===void 0&&(Nr=Lr,Br=_r,Lr=0,_r=0),wr!==void 0&&Ur===void 0&&(Ur=wr,Zr=Fr),wr===void 0&&Ur===void 0&&(Ur=an.width,Zr=an.height);for(var Wr,cn=this.ctx.transform.decompose(),fn=Qr(cn.rotate.shx),gn=new ir,wn=(gn=(gn=(gn=gn.multiply(cn.translate)).multiply(cn.skew)).multiply(cn.scale)).applyToRectangle(new or(Nr-Lr*Xr,Br-_r*en,wr*qr,Fr*Gr)),yn=pr.call(this,wn),vn=[],Ln=0;Ln<yn.length;Ln+=1)vn.indexOf(yn[Ln])===-1&&vn.push(yn[Ln]);if(yr(vn),this.autoPaging)for(var bn=vn[0],Mn=vn[vn.length-1],Un=bn;Un<Mn+1;Un++){this.pdf.setPage(Un);var Hn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yn=Un===1?this.posY+this.margin[0]:this.margin[0],Gn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zn=Un===1?0:Gn+(Un-2)*Qn;if(this.ctx.clip_path.length!==0){var fo=this.path;Wr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=vr(Wr,this.posX+this.margin[3],-zn+Yn+this.ctx.prevPageLastElemOffset),xr.call(this,"fill",!0),this.path=fo}var no=JSON.parse(JSON.stringify(wn));no=vr([no],this.posX+this.margin[3],-zn+Yn+this.ctx.prevPageLastElemOffset)[0];var Mo=(Un>bn||Un<Mn)&&gr.call(this);Mo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hn,Qn,null).clip().discardPath()),this.pdf.addImage(Tr,"JPEG",no.x,no.y,no.w,no.h,null,null,fn),Mo&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Tr,"JPEG",wn.x,wn.y,wn.w,wn.h,null,null,fn)};var pr=function(Tr,Lr,_r){var wr=[];Lr=Lr||this.pdf.internal.pageSize.width,_r=_r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Fr=this.posY+this.ctx.prevPageLastElemOffset;switch(Tr.type){default:case"mt":case"lt":wr.push(Math.floor((Tr.y+Fr)/_r)+1);break;case"arc":wr.push(Math.floor((Tr.y+Fr-Tr.radius)/_r)+1),wr.push(Math.floor((Tr.y+Fr+Tr.radius)/_r)+1);break;case"qct":var Nr=Or(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Tr.x1,Tr.y1,Tr.x,Tr.y);wr.push(Math.floor((Nr.y+Fr)/_r)+1),wr.push(Math.floor((Nr.y+Nr.h+Fr)/_r)+1);break;case"bct":var Br=Er(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Tr.x1,Tr.y1,Tr.x2,Tr.y2,Tr.x,Tr.y);wr.push(Math.floor((Br.y+Fr)/_r)+1),wr.push(Math.floor((Br.y+Br.h+Fr)/_r)+1);break;case"rect":wr.push(Math.floor((Tr.y+Fr)/_r)+1),wr.push(Math.floor((Tr.y+Tr.h+Fr)/_r)+1)}for(var Ur=0;Ur<wr.length;Ur+=1)for(;this.pdf.internal.getNumberOfPages()<wr[Ur];)mr.call(this);return wr},mr=function(){var Tr=this.fillStyle,Lr=this.strokeStyle,_r=this.font,wr=this.lineCap,Fr=this.lineWidth,Nr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Tr,this.strokeStyle=Lr,this.font=_r,this.lineCap=wr,this.lineWidth=Fr,this.lineJoin=Nr},vr=function(Tr,Lr,_r){for(var wr=0;wr<Tr.length;wr++)switch(Tr[wr].type){case"bct":Tr[wr].x2+=Lr,Tr[wr].y2+=_r;case"qct":Tr[wr].x1+=Lr,Tr[wr].y1+=_r;case"mt":case"lt":case"arc":default:Tr[wr].x+=Lr,Tr[wr].y+=_r}return Tr},yr=function(Tr){return Tr.sort(function(Lr,_r){return Lr-_r})},br=function(Tr,Lr){for(var _r,wr,Fr=this.fillStyle,Nr=this.strokeStyle,Br=this.lineCap,Ur=this.lineWidth,Zr=Math.abs(Ur*this.ctx.transform.scaleX),an=this.lineJoin,qr=JSON.parse(JSON.stringify(this.path)),Gr=JSON.parse(JSON.stringify(this.path)),Xr=[],en=0;en<Gr.length;en++)if(Gr[en].x!==void 0)for(var Wr=pr.call(this,Gr[en]),cn=0;cn<Wr.length;cn+=1)Xr.indexOf(Wr[cn])===-1&&Xr.push(Wr[cn]);for(var fn=0;fn<Xr.length;fn++)for(;this.pdf.internal.getNumberOfPages()<Xr[fn];)mr.call(this);if(yr(Xr),this.autoPaging)for(var gn=Xr[0],wn=Xr[Xr.length-1],yn=gn;yn<wn+1;yn++){this.pdf.setPage(yn),this.fillStyle=Fr,this.strokeStyle=Nr,this.lineCap=Br,this.lineWidth=Zr,this.lineJoin=an;var vn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ln=yn===1?this.posY+this.margin[0]:this.margin[0],bn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Un=yn===1?0:bn+(yn-2)*Mn;if(this.ctx.clip_path.length!==0){var Hn=this.path;_r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=vr(_r,this.posX+this.margin[3],-Un+Ln+this.ctx.prevPageLastElemOffset),xr.call(this,Tr,!0),this.path=Hn}if(wr=JSON.parse(JSON.stringify(qr)),this.path=vr(wr,this.posX+this.margin[3],-Un+Ln+this.ctx.prevPageLastElemOffset),Lr===!1||yn===0){var Yn=(yn>gn||yn<wn)&&gr.call(this);Yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vn,Mn,null).clip().discardPath()),xr.call(this,Tr,Lr),Yn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ur}else this.lineWidth=Zr,xr.call(this,Tr,Lr),this.lineWidth=Ur;this.path=qr},xr=function(Tr,Lr){if((Tr!=="stroke"||Lr||!hr.call(this))&&(Tr==="stroke"||Lr||!sr.call(this))){for(var _r,wr,Fr=[],Nr=this.path,Br=0;Br<Nr.length;Br++){var Ur=Nr[Br];switch(Ur.type){case"begin":Fr.push({begin:!0});break;case"close":Fr.push({close:!0});break;case"mt":Fr.push({start:Ur,deltas:[],abs:[]});break;case"lt":var Zr=Fr.length;if(Nr[Br-1]&&!isNaN(Nr[Br-1].x)&&(_r=[Ur.x-Nr[Br-1].x,Ur.y-Nr[Br-1].y],Zr>0)){for(;Zr>=0;Zr--)if(Fr[Zr-1].close!==!0&&Fr[Zr-1].begin!==!0){Fr[Zr-1].deltas.push(_r),Fr[Zr-1].abs.push(Ur);break}}break;case"bct":_r=[Ur.x1-Nr[Br-1].x,Ur.y1-Nr[Br-1].y,Ur.x2-Nr[Br-1].x,Ur.y2-Nr[Br-1].y,Ur.x-Nr[Br-1].x,Ur.y-Nr[Br-1].y],Fr[Fr.length-1].deltas.push(_r);break;case"qct":var an=Nr[Br-1].x+2/3*(Ur.x1-Nr[Br-1].x),qr=Nr[Br-1].y+2/3*(Ur.y1-Nr[Br-1].y),Gr=Ur.x+2/3*(Ur.x1-Ur.x),Xr=Ur.y+2/3*(Ur.y1-Ur.y),en=Ur.x,Wr=Ur.y;_r=[an-Nr[Br-1].x,qr-Nr[Br-1].y,Gr-Nr[Br-1].x,Xr-Nr[Br-1].y,en-Nr[Br-1].x,Wr-Nr[Br-1].y],Fr[Fr.length-1].deltas.push(_r);break;case"arc":Fr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Fr[Fr.length-1].abs)&&Fr[Fr.length-1].abs.push(Ur)}}wr=Lr?null:Tr==="stroke"?"stroke":"fill";for(var cn=!1,fn=0;fn<Fr.length;fn++)if(Fr[fn].arc)for(var gn=Fr[fn].abs,wn=0;wn<gn.length;wn++){var yn=gn[wn];yn.type==="arc"?Pr.call(this,yn.x,yn.y,yn.radius,yn.startAngle,yn.endAngle,yn.counterclockwise,void 0,Lr,!cn):Jr.call(this,yn.x,yn.y),cn=!0}else if(Fr[fn].close===!0)this.pdf.internal.out("h"),cn=!1;else if(Fr[fn].begin!==!0){var vn=Fr[fn].start.x,Ln=Fr[fn].start.y;zr.call(this,Fr[fn].deltas,vn,Ln),cn=!0}wr&&$r.call(this,wr),Lr&&Kr.call(this)}},Cr=function(Tr){var Lr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,_r=Lr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Tr-_r;case"top":return Tr+Lr-_r;case"hanging":return Tr+Lr-2*_r;case"middle":return Tr+Lr/2-_r;case"ideographic":return Tr;case"alphabetic":default:return Tr}},kr=function(Tr){return Tr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};cr.prototype.createLinearGradient=function(){var Tr=function(){};return Tr.colorStops=[],Tr.addColorStop=function(Lr,_r){this.colorStops.push([Lr,_r])},Tr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Tr.isCanvasGradient=!0,Tr},cr.prototype.createPattern=function(){return this.createLinearGradient()},cr.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Pr=function(Tr,Lr,_r,wr,Fr,Nr,Br,Ur,Zr){for(var an=Yr.call(this,_r,wr,Fr,Nr),qr=0;qr<an.length;qr++){var Gr=an[qr];qr===0&&(Zr?Ir.call(this,Gr.x1+Tr,Gr.y1+Lr):Jr.call(this,Gr.x1+Tr,Gr.y1+Lr)),Hr.call(this,Tr,Lr,Gr.x2,Gr.y2,Gr.x3,Gr.y3,Gr.x4,Gr.y4)}Ur?Kr.call(this):$r.call(this,Br)},$r=function(Tr){switch(Tr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Kr=function(){this.pdf.clip(),this.pdf.discardPath()},Ir=function(Tr,Lr){this.pdf.internal.out(tr(Tr)+" "+rr(Lr)+" m")},jr=function(Tr){var Lr;switch(Tr.align){case"right":case"end":Lr="right";break;case"center":Lr="center";break;case"left":case"start":default:Lr="left"}var _r=this.pdf.getTextDimensions(Tr.text),wr=Cr.call(this,Tr.y),Fr=kr.call(this,wr)-_r.h,Nr=this.ctx.transform.applyToPoint(new dr(Tr.x,wr)),Br=this.ctx.transform.decompose(),Ur=new ir;Ur=(Ur=(Ur=Ur.multiply(Br.translate)).multiply(Br.skew)).multiply(Br.scale);for(var Zr,an,qr,Gr=this.ctx.transform.applyToRectangle(new or(Tr.x,wr,_r.w,_r.h)),Xr=Ur.applyToRectangle(new or(Tr.x,Fr,_r.w,_r.h)),en=pr.call(this,Xr),Wr=[],cn=0;cn<en.length;cn+=1)Wr.indexOf(en[cn])===-1&&Wr.push(en[cn]);if(yr(Wr),this.autoPaging)for(var fn=Wr[0],gn=Wr[Wr.length-1],wn=fn;wn<gn+1;wn++){this.pdf.setPage(wn);var yn=wn===1?this.posY+this.margin[0]:this.margin[0],vn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ln=this.pdf.internal.pageSize.height-this.margin[2],bn=Ln-this.margin[0],Mn=this.pdf.internal.pageSize.width-this.margin[1],Un=Mn-this.margin[3],Hn=wn===1?0:vn+(wn-2)*bn;if(this.ctx.clip_path.length!==0){var Yn=this.path;Zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=vr(Zr,this.posX+this.margin[3],-1*Hn+yn),xr.call(this,"fill",!0),this.path=Yn}var Gn=vr([JSON.parse(JSON.stringify(Xr))],this.posX+this.margin[3],-Hn+yn+this.ctx.prevPageLastElemOffset)[0];Tr.scale>=.01&&(an=this.pdf.internal.getFontSize(),this.pdf.setFontSize(an*Tr.scale),qr=this.lineWidth,this.lineWidth=qr*Tr.scale);var Qn=this.autoPaging!=="text";if(Qn||Gn.y+Gn.h<=Ln){if(Qn||Gn.y>=yn&&Gn.x<=Mn){var zn=Qn?Tr.text:this.pdf.splitTextToSize(Tr.text,Tr.maxWidth||Mn-Gn.x)[0],fo=vr([JSON.parse(JSON.stringify(Gr))],this.posX+this.margin[3],-Hn+yn+this.ctx.prevPageLastElemOffset)[0],no=Qn&&(wn>fn||wn<gn)&&gr.call(this);no&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Un,bn,null).clip().discardPath()),this.pdf.text(zn,fo.x,fo.y,{angle:Tr.angle,align:Lr,renderingMode:Tr.renderingMode}),no&&this.pdf.restoreGraphicsState()}}else Gn.y<Ln&&(this.ctx.prevPageLastElemOffset+=Ln-Gn.y);Tr.scale>=.01&&(this.pdf.setFontSize(an),this.lineWidth=qr)}else Tr.scale>=.01&&(an=this.pdf.internal.getFontSize(),this.pdf.setFontSize(an*Tr.scale),qr=this.lineWidth,this.lineWidth=qr*Tr.scale),this.pdf.text(Tr.text,Nr.x+this.posX,Nr.y+this.posY,{angle:Tr.angle,align:Lr,renderingMode:Tr.renderingMode,maxWidth:Tr.maxWidth}),Tr.scale>=.01&&(this.pdf.setFontSize(an),this.lineWidth=qr)},Jr=function(Tr,Lr,_r,wr){_r=_r||0,wr=wr||0,this.pdf.internal.out(tr(Tr+_r)+" "+rr(Lr+wr)+" l")},zr=function(Tr,Lr,_r){return this.pdf.lines(Tr,Lr,_r,null,null)},Hr=function(Tr,Lr,_r,wr,Fr,Nr,Br,Ur){this.pdf.internal.out([er(nr(_r+Tr)),er(ar(wr+Lr)),er(nr(Fr+Tr)),er(ar(Nr+Lr)),er(nr(Br+Tr)),er(ar(Ur+Lr)),"c"].join(" "))},Yr=function(Tr,Lr,_r,wr){for(var Fr=2*Math.PI,Nr=Math.PI/2;Lr>_r;)Lr-=Fr;var Br=Math.abs(_r-Lr);Br<Fr&&wr&&(Br=Fr-Br);for(var Ur=[],Zr=wr?-1:1,an=Lr;Br>1e-5;){var qr=an+Zr*Math.min(Br,Nr);Ur.push(nn.call(this,Tr,an,qr)),Br-=Math.abs(qr-an),an=qr}return Ur},nn=function(Tr,Lr,_r){var wr=(_r-Lr)/2,Fr=Tr*Math.cos(wr),Nr=Tr*Math.sin(wr),Br=Fr,Ur=-Nr,Zr=Br*Br+Ur*Ur,an=Zr+Br*Fr+Ur*Nr,qr=4/3*(Math.sqrt(2*Zr*an)-an)/(Br*Nr-Ur*Fr),Gr=Br-qr*Ur,Xr=Ur+qr*Br,en=Gr,Wr=-Xr,cn=wr+Lr,fn=Math.cos(cn),gn=Math.sin(cn);return{x1:Tr*Math.cos(Lr),y1:Tr*Math.sin(Lr),x2:Gr*fn-Xr*gn,y2:Gr*gn+Xr*fn,x3:en*fn-Wr*gn,y3:en*gn+Wr*fn,x4:Tr*Math.cos(_r),y4:Tr*Math.sin(_r)}},Qr=function(Tr){return 180*Tr/Math.PI},Or=function(Tr,Lr,_r,wr,Fr,Nr){var Br=Tr+.5*(_r-Tr),Ur=Lr+.5*(wr-Lr),Zr=Fr+.5*(_r-Fr),an=Nr+.5*(wr-Nr),qr=Math.min(Tr,Fr,Br,Zr),Gr=Math.max(Tr,Fr,Br,Zr),Xr=Math.min(Lr,Nr,Ur,an),en=Math.max(Lr,Nr,Ur,an);return new or(qr,Xr,Gr-qr,en-Xr)},Er=function(Tr,Lr,_r,wr,Fr,Nr,Br,Ur){var Zr,an,qr,Gr,Xr,en,Wr,cn,fn,gn,wn,yn,vn,Ln,bn=_r-Tr,Mn=wr-Lr,Un=Fr-_r,Hn=Nr-wr,Yn=Br-Fr,Gn=Ur-Nr;for(an=0;an<41;an++)fn=(Wr=(qr=Tr+(Zr=an/40)*bn)+Zr*((Xr=_r+Zr*Un)-qr))+Zr*(Xr+Zr*(Fr+Zr*Yn-Xr)-Wr),gn=(cn=(Gr=Lr+Zr*Mn)+Zr*((en=wr+Zr*Hn)-Gr))+Zr*(en+Zr*(Nr+Zr*Gn-en)-cn),an==0?(wn=fn,yn=gn,vn=fn,Ln=gn):(wn=Math.min(wn,fn),yn=Math.min(yn,gn),vn=Math.max(vn,fn),Ln=Math.max(Ln,gn));return new or(Math.round(wn),Math.round(yn),Math.round(vn-wn),Math.round(Ln-yn))},Dr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Tr,Lr,_r=(Tr=this.ctx.lineDash,Lr=this.ctx.lineDashOffset,JSON.stringify({lineDash:Tr,lineDashOffset:Lr}));this.prevLineDash!==_r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=_r)}}})(E.API),function(St){var er=function(ar){var dr,or,ir,lr,fr,cr,ur,sr,hr,gr;for(/[^\x00-\xFF]/.test(ar),or=[],ir=0,lr=(ar+=dr="\0\0\0\0".slice(ar.length%4||4)).length;lr>ir;ir+=4)(fr=(ar.charCodeAt(ir)<<24)+(ar.charCodeAt(ir+1)<<16)+(ar.charCodeAt(ir+2)<<8)+ar.charCodeAt(ir+3))!==0?(cr=(fr=((fr=((fr=((fr=(fr-(gr=fr%85))/85)-(hr=fr%85))/85)-(sr=fr%85))/85)-(ur=fr%85))/85)%85,or.push(cr+33,ur+33,sr+33,hr+33,gr+33)):or.push(122);return function(pr,mr){for(var vr=mr;vr>0;vr--)pr.pop()}(or,dr.length),String.fromCharCode.apply(String,or)+"~>"},tr=function(ar){var dr,or,ir,lr,fr,cr=String,ur="length",sr=255,hr="charCodeAt",gr="slice",pr="replace";for(ar[gr](-2),ar=ar[gr](0,-2)[pr](/\s/g,"")[pr]("z","!!!!!"),ir=[],lr=0,fr=(ar+=dr="uuuuu"[gr](ar[ur]%5||5))[ur];fr>lr;lr+=5)or=52200625*(ar[hr](lr)-33)+614125*(ar[hr](lr+1)-33)+7225*(ar[hr](lr+2)-33)+85*(ar[hr](lr+3)-33)+(ar[hr](lr+4)-33),ir.push(sr&or>>24,sr&or>>16,sr&or>>8,sr&or);return function(mr,vr){for(var yr=vr;yr>0;yr--)mr.pop()}(ir,dr[ur]),cr.fromCharCode.apply(cr,ir)},rr=function(ar){var dr=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ar=ar.replace(/\s/g,"")).indexOf(">")!==-1&&(ar=ar.substr(0,ar.indexOf(">"))),ar.length%2&&(ar+="0"),dr.test(ar)===!1)return"";for(var or="",ir=0;ir<ar.length;ir+=2)or+=String.fromCharCode("0x"+(ar[ir]+ar[ir+1]));return or},nr=function(ar){for(var dr=new Uint8Array(ar.length),or=ar.length;or--;)dr[or]=ar.charCodeAt(or);return ar=(dr=zlibSync(dr)).reduce(function(ir,lr){return ir+String.fromCharCode(lr)},"")};St.processDataByFilters=function(ar,dr){var or=0,ir=ar||"",lr=[];for(typeof(dr=dr||[])=="string"&&(dr=[dr]),or=0;or<dr.length;or+=1)switch(dr[or]){case"ASCII85Decode":case"/ASCII85Decode":ir=tr(ir),lr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ir=er(ir),lr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ir=rr(ir),lr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ir=ir.split("").map(function(fr){return("0"+fr.charCodeAt().toString(16)).slice(-2)}).join("")+">",lr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ir=nr(ir),lr.push("/FlateDecode");break;default:throw new Error('The filter: "'+dr[or]+'" is not implemented')}return{data:ir,reverseChain:lr.reverse().join(" ")}}}(E.API),function(St){St.loadFile=function(er,tr,rr){return function(nr,ar,dr){ar=ar!==!1,dr=typeof dr=="function"?dr:function(){};var or=void 0;try{or=function(ir,lr,fr){var cr=new XMLHttpRequest,ur=0,sr=function(hr){var gr=hr.length,pr=[],mr=String.fromCharCode;for(ur=0;ur<gr;ur+=1)pr.push(mr(255&hr.charCodeAt(ur)));return pr.join("")};if(cr.open("GET",ir,!lr),cr.overrideMimeType("text/plain; charset=x-user-defined"),lr===!1&&(cr.onload=function(){cr.status===200?fr(sr(this.responseText)):fr(void 0)}),cr.send(null),lr&&cr.status===200)return sr(cr.responseText)}(nr,ar,dr)}catch{}return or}(er,tr,rr)},St.loadImageFile=St.loadFile}(E.API),function(St){function er(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.0eae2bf4.js"),[])).catch(function(dr){return Promise.reject(new Error("Could not load html2canvas: "+dr))}).then(function(dr){return dr.default?dr.default:dr})}function tr(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.b8146866.js"),[])).catch(function(dr){return Promise.reject(new Error("Could not load dompurify: "+dr))}).then(function(dr){return dr.default?dr.default:dr})}var rr=function(dr){var or=_typeof(dr);return or==="undefined"?"undefined":or==="string"||dr instanceof String?"string":or==="number"||dr instanceof Number?"number":or==="function"||dr instanceof Function?"function":dr&&dr.constructor===Array?"array":dr&&dr.nodeType===1?"element":or==="object"?"object":"unknown"},nr=function(dr,or){var ir=document.createElement(dr);for(var lr in or.className&&(ir.className=or.className),or.innerHTML&&or.dompurify&&(ir.innerHTML=or.dompurify.sanitize(or.innerHTML)),or.style)ir.style[lr]=or.style[lr];return ir},ar=function dr(or){var ir=Object.assign(dr.convert(Promise.resolve()),JSON.parse(JSON.stringify(dr.template))),lr=dr.convert(Promise.resolve(),ir);return lr=(lr=lr.setProgress(1,dr,1,[dr])).set(or)};(ar.prototype=Object.create(Promise.prototype)).constructor=ar,ar.convert=function(dr,or){return dr.__proto__=or||ar.prototype,dr},ar.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ar.prototype.from=function(dr,or){return this.then(function(){switch(or=or||function(ir){switch(rr(ir)){case"string":return"string";case"element":return ir.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(dr)){case"string":return this.then(tr).then(function(ir){return this.set({src:nr("div",{innerHTML:dr,dompurify:ir})})});case"element":return this.set({src:dr});case"canvas":return this.set({canvas:dr});case"img":return this.set({img:dr});default:return this.error("Unknown source type.")}})},ar.prototype.to=function(dr){switch(dr){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ar.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var dr={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},or=function ir(lr,fr){for(var cr=lr.nodeType===3?document.createTextNode(lr.nodeValue):lr.cloneNode(!1),ur=lr.firstChild;ur;ur=ur.nextSibling)fr!==!0&&ur.nodeType===1&&ur.nodeName==="SCRIPT"||cr.appendChild(ir(ur,fr));return lr.nodeType===1&&(lr.nodeName==="CANVAS"?(cr.width=lr.width,cr.height=lr.height,cr.getContext("2d").drawImage(lr,0,0)):lr.nodeName!=="TEXTAREA"&&lr.nodeName!=="SELECT"||(cr.value=lr.value),cr.addEventListener("load",function(){cr.scrollTop=lr.scrollTop,cr.scrollLeft=lr.scrollLeft},!0)),cr}(this.prop.src,this.opt.html2canvas.javascriptEnabled);or.tagName==="BODY"&&(dr.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=nr("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=nr("div",{className:"html2pdf__container",style:dr}),this.prop.container.appendChild(or),this.prop.container.firstChild.appendChild(nr("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ar.prototype.toCanvas=function(){var dr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(dr).then(er).then(function(or){var ir=Object.assign({},this.opt.html2canvas);return delete ir.onrendered,or(this.prop.container,ir)}).then(function(or){(this.opt.html2canvas.onrendered||function(){})(or),this.prop.canvas=or,document.body.removeChild(this.prop.overlay)})},ar.prototype.toContext2d=function(){var dr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(dr).then(er).then(function(or){var ir=this.opt.jsPDF,lr=this.opt.fontFaces,fr=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,cr=Object.assign({async:!0,allowTaint:!0,scale:fr,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete cr.onrendered,ir.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ir.context2d.posX=this.opt.x,ir.context2d.posY=this.opt.y,ir.context2d.margin=this.opt.margin,ir.context2d.fontFaces=lr,lr)for(var ur=0;ur<lr.length;++ur){var sr=lr[ur],hr=sr.src.find(function(gr){return gr.format==="truetype"});hr&&ir.addFont(hr.url,sr.ref.name,sr.ref.style)}return cr.windowHeight=cr.windowHeight||0,cr.windowHeight=cr.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):cr.windowHeight,ir.context2d.save(!0),or(this.prop.container,cr)}).then(function(or){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(or),this.prop.canvas=or,document.body.removeChild(this.prop.overlay)})},ar.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var dr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=dr})},ar.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ar.prototype.output=function(dr,or,ir){return(ir=ir||"pdf").toLowerCase()==="img"||ir.toLowerCase()==="image"?this.outputImg(dr,or):this.outputPdf(dr,or)},ar.prototype.outputPdf=function(dr,or){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(dr,or)})},ar.prototype.outputImg=function(dr){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(dr){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+dr+'" is not supported.'}})},ar.prototype.save=function(dr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(dr?{filename:dr}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ar.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ar.prototype.set=function(dr){if(rr(dr)!=="object")return this;var or=Object.keys(dr||{}).map(function(ir){if(ir in ar.template.prop)return function(){this.prop[ir]=dr[ir]};switch(ir){case"margin":return this.setMargin.bind(this,dr.margin);case"jsPDF":return function(){return this.opt.jsPDF=dr.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,dr.pageSize);default:return function(){this.opt[ir]=dr[ir]}}},this);return this.then(function(){return this.thenList(or)})},ar.prototype.get=function(dr,or){return this.then(function(){var ir=dr in ar.template.prop?this.prop[dr]:this.opt[dr];return or?or(ir):ir})},ar.prototype.setMargin=function(dr){return this.then(function(){switch(rr(dr)){case"number":dr=[dr,dr,dr,dr];case"array":if(dr.length===2&&(dr=[dr[0],dr[1],dr[0],dr[1]]),dr.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=dr}).then(this.setPageSize)},ar.prototype.setPageSize=function(dr){function or(ir,lr){return Math.floor(ir*lr/72*96)}return this.then(function(){(dr=dr||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(dr.inner={width:dr.width-this.opt.margin[1]-this.opt.margin[3],height:dr.height-this.opt.margin[0]-this.opt.margin[2]},dr.inner.px={width:or(dr.inner.width,dr.k),height:or(dr.inner.height,dr.k)},dr.inner.ratio=dr.inner.height/dr.inner.width),this.prop.pageSize=dr})},ar.prototype.setProgress=function(dr,or,ir,lr){return dr!=null&&(this.progress.val=dr),or!=null&&(this.progress.state=or),ir!=null&&(this.progress.n=ir),lr!=null&&(this.progress.stack=lr),this.progress.ratio=this.progress.val/this.progress.state,this},ar.prototype.updateProgress=function(dr,or,ir,lr){return this.setProgress(dr?this.progress.val+dr:null,or||null,ir?this.progress.n+ir:null,lr?this.progress.stack.concat(lr):null)},ar.prototype.then=function(dr,or){var ir=this;return this.thenCore(dr,or,function(lr,fr){return ir.updateProgress(null,null,1,[lr]),Promise.prototype.then.call(this,function(cr){return ir.updateProgress(null,lr),cr}).then(lr,fr).then(function(cr){return ir.updateProgress(1),cr})})},ar.prototype.thenCore=function(dr,or,ir){ir=ir||Promise.prototype.then,dr&&(dr=dr.bind(this)),or&&(or=or.bind(this));var lr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:ar.convert(Object.assign({},this),Promise.prototype),fr=ir.call(lr,dr,or);return ar.convert(fr,this.__proto__)},ar.prototype.thenExternal=function(dr,or){return Promise.prototype.then.call(this,dr,or)},ar.prototype.thenList=function(dr){var or=this;return dr.forEach(function(ir){or=or.thenCore(ir)}),or},ar.prototype.catch=function(dr){dr&&(dr=dr.bind(this));var or=Promise.prototype.catch.call(this,dr);return ar.convert(or,this)},ar.prototype.catchExternal=function(dr){return Promise.prototype.catch.call(this,dr)},ar.prototype.error=function(dr){return this.then(function(){throw new Error(dr)})},ar.prototype.using=ar.prototype.set,ar.prototype.saveAs=ar.prototype.save,ar.prototype.export=ar.prototype.output,ar.prototype.run=ar.prototype.then,E.getPageSize=function(dr,or,ir){if(_typeof(dr)==="object"){var lr=dr;dr=lr.orientation,or=lr.unit||or,ir=lr.format||ir}or=or||"mm",ir=ir||"a4",dr=(""+(dr||"P")).toLowerCase();var fr,cr=(""+ir).toLowerCase(),ur={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(or){case"pt":fr=1;break;case"mm":fr=72/25.4;break;case"cm":fr=72/2.54;break;case"in":fr=72;break;case"px":fr=.75;break;case"pc":case"em":fr=12;break;case"ex":fr=6;break;default:throw"Invalid unit: "+or}var sr,hr=0,gr=0;if(ur.hasOwnProperty(cr))hr=ur[cr][1]/fr,gr=ur[cr][0]/fr;else try{hr=ir[1],gr=ir[0]}catch{throw new Error("Invalid format: "+ir)}if(dr==="p"||dr==="portrait")dr="p",gr>hr&&(sr=gr,gr=hr,hr=sr);else{if(dr!=="l"&&dr!=="landscape")throw"Invalid orientation: "+dr;dr="l",hr>gr&&(sr=gr,gr=hr,hr=sr)}return{width:gr,height:hr,unit:or,k:fr,orientation:dr}},St.html=function(dr,or){(or=or||{}).callback=or.callback||function(){},or.html2canvas=or.html2canvas||{},or.html2canvas.canvas=or.html2canvas.canvas||this.canvas,or.jsPDF=or.jsPDF||this,or.fontFaces=or.fontFaces?or.fontFaces.map(jt):null;var ir=new ar(or);return or.worker?ir:ir.from(dr).doCallback()}}(E.API),E.API.addJS=function(St){return Ht=St,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(St){var er;St.events.push(["postPutResources",function(){var tr=this,rr=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var nr=tr.outline.render().split(/\r\n/),ar=0;ar<nr.length;ar++){var dr=nr[ar],or=rr.exec(dr);if(or!=null){var ir=or[1];tr.internal.newObjectDeferredBegin(ir,!1)}tr.internal.write(dr)}if(this.outline.createNamedDestinations){var lr=this.internal.pages.length,fr=[];for(ar=0;ar<lr;ar++){var cr=tr.internal.newObject();fr.push(cr);var ur=tr.internal.getPageInfo(ar+1);tr.internal.write("<< /D["+ur.objId+" 0 R /XYZ null null null]>> endobj")}var sr=tr.internal.newObject();for(tr.internal.write("<< /Names [ "),ar=0;ar<fr.length;ar++)tr.internal.write("(page_"+(ar+1)+")"+fr[ar]+" 0 R");tr.internal.write(" ] >>","endobj"),er=tr.internal.newObject(),tr.internal.write("<< /Dests "+sr+" 0 R"),tr.internal.write(">>","endobj")}}]),St.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+er+" 0 R"))}]),St.events.push(["initialized",function(){var tr=this;tr.outline={createNamedDestinations:!1,root:{children:[]}},tr.outline.add=function(rr,nr,ar){var dr={title:nr,options:ar,children:[]};return rr==null&&(rr=this.root),rr.children.push(dr),dr},tr.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=tr,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},tr.outline.genIds_r=function(rr){rr.id=tr.internal.newObjectDeferred();for(var nr=0;nr<rr.children.length;nr++)this.genIds_r(rr.children[nr])},tr.outline.renderRoot=function(rr){this.objStart(rr),this.line("/Type /Outlines"),rr.children.length>0&&(this.line("/First "+this.makeRef(rr.children[0])),this.line("/Last "+this.makeRef(rr.children[rr.children.length-1]))),this.line("/Count "+this.count_r({count:0},rr)),this.objEnd()},tr.outline.renderItems=function(rr){for(var nr=this.ctx.pdf.internal.getVerticalCoordinateString,ar=0;ar<rr.children.length;ar++){var dr=rr.children[ar];this.objStart(dr),this.line("/Title "+this.makeString(dr.title)),this.line("/Parent "+this.makeRef(rr)),ar>0&&this.line("/Prev "+this.makeRef(rr.children[ar-1])),ar<rr.children.length-1&&this.line("/Next "+this.makeRef(rr.children[ar+1])),dr.children.length>0&&(this.line("/First "+this.makeRef(dr.children[0])),this.line("/Last "+this.makeRef(dr.children[dr.children.length-1])));var or=this.count=this.count_r({count:0},dr);if(or>0&&this.line("/Count "+or),dr.options&&dr.options.pageNumber){var ir=tr.internal.getPageInfo(dr.options.pageNumber);this.line("/Dest ["+ir.objId+" 0 R /XYZ 0 "+nr(0)+" 0]")}this.objEnd()}for(var lr=0;lr<rr.children.length;lr++)this.renderItems(rr.children[lr])},tr.outline.line=function(rr){this.ctx.val+=rr+`\r
`},tr.outline.makeRef=function(rr){return rr.id+" 0 R"},tr.outline.makeString=function(rr){return"("+tr.internal.pdfEscape(rr)+")"},tr.outline.objStart=function(rr){this.ctx.val+=`\r
`+rr.id+` 0 obj\r
<<\r
`},tr.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},tr.outline.count_r=function(rr,nr){for(var ar=0;ar<nr.children.length;ar++)rr.count++,this.count_r(rr,nr.children[ar]);return rr.count}}])}(E.API),function(St){var er=[192,193,194,195,196,197,198,199];St.processJPEG=function(tr,rr,nr,ar,dr,or){var ir,lr=this.decode.DCT_DECODE,fr=null;if(typeof tr=="string"||this.__addimage__.isArrayBuffer(tr)||this.__addimage__.isArrayBufferView(tr)){switch(tr=dr||tr,tr=this.__addimage__.isArrayBuffer(tr)?new Uint8Array(tr):tr,(ir=function(cr){for(var ur,sr=256*cr.charCodeAt(4)+cr.charCodeAt(5),hr=cr.length,gr={width:0,height:0,numcomponents:1},pr=4;pr<hr;pr+=2){if(pr+=sr,er.indexOf(cr.charCodeAt(pr+1))!==-1){ur=256*cr.charCodeAt(pr+5)+cr.charCodeAt(pr+6),gr={width:256*cr.charCodeAt(pr+7)+cr.charCodeAt(pr+8),height:ur,numcomponents:cr.charCodeAt(pr+9)};break}sr=256*cr.charCodeAt(pr+2)+cr.charCodeAt(pr+3)}return gr}(tr=this.__addimage__.isArrayBufferView(tr)?this.__addimage__.arrayBufferToBinaryString(tr):tr)).numcomponents){case 1:or=this.color_spaces.DEVICE_GRAY;break;case 4:or=this.color_spaces.DEVICE_CMYK;break;case 3:or=this.color_spaces.DEVICE_RGB}fr={data:tr,width:ir.width,height:ir.height,colorSpace:or,bitsPerComponent:8,filter:lr,index:rr,alias:nr}}return fr}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var St,er,tr;function rr(ar){var dr,or,ir,lr,fr,cr,ur,sr,hr,gr,pr,mr,vr,yr;for(this.data=ar,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},cr=null;;){switch(dr=this.readUInt32(),hr=function(){var br,xr;for(xr=[],br=0;br<4;++br)xr.push(String.fromCharCode(this.data[this.pos++]));return xr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(dr);break;case"fcTL":cr&&this.animation.frames.push(cr),this.pos+=4,cr={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},fr=this.readUInt16(),lr=this.readUInt16()||100,cr.delay=1e3*fr/lr,cr.disposeOp=this.data[this.pos++],cr.blendOp=this.data[this.pos++],cr.data=[];break;case"IDAT":case"fdAT":for(hr==="fdAT"&&(this.pos+=4,dr-=4),ar=cr?.data||this.imgData,mr=0;0<=dr?mr<dr:mr>dr;0<=dr?++mr:--mr)ar.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(ir=this.palette.length/3,this.transparency.indexed=this.read(dr),this.transparency.indexed.length>ir)throw new Error("More transparent colors than palette size");if((gr=ir-this.transparency.indexed.length)>0)for(vr=0;0<=gr?vr<gr:vr>gr;0<=gr?++vr:--vr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(dr)[0];break;case 2:this.transparency.rgb=this.read(dr)}break;case"tEXt":ur=(pr=this.read(dr)).indexOf(0),sr=String.fromCharCode.apply(String,pr.slice(0,ur)),this.text[sr]=String.fromCharCode.apply(String,pr.slice(ur+1));break;case"IEND":return cr&&this.animation.frames.push(cr),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(yr=this.colorType)===4||yr===6,or=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*or,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=dr}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}rr.prototype.read=function(ar){var dr,or;for(or=[],dr=0;0<=ar?dr<ar:dr>ar;0<=ar?++dr:--dr)or.push(this.data[this.pos++]);return or},rr.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},rr.prototype.decodePixels=function(ar){var dr=this.pixelBitlength/8,or=new Uint8Array(this.width*this.height*dr),ir=0,lr=this;if(ar==null&&(ar=this.imgData),ar.length===0)return new Uint8Array(0);function fr(cr,ur,sr,hr){var gr,pr,mr,vr,yr,br,xr,Cr,kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr,Yr,nn,Qr,Or,Er=Math.ceil((lr.width-cr)/sr),Dr=Math.ceil((lr.height-ur)/hr),Tr=lr.width==Er&&lr.height==Dr;for(jr=dr*Er,Kr=Tr?or:new Uint8Array(jr*Dr),br=ar.length,Ir=0,pr=0;Ir<Dr&&ir<br;){switch(ar[ir++]){case 0:for(vr=Hr=0;Hr<jr;vr=Hr+=1)Kr[pr++]=ar[ir++];break;case 1:for(vr=Yr=0;Yr<jr;vr=Yr+=1)gr=ar[ir++],yr=vr<dr?0:Kr[pr-dr],Kr[pr++]=(gr+yr)%256;break;case 2:for(vr=nn=0;nn<jr;vr=nn+=1)gr=ar[ir++],mr=(vr-vr%dr)/dr,Jr=Ir&&Kr[(Ir-1)*jr+mr*dr+vr%dr],Kr[pr++]=(Jr+gr)%256;break;case 3:for(vr=Qr=0;Qr<jr;vr=Qr+=1)gr=ar[ir++],mr=(vr-vr%dr)/dr,yr=vr<dr?0:Kr[pr-dr],Jr=Ir&&Kr[(Ir-1)*jr+mr*dr+vr%dr],Kr[pr++]=(gr+Math.floor((yr+Jr)/2))%256;break;case 4:for(vr=Or=0;Or<jr;vr=Or+=1)gr=ar[ir++],mr=(vr-vr%dr)/dr,yr=vr<dr?0:Kr[pr-dr],Ir===0?Jr=zr=0:(Jr=Kr[(Ir-1)*jr+mr*dr+vr%dr],zr=mr&&Kr[(Ir-1)*jr+(mr-1)*dr+vr%dr]),xr=yr+Jr-zr,Cr=Math.abs(xr-yr),Pr=Math.abs(xr-Jr),$r=Math.abs(xr-zr),kr=Cr<=Pr&&Cr<=$r?yr:Pr<=$r?Jr:zr,Kr[pr++]=(gr+kr)%256;break;default:throw new Error("Invalid filter algorithm: "+ar[ir-1])}if(!Tr){var Lr=((ur+Ir*hr)*lr.width+cr)*dr,_r=Ir*jr;for(vr=0;vr<Er;vr+=1){for(var wr=0;wr<dr;wr+=1)or[Lr++]=Kr[_r++];Lr+=(sr-1)*dr}}Ir++}}return ar=unzlibSync(ar),lr.interlaceMethod==1?(fr(0,0,8,8),fr(4,0,8,8),fr(0,4,4,8),fr(2,0,4,4),fr(0,2,2,4),fr(1,0,2,2),fr(0,1,1,2)):fr(0,0,1,1),or},rr.prototype.decodePalette=function(){var ar,dr,or,ir,lr,fr,cr,ur,sr;for(or=this.palette,fr=this.transparency.indexed||[],lr=new Uint8Array((fr.length||0)+or.length),ir=0,ar=0,dr=cr=0,ur=or.length;cr<ur;dr=cr+=3)lr[ir++]=or[dr],lr[ir++]=or[dr+1],lr[ir++]=or[dr+2],lr[ir++]=(sr=fr[ar++])!=null?sr:255;return lr},rr.prototype.copyToImageData=function(ar,dr){var or,ir,lr,fr,cr,ur,sr,hr,gr,pr,mr;if(ir=this.colors,gr=null,or=this.hasAlphaChannel,this.palette.length&&(gr=(mr=this._decodedPalette)!=null?mr:this._decodedPalette=this.decodePalette(),ir=4,or=!0),hr=(lr=ar.data||ar).length,cr=gr||dr,fr=ur=0,ir===1)for(;fr<hr;)sr=gr?4*dr[fr/4]:ur,pr=cr[sr++],lr[fr++]=pr,lr[fr++]=pr,lr[fr++]=pr,lr[fr++]=or?cr[sr++]:255,ur=sr;else for(;fr<hr;)sr=gr?4*dr[fr/4]:ur,lr[fr++]=cr[sr++],lr[fr++]=cr[sr++],lr[fr++]=cr[sr++],lr[fr++]=or?cr[sr++]:255,ur=sr},rr.prototype.decode=function(){var ar;return ar=new Uint8Array(this.width*this.height*4),this.copyToImageData(ar,this.decodePixels()),ar};var nr=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{er=n.document.createElement("canvas"),tr=er.getContext("2d")}catch{return!1}return!0}return!1};return nr(),St=function(ar){var dr;if(nr()===!0)return tr.width=ar.width,tr.height=ar.height,tr.clearRect(0,0,ar.width,ar.height),tr.putImageData(ar,0,0),(dr=new Image).src=er.toDataURL(),dr;throw new Error("This method requires a Browser with Canvas-capability.")},rr.prototype.decodeFrames=function(ar){var dr,or,ir,lr,fr,cr,ur,sr;if(this.animation){for(sr=[],or=fr=0,cr=(ur=this.animation.frames).length;fr<cr;or=++fr)dr=ur[or],ir=ar.createImageData(dr.width,dr.height),lr=this.decodePixels(new Uint8Array(dr.data)),this.copyToImageData(ir,lr),dr.imageData=ir,sr.push(dr.image=St(ir));return sr}},rr.prototype.renderFrame=function(ar,dr){var or,ir,lr;return or=(ir=this.animation.frames)[dr],lr=ir[dr-1],dr===0&&ar.clearRect(0,0,this.width,this.height),lr?.disposeOp===1?ar.clearRect(lr.xOffset,lr.yOffset,lr.width,lr.height):lr?.disposeOp===2&&ar.putImageData(lr.imageData,lr.xOffset,lr.yOffset),or.blendOp===0&&ar.clearRect(or.xOffset,or.yOffset,or.width,or.height),ar.drawImage(or.image,or.xOffset,or.yOffset)},rr.prototype.animate=function(ar){var dr,or,ir,lr,fr,cr,ur=this;return or=0,cr=this.animation,lr=cr.numFrames,ir=cr.frames,fr=cr.numPlays,(dr=function(){var sr,hr;if(sr=or++%lr,hr=ir[sr],ur.renderFrame(ar,sr),lr>1&&or/lr<fr)return ur.animation._timeout=setTimeout(dr,hr.delay)})()},rr.prototype.stopAnimation=function(){var ar;return clearTimeout((ar=this.animation)!=null?ar._timeout:void 0)},rr.prototype.render=function(ar){var dr,or;return ar._png&&ar._png.stopAnimation(),ar._png=this,ar.width=this.width,ar.height=this.height,dr=ar.getContext("2d"),this.animation?(this.decodeFrames(dr),this.animate(dr)):(or=dr.createImageData(this.width,this.height),this.copyToImageData(or,this.decodePixels()),dr.putImageData(or,0,0))},rr}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(St){var er=0;if(St[er++]!==71||St[er++]!==73||St[er++]!==70||St[er++]!==56||(St[er++]+1&253)!=56||St[er++]!==97)throw new Error("Invalid GIF 87a/89a header.");var tr=St[er++]|St[er++]<<8,rr=St[er++]|St[er++]<<8,nr=St[er++],ar=nr>>7,dr=1<<(7&nr)+1;St[er++],St[er++];var or=null,ir=null;ar&&(or=er,ir=dr,er+=3*dr);var lr=!0,fr=[],cr=0,ur=null,sr=0,hr=null;for(this.width=tr,this.height=rr;lr&&er<St.length;)switch(St[er++]){case 33:switch(St[er++]){case 255:if(St[er]!==11||St[er+1]==78&&St[er+2]==69&&St[er+3]==84&&St[er+4]==83&&St[er+5]==67&&St[er+6]==65&&St[er+7]==80&&St[er+8]==69&&St[er+9]==50&&St[er+10]==46&&St[er+11]==48&&St[er+12]==3&&St[er+13]==1&&St[er+16]==0)er+=14,hr=St[er++]|St[er++]<<8,er++;else for(er+=12;;){if(!((Ir=St[er++])>=0))throw Error("Invalid block size");if(Ir===0)break;er+=Ir}break;case 249:if(St[er++]!==4||St[er+4]!==0)throw new Error("Invalid graphics extension block.");var gr=St[er++];cr=St[er++]|St[er++]<<8,ur=St[er++],(1&gr)==0&&(ur=null),sr=gr>>2&7,er++;break;case 254:for(;;){if(!((Ir=St[er++])>=0))throw Error("Invalid block size");if(Ir===0)break;er+=Ir}break;default:throw new Error("Unknown graphic control label: 0x"+St[er-1].toString(16))}break;case 44:var pr=St[er++]|St[er++]<<8,mr=St[er++]|St[er++]<<8,vr=St[er++]|St[er++]<<8,yr=St[er++]|St[er++]<<8,br=St[er++],xr=br>>6&1,Cr=1<<(7&br)+1,kr=or,Pr=ir,$r=!1;br>>7&&($r=!0,kr=er,Pr=Cr,er+=3*Cr);var Kr=er;for(er++;;){var Ir;if(!((Ir=St[er++])>=0))throw Error("Invalid block size");if(Ir===0)break;er+=Ir}fr.push({x:pr,y:mr,width:vr,height:yr,has_local_palette:$r,palette_offset:kr,palette_size:Pr,data_offset:Kr,data_length:er-Kr,transparent_index:ur,interlaced:!!xr,delay:cr,disposal:sr});break;case 59:lr=!1;break;default:throw new Error("Unknown gif block: 0x"+St[er-1].toString(16))}this.numFrames=function(){return fr.length},this.loopCount=function(){return hr},this.frameInfo=function(jr){if(jr<0||jr>=fr.length)throw new Error("Frame index out of range.");return fr[jr]},this.decodeAndBlitFrameBGRA=function(jr,Jr){var zr=this.frameInfo(jr),Hr=zr.width*zr.height,Yr=new Uint8Array(Hr);$t(St,zr.data_offset,Yr,Hr);var nn=zr.palette_offset,Qr=zr.transparent_index;Qr===null&&(Qr=256);var Or=zr.width,Er=tr-Or,Dr=Or,Tr=4*(zr.y*tr+zr.x),Lr=4*((zr.y+zr.height)*tr+zr.x),_r=Tr,wr=4*Er;zr.interlaced===!0&&(wr+=4*tr*7);for(var Fr=8,Nr=0,Br=Yr.length;Nr<Br;++Nr){var Ur=Yr[Nr];if(Dr===0&&(Dr=Or,(_r+=wr)>=Lr&&(wr=4*Er+4*tr*(Fr-1),_r=Tr+(Or+Er)*(Fr<<1),Fr>>=1)),Ur===Qr)_r+=4;else{var Zr=St[nn+3*Ur],an=St[nn+3*Ur+1],qr=St[nn+3*Ur+2];Jr[_r++]=qr,Jr[_r++]=an,Jr[_r++]=Zr,Jr[_r++]=255}--Dr}},this.decodeAndBlitFrameRGBA=function(jr,Jr){var zr=this.frameInfo(jr),Hr=zr.width*zr.height,Yr=new Uint8Array(Hr);$t(St,zr.data_offset,Yr,Hr);var nn=zr.palette_offset,Qr=zr.transparent_index;Qr===null&&(Qr=256);var Or=zr.width,Er=tr-Or,Dr=Or,Tr=4*(zr.y*tr+zr.x),Lr=4*((zr.y+zr.height)*tr+zr.x),_r=Tr,wr=4*Er;zr.interlaced===!0&&(wr+=4*tr*7);for(var Fr=8,Nr=0,Br=Yr.length;Nr<Br;++Nr){var Ur=Yr[Nr];if(Dr===0&&(Dr=Or,(_r+=wr)>=Lr&&(wr=4*Er+4*tr*(Fr-1),_r=Tr+(Or+Er)*(Fr<<1),Fr>>=1)),Ur===Qr)_r+=4;else{var Zr=St[nn+3*Ur],an=St[nn+3*Ur+1],qr=St[nn+3*Ur+2];Jr[_r++]=Zr,Jr[_r++]=an,Jr[_r++]=qr,Jr[_r++]=255}--Dr}}}function $t(St,er,tr,rr){for(var nr=St[er++],ar=1<<nr,dr=ar+1,or=dr+1,ir=nr+1,lr=(1<<ir)-1,fr=0,cr=0,ur=0,sr=St[er++],hr=new Int32Array(4096),gr=null;;){for(;fr<16&&sr!==0;)cr|=St[er++]<<fr,fr+=8,sr===1?sr=St[er++]:--sr;if(fr<ir)break;var pr=cr&lr;if(cr>>=ir,fr-=ir,pr!==ar){if(pr===dr)break;for(var mr=pr<or?pr:gr,vr=0,yr=mr;yr>ar;)yr=hr[yr]>>8,++vr;var br=yr;if(ur+vr+(mr!==pr?1:0)>rr)return void a.log("Warning, gif stream longer than expected.");tr[ur++]=br;var xr=ur+=vr;for(mr!==pr&&(tr[ur++]=br),yr=mr;vr--;)yr=hr[yr],tr[--xr]=255&yr,yr>>=8;gr!==null&&or<4096&&(hr[or++]=gr<<8|br,or>=lr+1&&ir<12&&(++ir,lr=lr<<1|1)),gr=pr}else or=dr+1,lr=(1<<(ir=nr+1))-1,gr=null}return ur!==rr&&a.log("Warning, gif stream shorter than expected."),tr}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(St){var er,tr,rr,nr,ar,dr=Math.floor,or=new Array(64),ir=new Array(64),lr=new Array(64),fr=new Array(64),cr=new Array(65535),ur=new Array(65535),sr=new Array(64),hr=new Array(64),gr=[],pr=0,mr=7,vr=new Array(64),yr=new Array(64),br=new Array(64),xr=new Array(256),Cr=new Array(2048),kr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Pr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$r=[0,1,2,3,4,5,6,7,8,9,10,11],Kr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ir=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],jr=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Jr=[0,1,2,3,4,5,6,7,8,9,10,11],zr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Hr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Yr(Tr,Lr){for(var _r=0,wr=0,Fr=new Array,Nr=1;Nr<=16;Nr++){for(var Br=1;Br<=Tr[Nr];Br++)Fr[Lr[wr]]=[],Fr[Lr[wr]][0]=_r,Fr[Lr[wr]][1]=Nr,wr++,_r++;_r*=2}return Fr}function nn(Tr){for(var Lr=Tr[0],_r=Tr[1]-1;_r>=0;)Lr&1<<_r&&(pr|=1<<mr),_r--,--mr<0&&(pr==255?(Qr(255),Qr(0)):Qr(pr),mr=7,pr=0)}function Qr(Tr){gr.push(Tr)}function Or(Tr){Qr(Tr>>8&255),Qr(255&Tr)}function Er(Tr,Lr,_r,wr,Fr){for(var Nr,Br=Fr[0],Ur=Fr[240],Zr=function(gn,wn){var yn,vn,Ln,bn,Mn,Un,Hn,Yn,Gn,Qn,zn=0;for(Gn=0;Gn<8;++Gn){yn=gn[zn],vn=gn[zn+1],Ln=gn[zn+2],bn=gn[zn+3],Mn=gn[zn+4],Un=gn[zn+5],Hn=gn[zn+6];var fo=yn+(Yn=gn[zn+7]),no=yn-Yn,Mo=vn+Hn,ho=vn-Hn,so=Ln+Un,Rn=Ln-Un,xn=bn+Mn,En=bn-Mn,qn=fo+xn,ba=fo-xn,oo=Mo+so,eo=Mo-so;gn[zn]=qn+oo,gn[zn+4]=qn-oo;var ga=.707106781*(eo+ba);gn[zn+2]=ba+ga,gn[zn+6]=ba-ga;var co=.382683433*((qn=En+Rn)-(eo=ho+no)),Zo=.5411961*qn+co,go=1.306562965*eo+co,qo=.707106781*(oo=Rn+ho),jo=no+qo,na=no-qo;gn[zn+5]=na+Zo,gn[zn+3]=na-Zo,gn[zn+1]=jo+go,gn[zn+7]=jo-go,zn+=8}for(zn=0,Gn=0;Gn<8;++Gn){yn=gn[zn],vn=gn[zn+8],Ln=gn[zn+16],bn=gn[zn+24],Mn=gn[zn+32],Un=gn[zn+40],Hn=gn[zn+48];var bo=yn+(Yn=gn[zn+56]),Jo=yn-Yn,Bo=vn+Hn,Fo=vn-Hn,ko=Ln+Un,Eo=Ln-Un,Ro=bn+Mn,es=bn-Mn,ts=bo+Ro,gs=bo-Ro,ms=Bo+ko,rs=Bo-ko;gn[zn]=ts+ms,gn[zn+32]=ts-ms;var cs=.707106781*(rs+gs);gn[zn+16]=gs+cs,gn[zn+48]=gs-cs;var ws=.382683433*((ts=es+Eo)-(rs=Fo+Jo)),Us=.5411961*ts+ws,xl=1.306562965*rs+ws,_l=.707106781*(ms=Eo+Fo),Cl=Jo+_l,Bs=Jo-_l;gn[zn+40]=Bs+Us,gn[zn+24]=Bs-Us,gn[zn+8]=Cl+xl,gn[zn+56]=Cl-xl,zn++}for(Gn=0;Gn<64;++Gn)Qn=gn[Gn]*wn[Gn],sr[Gn]=Qn>0?Qn+.5|0:Qn-.5|0;return sr}(Tr,Lr),an=0;an<64;++an)hr[kr[an]]=Zr[an];var qr=hr[0]-_r;_r=hr[0],qr==0?nn(wr[0]):(nn(wr[ur[Nr=32767+qr]]),nn(cr[Nr]));for(var Gr=63;Gr>0&&hr[Gr]==0;)Gr--;if(Gr==0)return nn(Br),_r;for(var Xr,en=1;en<=Gr;){for(var Wr=en;hr[en]==0&&en<=Gr;)++en;var cn=en-Wr;if(cn>=16){Xr=cn>>4;for(var fn=1;fn<=Xr;++fn)nn(Ur);cn&=15}Nr=32767+hr[en],nn(Fr[(cn<<4)+ur[Nr]]),nn(cr[Nr]),en++}return Gr!=63&&nn(Br),_r}function Dr(Tr){Tr=Math.min(Math.max(Tr,1),100),ar!=Tr&&(function(Lr){for(var _r=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],wr=0;wr<64;wr++){var Fr=dr((_r[wr]*Lr+50)/100);Fr=Math.min(Math.max(Fr,1),255),or[kr[wr]]=Fr}for(var Nr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Br=0;Br<64;Br++){var Ur=dr((Nr[Br]*Lr+50)/100);Ur=Math.min(Math.max(Ur,1),255),ir[kr[Br]]=Ur}for(var Zr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],an=0,qr=0;qr<8;qr++)for(var Gr=0;Gr<8;Gr++)lr[an]=1/(or[kr[an]]*Zr[qr]*Zr[Gr]*8),fr[an]=1/(ir[kr[an]]*Zr[qr]*Zr[Gr]*8),an++}(Tr<50?Math.floor(5e3/Tr):Math.floor(200-2*Tr)),ar=Tr)}this.encode=function(Tr,Lr){Lr&&Dr(Lr),gr=new Array,pr=0,mr=7,Or(65496),Or(65504),Or(16),Qr(74),Qr(70),Qr(73),Qr(70),Qr(0),Qr(1),Qr(1),Qr(0),Or(1),Or(1),Qr(0),Qr(0),function(){Or(65499),Or(132),Qr(0);for(var vn=0;vn<64;vn++)Qr(or[vn]);Qr(1);for(var Ln=0;Ln<64;Ln++)Qr(ir[Ln])}(),function(vn,Ln){Or(65472),Or(17),Qr(8),Or(Ln),Or(vn),Qr(3),Qr(1),Qr(17),Qr(0),Qr(2),Qr(17),Qr(1),Qr(3),Qr(17),Qr(1)}(Tr.width,Tr.height),function(){Or(65476),Or(418),Qr(0);for(var vn=0;vn<16;vn++)Qr(Pr[vn+1]);for(var Ln=0;Ln<=11;Ln++)Qr($r[Ln]);Qr(16);for(var bn=0;bn<16;bn++)Qr(Kr[bn+1]);for(var Mn=0;Mn<=161;Mn++)Qr(Ir[Mn]);Qr(1);for(var Un=0;Un<16;Un++)Qr(jr[Un+1]);for(var Hn=0;Hn<=11;Hn++)Qr(Jr[Hn]);Qr(17);for(var Yn=0;Yn<16;Yn++)Qr(zr[Yn+1]);for(var Gn=0;Gn<=161;Gn++)Qr(Hr[Gn])}(),Or(65498),Or(12),Qr(3),Qr(1),Qr(0),Qr(2),Qr(17),Qr(3),Qr(17),Qr(0),Qr(63),Qr(0);var _r=0,wr=0,Fr=0;pr=0,mr=7,this.encode.displayName="_encode_";for(var Nr,Br,Ur,Zr,an,qr,Gr,Xr,en,Wr=Tr.data,cn=Tr.width,fn=Tr.height,gn=4*cn,wn=0;wn<fn;){for(Nr=0;Nr<gn;){for(an=gn*wn+Nr,Gr=-1,Xr=0,en=0;en<64;en++)qr=an+(Xr=en>>3)*gn+(Gr=4*(7&en)),wn+Xr>=fn&&(qr-=gn*(wn+1+Xr-fn)),Nr+Gr>=gn&&(qr-=Nr+Gr-gn+4),Br=Wr[qr++],Ur=Wr[qr++],Zr=Wr[qr++],vr[en]=(Cr[Br]+Cr[Ur+256>>0]+Cr[Zr+512>>0]>>16)-128,yr[en]=(Cr[Br+768>>0]+Cr[Ur+1024>>0]+Cr[Zr+1280>>0]>>16)-128,br[en]=(Cr[Br+1280>>0]+Cr[Ur+1536>>0]+Cr[Zr+1792>>0]>>16)-128;_r=Er(vr,lr,_r,er,rr),wr=Er(yr,fr,wr,tr,nr),Fr=Er(br,fr,Fr,tr,nr),Nr+=32}wn+=8}if(mr>=0){var yn=[];yn[1]=mr+1,yn[0]=(1<<mr+1)-1,nn(yn)}return Or(65497),new Uint8Array(gr)},St=St||50,function(){for(var Tr=String.fromCharCode,Lr=0;Lr<256;Lr++)xr[Lr]=Tr(Lr)}(),er=Yr(Pr,$r),tr=Yr(jr,Jr),rr=Yr(Kr,Ir),nr=Yr(zr,Hr),function(){for(var Tr=1,Lr=2,_r=1;_r<=15;_r++){for(var wr=Tr;wr<Lr;wr++)ur[32767+wr]=_r,cr[32767+wr]=[],cr[32767+wr][1]=_r,cr[32767+wr][0]=wr;for(var Fr=-(Lr-1);Fr<=-Tr;Fr++)ur[32767+Fr]=_r,cr[32767+Fr]=[],cr[32767+Fr][1]=_r,cr[32767+Fr][0]=Lr-1+Fr;Tr<<=1,Lr<<=1}}(),function(){for(var Tr=0;Tr<256;Tr++)Cr[Tr]=19595*Tr,Cr[Tr+256>>0]=38470*Tr,Cr[Tr+512>>0]=7471*Tr+32768,Cr[Tr+768>>0]=-11059*Tr,Cr[Tr+1024>>0]=-21709*Tr,Cr[Tr+1280>>0]=32768*Tr+8421375,Cr[Tr+1536>>0]=-27439*Tr,Cr[Tr+1792>>0]=-5329*Tr}(),Dr(St)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(St,er){if(this.pos=0,this.buffer=St,this.datav=new DataView(St.buffer),this.is_with_alpha=!!er,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(St){function er(Pr){if(!Pr)throw Error("assert :P")}function tr(Pr,$r,Kr){for(var Ir=0;4>Ir;Ir++)if(Pr[$r+Ir]!=Kr.charCodeAt(Ir))return!0;return!1}function rr(Pr,$r,Kr,Ir,jr){for(var Jr=0;Jr<jr;Jr++)Pr[$r+Jr]=Kr[Ir+Jr]}function nr(Pr,$r,Kr,Ir){for(var jr=0;jr<Ir;jr++)Pr[$r+jr]=Kr}function ar(Pr){return new Int32Array(Pr)}function dr(Pr,$r){for(var Kr=[],Ir=0;Ir<Pr;Ir++)Kr.push(new $r);return Kr}function or(Pr,$r){var Kr=[];return function Ir(jr,Jr,zr){for(var Hr=zr[Jr],Yr=0;Yr<Hr&&(jr.push(zr.length>Jr+1?[]:new $r),!(zr.length<Jr+1));Yr++)Ir(jr[Yr],Jr+1,zr)}(Kr,0,Pr),Kr}var ir=function(){var Pr=this;function $r(Sr,Ar){for(var Rr=1<<Ar-1>>>0;Sr&Rr;)Rr>>>=1;return Rr?(Sr&Rr-1)+Rr:Sr}function Kr(Sr,Ar,Rr,Vr,tn){er(!(Vr%Rr));do Sr[Ar+(Vr-=Rr)]=tn;while(0<Vr)}function Ir(Sr,Ar,Rr,Vr,tn){if(er(2328>=tn),512>=tn)var on=ar(512);else if((on=ar(tn))==null)return 0;return function(sn,un,dn,hn,_n,On){var Fn,kn,Bn=un,In=1<<dn,Cn=ar(16),Tn=ar(16);for(er(_n!=0),er(hn!=null),er(sn!=null),er(0<dn),kn=0;kn<_n;++kn){if(15<hn[kn])return 0;++Cn[hn[kn]]}if(Cn[0]==_n)return 0;for(Tn[1]=0,Fn=1;15>Fn;++Fn){if(Cn[Fn]>1<<Fn)return 0;Tn[Fn+1]=Tn[Fn]+Cn[Fn]}for(kn=0;kn<_n;++kn)Fn=hn[kn],0<hn[kn]&&(On[Tn[Fn]++]=kn);if(Tn[15]==1)return(hn=new jr).g=0,hn.value=On[0],Kr(sn,Bn,1,In,hn),In;var $n,Vn=-1,jn=In-1,_i=0,Xn=1,$a=1,Kn=1<<dn;for(kn=0,Fn=1,_n=2;Fn<=dn;++Fn,_n<<=1){if(Xn+=$a<<=1,0>($a-=Cn[Fn]))return 0;for(;0<Cn[Fn];--Cn[Fn])(hn=new jr).g=Fn,hn.value=On[kn++],Kr(sn,Bn+_i,_n,Kn,hn),_i=$r(_i,Fn)}for(Fn=dn+1,_n=2;15>=Fn;++Fn,_n<<=1){if(Xn+=$a<<=1,0>($a-=Cn[Fn]))return 0;for(;0<Cn[Fn];--Cn[Fn]){if(hn=new jr,(_i&jn)!=Vn){for(Bn+=Kn,$n=1<<(Vn=Fn)-dn;15>Vn&&!(0>=($n-=Cn[Vn]));)++Vn,$n<<=1;In+=Kn=1<<($n=Vn-dn),sn[un+(Vn=_i&jn)].g=$n+dn,sn[un+Vn].value=Bn-un-Vn}hn.g=Fn-dn,hn.value=On[kn++],Kr(sn,Bn+(_i>>dn),_n,Kn,hn),_i=$r(_i,Fn)}}return Xn!=2*Tn[15]-1?0:In}(Sr,Ar,Rr,Vr,tn,on)}function jr(){this.value=this.g=0}function Jr(){this.value=this.g=0}function zr(){this.G=dr(5,jr),this.H=ar(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=dr(ds,Jr)}function Hr(Sr,Ar,Rr,Vr){er(Sr!=null),er(Ar!=null),er(2147483648>Vr),Sr.Ca=254,Sr.I=0,Sr.b=-8,Sr.Ka=0,Sr.oa=Ar,Sr.pa=Rr,Sr.Jd=Ar,Sr.Yc=Rr+Vr,Sr.Zc=4<=Vr?Rr+Vr-4+1:Rr,Nr(Sr)}function Yr(Sr,Ar){for(var Rr=0;0<Ar--;)Rr|=Ur(Sr,128)<<Ar;return Rr}function nn(Sr,Ar){var Rr=Yr(Sr,Ar);return Br(Sr)?-Rr:Rr}function Qr(Sr,Ar,Rr,Vr){var tn,on=0;for(er(Sr!=null),er(Ar!=null),er(4294967288>Vr),Sr.Sb=Vr,Sr.Ra=0,Sr.u=0,Sr.h=0,4<Vr&&(Vr=4),tn=0;tn<Vr;++tn)on+=Ar[Rr+tn]<<8*tn;Sr.Ra=on,Sr.bb=Vr,Sr.oa=Ar,Sr.pa=Rr}function Or(Sr){for(;8<=Sr.u&&Sr.bb<Sr.Sb;)Sr.Ra>>>=8,Sr.Ra+=Sr.oa[Sr.pa+Sr.bb]<<Eu-8>>>0,++Sr.bb,Sr.u-=8;_r(Sr)&&(Sr.h=1,Sr.u=0)}function Er(Sr,Ar){if(er(0<=Ar),!Sr.h&&Ar<=ku){var Rr=Lr(Sr)&Tu[Ar];return Sr.u+=Ar,Or(Sr),Rr}return Sr.h=1,Sr.u=0}function Dr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Tr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Lr(Sr){return Sr.Ra>>>(Sr.u&Eu-1)>>>0}function _r(Sr){return er(Sr.bb<=Sr.Sb),Sr.h||Sr.bb==Sr.Sb&&Sr.u>Eu}function wr(Sr,Ar){Sr.u=Ar,Sr.h=_r(Sr)}function Fr(Sr){Sr.u>=ap&&(er(Sr.u>=ap),Or(Sr))}function Nr(Sr){er(Sr!=null&&Sr.oa!=null),Sr.pa<Sr.Zc?(Sr.I=(Sr.oa[Sr.pa++]|Sr.I<<8)>>>0,Sr.b+=8):(er(Sr!=null&&Sr.oa!=null),Sr.pa<Sr.Yc?(Sr.b+=8,Sr.I=Sr.oa[Sr.pa++]|Sr.I<<8):Sr.Ka?Sr.b=0:(Sr.I<<=8,Sr.b+=8,Sr.Ka=1))}function Br(Sr){return Yr(Sr,1)}function Ur(Sr,Ar){var Rr=Sr.Ca;0>Sr.b&&Nr(Sr);var Vr=Sr.b,tn=Rr*Ar>>>8,on=(Sr.I>>>Vr>tn)+0;for(on?(Rr-=tn,Sr.I-=tn+1<<Vr>>>0):Rr=tn+1,Vr=Rr,tn=0;256<=Vr;)tn+=8,Vr>>=8;return Vr=7^tn+fs[Vr],Sr.b-=Vr,Sr.Ca=(Rr<<Vr)-1,on}function Zr(Sr,Ar,Rr){Sr[Ar+0]=Rr>>24&255,Sr[Ar+1]=Rr>>16&255,Sr[Ar+2]=Rr>>8&255,Sr[Ar+3]=Rr>>0&255}function an(Sr,Ar){return Sr[Ar+0]<<0|Sr[Ar+1]<<8}function qr(Sr,Ar){return an(Sr,Ar)|Sr[Ar+2]<<16}function Gr(Sr,Ar){return an(Sr,Ar)|an(Sr,Ar+2)<<16}function Xr(Sr,Ar){var Rr=1<<Ar;return er(Sr!=null),er(0<Ar),Sr.X=ar(Rr),Sr.X==null?0:(Sr.Mb=32-Ar,Sr.Xa=Ar,1)}function en(Sr,Ar){er(Sr!=null),er(Ar!=null),er(Sr.Xa==Ar.Xa),rr(Ar.X,0,Sr.X,0,1<<Ar.Xa)}function Wr(){this.X=[],this.Xa=this.Mb=0}function cn(Sr,Ar,Rr,Vr){er(Rr!=null),er(Vr!=null);var tn=Rr[0],on=Vr[0];return tn==0&&(tn=(Sr*on+Ar/2)/Ar),on==0&&(on=(Ar*tn+Sr/2)/Sr),0>=tn||0>=on?0:(Rr[0]=tn,Vr[0]=on,1)}function fn(Sr,Ar){return Sr+(1<<Ar)-1>>>Ar}function gn(Sr,Ar){return((4278255360&Sr)+(4278255360&Ar)>>>0&4278255360)+((16711935&Sr)+(16711935&Ar)>>>0&16711935)>>>0}function wn(Sr,Ar){Pr[Ar]=function(Rr,Vr,tn,on,sn,un,dn){var hn;for(hn=0;hn<sn;++hn){var _n=Pr[Sr](un[dn+hn-1],tn,on+hn);un[dn+hn]=gn(Rr[Vr+hn],_n)}}}function yn(){this.ud=this.hd=this.jd=0}function vn(Sr,Ar){return((4278124286&(Sr^Ar))>>>1)+(Sr&Ar)>>>0}function Ln(Sr){return 0<=Sr&&256>Sr?Sr:0>Sr?0:255<Sr?255:void 0}function bn(Sr,Ar){return Ln(Sr+(Sr-Ar+.5>>1))}function Mn(Sr,Ar,Rr){return Math.abs(Ar-Rr)-Math.abs(Sr-Rr)}function Un(Sr,Ar,Rr,Vr,tn,on,sn){for(Vr=on[sn-1],Rr=0;Rr<tn;++Rr)on[sn+Rr]=Vr=gn(Sr[Ar+Rr],Vr)}function Hn(Sr,Ar,Rr,Vr,tn){var on;for(on=0;on<Rr;++on){var sn=Sr[Ar+on],un=sn>>8&255,dn=16711935&(dn=(dn=16711935&sn)+((un<<16)+un));Vr[tn+on]=(4278255360&sn)+dn>>>0}}function Yn(Sr,Ar){Ar.jd=Sr>>0&255,Ar.hd=Sr>>8&255,Ar.ud=Sr>>16&255}function Gn(Sr,Ar,Rr,Vr,tn,on){var sn;for(sn=0;sn<Vr;++sn){var un=Ar[Rr+sn],dn=un>>>8,hn=un,_n=255&(_n=(_n=un>>>16)+((Sr.jd<<24>>24)*(dn<<24>>24)>>>5));hn=255&(hn=(hn=hn+((Sr.hd<<24>>24)*(dn<<24>>24)>>>5))+((Sr.ud<<24>>24)*(_n<<24>>24)>>>5)),tn[on+sn]=(4278255360&un)+(_n<<16)+hn}}function Qn(Sr,Ar,Rr,Vr,tn){Pr[Ar]=function(on,sn,un,dn,hn,_n,On,Fn,kn){for(dn=On;dn<Fn;++dn)for(On=0;On<kn;++On)hn[_n++]=tn(un[Vr(on[sn++])])},Pr[Sr]=function(on,sn,un,dn,hn,_n,On){var Fn=8>>on.b,kn=on.Ea,Bn=on.K[0],In=on.w;if(8>Fn)for(on=(1<<on.b)-1,In=(1<<Fn)-1;sn<un;++sn){var Cn,Tn=0;for(Cn=0;Cn<kn;++Cn)Cn&on||(Tn=Vr(dn[hn++])),_n[On++]=tn(Bn[Tn&In]),Tn>>=Fn}else Pr["VP8LMapColor"+Rr](dn,hn,Bn,In,_n,On,sn,un,kn)}}function zn(Sr,Ar,Rr,Vr,tn){for(Rr=Ar+Rr;Ar<Rr;){var on=Sr[Ar++];Vr[tn++]=on>>16&255,Vr[tn++]=on>>8&255,Vr[tn++]=on>>0&255}}function fo(Sr,Ar,Rr,Vr,tn){for(Rr=Ar+Rr;Ar<Rr;){var on=Sr[Ar++];Vr[tn++]=on>>16&255,Vr[tn++]=on>>8&255,Vr[tn++]=on>>0&255,Vr[tn++]=on>>24&255}}function no(Sr,Ar,Rr,Vr,tn){for(Rr=Ar+Rr;Ar<Rr;){var on=(sn=Sr[Ar++])>>16&240|sn>>12&15,sn=sn>>0&240|sn>>28&15;Vr[tn++]=on,Vr[tn++]=sn}}function Mo(Sr,Ar,Rr,Vr,tn){for(Rr=Ar+Rr;Ar<Rr;){var on=(sn=Sr[Ar++])>>16&248|sn>>13&7,sn=sn>>5&224|sn>>3&31;Vr[tn++]=on,Vr[tn++]=sn}}function ho(Sr,Ar,Rr,Vr,tn){for(Rr=Ar+Rr;Ar<Rr;){var on=Sr[Ar++];Vr[tn++]=on>>0&255,Vr[tn++]=on>>8&255,Vr[tn++]=on>>16&255}}function so(Sr,Ar,Rr,Vr,tn,on){if(on==0)for(Rr=Ar+Rr;Ar<Rr;)Zr(Vr,((on=Sr[Ar++])[0]>>24|on[1]>>8&65280|on[2]<<8&16711680|on[3]<<24)>>>0),tn+=32;else rr(Vr,tn,Sr,Ar,Rr)}function Rn(Sr,Ar){Pr[Ar][0]=Pr[Sr+"0"],Pr[Ar][1]=Pr[Sr+"1"],Pr[Ar][2]=Pr[Sr+"2"],Pr[Ar][3]=Pr[Sr+"3"],Pr[Ar][4]=Pr[Sr+"4"],Pr[Ar][5]=Pr[Sr+"5"],Pr[Ar][6]=Pr[Sr+"6"],Pr[Ar][7]=Pr[Sr+"7"],Pr[Ar][8]=Pr[Sr+"8"],Pr[Ar][9]=Pr[Sr+"9"],Pr[Ar][10]=Pr[Sr+"10"],Pr[Ar][11]=Pr[Sr+"11"],Pr[Ar][12]=Pr[Sr+"12"],Pr[Ar][13]=Pr[Sr+"13"],Pr[Ar][14]=Pr[Sr+"0"],Pr[Ar][15]=Pr[Sr+"0"]}function xn(Sr){return Sr==Gp||Sr==Yp||Sr==Tp||Sr==Xp}function En(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ba(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new En,this.f.kb=new qn,this.sd=null}function oo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function eo(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ga(Sr){return alert("todo:WebPSamplerProcessPlane"),Sr.T}function co(Sr,Ar){var Rr=Sr.T,Vr=Ar.ba.f.RGBA,tn=Vr.eb,on=Vr.fb+Sr.ka*Vr.A,sn=Ps[Ar.ba.S],un=Sr.y,dn=Sr.O,hn=Sr.f,_n=Sr.N,On=Sr.ea,Fn=Sr.W,kn=Ar.cc,Bn=Ar.dc,In=Ar.Mc,Cn=Ar.Nc,Tn=Sr.ka,$n=Sr.ka+Sr.T,Vn=Sr.U,jn=Vn+1>>1;for(Tn==0?sn(un,dn,null,null,hn,_n,On,Fn,hn,_n,On,Fn,tn,on,null,null,Vn):(sn(Ar.ec,Ar.fc,un,dn,kn,Bn,In,Cn,hn,_n,On,Fn,tn,on-Vr.A,tn,on,Vn),++Rr);Tn+2<$n;Tn+=2)kn=hn,Bn=_n,In=On,Cn=Fn,_n+=Sr.Rc,Fn+=Sr.Rc,on+=2*Vr.A,sn(un,(dn+=2*Sr.fa)-Sr.fa,un,dn,kn,Bn,In,Cn,hn,_n,On,Fn,tn,on-Vr.A,tn,on,Vn);return dn+=Sr.fa,Sr.j+$n<Sr.o?(rr(Ar.ec,Ar.fc,un,dn,Vn),rr(Ar.cc,Ar.dc,hn,_n,jn),rr(Ar.Mc,Ar.Nc,On,Fn,jn),Rr--):1&$n||sn(un,dn,null,null,hn,_n,On,Fn,hn,_n,On,Fn,tn,on+Vr.A,null,null,Vn),Rr}function Zo(Sr,Ar,Rr){var Vr=Sr.F,tn=[Sr.J];if(Vr!=null){var on=Sr.U,sn=Ar.ba.S,un=sn==Ap||sn==Tp;Ar=Ar.ba.f.RGBA;var dn=[0],hn=Sr.ka;dn[0]=Sr.T,Sr.Kb&&(hn==0?--dn[0]:(--hn,tn[0]-=Sr.width),Sr.j+Sr.ka+Sr.T==Sr.o&&(dn[0]=Sr.o-Sr.j-hn));var _n=Ar.eb;hn=Ar.fb+hn*Ar.A,Sr=Sp(Vr,tn[0],Sr.width,on,dn,_n,hn+(un?0:3),Ar.A),er(Rr==dn),Sr&&xn(sn)&&Bl(_n,hn,un,on,dn,Ar.A)}return 0}function go(Sr){var Ar=Sr.ma,Rr=Ar.ba.S,Vr=11>Rr,tn=Rr==wp||Rr==Cp||Rr==Ap||Rr==qp||Rr==12||xn(Rr);if(Ar.memory=null,Ar.Ib=null,Ar.Jb=null,Ar.Nd=null,!np(Ar.Oa,Sr,tn?11:12))return 0;if(tn&&xn(Rr)&&Wn(),Sr.da)alert("todo:use_scaling");else{if(Vr){if(Ar.Ib=ga,Sr.Kb){if(Rr=Sr.U+1>>1,Ar.memory=ar(Sr.U+2*Rr),Ar.memory==null)return 0;Ar.ec=Ar.memory,Ar.fc=0,Ar.cc=Ar.ec,Ar.dc=Ar.fc+Sr.U,Ar.Mc=Ar.cc,Ar.Nc=Ar.dc+Rr,Ar.Ib=co,Wn()}}else alert("todo:EmitYUV");tn&&(Ar.Jb=Zo,Vr&&Pn())}if(Vr&&!Cm){for(Sr=0;256>Sr;++Sr)o0[Sr]=89858*(Sr-128)+Ep>>kp,c0[Sr]=-22014*(Sr-128)+Ep,l0[Sr]=-45773*(Sr-128),s0[Sr]=113618*(Sr-128)+Ep>>kp;for(Sr=dp;Sr<Zp;++Sr)Ar=76283*(Sr-16)+Ep>>kp,u0[Sr-dp]=bs(Ar,255),d0[Sr-dp]=bs(Ar+8>>4,15);Cm=1}return 1}function qo(Sr){var Ar=Sr.ma,Rr=Sr.U,Vr=Sr.T;return er(!(1&Sr.ka)),0>=Rr||0>=Vr?0:(Rr=Ar.Ib(Sr,Ar),Ar.Jb!=null&&Ar.Jb(Sr,Ar,Rr),Ar.Dc+=Rr,1)}function jo(Sr){Sr.ma.memory=null}function na(Sr,Ar,Rr,Vr){return Er(Sr,8)!=47?0:(Ar[0]=Er(Sr,14)+1,Rr[0]=Er(Sr,14)+1,Vr[0]=Er(Sr,1),Er(Sr,3)!=0?0:!Sr.h)}function bo(Sr,Ar){if(4>Sr)return Sr+1;var Rr=Sr-2>>1;return(2+(1&Sr)<<Rr)+Er(Ar,Rr)+1}function Jo(Sr,Ar){return 120<Ar?Ar-120:1<=(Rr=((Rr=qm[Ar-1])>>4)*Sr+(8-(15&Rr)))?Rr:1;var Rr}function Bo(Sr,Ar,Rr){var Vr=Lr(Rr),tn=Sr[Ar+=255&Vr].g-8;return 0<tn&&(wr(Rr,Rr.u+8),Vr=Lr(Rr),Ar+=Sr[Ar].value,Ar+=Vr&(1<<tn)-1),wr(Rr,Rr.u+Sr[Ar].g),Sr[Ar].value}function Fo(Sr,Ar,Rr){return Rr.g+=Sr.g,Rr.value+=Sr.value<<Ar>>>0,er(8>=Rr.g),Sr.g}function ko(Sr,Ar,Rr){var Vr=Sr.xc;return er((Ar=Vr==0?0:Sr.vc[Sr.md*(Rr>>Vr)+(Ar>>Vr)])<Sr.Wb),Sr.Ya[Ar]}function Eo(Sr,Ar,Rr,Vr){var tn=Sr.ab,on=Sr.c*Ar,sn=Sr.C;Ar=sn+Ar;var un=Rr,dn=Vr;for(Vr=Sr.Ta,Rr=Sr.Ua;0<tn--;){var hn=Sr.gc[tn],_n=sn,On=Ar,Fn=un,kn=dn,Bn=(dn=Vr,un=Rr,hn.Ea);switch(er(_n<On),er(On<=hn.nc),hn.hc){case 2:bp(Fn,kn,(On-_n)*Bn,dn,un);break;case 0:var In=_n,Cn=On,Tn=dn,$n=un,Vn=(Kn=hn).Ea;In==0&&(Vp(Fn,kn,null,null,1,Tn,$n),Un(Fn,kn+1,0,0,Vn-1,Tn,$n+1),kn+=Vn,$n+=Vn,++In);for(var jn=1<<Kn.b,_i=jn-1,Xn=fn(Vn,Kn.b),$a=Kn.K,Kn=Kn.w+(In>>Kn.b)*Xn;In<Cn;){var xo=$a,wo=Kn,yo=1;for(op(Fn,kn,Tn,$n-Vn,1,Tn,$n);yo<Vn;){var po=(yo&~_i)+jn;po>Vn&&(po=Vn),(0,Rl[xo[wo++]>>8&15])(Fn,kn+ +yo,Tn,$n+yo-Vn,po-yo,Tn,$n+yo),yo=po}kn+=Vn,$n+=Vn,++In&_i||(Kn+=Xn)}On!=hn.nc&&rr(dn,un-Bn,dn,un+(On-_n-1)*Bn,Bn);break;case 1:for(Bn=Fn,Cn=kn,Vn=(Fn=hn.Ea)-($n=Fn&~(Tn=(kn=1<<hn.b)-1)),In=fn(Fn,hn.b),jn=hn.K,hn=hn.w+(_n>>hn.b)*In;_n<On;){for(_i=jn,Xn=hn,$a=new yn,Kn=Cn+$n,xo=Cn+Fn;Cn<Kn;)Yn(_i[Xn++],$a),Ts($a,Bn,Cn,kn,dn,un),Cn+=kn,un+=kn;Cn<xo&&(Yn(_i[Xn++],$a),Ts($a,Bn,Cn,Vn,dn,un),Cn+=Vn,un+=Vn),++_n&Tn||(hn+=In)}break;case 3:if(Fn==dn&&kn==un&&0<hn.b){for(Cn=dn,Fn=Bn=un+(On-_n)*Bn-($n=(On-_n)*fn(hn.Ea,hn.b)),kn=dn,Tn=un,In=[],$n=(Vn=$n)-1;0<=$n;--$n)In[$n]=kn[Tn+$n];for($n=Vn-1;0<=$n;--$n)Cn[Fn+$n]=In[$n];Ls(hn,_n,On,dn,Bn,dn,un)}else Ls(hn,_n,On,Fn,kn,dn,un)}un=Vr,dn=Rr}dn!=Rr&&rr(Vr,Rr,un,dn,on)}function Ro(Sr,Ar){var Rr=Sr.V,Vr=Sr.Ba+Sr.c*Sr.C,tn=Ar-Sr.C;if(er(Ar<=Sr.l.o),er(16>=tn),0<tn){var on=Sr.l,sn=Sr.Ta,un=Sr.Ua,dn=on.width;if(Eo(Sr,tn,Rr,Vr),tn=un=[un],er((Rr=Sr.C)<(Vr=Ar)),er(on.v<on.va),Vr>on.o&&(Vr=on.o),Rr<on.j){var hn=on.j-Rr;Rr=on.j,tn[0]+=hn*dn}if(Rr>=Vr?Rr=0:(tn[0]+=4*on.v,on.ka=Rr-on.j,on.U=on.va-on.v,on.T=Vr-Rr,Rr=1),Rr){if(un=un[0],11>(Rr=Sr.ca).S){var _n=Rr.f.RGBA,On=(Vr=Rr.S,tn=on.U,on=on.T,hn=_n.eb,_n.A),Fn=on;for(_n=_n.fb+Sr.Ma*_n.A;0<Fn--;){var kn=sn,Bn=un,In=tn,Cn=hn,Tn=_n;switch(Vr){case _p:Rs(kn,Bn,In,Cn,Tn);break;case wp:Il(kn,Bn,In,Cn,Tn);break;case Gp:Il(kn,Bn,In,Cn,Tn),Bl(Cn,Tn,0,In,1,0);break;case pm:Pu(kn,Bn,In,Cn,Tn);break;case Cp:so(kn,Bn,In,Cn,Tn,1);break;case Yp:so(kn,Bn,In,Cn,Tn,1),Bl(Cn,Tn,0,In,1,0);break;case Ap:so(kn,Bn,In,Cn,Tn,0);break;case Tp:so(kn,Bn,In,Cn,Tn,0),Bl(Cn,Tn,1,In,1,0);break;case qp:zs(kn,Bn,In,Cn,Tn);break;case Xp:zs(kn,Bn,In,Cn,Tn),Mu(Cn,Tn,In,1,0);break;case gm:Xs(kn,Bn,In,Cn,Tn);break;default:er(0)}un+=dn,_n+=On}Sr.Ma+=on}else alert("todo:EmitRescaledRowsYUVA");er(Sr.Ma<=Rr.height)}}Sr.C=Ar,er(Sr.C<=Sr.i)}function es(Sr){var Ar;if(0<Sr.ua)return 0;for(Ar=0;Ar<Sr.Wb;++Ar){var Rr=Sr.Ya[Ar].G,Vr=Sr.Ya[Ar].H;if(0<Rr[1][Vr[1]+0].g||0<Rr[2][Vr[2]+0].g||0<Rr[3][Vr[3]+0].g)return 0}return 1}function ts(Sr,Ar,Rr,Vr,tn,on){if(Sr.Z!=0){var sn=Sr.qd,un=Sr.rd;for(er(Vl[Sr.Z]!=null);Ar<Rr;++Ar)Vl[Sr.Z](sn,un,Vr,tn,Vr,tn,on),sn=Vr,un=tn,tn+=on;Sr.qd=sn,Sr.rd=un}}function gs(Sr,Ar){var Rr=Sr.l.ma,Vr=Rr.Z==0||Rr.Z==1?Sr.l.j:Sr.C;if(Vr=Sr.C<Vr?Vr:Sr.C,er(Ar<=Sr.l.o),Ar>Vr){var tn=Sr.l.width,on=Rr.ca,sn=Rr.tb+tn*Vr,un=Sr.V,dn=Sr.Ba+Sr.c*Vr,hn=Sr.gc;er(Sr.ab==1),er(hn[0].hc==3),Up(hn[0],Vr,Ar,un,dn,on,sn),ts(Rr,Vr,Ar,on,sn,tn)}Sr.C=Sr.Ma=Ar}function ms(Sr,Ar,Rr,Vr,tn,on,sn){var un=Sr.$/Vr,dn=Sr.$%Vr,hn=Sr.m,_n=Sr.s,On=Rr+Sr.$,Fn=On;tn=Rr+Vr*tn;var kn=Rr+Vr*on,Bn=280+_n.ua,In=Sr.Pb?un:16777216,Cn=0<_n.ua?_n.Wa:null,Tn=_n.wc,$n=On<kn?ko(_n,dn,un):null;er(Sr.C<on),er(kn<=tn);var Vn=!1;e:for(;;){for(;Vn||On<kn;){var jn=0;if(un>=In){var _i=On-Rr;er((In=Sr).Pb),In.wd=In.m,In.xd=_i,0<In.s.ua&&en(In.s.Wa,In.s.vb),In=un+Ym}if(dn&Tn||($n=ko(_n,dn,un)),er($n!=null),$n.Qb&&(Ar[On]=$n.qb,Vn=!0),!Vn)if(Fr(hn),$n.jc){jn=hn,_i=Ar;var Xn=On,$a=$n.pd[Lr(jn)&ds-1];er($n.jc),256>$a.g?(wr(jn,jn.u+$a.g),_i[Xn]=$a.value,jn=0):(wr(jn,jn.u+$a.g-256),er(256<=$a.value),jn=$a.value),jn==0&&(Vn=!0)}else jn=Bo($n.G[0],$n.H[0],hn);if(hn.h)break;if(Vn||256>jn){if(!Vn)if($n.nd)Ar[On]=($n.qb|jn<<8)>>>0;else{if(Fr(hn),Vn=Bo($n.G[1],$n.H[1],hn),Fr(hn),_i=Bo($n.G[2],$n.H[2],hn),Xn=Bo($n.G[3],$n.H[3],hn),hn.h)break;Ar[On]=(Xn<<24|Vn<<16|jn<<8|_i)>>>0}if(Vn=!1,++On,++dn>=Vr&&(dn=0,++un,sn!=null&&un<=on&&!(un%16)&&sn(Sr,un),Cn!=null))for(;Fn<On;)jn=Ar[Fn++],Cn.X[(506832829*jn&4294967295)>>>Cn.Mb]=jn}else if(280>jn){if(jn=bo(jn-256,hn),_i=Bo($n.G[4],$n.H[4],hn),Fr(hn),_i=Jo(Vr,_i=bo(_i,hn)),hn.h)break;if(On-Rr<_i||tn-On<jn)break e;for(Xn=0;Xn<jn;++Xn)Ar[On+Xn]=Ar[On+Xn-_i];for(On+=jn,dn+=jn;dn>=Vr;)dn-=Vr,++un,sn!=null&&un<=on&&!(un%16)&&sn(Sr,un);if(er(On<=tn),dn&Tn&&($n=ko(_n,dn,un)),Cn!=null)for(;Fn<On;)jn=Ar[Fn++],Cn.X[(506832829*jn&4294967295)>>>Cn.Mb]=jn}else{if(!(jn<Bn))break e;for(Vn=jn-280,er(Cn!=null);Fn<On;)jn=Ar[Fn++],Cn.X[(506832829*jn&4294967295)>>>Cn.Mb]=jn;jn=On,er(!(Vn>>>(_i=Cn).Xa)),Ar[jn]=_i.X[Vn],Vn=!0}Vn||er(hn.h==_r(hn))}if(Sr.Pb&&hn.h&&On<tn)er(Sr.m.h),Sr.a=5,Sr.m=Sr.wd,Sr.$=Sr.xd,0<Sr.s.ua&&en(Sr.s.vb,Sr.s.Wa);else{if(hn.h)break e;sn?.(Sr,un>on?on:un),Sr.a=0,Sr.$=On-Rr}return 1}return Sr.a=3,0}function rs(Sr){er(Sr!=null),Sr.vc=null,Sr.yc=null,Sr.Ya=null;var Ar=Sr.Wa;Ar!=null&&(Ar.X=null),Sr.vb=null,er(Sr!=null)}function cs(){var Sr=new zp;return Sr==null?null:(Sr.a=0,Sr.xb=ym,Rn("Predictor","VP8LPredictors"),Rn("Predictor","VP8LPredictors_C"),Rn("PredictorAdd","VP8LPredictorsAdd"),Rn("PredictorAdd","VP8LPredictorsAdd_C"),bp=Hn,Ts=Gn,Rs=zn,Il=fo,zs=no,Xs=Mo,Pu=ho,Pr.VP8LMapColor32b=sp,Pr.VP8LMapColor8b=Wp,Sr)}function ws(Sr,Ar,Rr,Vr,tn){var on=1,sn=[Sr],un=[Ar],dn=Vr.m,hn=Vr.s,_n=null,On=0;e:for(;;){if(Rr)for(;on&&Er(dn,1);){var Fn=sn,kn=un,Bn=Vr,In=1,Cn=Bn.m,Tn=Bn.gc[Bn.ab],$n=Er(Cn,2);if(Bn.Oc&1<<$n)on=0;else{switch(Bn.Oc|=1<<$n,Tn.hc=$n,Tn.Ea=Fn[0],Tn.nc=kn[0],Tn.K=[null],++Bn.ab,er(4>=Bn.ab),$n){case 0:case 1:Tn.b=Er(Cn,3)+2,In=ws(fn(Tn.Ea,Tn.b),fn(Tn.nc,Tn.b),0,Bn,Tn.K),Tn.K=Tn.K[0];break;case 3:var Vn,jn=Er(Cn,8)+1,_i=16<jn?0:4<jn?1:2<jn?2:3;if(Fn[0]=fn(Tn.Ea,_i),Tn.b=_i,Vn=In=ws(jn,1,0,Bn,Tn.K)){var Xn,$a=jn,Kn=Tn,xo=1<<(8>>Kn.b),wo=ar(xo);if(wo==null)Vn=0;else{var yo=Kn.K[0],po=Kn.w;for(wo[0]=Kn.K[0][0],Xn=1;Xn<1*$a;++Xn)wo[Xn]=gn(yo[po+Xn],wo[Xn-1]);for(;Xn<4*xo;++Xn)wo[Xn]=0;Kn.K[0]=null,Kn.K[0]=wo,Vn=1}}In=Vn;break;case 2:break;default:er(0)}on=In}}if(sn=sn[0],un=un[0],on&&Er(dn,1)&&!(on=1<=(On=Er(dn,4))&&11>=On)){Vr.a=3;break e}var To;if(To=on)t:{var Ao,ao,Wo,hs=Vr,Ho=sn,ps=un,Co=On,xs=Rr,_s=hs.m,Ko=hs.s,as=[null],ls=1,Os=0,Vs=Gm[Co];r:for(;;){if(xs&&Er(_s,1)){var Qo=Er(_s,3)+2,yl=fn(Ho,Qo),ou=fn(ps,Qo),Du=yl*ou;if(!ws(yl,ou,0,hs,as))break r;for(as=as[0],Ko.xc=Qo,Ao=0;Ao<Du;++Ao){var Ul=as[Ao]>>8&65535;as[Ao]=Ul,Ul>=ls&&(ls=Ul+1)}}if(_s.h)break r;for(ao=0;5>ao;++ao){var $o=mm[ao];!ao&&0<Co&&($o+=1<<Co),Os<$o&&(Os=$o)}var Jp=dr(ls*Vs,jr),km=ls,Em=dr(km,zr);if(Em==null)var Op=null;else er(65536>=km),Op=Em;var fp=ar(Os);if(Op==null||fp==null||Jp==null){hs.a=1;break r}var Fp=Jp;for(Ao=Wo=0;Ao<ls;++Ao){var js=Op[Ao],Lu=js.G,Ru=js.H,Pm=0,Mp=1,Om=0;for(ao=0;5>ao;++ao){$o=mm[ao],Lu[ao]=Fp,Ru[ao]=Wo,!ao&&0<Co&&($o+=1<<Co);i:{var Dp,em=$o,Lp=hs,hp=fp,p0=Fp,g0=Wo,tm=0,Wl=Lp.m,m0=Er(Wl,1);if(nr(hp,0,0,em),m0){var v0=Er(Wl,1)+1,y0=Er(Wl,1),Fm=Er(Wl,y0==0?1:8);hp[Fm]=1,v0==2&&(hp[Fm=Er(Wl,8)]=1);var Rp=1}else{var Mm=ar(19),Dm=Er(Wl,4)+4;if(19<Dm){Lp.a=3;var Ip=0;break i}for(Dp=0;Dp<Dm;++Dp)Mm[Hm[Dp]]=Er(Wl,3);var rm=void 0,pp=void 0,Lm=Lp,b0=Mm,Np=em,Rm=hp,nm=0,Hl=Lm.m,Im=8,Nm=dr(128,jr);n:for(;Ir(Nm,0,7,b0,19);){if(Er(Hl,1)){var S0=2+2*Er(Hl,3);if((rm=2+Er(Hl,S0))>Np)break n}else rm=Np;for(pp=0;pp<Np&&rm--;){Fr(Hl);var $m=Nm[0+(127&Lr(Hl))];wr(Hl,Hl.u+$m.g);var Iu=$m.value;if(16>Iu)Rm[pp++]=Iu,Iu!=0&&(Im=Iu);else{var x0=Iu==16,jm=Iu-16,_0=Um[jm],Bm=Er(Hl,Vm[jm])+_0;if(pp+Bm>Np)break n;for(var w0=x0?Im:0;0<Bm--;)Rm[pp++]=w0}}nm=1;break n}nm||(Lm.a=3),Rp=nm}(Rp=Rp&&!Wl.h)&&(tm=Ir(p0,g0,8,hp,em)),Rp&&tm!=0?Ip=tm:(Lp.a=3,Ip=0)}if(Ip==0)break r;if(Mp&&Wm[ao]==1&&(Mp=Fp[Wo].g==0),Pm+=Fp[Wo].g,Wo+=Ip,3>=ao){var gp,im=fp[0];for(gp=1;gp<$o;++gp)fp[gp]>im&&(im=fp[gp]);Om+=im}}if(js.nd=Mp,js.Qb=0,Mp&&(js.qb=(Lu[3][Ru[3]+0].value<<24|Lu[1][Ru[1]+0].value<<16|Lu[2][Ru[2]+0].value)>>>0,Pm==0&&256>Lu[0][Ru[0]+0].value&&(js.Qb=1,js.qb+=Lu[0][Ru[0]+0].value<<8)),js.jc=!js.Qb&&6>Om,js.jc){var $p,Sl=js;for($p=0;$p<ds;++$p){var Gl=$p,Yl=Sl.pd[Gl],jp=Sl.G[0][Sl.H[0]+Gl];256<=jp.value?(Yl.g=jp.g+256,Yl.value=jp.value):(Yl.g=0,Yl.value=0,Gl>>=Fo(jp,8,Yl),Gl>>=Fo(Sl.G[1][Sl.H[1]+Gl],16,Yl),Gl>>=Fo(Sl.G[2][Sl.H[2]+Gl],0,Yl),Fo(Sl.G[3][Sl.H[3]+Gl],24,Yl))}}}Ko.vc=as,Ko.Wb=ls,Ko.Ya=Op,Ko.yc=Jp,To=1;break t}To=0}if(!(on=To)){Vr.a=3;break e}if(0<On){if(hn.ua=1<<On,!Xr(hn.Wa,On)){Vr.a=1,on=0;break e}}else hn.ua=0;var am=Vr,zm=sn,C0=un,om=am.s,sm=om.xc;if(am.c=zm,am.i=C0,om.md=fn(zm,sm),om.wc=sm==0?-1:(1<<sm)-1,Rr){Vr.xb=t0;break e}if((_n=ar(sn*un))==null){Vr.a=1,on=0;break e}on=(on=ms(Vr,_n,0,sn,un,un,null))&&!dn.h;break e}return on?(tn!=null?tn[0]=_n:(er(_n==null),er(Rr)),Vr.$=0,Rr||rs(hn)):rs(hn),on}function Us(Sr,Ar){var Rr=Sr.c*Sr.i,Vr=Rr+Ar+16*Ar;return er(Sr.c<=Ar),Sr.V=ar(Vr),Sr.V==null?(Sr.Ta=null,Sr.Ua=0,Sr.a=1,0):(Sr.Ta=Sr.V,Sr.Ua=Sr.Ba+Rr+Ar,1)}function xl(Sr,Ar){var Rr=Sr.C,Vr=Ar-Rr,tn=Sr.V,on=Sr.Ba+Sr.c*Rr;for(er(Ar<=Sr.l.o);0<Vr;){var sn=16<Vr?16:Vr,un=Sr.l.ma,dn=Sr.l.width,hn=dn*sn,_n=un.ca,On=un.tb+dn*Rr,Fn=Sr.Ta,kn=Sr.Ua;Eo(Sr,sn,tn,on),lm(Fn,kn,_n,On,hn),ts(un,Rr,Rr+sn,_n,On,dn),Vr-=sn,tn+=sn*Sr.c,Rr+=sn}er(Rr==Ar),Sr.C=Sr.Ma=Ar}function _l(){this.ub=this.yd=this.td=this.Rb=0}function Cl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bs(){this.Fb=this.Bb=this.Cb=0,this.Zb=ar(4),this.Lb=ar(4)}function su(){this.Yb=function(){var Sr=[];return function Ar(Rr,Vr,tn){for(var on=tn[Vr],sn=0;sn<on&&(Rr.push(tn.length>Vr+1?[]:0),!(tn.length<Vr+1));sn++)Ar(Rr[sn],Vr+1,tn)}(Sr,0,[3,11]),Sr}()}function Al(){this.jb=ar(3),this.Wc=or([4,8],su),this.Xc=or([4,17],su)}function Xl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ar(4),this.od=new ar(4)}function Tl(){this.ld=this.La=this.dd=this.tc=0}function Ws(){this.Na=this.la=0}function lu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kl(){this.ad=ar(384),this.Za=0,this.Ob=ar(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tl),this.Y=0,this.ya=Array(new Kl),this.aa=0,this.l=new El}function cu(){this.y=ar(16),this.f=ar(8),this.ea=ar(8)}function uu(){this.cb=this.a=0,this.sc="",this.m=new Dr,this.Od=new _l,this.Kc=new Cl,this.ed=new Xl,this.Qa=new Bs,this.Ic=this.$c=this.Aa=0,this.D=new Nu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=dr(8,Dr),this.ia=0,this.pb=dr(4,lu),this.Pa=new Al,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cu),this.Hd=0,this.rb=Array(new Ws),this.sb=0,this.wa=Array(new Tl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kl),this.L=this.aa=0,this.gd=or([4,2],Tl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function El(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $u(){var Sr=new uu;return Sr!=null&&(Sr.a=0,Sr.sc="OK",Sr.cb=0,Sr.Xb=0,up||(up=hu)),Sr}function Do(Sr,Ar,Rr){return Sr.a==0&&(Sr.a=Ar,Sr.sc=Rr,Sr.cb=0),0}function du(Sr,Ar,Rr){return 3<=Rr&&Sr[Ar+0]==157&&Sr[Ar+1]==1&&Sr[Ar+2]==42}function fu(Sr,Ar){if(Sr==null)return 0;if(Sr.a=0,Sr.sc="OK",Ar==null)return Do(Sr,2,"null VP8Io passed to VP8GetHeaders()");var Rr=Ar.data,Vr=Ar.w,tn=Ar.ha;if(4>tn)return Do(Sr,7,"Truncated header.");var on=Rr[Vr+0]|Rr[Vr+1]<<8|Rr[Vr+2]<<16,sn=Sr.Od;if(sn.Rb=!(1&on),sn.td=on>>1&7,sn.yd=on>>4&1,sn.ub=on>>5,3<sn.td)return Do(Sr,3,"Incorrect keyframe parameters.");if(!sn.yd)return Do(Sr,4,"Frame not displayable.");Vr+=3,tn-=3;var un=Sr.Kc;if(sn.Rb){if(7>tn)return Do(Sr,7,"cannot parse picture header");if(!du(Rr,Vr,tn))return Do(Sr,3,"Bad code word");un.c=16383&(Rr[Vr+4]<<8|Rr[Vr+3]),un.Td=Rr[Vr+4]>>6,un.i=16383&(Rr[Vr+6]<<8|Rr[Vr+5]),un.Ud=Rr[Vr+6]>>6,Vr+=7,tn-=7,Sr.za=un.c+15>>4,Sr.Ub=un.i+15>>4,Ar.width=un.c,Ar.height=un.i,Ar.Da=0,Ar.j=0,Ar.v=0,Ar.va=Ar.width,Ar.o=Ar.height,Ar.da=0,Ar.ib=Ar.width,Ar.hb=Ar.height,Ar.U=Ar.width,Ar.T=Ar.height,nr((on=Sr.Pa).jb,0,255,on.jb.length),er((on=Sr.Qa)!=null),on.Cb=0,on.Bb=0,on.Fb=1,nr(on.Zb,0,0,on.Zb.length),nr(on.Lb,0,0,on.Lb)}if(sn.ub>tn)return Do(Sr,7,"bad partition length");Hr(on=Sr.m,Rr,Vr,sn.ub),Vr+=sn.ub,tn-=sn.ub,sn.Rb&&(un.Ld=Br(on),un.Kd=Br(on)),un=Sr.Qa;var dn,hn=Sr.Pa;if(er(on!=null),er(un!=null),un.Cb=Br(on),un.Cb){if(un.Bb=Br(on),Br(on)){for(un.Fb=Br(on),dn=0;4>dn;++dn)un.Zb[dn]=Br(on)?nn(on,7):0;for(dn=0;4>dn;++dn)un.Lb[dn]=Br(on)?nn(on,6):0}if(un.Bb)for(dn=0;3>dn;++dn)hn.jb[dn]=Br(on)?Yr(on,8):255}else un.Bb=0;if(on.Ka)return Do(Sr,3,"cannot parse segment header");if((un=Sr.ed).zd=Br(on),un.Tb=Yr(on,6),un.wb=Yr(on,3),un.Pc=Br(on),un.Pc&&Br(on)){for(hn=0;4>hn;++hn)Br(on)&&(un.vd[hn]=nn(on,6));for(hn=0;4>hn;++hn)Br(on)&&(un.od[hn]=nn(on,6))}if(Sr.L=un.Tb==0?0:un.zd?1:2,on.Ka)return Do(Sr,3,"cannot parse filter header");var _n=tn;if(tn=dn=Vr,Vr=dn+_n,un=_n,Sr.Xb=(1<<Yr(Sr.m,2))-1,_n<3*(hn=Sr.Xb))Rr=7;else{for(dn+=3*hn,un-=3*hn,_n=0;_n<hn;++_n){var On=Rr[tn+0]|Rr[tn+1]<<8|Rr[tn+2]<<16;On>un&&(On=un),Hr(Sr.Jc[+_n],Rr,dn,On),dn+=On,un-=On,tn+=3}Hr(Sr.Jc[+hn],Rr,dn,un),Rr=dn<Vr?0:5}if(Rr!=0)return Do(Sr,Rr,"cannot parse partitions");for(Rr=Yr(dn=Sr.m,7),tn=Br(dn)?nn(dn,4):0,Vr=Br(dn)?nn(dn,4):0,un=Br(dn)?nn(dn,4):0,hn=Br(dn)?nn(dn,4):0,dn=Br(dn)?nn(dn,4):0,_n=Sr.Qa,On=0;4>On;++On){if(_n.Cb){var Fn=_n.Zb[On];_n.Fb||(Fn+=Rr)}else{if(0<On){Sr.pb[On]=Sr.pb[0];continue}Fn=Rr}var kn=Sr.pb[On];kn.Sc[0]=Kp[bs(Fn+tn,127)],kn.Sc[1]=Qp[bs(Fn+0,127)],kn.Eb[0]=2*Kp[bs(Fn+Vr,127)],kn.Eb[1]=101581*Qp[bs(Fn+un,127)]>>16,8>kn.Eb[1]&&(kn.Eb[1]=8),kn.Qc[0]=Kp[bs(Fn+hn,117)],kn.Qc[1]=Qp[bs(Fn+dn,127)],kn.lc=Fn+dn}if(!sn.Rb)return Do(Sr,4,"Not a key frame.");for(Br(on),sn=Sr.Pa,Rr=0;4>Rr;++Rr){for(tn=0;8>tn;++tn)for(Vr=0;3>Vr;++Vr)for(un=0;11>un;++un)hn=Ur(on,Jm[Rr][tn][Vr][un])?Yr(on,8):Qm[Rr][tn][Vr][un],sn.Wc[Rr][tn].Yb[Vr][un]=hn;for(tn=0;17>tn;++tn)sn.Xc[Rr][tn]=sn.Wc[Rr][e0[tn]]}return Sr.kc=Br(on),Sr.kc&&(Sr.Bd=Yr(on,8)),Sr.cb=1}function hu(Sr,Ar,Rr,Vr,tn,on,sn){var un=Ar[tn].Yb[Rr];for(Rr=0;16>tn;++tn){if(!Ur(Sr,un[Rr+0]))return tn;for(;!Ur(Sr,un[Rr+1]);)if(un=Ar[++tn].Yb[0],Rr=0,tn==16)return 16;var dn=Ar[tn+1].Yb;if(Ur(Sr,un[Rr+2])){var hn=Sr,_n=0;if(Ur(hn,(Fn=un)[(On=Rr)+3]))if(Ur(hn,Fn[On+6])){for(un=0,On=2*(_n=Ur(hn,Fn[On+8]))+(Fn=Ur(hn,Fn[On+9+_n])),_n=0,Fn=Xm[On];Fn[un];++un)_n+=_n+Ur(hn,Fn[un]);_n+=3+(8<<On)}else Ur(hn,Fn[On+7])?(_n=7+2*Ur(hn,165),_n+=Ur(hn,145)):_n=5+Ur(hn,159);else _n=Ur(hn,Fn[On+4])?3+Ur(hn,Fn[On+5]):2;un=dn[2]}else _n=1,un=dn[1];dn=sn+Km[tn],0>(hn=Sr).b&&Nr(hn);var On,Fn=hn.b,kn=(On=hn.Ca>>1)-(hn.I>>Fn)>>31;--hn.b,hn.Ca+=kn,hn.Ca|=1,hn.I-=(On+1&kn)<<Fn,on[dn]=((_n^kn)-kn)*Vr[(0<tn)+0]}return 16}function Ql(Sr){var Ar=Sr.rb[Sr.sb-1];Ar.la=0,Ar.Na=0,nr(Sr.zc,0,0,Sr.zc.length),Sr.ja=0}function ju(Sr,Ar){if(Sr==null)return 0;if(Ar==null)return Do(Sr,2,"NULL VP8Io parameter in VP8Decode().");if(!Sr.cb&&!fu(Sr,Ar))return 0;if(er(Sr.cb),Ar.ac==null||Ar.ac(Ar)){Ar.ob&&(Sr.L=0);var Rr=Pp[Sr.L];if(Sr.L==2?(Sr.yb=0,Sr.zb=0):(Sr.yb=Ar.v-Rr>>4,Sr.zb=Ar.j-Rr>>4,0>Sr.yb&&(Sr.yb=0),0>Sr.zb&&(Sr.zb=0)),Sr.Va=Ar.o+15+Rr>>4,Sr.Hb=Ar.va+15+Rr>>4,Sr.Hb>Sr.za&&(Sr.Hb=Sr.za),Sr.Va>Sr.Ub&&(Sr.Va=Sr.Ub),0<Sr.L){var Vr=Sr.ed;for(Rr=0;4>Rr;++Rr){var tn;if(Sr.Qa.Cb){var on=Sr.Qa.Lb[Rr];Sr.Qa.Fb||(on+=Vr.Tb)}else on=Vr.Tb;for(tn=0;1>=tn;++tn){var sn=Sr.gd[Rr][tn],un=on;if(Vr.Pc&&(un+=Vr.vd[0],tn&&(un+=Vr.od[0])),0<(un=0>un?0:63<un?63:un)){var dn=un;0<Vr.wb&&(dn=4<Vr.wb?dn>>2:dn>>1)>9-Vr.wb&&(dn=9-Vr.wb),1>dn&&(dn=1),sn.dd=dn,sn.tc=2*un+dn,sn.ld=40<=un?2:15<=un?1:0}else sn.tc=0;sn.La=tn}}}Rr=0}else Do(Sr,6,"Frame setup failed"),Rr=Sr.a;if(Rr=Rr==0){if(Rr){Sr.$c=0,0<Sr.Aa||(Sr.Ic=h0);e:{Rr=Sr.Ic,Vr=4*(dn=Sr.za);var hn=32*dn,_n=dn+1,On=0<Sr.L?dn*(0<Sr.Aa?2:1):0,Fn=(Sr.Aa==2?2:1)*dn;if((sn=Vr+832+(tn=3*(16*Rr+Pp[Sr.L])/2*hn)+(on=Sr.Fa!=null&&0<Sr.Fa.length?Sr.Kc.c*Sr.Kc.i:0))!=sn)Rr=0;else{if(sn>Sr.Vb){if(Sr.Vb=0,Sr.Ec=ar(sn),Sr.Fc=0,Sr.Ec==null){Rr=Do(Sr,1,"no memory during frame initialization.");break e}Sr.Vb=sn}sn=Sr.Ec,un=Sr.Fc,Sr.Ac=sn,Sr.Bc=un,un+=Vr,Sr.Gd=dr(hn,cu),Sr.Hd=0,Sr.rb=dr(_n+1,Ws),Sr.sb=1,Sr.wa=On?dr(On,Tl):null,Sr.Y=0,Sr.D.Nb=0,Sr.D.wa=Sr.wa,Sr.D.Y=Sr.Y,0<Sr.Aa&&(Sr.D.Y+=dn),er(!0),Sr.oc=sn,Sr.pc=un,un+=832,Sr.ya=dr(Fn,Kl),Sr.aa=0,Sr.D.ya=Sr.ya,Sr.D.aa=Sr.aa,Sr.Aa==2&&(Sr.D.aa+=dn),Sr.R=16*dn,Sr.B=8*dn,dn=(hn=Pp[Sr.L])*Sr.R,hn=hn/2*Sr.B,Sr.sa=sn,Sr.ta=un+dn,Sr.qa=Sr.sa,Sr.ra=Sr.ta+16*Rr*Sr.R+hn,Sr.Ha=Sr.qa,Sr.Ia=Sr.ra+8*Rr*Sr.B+hn,Sr.$c=0,un+=tn,Sr.mb=on?sn:null,Sr.nb=on?un:null,er(un+on<=Sr.Fc+Sr.Vb),Ql(Sr),nr(Sr.Ac,Sr.Bc,0,Vr),Rr=1}}if(Rr){if(Ar.ka=0,Ar.y=Sr.sa,Ar.O=Sr.ta,Ar.f=Sr.qa,Ar.N=Sr.ra,Ar.ea=Sr.Ha,Ar.Vd=Sr.Ia,Ar.fa=Sr.R,Ar.Rc=Sr.B,Ar.F=null,Ar.J=0,!hm){for(Rr=-255;255>=Rr;++Rr)cm[255+Rr]=0>Rr?-Rr:Rr;for(Rr=-1020;1020>=Rr;++Rr)um[1020+Rr]=-128>Rr?-128:127<Rr?127:Rr;for(Rr=-112;112>=Rr;++Rr)dm[112+Rr]=-16>Rr?-16:15<Rr?15:Rr;for(Rr=-255;510>=Rr;++Rr)fm[255+Rr]=0>Rr?0:255<Rr?255:Rr;hm=1}Is=Vu,Ou=Bu,Nl=Zl,Ns=zu,Ks=gu,lp=pu,iu=Gs,Fu=Ms,au=Bp,$l=Xu,cp=Su,ks=xu,Qs=Ku,Po=mp,Oo=_o,Vo=ro,Yo=vo,Zs=os,$s[0]=us,$s[1]=Uu,$s[2]=qu,$s[3]=vu,$s[4]=eu,$s[5]=As,$s[6]=Cs,$s[7]=tu,$s[8]=Gu,$s[9]=yu,zl[0]=mu,zl[1]=Hu,zl[2]=ys,zl[3]=Fl,zl[4]=zo,zl[5]=Jl,zl[6]=Dl,Js[0]=Fs,Js[1]=Wu,Js[2]=bu,Js[3]=ru,Js[4]=pn,Js[5]=Yu,Js[6]=An,Rr=1}else Rr=0}Rr&&(Rr=function(kn,Bn){for(kn.M=0;kn.M<kn.Va;++kn.M){var In,Cn=kn.Jc[kn.M&kn.Xb],Tn=kn.m,$n=kn;for(In=0;In<$n.za;++In){var Vn=Tn,jn=$n,_i=jn.Ac,Xn=jn.Bc+4*In,$a=jn.zc,Kn=jn.ya[jn.aa+In];if(jn.Qa.Bb?Kn.$b=Ur(Vn,jn.Pa.jb[0])?2+Ur(Vn,jn.Pa.jb[2]):Ur(Vn,jn.Pa.jb[1]):Kn.$b=0,jn.kc&&(Kn.Ad=Ur(Vn,jn.Bd)),Kn.Za=!Ur(Vn,145)+0,Kn.Za){var xo=Kn.Ob,wo=0;for(jn=0;4>jn;++jn){var yo,po=$a[0+jn];for(yo=0;4>yo;++yo){po=Zm[_i[Xn+yo]][po];for(var To=vm[Ur(Vn,po[0])];0<To;)To=vm[2*To+Ur(Vn,po[To])];po=-To,_i[Xn+yo]=po}rr(xo,wo,_i,Xn,4),wo+=4,$a[0+jn]=po}}else po=Ur(Vn,156)?Ur(Vn,128)?1:3:Ur(Vn,163)?2:0,Kn.Ob[0]=po,nr(_i,Xn,po,4),nr($a,0,po,4);Kn.Dd=Ur(Vn,142)?Ur(Vn,114)?Ur(Vn,183)?1:3:2:0}if($n.m.Ka)return Do(kn,7,"Premature end-of-partition0 encountered.");for(;kn.ja<kn.za;++kn.ja){if($n=Cn,Vn=(Tn=kn).rb[Tn.sb-1],_i=Tn.rb[Tn.sb+Tn.ja],In=Tn.ya[Tn.aa+Tn.ja],Xn=Tn.kc?In.Ad:0)Vn.la=_i.la=0,In.Za||(Vn.Na=_i.Na=0),In.Hc=0,In.Gc=0,In.ia=0;else{var Ao,ao;if(Vn=_i,_i=$n,Xn=Tn.Pa.Xc,$a=Tn.ya[Tn.aa+Tn.ja],Kn=Tn.pb[$a.$b],jn=$a.ad,xo=0,wo=Tn.rb[Tn.sb-1],po=yo=0,nr(jn,xo,0,384),$a.Za)var Wo=0,hs=Xn[3];else{To=ar(16);var Ho=Vn.Na+wo.Na;if(Ho=up(_i,Xn[1],Ho,Kn.Eb,0,To,0),Vn.Na=wo.Na=(0<Ho)+0,1<Ho)Is(To,0,jn,xo);else{var ps=To[0]+3>>3;for(To=0;256>To;To+=16)jn[xo+To]=ps}Wo=1,hs=Xn[0]}var Co=15&Vn.la,xs=15&wo.la;for(To=0;4>To;++To){var _s=1&xs;for(ps=ao=0;4>ps;++ps)Co=Co>>1|(_s=(Ho=up(_i,hs,Ho=_s+(1&Co),Kn.Sc,Wo,jn,xo))>Wo)<<7,ao=ao<<2|(3<Ho?3:1<Ho?2:jn[xo+0]!=0),xo+=16;Co>>=4,xs=xs>>1|_s<<7,yo=(yo<<8|ao)>>>0}for(hs=Co,Wo=xs>>4,Ao=0;4>Ao;Ao+=2){for(ao=0,Co=Vn.la>>4+Ao,xs=wo.la>>4+Ao,To=0;2>To;++To){for(_s=1&xs,ps=0;2>ps;++ps)Ho=_s+(1&Co),Co=Co>>1|(_s=0<(Ho=up(_i,Xn[2],Ho,Kn.Qc,0,jn,xo)))<<3,ao=ao<<2|(3<Ho?3:1<Ho?2:jn[xo+0]!=0),xo+=16;Co>>=2,xs=xs>>1|_s<<5}po|=ao<<4*Ao,hs|=Co<<4<<Ao,Wo|=(240&xs)<<Ao}Vn.la=hs,wo.la=Wo,$a.Hc=yo,$a.Gc=po,$a.ia=43690&po?0:Kn.ia,Xn=!(yo|po)}if(0<Tn.L&&(Tn.wa[Tn.Y+Tn.ja]=Tn.gd[In.$b][In.Za],Tn.wa[Tn.Y+Tn.ja].La|=!Xn),$n.Ka)return Do(kn,7,"Premature end-of-file encountered.")}if(Ql(kn),Tn=Bn,$n=1,In=(Cn=kn).D,Vn=0<Cn.L&&Cn.M>=Cn.zb&&Cn.M<=Cn.Va,Cn.Aa==0)e:{if(In.M=Cn.M,In.uc=Vn,rp(Cn,In),$n=1,In=(ao=Cn.D).Nb,Vn=(po=Pp[Cn.L])*Cn.R,_i=po/2*Cn.B,To=16*In*Cn.R,ps=8*In*Cn.B,Xn=Cn.sa,$a=Cn.ta-Vn+To,Kn=Cn.qa,jn=Cn.ra-_i+ps,xo=Cn.Ha,wo=Cn.Ia-_i+ps,xs=(Co=ao.M)==0,yo=Co>=Cn.Va-1,Cn.Aa==2&&rp(Cn,ao),ao.uc)for(_s=(Ho=Cn).D.M,er(Ho.D.uc),ao=Ho.yb;ao<Ho.Hb;++ao){Wo=ao,hs=_s;var Ko=(as=($o=Ho).D).Nb;Ao=$o.R;var as=as.wa[as.Y+Wo],ls=$o.sa,Os=$o.ta+16*Ko*Ao+16*Wo,Vs=as.dd,Qo=as.tc;if(Qo!=0)if(er(3<=Qo),$o.L==1)0<Wo&&Vo(ls,Os,Ao,Qo+4),as.La&&Zs(ls,Os,Ao,Qo),0<hs&&Oo(ls,Os,Ao,Qo+4),as.La&&Yo(ls,Os,Ao,Qo);else{var yl=$o.B,ou=$o.qa,Du=$o.ra+8*Ko*yl+8*Wo,Ul=$o.Ha,$o=$o.Ia+8*Ko*yl+8*Wo;Ko=as.ld,0<Wo&&(Fu(ls,Os,Ao,Qo+4,Vs,Ko),$l(ou,Du,Ul,$o,yl,Qo+4,Vs,Ko)),as.La&&(ks(ls,Os,Ao,Qo,Vs,Ko),Po(ou,Du,Ul,$o,yl,Qo,Vs,Ko)),0<hs&&(iu(ls,Os,Ao,Qo+4,Vs,Ko),au(ou,Du,Ul,$o,yl,Qo+4,Vs,Ko)),as.La&&(cp(ls,Os,Ao,Qo,Vs,Ko),Qs(ou,Du,Ul,$o,yl,Qo,Vs,Ko))}}if(Cn.ia&&alert("todo:DitherRow"),Tn.put!=null){if(ao=16*Co,Co=16*(Co+1),xs?(Tn.y=Cn.sa,Tn.O=Cn.ta+To,Tn.f=Cn.qa,Tn.N=Cn.ra+ps,Tn.ea=Cn.Ha,Tn.W=Cn.Ia+ps):(ao-=po,Tn.y=Xn,Tn.O=$a,Tn.f=Kn,Tn.N=jn,Tn.ea=xo,Tn.W=wo),yo||(Co-=po),Co>Tn.o&&(Co=Tn.o),Tn.F=null,Tn.J=null,Cn.Fa!=null&&0<Cn.Fa.length&&ao<Co&&(Tn.J=ep(Cn,Tn,ao,Co-ao),Tn.F=Cn.mb,Tn.F==null&&Tn.F.length==0)){$n=Do(Cn,3,"Could not decode alpha data.");break e}ao<Tn.j&&(po=Tn.j-ao,ao=Tn.j,er(!(1&po)),Tn.O+=Cn.R*po,Tn.N+=Cn.B*(po>>1),Tn.W+=Cn.B*(po>>1),Tn.F!=null&&(Tn.J+=Tn.width*po)),ao<Co&&(Tn.O+=Tn.v,Tn.N+=Tn.v>>1,Tn.W+=Tn.v>>1,Tn.F!=null&&(Tn.J+=Tn.v),Tn.ka=ao-Tn.j,Tn.U=Tn.va-Tn.v,Tn.T=Co-ao,$n=Tn.put(Tn))}In+1!=Cn.Ic||yo||(rr(Cn.sa,Cn.ta-Vn,Xn,$a+16*Cn.R,Vn),rr(Cn.qa,Cn.ra-_i,Kn,jn+8*Cn.B,_i),rr(Cn.Ha,Cn.Ia-_i,xo,wo+8*Cn.B,_i))}if(!$n)return Do(kn,6,"Output aborted.")}return 1}(Sr,Ar)),Ar.bc!=null&&Ar.bc(Ar),Rr&=1}return Rr?(Sr.cb=0,Rr):0}function vs(Sr,Ar,Rr,Vr,tn){tn=Sr[Ar+Rr+32*Vr]+(tn>>3),Sr[Ar+Rr+32*Vr]=-256&tn?0>tn?0:255:tn}function Pl(Sr,Ar,Rr,Vr,tn,on){vs(Sr,Ar,0,Rr,Vr+tn),vs(Sr,Ar,1,Rr,Vr+on),vs(Sr,Ar,2,Rr,Vr-on),vs(Sr,Ar,3,Rr,Vr-tn)}function Go(Sr){return(20091*Sr>>16)+Sr}function Hs(Sr,Ar,Rr,Vr){var tn,on=0,sn=ar(16);for(tn=0;4>tn;++tn){var un=Sr[Ar+0]+Sr[Ar+8],dn=Sr[Ar+0]-Sr[Ar+8],hn=(35468*Sr[Ar+4]>>16)-Go(Sr[Ar+12]),_n=Go(Sr[Ar+4])+(35468*Sr[Ar+12]>>16);sn[on+0]=un+_n,sn[on+1]=dn+hn,sn[on+2]=dn-hn,sn[on+3]=un-_n,on+=4,Ar++}for(tn=on=0;4>tn;++tn)un=(Sr=sn[on+0]+4)+sn[on+8],dn=Sr-sn[on+8],hn=(35468*sn[on+4]>>16)-Go(sn[on+12]),vs(Rr,Vr,0,0,un+(_n=Go(sn[on+4])+(35468*sn[on+12]>>16))),vs(Rr,Vr,1,0,dn+hn),vs(Rr,Vr,2,0,dn-hn),vs(Rr,Vr,3,0,un-_n),on++,Vr+=32}function pu(Sr,Ar,Rr,Vr){var tn=Sr[Ar+0]+4,on=35468*Sr[Ar+4]>>16,sn=Go(Sr[Ar+4]),un=35468*Sr[Ar+1]>>16;Pl(Rr,Vr,0,tn+sn,Sr=Go(Sr[Ar+1]),un),Pl(Rr,Vr,1,tn+on,Sr,un),Pl(Rr,Vr,2,tn-on,Sr,un),Pl(Rr,Vr,3,tn-sn,Sr,un)}function Bu(Sr,Ar,Rr,Vr,tn){Hs(Sr,Ar,Rr,Vr),tn&&Hs(Sr,Ar+16,Rr,Vr+4)}function Zl(Sr,Ar,Rr,Vr){Ou(Sr,Ar+0,Rr,Vr,1),Ou(Sr,Ar+32,Rr,Vr+128,1)}function zu(Sr,Ar,Rr,Vr){var tn;for(Sr=Sr[Ar+0]+4,tn=0;4>tn;++tn)for(Ar=0;4>Ar;++Ar)vs(Rr,Vr,Ar,tn,Sr)}function gu(Sr,Ar,Rr,Vr){Sr[Ar+0]&&Ns(Sr,Ar+0,Rr,Vr),Sr[Ar+16]&&Ns(Sr,Ar+16,Rr,Vr+4),Sr[Ar+32]&&Ns(Sr,Ar+32,Rr,Vr+128),Sr[Ar+48]&&Ns(Sr,Ar+48,Rr,Vr+128+4)}function Vu(Sr,Ar,Rr,Vr){var tn,on=ar(16);for(tn=0;4>tn;++tn){var sn=Sr[Ar+0+tn]+Sr[Ar+12+tn],un=Sr[Ar+4+tn]+Sr[Ar+8+tn],dn=Sr[Ar+4+tn]-Sr[Ar+8+tn],hn=Sr[Ar+0+tn]-Sr[Ar+12+tn];on[0+tn]=sn+un,on[8+tn]=sn-un,on[4+tn]=hn+dn,on[12+tn]=hn-dn}for(tn=0;4>tn;++tn)sn=(Sr=on[0+4*tn]+3)+on[3+4*tn],un=on[1+4*tn]+on[2+4*tn],dn=on[1+4*tn]-on[2+4*tn],hn=Sr-on[3+4*tn],Rr[Vr+0]=sn+un>>3,Rr[Vr+16]=hn+dn>>3,Rr[Vr+32]=sn-un>>3,Rr[Vr+48]=hn-dn>>3,Vr+=64}function Ol(Sr,Ar,Rr){var Vr,tn=Ar-32,on=Ss,sn=255-Sr[tn-1];for(Vr=0;Vr<Rr;++Vr){var un,dn=on,hn=sn+Sr[Ar-1];for(un=0;un<Rr;++un)Sr[Ar+un]=dn[hn+Sr[tn+un]];Ar+=32}}function Uu(Sr,Ar){Ol(Sr,Ar,4)}function Wu(Sr,Ar){Ol(Sr,Ar,8)}function Hu(Sr,Ar){Ol(Sr,Ar,16)}function ys(Sr,Ar){var Rr;for(Rr=0;16>Rr;++Rr)rr(Sr,Ar+32*Rr,Sr,Ar-32,16)}function Fl(Sr,Ar){var Rr;for(Rr=16;0<Rr;--Rr)nr(Sr,Ar,Sr[Ar-1],16),Ar+=32}function Ml(Sr,Ar,Rr){var Vr;for(Vr=0;16>Vr;++Vr)nr(Ar,Rr+32*Vr,Sr,16)}function mu(Sr,Ar){var Rr,Vr=16;for(Rr=0;16>Rr;++Rr)Vr+=Sr[Ar-1+32*Rr]+Sr[Ar+Rr-32];Ml(Vr>>5,Sr,Ar)}function zo(Sr,Ar){var Rr,Vr=8;for(Rr=0;16>Rr;++Rr)Vr+=Sr[Ar-1+32*Rr];Ml(Vr>>4,Sr,Ar)}function Jl(Sr,Ar){var Rr,Vr=8;for(Rr=0;16>Rr;++Rr)Vr+=Sr[Ar+Rr-32];Ml(Vr>>4,Sr,Ar)}function Dl(Sr,Ar){Ml(128,Sr,Ar)}function to(Sr,Ar,Rr){return Sr+2*Ar+Rr+2>>2}function qu(Sr,Ar){var Rr,Vr=Ar-32;for(Vr=new Uint8Array([to(Sr[Vr-1],Sr[Vr+0],Sr[Vr+1]),to(Sr[Vr+0],Sr[Vr+1],Sr[Vr+2]),to(Sr[Vr+1],Sr[Vr+2],Sr[Vr+3]),to(Sr[Vr+2],Sr[Vr+3],Sr[Vr+4])]),Rr=0;4>Rr;++Rr)rr(Sr,Ar+32*Rr,Vr,0,Vr.length)}function vu(Sr,Ar){var Rr=Sr[Ar-1],Vr=Sr[Ar-1+32],tn=Sr[Ar-1+64],on=Sr[Ar-1+96];Zr(Sr,Ar+0,16843009*to(Sr[Ar-1-32],Rr,Vr)),Zr(Sr,Ar+32,16843009*to(Rr,Vr,tn)),Zr(Sr,Ar+64,16843009*to(Vr,tn,on)),Zr(Sr,Ar+96,16843009*to(tn,on,on))}function us(Sr,Ar){var Rr,Vr=4;for(Rr=0;4>Rr;++Rr)Vr+=Sr[Ar+Rr-32]+Sr[Ar-1+32*Rr];for(Vr>>=3,Rr=0;4>Rr;++Rr)nr(Sr,Ar+32*Rr,Vr,4)}function eu(Sr,Ar){var Rr=Sr[Ar-1+0],Vr=Sr[Ar-1+32],tn=Sr[Ar-1+64],on=Sr[Ar-1-32],sn=Sr[Ar+0-32],un=Sr[Ar+1-32],dn=Sr[Ar+2-32],hn=Sr[Ar+3-32];Sr[Ar+0+96]=to(Vr,tn,Sr[Ar-1+96]),Sr[Ar+1+96]=Sr[Ar+0+64]=to(Rr,Vr,tn),Sr[Ar+2+96]=Sr[Ar+1+64]=Sr[Ar+0+32]=to(on,Rr,Vr),Sr[Ar+3+96]=Sr[Ar+2+64]=Sr[Ar+1+32]=Sr[Ar+0+0]=to(sn,on,Rr),Sr[Ar+3+64]=Sr[Ar+2+32]=Sr[Ar+1+0]=to(un,sn,on),Sr[Ar+3+32]=Sr[Ar+2+0]=to(dn,un,sn),Sr[Ar+3+0]=to(hn,dn,un)}function Cs(Sr,Ar){var Rr=Sr[Ar+1-32],Vr=Sr[Ar+2-32],tn=Sr[Ar+3-32],on=Sr[Ar+4-32],sn=Sr[Ar+5-32],un=Sr[Ar+6-32],dn=Sr[Ar+7-32];Sr[Ar+0+0]=to(Sr[Ar+0-32],Rr,Vr),Sr[Ar+1+0]=Sr[Ar+0+32]=to(Rr,Vr,tn),Sr[Ar+2+0]=Sr[Ar+1+32]=Sr[Ar+0+64]=to(Vr,tn,on),Sr[Ar+3+0]=Sr[Ar+2+32]=Sr[Ar+1+64]=Sr[Ar+0+96]=to(tn,on,sn),Sr[Ar+3+32]=Sr[Ar+2+64]=Sr[Ar+1+96]=to(on,sn,un),Sr[Ar+3+64]=Sr[Ar+2+96]=to(sn,un,dn),Sr[Ar+3+96]=to(un,dn,dn)}function As(Sr,Ar){var Rr=Sr[Ar-1+0],Vr=Sr[Ar-1+32],tn=Sr[Ar-1+64],on=Sr[Ar-1-32],sn=Sr[Ar+0-32],un=Sr[Ar+1-32],dn=Sr[Ar+2-32],hn=Sr[Ar+3-32];Sr[Ar+0+0]=Sr[Ar+1+64]=on+sn+1>>1,Sr[Ar+1+0]=Sr[Ar+2+64]=sn+un+1>>1,Sr[Ar+2+0]=Sr[Ar+3+64]=un+dn+1>>1,Sr[Ar+3+0]=dn+hn+1>>1,Sr[Ar+0+96]=to(tn,Vr,Rr),Sr[Ar+0+64]=to(Vr,Rr,on),Sr[Ar+0+32]=Sr[Ar+1+96]=to(Rr,on,sn),Sr[Ar+1+32]=Sr[Ar+2+96]=to(on,sn,un),Sr[Ar+2+32]=Sr[Ar+3+96]=to(sn,un,dn),Sr[Ar+3+32]=to(un,dn,hn)}function tu(Sr,Ar){var Rr=Sr[Ar+0-32],Vr=Sr[Ar+1-32],tn=Sr[Ar+2-32],on=Sr[Ar+3-32],sn=Sr[Ar+4-32],un=Sr[Ar+5-32],dn=Sr[Ar+6-32],hn=Sr[Ar+7-32];Sr[Ar+0+0]=Rr+Vr+1>>1,Sr[Ar+1+0]=Sr[Ar+0+64]=Vr+tn+1>>1,Sr[Ar+2+0]=Sr[Ar+1+64]=tn+on+1>>1,Sr[Ar+3+0]=Sr[Ar+2+64]=on+sn+1>>1,Sr[Ar+0+32]=to(Rr,Vr,tn),Sr[Ar+1+32]=Sr[Ar+0+96]=to(Vr,tn,on),Sr[Ar+2+32]=Sr[Ar+1+96]=to(tn,on,sn),Sr[Ar+3+32]=Sr[Ar+2+96]=to(on,sn,un),Sr[Ar+3+64]=to(sn,un,dn),Sr[Ar+3+96]=to(un,dn,hn)}function yu(Sr,Ar){var Rr=Sr[Ar-1+0],Vr=Sr[Ar-1+32],tn=Sr[Ar-1+64],on=Sr[Ar-1+96];Sr[Ar+0+0]=Rr+Vr+1>>1,Sr[Ar+2+0]=Sr[Ar+0+32]=Vr+tn+1>>1,Sr[Ar+2+32]=Sr[Ar+0+64]=tn+on+1>>1,Sr[Ar+1+0]=to(Rr,Vr,tn),Sr[Ar+3+0]=Sr[Ar+1+32]=to(Vr,tn,on),Sr[Ar+3+32]=Sr[Ar+1+64]=to(tn,on,on),Sr[Ar+3+64]=Sr[Ar+2+64]=Sr[Ar+0+96]=Sr[Ar+1+96]=Sr[Ar+2+96]=Sr[Ar+3+96]=on}function Gu(Sr,Ar){var Rr=Sr[Ar-1+0],Vr=Sr[Ar-1+32],tn=Sr[Ar-1+64],on=Sr[Ar-1+96],sn=Sr[Ar-1-32],un=Sr[Ar+0-32],dn=Sr[Ar+1-32],hn=Sr[Ar+2-32];Sr[Ar+0+0]=Sr[Ar+2+32]=Rr+sn+1>>1,Sr[Ar+0+32]=Sr[Ar+2+64]=Vr+Rr+1>>1,Sr[Ar+0+64]=Sr[Ar+2+96]=tn+Vr+1>>1,Sr[Ar+0+96]=on+tn+1>>1,Sr[Ar+3+0]=to(un,dn,hn),Sr[Ar+2+0]=to(sn,un,dn),Sr[Ar+1+0]=Sr[Ar+3+32]=to(Rr,sn,un),Sr[Ar+1+32]=Sr[Ar+3+64]=to(Vr,Rr,sn),Sr[Ar+1+64]=Sr[Ar+3+96]=to(tn,Vr,Rr),Sr[Ar+1+96]=to(on,tn,Vr)}function bu(Sr,Ar){var Rr;for(Rr=0;8>Rr;++Rr)rr(Sr,Ar+32*Rr,Sr,Ar-32,8)}function ru(Sr,Ar){var Rr;for(Rr=0;8>Rr;++Rr)nr(Sr,Ar,Sr[Ar-1],8),Ar+=32}function qs(Sr,Ar,Rr){var Vr;for(Vr=0;8>Vr;++Vr)nr(Ar,Rr+32*Vr,Sr,8)}function Fs(Sr,Ar){var Rr,Vr=8;for(Rr=0;8>Rr;++Rr)Vr+=Sr[Ar+Rr-32]+Sr[Ar-1+32*Rr];qs(Vr>>4,Sr,Ar)}function Yu(Sr,Ar){var Rr,Vr=4;for(Rr=0;8>Rr;++Rr)Vr+=Sr[Ar+Rr-32];qs(Vr>>3,Sr,Ar)}function pn(Sr,Ar){var Rr,Vr=4;for(Rr=0;8>Rr;++Rr)Vr+=Sr[Ar-1+32*Rr];qs(Vr>>3,Sr,Ar)}function An(Sr,Ar){qs(128,Sr,Ar)}function Dn(Sr,Ar,Rr){var Vr=Sr[Ar-Rr],tn=Sr[Ar+0],on=3*(tn-Vr)+Hp[1020+Sr[Ar-2*Rr]-Sr[Ar+Rr]],sn=xp[112+(on+4>>3)];Sr[Ar-Rr]=Ss[255+Vr+xp[112+(on+3>>3)]],Sr[Ar+0]=Ss[255+tn-sn]}function Zn(Sr,Ar,Rr,Vr){var tn=Sr[Ar+0],on=Sr[Ar+Rr];return Es[255+Sr[Ar-2*Rr]-Sr[Ar-Rr]]>Vr||Es[255+on-tn]>Vr}function uo(Sr,Ar,Rr,Vr){return 4*Es[255+Sr[Ar-Rr]-Sr[Ar+0]]+Es[255+Sr[Ar-2*Rr]-Sr[Ar+Rr]]<=Vr}function So(Sr,Ar,Rr,Vr,tn){var on=Sr[Ar-3*Rr],sn=Sr[Ar-2*Rr],un=Sr[Ar-Rr],dn=Sr[Ar+0],hn=Sr[Ar+Rr],_n=Sr[Ar+2*Rr],On=Sr[Ar+3*Rr];return 4*Es[255+un-dn]+Es[255+sn-hn]>Vr?0:Es[255+Sr[Ar-4*Rr]-on]<=tn&&Es[255+on-sn]<=tn&&Es[255+sn-un]<=tn&&Es[255+On-_n]<=tn&&Es[255+_n-hn]<=tn&&Es[255+hn-dn]<=tn}function _o(Sr,Ar,Rr,Vr){var tn=2*Vr+1;for(Vr=0;16>Vr;++Vr)uo(Sr,Ar+Vr,Rr,tn)&&Dn(Sr,Ar+Vr,Rr)}function ro(Sr,Ar,Rr,Vr){var tn=2*Vr+1;for(Vr=0;16>Vr;++Vr)uo(Sr,Ar+Vr*Rr,1,tn)&&Dn(Sr,Ar+Vr*Rr,1)}function vo(Sr,Ar,Rr,Vr){var tn;for(tn=3;0<tn;--tn)_o(Sr,Ar+=4*Rr,Rr,Vr)}function os(Sr,Ar,Rr,Vr){var tn;for(tn=3;0<tn;--tn)ro(Sr,Ar+=4,Rr,Vr)}function Io(Sr,Ar,Rr,Vr,tn,on,sn,un){for(on=2*on+1;0<tn--;){if(So(Sr,Ar,Rr,on,sn))if(Zn(Sr,Ar,Rr,un))Dn(Sr,Ar,Rr);else{var dn=Sr,hn=Ar,_n=Rr,On=dn[hn-2*_n],Fn=dn[hn-_n],kn=dn[hn+0],Bn=dn[hn+_n],In=dn[hn+2*_n],Cn=27*($n=Hp[1020+3*(kn-Fn)+Hp[1020+On-Bn]])+63>>7,Tn=18*$n+63>>7,$n=9*$n+63>>7;dn[hn-3*_n]=Ss[255+dn[hn-3*_n]+$n],dn[hn-2*_n]=Ss[255+On+Tn],dn[hn-_n]=Ss[255+Fn+Cn],dn[hn+0]=Ss[255+kn-Cn],dn[hn+_n]=Ss[255+Bn-Tn],dn[hn+2*_n]=Ss[255+In-$n]}Ar+=Vr}}function ns(Sr,Ar,Rr,Vr,tn,on,sn,un){for(on=2*on+1;0<tn--;){if(So(Sr,Ar,Rr,on,sn))if(Zn(Sr,Ar,Rr,un))Dn(Sr,Ar,Rr);else{var dn=Sr,hn=Ar,_n=Rr,On=dn[hn-_n],Fn=dn[hn+0],kn=dn[hn+_n],Bn=xp[112+((In=3*(Fn-On))+4>>3)],In=xp[112+(In+3>>3)],Cn=Bn+1>>1;dn[hn-2*_n]=Ss[255+dn[hn-2*_n]+Cn],dn[hn-_n]=Ss[255+On+In],dn[hn+0]=Ss[255+Fn-Bn],dn[hn+_n]=Ss[255+kn-Cn]}Ar+=Vr}}function Gs(Sr,Ar,Rr,Vr,tn,on){Io(Sr,Ar,Rr,1,16,Vr,tn,on)}function Ms(Sr,Ar,Rr,Vr,tn,on){Io(Sr,Ar,1,Rr,16,Vr,tn,on)}function Su(Sr,Ar,Rr,Vr,tn,on){var sn;for(sn=3;0<sn;--sn)ns(Sr,Ar+=4*Rr,Rr,1,16,Vr,tn,on)}function xu(Sr,Ar,Rr,Vr,tn,on){var sn;for(sn=3;0<sn;--sn)ns(Sr,Ar+=4,1,Rr,16,Vr,tn,on)}function Bp(Sr,Ar,Rr,Vr,tn,on,sn,un){Io(Sr,Ar,tn,1,8,on,sn,un),Io(Rr,Vr,tn,1,8,on,sn,un)}function Xu(Sr,Ar,Rr,Vr,tn,on,sn,un){Io(Sr,Ar,1,tn,8,on,sn,un),Io(Rr,Vr,1,tn,8,on,sn,un)}function Ku(Sr,Ar,Rr,Vr,tn,on,sn,un){ns(Sr,Ar+4*tn,tn,1,8,on,sn,un),ns(Rr,Vr+4*tn,tn,1,8,on,sn,un)}function mp(Sr,Ar,Rr,Vr,tn,on,sn,un){ns(Sr,Ar+4,1,tn,8,on,sn,un),ns(Rr,Vr+4,1,tn,8,on,sn,un)}function _u(){this.ba=new ba,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new eo,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Zu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vp(){this.ua=0,this.Wa=new Wr,this.vb=new Wr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new zr,this.yc=new jr}function zp(){this.xb=this.a=0,this.l=new El,this.ca=new ba,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Tr,this.Pb=0,this.wd=new Tr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vp,this.ab=0,this.gc=dr(4,Zu),this.Oc=0}function wu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new El,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nu(Sr,Ar,Rr,Vr,tn,on,sn){for(Sr=Sr==null?0:Sr[Ar+0],Ar=0;Ar<sn;++Ar)tn[on+Ar]=Sr+Rr[Vr+Ar]&255,Sr=tn[on+Ar]}function Ju(Sr,Ar,Rr,Vr,tn,on,sn){var un;if(Sr==null)nu(null,null,Rr,Vr,tn,on,sn);else for(un=0;un<sn;++un)tn[on+un]=Sr[Ar+un]+Rr[Vr+un]&255}function Ll(Sr,Ar,Rr,Vr,tn,on,sn){if(Sr==null)nu(null,null,Rr,Vr,tn,on,sn);else{var un,dn=Sr[Ar+0],hn=dn,_n=dn;for(un=0;un<sn;++un)hn=_n+(dn=Sr[Ar+un])-hn,_n=Rr[Vr+un]+(-256&hn?0>hn?0:255:hn)&255,hn=dn,tn[on+un]=_n}}function ep(Sr,Ar,Rr,Vr){var tn=Ar.width,on=Ar.o;if(er(Sr!=null&&Ar!=null),0>Rr||0>=Vr||Rr+Vr>on)return null;if(!Sr.Cc){if(Sr.ga==null){var sn;if(Sr.ga=new wu,(sn=Sr.ga==null)||(sn=Ar.width*Ar.o,er(Sr.Gb.length==0),Sr.Gb=ar(sn),Sr.Uc=0,Sr.Gb==null?sn=0:(Sr.mb=Sr.Gb,Sr.nb=Sr.Uc,Sr.rc=null,sn=1),sn=!sn),!sn){sn=Sr.ga;var un=Sr.Fa,dn=Sr.P,hn=Sr.qc,_n=Sr.mb,On=Sr.nb,Fn=dn+1,kn=hn-1,Bn=sn.l;if(er(un!=null&&_n!=null&&Ar!=null),Vl[0]=null,Vl[1]=nu,Vl[2]=Ju,Vl[3]=Ll,sn.ca=_n,sn.tb=On,sn.c=Ar.width,sn.i=Ar.height,er(0<sn.c&&0<sn.i),1>=hn)Ar=0;else if(sn.$a=un[dn+0]>>0&3,sn.Z=un[dn+0]>>2&3,sn.Lc=un[dn+0]>>4&3,dn=un[dn+0]>>6&3,0>sn.$a||1<sn.$a||4<=sn.Z||1<sn.Lc||dn)Ar=0;else if(Bn.put=qo,Bn.ac=go,Bn.bc=jo,Bn.ma=sn,Bn.width=Ar.width,Bn.height=Ar.height,Bn.Da=Ar.Da,Bn.v=Ar.v,Bn.va=Ar.va,Bn.j=Ar.j,Bn.o=Ar.o,sn.$a)e:{er(sn.$a==1),Ar=cs();t:for(;;){if(Ar==null){Ar=0;break e}if(er(sn!=null),sn.mc=Ar,Ar.c=sn.c,Ar.i=sn.i,Ar.l=sn.l,Ar.l.ma=sn,Ar.l.width=sn.c,Ar.l.height=sn.i,Ar.a=0,Qr(Ar.m,un,Fn,kn),!ws(sn.c,sn.i,1,Ar,null)||(Ar.ab==1&&Ar.gc[0].hc==3&&es(Ar.s)?(sn.ic=1,un=Ar.c*Ar.i,Ar.Ta=null,Ar.Ua=0,Ar.V=ar(un),Ar.Ba=0,Ar.V==null?(Ar.a=1,Ar=0):Ar=1):(sn.ic=0,Ar=Us(Ar,sn.c)),!Ar))break t;Ar=1;break e}sn.mc=null,Ar=0}else Ar=kn>=sn.c*sn.i;sn=!Ar}if(sn)return null;Sr.ga.Lc!=1?Sr.Ga=0:Vr=on-Rr}er(Sr.ga!=null),er(Rr+Vr<=on);e:{if(Ar=(un=Sr.ga).c,on=un.l.o,un.$a==0){if(Fn=Sr.rc,kn=Sr.Vc,Bn=Sr.Fa,dn=Sr.P+1+Rr*Ar,hn=Sr.mb,_n=Sr.nb+Rr*Ar,er(dn<=Sr.P+Sr.qc),un.Z!=0)for(er(Vl[un.Z]!=null),sn=0;sn<Vr;++sn)Vl[un.Z](Fn,kn,Bn,dn,hn,_n,Ar),Fn=hn,kn=_n,_n+=Ar,dn+=Ar;else for(sn=0;sn<Vr;++sn)rr(hn,_n,Bn,dn,Ar),Fn=hn,kn=_n,_n+=Ar,dn+=Ar;Sr.rc=Fn,Sr.Vc=kn}else{if(er(un.mc!=null),Ar=Rr+Vr,er((sn=un.mc)!=null),er(Ar<=sn.i),sn.C>=Ar)Ar=1;else if(un.ic||Pn(),un.ic){un=sn.V,Fn=sn.Ba,kn=sn.c;var In=sn.i,Cn=(Bn=1,dn=sn.$/kn,hn=sn.$%kn,_n=sn.m,On=sn.s,sn.$),Tn=kn*In,$n=kn*Ar,Vn=On.wc,jn=Cn<$n?ko(On,hn,dn):null;er(Cn<=Tn),er(Ar<=In),er(es(On));t:for(;;){for(;!_n.h&&Cn<$n;){if(hn&Vn||(jn=ko(On,hn,dn)),er(jn!=null),Fr(_n),256>(In=Bo(jn.G[0],jn.H[0],_n)))un[Fn+Cn]=In,++Cn,++hn>=kn&&(hn=0,++dn<=Ar&&!(dn%16)&&gs(sn,dn));else{if(!(280>In)){Bn=0;break t}In=bo(In-256,_n);var _i,Xn=Bo(jn.G[4],jn.H[4],_n);if(Fr(_n),!(Cn>=(Xn=Jo(kn,Xn=bo(Xn,_n)))&&Tn-Cn>=In)){Bn=0;break t}for(_i=0;_i<In;++_i)un[Fn+Cn+_i]=un[Fn+Cn+_i-Xn];for(Cn+=In,hn+=In;hn>=kn;)hn-=kn,++dn<=Ar&&!(dn%16)&&gs(sn,dn);Cn<$n&&hn&Vn&&(jn=ko(On,hn,dn))}er(_n.h==_r(_n))}gs(sn,dn>Ar?Ar:dn);break t}!Bn||_n.h&&Cn<Tn?(Bn=0,sn.a=_n.h?5:3):sn.$=Cn,Ar=Bn}else Ar=ms(sn,sn.V,sn.Ba,sn.c,sn.i,Ar,xl);if(!Ar){Vr=0;break e}}Rr+Vr>=on&&(Sr.Cc=1),Vr=1}if(!Vr)return null;if(Sr.Cc&&((Vr=Sr.ga)!=null&&(Vr.mc=null),Sr.ga=null,0<Sr.Ga))return alert("todo:WebPDequantizeLevels"),null}return Sr.nb+Rr*tn}function Mr(Sr,Ar,Rr,Vr,tn,on){for(;0<tn--;){var sn,un=Sr,dn=Ar+(Rr?1:0),hn=Sr,_n=Ar+(Rr?0:3);for(sn=0;sn<Vr;++sn){var On=hn[_n+4*sn];On!=255&&(On*=32897,un[dn+4*sn+0]=un[dn+4*sn+0]*On>>23,un[dn+4*sn+1]=un[dn+4*sn+1]*On>>23,un[dn+4*sn+2]=un[dn+4*sn+2]*On>>23)}Ar+=on}}function rn(Sr,Ar,Rr,Vr,tn){for(;0<Vr--;){var on;for(on=0;on<Rr;++on){var sn=Sr[Ar+2*on+0],un=15&(hn=Sr[Ar+2*on+1]),dn=4369*un,hn=(240&hn|hn>>4)*dn>>16;Sr[Ar+2*on+0]=(240&sn|sn>>4)*dn>>16&240|(15&sn|sn<<4)*dn>>16>>4&15,Sr[Ar+2*on+1]=240&hn|un}Ar+=tn}}function mn(Sr,Ar,Rr,Vr,tn,on,sn,un){var dn,hn,_n=255;for(hn=0;hn<tn;++hn){for(dn=0;dn<Vr;++dn){var On=Sr[Ar+dn];on[sn+4*dn]=On,_n&=On}Ar+=Rr,sn+=un}return _n!=255}function Sn(Sr,Ar,Rr,Vr,tn){var on;for(on=0;on<tn;++on)Rr[Vr+on]=Sr[Ar+on]>>8}function Pn(){Bl=Mr,Mu=rn,Sp=mn,lm=Sn}function Nn(Sr,Ar,Rr){Pr[Sr]=function(Vr,tn,on,sn,un,dn,hn,_n,On,Fn,kn,Bn,In,Cn,Tn,$n,Vn){var jn,_i=Vn-1>>1,Xn=un[dn+0]|hn[_n+0]<<16,$a=On[Fn+0]|kn[Bn+0]<<16;er(Vr!=null);var Kn=3*Xn+$a+131074>>2;for(Ar(Vr[tn+0],255&Kn,Kn>>16,In,Cn),on!=null&&(Kn=3*$a+Xn+131074>>2,Ar(on[sn+0],255&Kn,Kn>>16,Tn,$n)),jn=1;jn<=_i;++jn){var xo=un[dn+jn]|hn[_n+jn]<<16,wo=On[Fn+jn]|kn[Bn+jn]<<16,yo=Xn+xo+$a+wo+524296,po=yo+2*(xo+$a)>>3;Kn=po+Xn>>1,Xn=(yo=yo+2*(Xn+wo)>>3)+xo>>1,Ar(Vr[tn+2*jn-1],255&Kn,Kn>>16,In,Cn+(2*jn-1)*Rr),Ar(Vr[tn+2*jn-0],255&Xn,Xn>>16,In,Cn+(2*jn-0)*Rr),on!=null&&(Kn=yo+$a>>1,Xn=po+wo>>1,Ar(on[sn+2*jn-1],255&Kn,Kn>>16,Tn,$n+(2*jn-1)*Rr),Ar(on[sn+2*jn+0],255&Xn,Xn>>16,Tn,$n+(2*jn+0)*Rr)),Xn=xo,$a=wo}1&Vn||(Kn=3*Xn+$a+131074>>2,Ar(Vr[tn+Vn-1],255&Kn,Kn>>16,In,Cn+(Vn-1)*Rr),on!=null&&(Kn=3*$a+Xn+131074>>2,Ar(on[sn+Vn-1],255&Kn,Kn>>16,Tn,$n+(Vn-1)*Rr)))}}function Wn(){Ps[_p]=r0,Ps[wp]=bm,Ps[pm]=n0,Ps[Cp]=Sm,Ps[Ap]=xm,Ps[qp]=_m,Ps[gm]=i0,Ps[Gp]=bm,Ps[Yp]=Sm,Ps[Tp]=xm,Ps[Xp]=_m}function Jn(Sr){return Sr&~a0?0>Sr?0:255:Sr>>wm}function xa(Sr,Ar){return Jn((19077*Sr>>8)+(26149*Ar>>8)-14234)}function io(Sr,Ar,Rr){return Jn((19077*Sr>>8)-(6419*Ar>>8)-(13320*Rr>>8)+8708)}function lo(Sr,Ar){return Jn((19077*Sr>>8)+(33050*Ar>>8)-17685)}function mo(Sr,Ar,Rr,Vr,tn){Vr[tn+0]=xa(Sr,Rr),Vr[tn+1]=io(Sr,Ar,Rr),Vr[tn+2]=lo(Sr,Ar)}function Lo(Sr,Ar,Rr,Vr,tn){Vr[tn+0]=lo(Sr,Ar),Vr[tn+1]=io(Sr,Ar,Rr),Vr[tn+2]=xa(Sr,Rr)}function No(Sr,Ar,Rr,Vr,tn){var on=io(Sr,Ar,Rr);Ar=on<<3&224|lo(Sr,Ar)>>3,Vr[tn+0]=248&xa(Sr,Rr)|on>>5,Vr[tn+1]=Ar}function Uo(Sr,Ar,Rr,Vr,tn){var on=240&lo(Sr,Ar)|15;Vr[tn+0]=240&xa(Sr,Rr)|io(Sr,Ar,Rr)>>4,Vr[tn+1]=on}function ss(Sr,Ar,Rr,Vr,tn){Vr[tn+0]=255,mo(Sr,Ar,Rr,Vr,tn+1)}function Xo(Sr,Ar,Rr,Vr,tn){Lo(Sr,Ar,Rr,Vr,tn),Vr[tn+3]=255}function Ds(Sr,Ar,Rr,Vr,tn){mo(Sr,Ar,Rr,Vr,tn),Vr[tn+3]=255}function bs(Sr,Ar){return 0>Sr?0:Sr>Ar?Ar:Sr}function Ys(Sr,Ar,Rr){Pr[Sr]=function(Vr,tn,on,sn,un,dn,hn,_n,On){for(var Fn=_n+(-2&On)*Rr;_n!=Fn;)Ar(Vr[tn+0],on[sn+0],un[dn+0],hn,_n),Ar(Vr[tn+1],on[sn+0],un[dn+0],hn,_n+Rr),tn+=2,++sn,++dn,_n+=2*Rr;1&On&&Ar(Vr[tn+0],on[sn+0],un[dn+0],hn,_n)}}function yp(Sr,Ar,Rr){return Rr==0?Sr==0?Ar==0?6:5:Ar==0?4:0:Rr}function tp(Sr,Ar,Rr,Vr,tn){switch(Sr>>>30){case 3:Ou(Ar,Rr,Vr,tn,0);break;case 2:lp(Ar,Rr,Vr,tn);break;case 1:Ns(Ar,Rr,Vr,tn)}}function rp(Sr,Ar){var Rr,Vr,tn=Ar.M,on=Ar.Nb,sn=Sr.oc,un=Sr.pc+40,dn=Sr.oc,hn=Sr.pc+584,_n=Sr.oc,On=Sr.pc+600;for(Rr=0;16>Rr;++Rr)sn[un+32*Rr-1]=129;for(Rr=0;8>Rr;++Rr)dn[hn+32*Rr-1]=129,_n[On+32*Rr-1]=129;for(0<tn?sn[un-1-32]=dn[hn-1-32]=_n[On-1-32]=129:(nr(sn,un-32-1,127,21),nr(dn,hn-32-1,127,9),nr(_n,On-32-1,127,9)),Vr=0;Vr<Sr.za;++Vr){var Fn=Ar.ya[Ar.aa+Vr];if(0<Vr){for(Rr=-1;16>Rr;++Rr)rr(sn,un+32*Rr-4,sn,un+32*Rr+12,4);for(Rr=-1;8>Rr;++Rr)rr(dn,hn+32*Rr-4,dn,hn+32*Rr+4,4),rr(_n,On+32*Rr-4,_n,On+32*Rr+4,4)}var kn=Sr.Gd,Bn=Sr.Hd+Vr,In=Fn.ad,Cn=Fn.Hc;if(0<tn&&(rr(sn,un-32,kn[Bn].y,0,16),rr(dn,hn-32,kn[Bn].f,0,8),rr(_n,On-32,kn[Bn].ea,0,8)),Fn.Za){var Tn=sn,$n=un-32+16;for(0<tn&&(Vr>=Sr.za-1?nr(Tn,$n,kn[Bn].y[15],4):rr(Tn,$n,kn[Bn+1].y,0,4)),Rr=0;4>Rr;Rr++)Tn[$n+128+Rr]=Tn[$n+256+Rr]=Tn[$n+384+Rr]=Tn[$n+0+Rr];for(Rr=0;16>Rr;++Rr,Cn<<=2)Tn=sn,$n=un+Am[Rr],$s[Fn.Ob[Rr]](Tn,$n),tp(Cn,In,16*+Rr,Tn,$n)}else if(Tn=yp(Vr,tn,Fn.Ob[0]),zl[Tn](sn,un),Cn!=0)for(Rr=0;16>Rr;++Rr,Cn<<=2)tp(Cn,In,16*+Rr,sn,un+Am[Rr]);for(Rr=Fn.Gc,Tn=yp(Vr,tn,Fn.Dd),Js[Tn](dn,hn),Js[Tn](_n,On),Cn=In,Tn=dn,$n=hn,255&(Fn=Rr>>0)&&(170&Fn?Nl(Cn,256,Tn,$n):Ks(Cn,256,Tn,$n)),Fn=_n,Cn=On,255&(Rr>>=8)&&(170&Rr?Nl(In,320,Fn,Cn):Ks(In,320,Fn,Cn)),tn<Sr.Ub-1&&(rr(kn[Bn].y,0,sn,un+480,16),rr(kn[Bn].f,0,dn,hn+224,8),rr(kn[Bn].ea,0,_n,On+224,8)),Rr=8*on*Sr.B,kn=Sr.sa,Bn=Sr.ta+16*Vr+16*on*Sr.R,In=Sr.qa,Fn=Sr.ra+8*Vr+Rr,Cn=Sr.Ha,Tn=Sr.Ia+8*Vr+Rr,Rr=0;16>Rr;++Rr)rr(kn,Bn+Rr*Sr.R,sn,un+32*Rr,16);for(Rr=0;8>Rr;++Rr)rr(In,Fn+Rr*Sr.B,dn,hn+32*Rr,8),rr(Cn,Tn+Rr*Sr.B,_n,On+32*Rr,8)}}function Cu(Sr,Ar,Rr,Vr,tn,on,sn,un,dn){var hn=[0],_n=[0],On=0,Fn=dn!=null?dn.kd:0,kn=dn??new Qu;if(Sr==null||12>Rr)return 7;kn.data=Sr,kn.w=Ar,kn.ha=Rr,Ar=[Ar],Rr=[Rr],kn.gb=[kn.gb];e:{var Bn=Ar,In=Rr,Cn=kn.gb;if(er(Sr!=null),er(In!=null),er(Cn!=null),Cn[0]=0,12<=In[0]&&!tr(Sr,Bn[0],"RIFF")){if(tr(Sr,Bn[0]+8,"WEBP")){Cn=3;break e}var Tn=Gr(Sr,Bn[0]+4);if(12>Tn||4294967286<Tn){Cn=3;break e}if(Fn&&Tn>In[0]-8){Cn=7;break e}Cn[0]=Tn,Bn[0]+=12,In[0]-=12}Cn=0}if(Cn!=0)return Cn;for(Tn=0<kn.gb[0],Rr=Rr[0];;){e:{var $n=Sr;In=Ar,Cn=Rr;var Vn=hn,jn=_n,_i=Bn=[0];if((Kn=On=[On])[0]=0,8>Cn[0])Cn=7;else{if(!tr($n,In[0],"VP8X")){if(Gr($n,In[0]+4)!=10){Cn=3;break e}if(18>Cn[0]){Cn=7;break e}var Xn=Gr($n,In[0]+8),$a=1+qr($n,In[0]+12);if(2147483648<=$a*($n=1+qr($n,In[0]+15))){Cn=3;break e}_i!=null&&(_i[0]=Xn),Vn!=null&&(Vn[0]=$a),jn!=null&&(jn[0]=$n),In[0]+=18,Cn[0]-=18,Kn[0]=1}Cn=0}}if(On=On[0],Bn=Bn[0],Cn!=0)return Cn;if(In=!!(2&Bn),!Tn&&On)return 3;if(on!=null&&(on[0]=!!(16&Bn)),sn!=null&&(sn[0]=In),un!=null&&(un[0]=0),sn=hn[0],Bn=_n[0],On&&In&&dn==null){Cn=0;break}if(4>Rr){Cn=7;break}if(Tn&&On||!Tn&&!On&&!tr(Sr,Ar[0],"ALPH")){Rr=[Rr],kn.na=[kn.na],kn.P=[kn.P],kn.Sa=[kn.Sa];e:{Xn=Sr,Cn=Ar,Tn=Rr;var Kn=kn.gb;Vn=kn.na,jn=kn.P,_i=kn.Sa,$a=22,er(Xn!=null),er(Tn!=null),$n=Cn[0];var xo=Tn[0];for(er(Vn!=null),er(_i!=null),Vn[0]=null,jn[0]=null,_i[0]=0;;){if(Cn[0]=$n,Tn[0]=xo,8>xo){Cn=7;break e}var wo=Gr(Xn,$n+4);if(4294967286<wo){Cn=3;break e}var yo=8+wo+1&-2;if($a+=yo,0<Kn&&$a>Kn){Cn=3;break e}if(!tr(Xn,$n,"VP8 ")||!tr(Xn,$n,"VP8L")){Cn=0;break e}if(xo[0]<yo){Cn=7;break e}tr(Xn,$n,"ALPH")||(Vn[0]=Xn,jn[0]=$n+8,_i[0]=wo),$n+=yo,xo-=yo}}if(Rr=Rr[0],kn.na=kn.na[0],kn.P=kn.P[0],kn.Sa=kn.Sa[0],Cn!=0)break}Rr=[Rr],kn.Ja=[kn.Ja],kn.xa=[kn.xa];e:if(Kn=Sr,Cn=Ar,Tn=Rr,Vn=kn.gb[0],jn=kn.Ja,_i=kn.xa,Xn=Cn[0],$n=!tr(Kn,Xn,"VP8 "),$a=!tr(Kn,Xn,"VP8L"),er(Kn!=null),er(Tn!=null),er(jn!=null),er(_i!=null),8>Tn[0])Cn=7;else{if($n||$a){if(Kn=Gr(Kn,Xn+4),12<=Vn&&Kn>Vn-12){Cn=3;break e}if(Fn&&Kn>Tn[0]-8){Cn=7;break e}jn[0]=Kn,Cn[0]+=8,Tn[0]-=8,_i[0]=$a}else _i[0]=5<=Tn[0]&&Kn[Xn+0]==47&&!(Kn[Xn+4]>>5),jn[0]=Tn[0];Cn=0}if(Rr=Rr[0],kn.Ja=kn.Ja[0],kn.xa=kn.xa[0],Ar=Ar[0],Cn!=0)break;if(4294967286<kn.Ja)return 3;if(un==null||In||(un[0]=kn.xa?2:1),sn=[sn],Bn=[Bn],kn.xa){if(5>Rr){Cn=7;break}un=sn,Fn=Bn,In=on,Sr==null||5>Rr?Sr=0:5<=Rr&&Sr[Ar+0]==47&&!(Sr[Ar+4]>>5)?(Tn=[0],Kn=[0],Vn=[0],Qr(jn=new Tr,Sr,Ar,Rr),na(jn,Tn,Kn,Vn)?(un!=null&&(un[0]=Tn[0]),Fn!=null&&(Fn[0]=Kn[0]),In!=null&&(In[0]=Vn[0]),Sr=1):Sr=0):Sr=0}else{if(10>Rr){Cn=7;break}un=Bn,Sr==null||10>Rr||!du(Sr,Ar+3,Rr-3)?Sr=0:(Fn=Sr[Ar+0]|Sr[Ar+1]<<8|Sr[Ar+2]<<16,In=16383&(Sr[Ar+7]<<8|Sr[Ar+6]),Sr=16383&(Sr[Ar+9]<<8|Sr[Ar+8]),1&Fn||3<(Fn>>1&7)||!(Fn>>4&1)||Fn>>5>=kn.Ja||!In||!Sr?Sr=0:(sn&&(sn[0]=In),un&&(un[0]=Sr),Sr=1))}if(!Sr||(sn=sn[0],Bn=Bn[0],On&&(hn[0]!=sn||_n[0]!=Bn)))return 3;dn!=null&&(dn[0]=kn,dn.offset=Ar-dn.w,er(4294967286>Ar-dn.w),er(dn.offset==dn.ha-Rr));break}return Cn==0||Cn==7&&On&&dn==null?(on!=null&&(on[0]|=kn.na!=null&&0<kn.na.length),Vr!=null&&(Vr[0]=sn),tn!=null&&(tn[0]=Bn),0):Cn}function np(Sr,Ar,Rr){var Vr=Ar.width,tn=Ar.height,on=0,sn=0,un=Vr,dn=tn;if(Ar.Da=Sr!=null&&0<Sr.Da,Ar.Da&&(un=Sr.cd,dn=Sr.bd,on=Sr.v,sn=Sr.j,11>Rr||(on&=-2,sn&=-2),0>on||0>sn||0>=un||0>=dn||on+un>Vr||sn+dn>tn))return 0;if(Ar.v=on,Ar.j=sn,Ar.va=on+un,Ar.o=sn+dn,Ar.U=un,Ar.T=dn,Ar.da=Sr!=null&&0<Sr.da,Ar.da){if(!cn(un,dn,Rr=[Sr.ib],on=[Sr.hb]))return 0;Ar.ib=Rr[0],Ar.hb=on[0]}return Ar.ob=Sr!=null&&Sr.ob,Ar.Kb=Sr==null||!Sr.Sd,Ar.da&&(Ar.ob=Ar.ib<3*Vr/4&&Ar.hb<3*tn/4,Ar.Kb=0),1}function ip(Sr){if(Sr==null)return 2;if(11>Sr.S){var Ar=Sr.f.RGBA;Ar.fb+=(Sr.height-1)*Ar.A,Ar.A=-Ar.A}else Ar=Sr.f.kb,Sr=Sr.height,Ar.O+=(Sr-1)*Ar.fa,Ar.fa=-Ar.fa,Ar.N+=(Sr-1>>1)*Ar.Ab,Ar.Ab=-Ar.Ab,Ar.W+=(Sr-1>>1)*Ar.Db,Ar.Db=-Ar.Db,Ar.F!=null&&(Ar.J+=(Sr-1)*Ar.lb,Ar.lb=-Ar.lb);return 0}function Au(Sr,Ar,Rr,Vr){if(Vr==null||0>=Sr||0>=Ar)return 2;if(Rr!=null){if(Rr.Da){var tn=Rr.cd,on=Rr.bd,sn=-2&Rr.v,un=-2&Rr.j;if(0>sn||0>un||0>=tn||0>=on||sn+tn>Sr||un+on>Ar)return 2;Sr=tn,Ar=on}if(Rr.da){if(!cn(Sr,Ar,tn=[Rr.ib],on=[Rr.hb]))return 2;Sr=tn[0],Ar=on[0]}}Vr.width=Sr,Vr.height=Ar;e:{var dn=Vr.width,hn=Vr.height;if(Sr=Vr.S,0>=dn||0>=hn||!(Sr>=_p&&13>Sr))Sr=2;else{if(0>=Vr.Rd&&Vr.sd==null){sn=on=tn=Ar=0;var _n=(un=dn*Tm[Sr])*hn;if(11>Sr||(on=(hn+1)/2*(Ar=(dn+1)/2),Sr==12&&(sn=(tn=dn)*hn)),(hn=ar(_n+2*on+sn))==null){Sr=1;break e}Vr.sd=hn,11>Sr?((dn=Vr.f.RGBA).eb=hn,dn.fb=0,dn.A=un,dn.size=_n):((dn=Vr.f.kb).y=hn,dn.O=0,dn.fa=un,dn.Fd=_n,dn.f=hn,dn.N=0+_n,dn.Ab=Ar,dn.Cd=on,dn.ea=hn,dn.W=0+_n+on,dn.Db=Ar,dn.Ed=on,Sr==12&&(dn.F=hn,dn.J=0+_n+2*on),dn.Tc=sn,dn.lb=tn)}if(Ar=1,tn=Vr.S,on=Vr.width,sn=Vr.height,tn>=_p&&13>tn)if(11>tn)Sr=Vr.f.RGBA,Ar&=(un=Math.abs(Sr.A))*(sn-1)+on<=Sr.size,Ar&=un>=on*Tm[tn],Ar&=Sr.eb!=null;else{Sr=Vr.f.kb,un=(on+1)/2,_n=(sn+1)/2,dn=Math.abs(Sr.fa),hn=Math.abs(Sr.Ab);var On=Math.abs(Sr.Db),Fn=Math.abs(Sr.lb),kn=Fn*(sn-1)+on;Ar&=dn*(sn-1)+on<=Sr.Fd,Ar&=hn*(_n-1)+un<=Sr.Cd,Ar=(Ar&=On*(_n-1)+un<=Sr.Ed)&dn>=on&hn>=un&On>=un,Ar&=Sr.y!=null,Ar&=Sr.f!=null,Ar&=Sr.ea!=null,tn==12&&(Ar&=Fn>=on,Ar&=kn<=Sr.Tc,Ar&=Sr.F!=null)}else Ar=0;Sr=Ar?0:2}}return Sr!=0||Rr!=null&&Rr.fd&&(Sr=ip(Vr)),Sr}var ds=64,Tu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ku=24,Eu=32,ap=8,fs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];wn("Predictor0","PredictorAdd0"),Pr.Predictor0=function(){return 4278190080},Pr.Predictor1=function(Sr){return Sr},Pr.Predictor2=function(Sr,Ar,Rr){return Ar[Rr+0]},Pr.Predictor3=function(Sr,Ar,Rr){return Ar[Rr+1]},Pr.Predictor4=function(Sr,Ar,Rr){return Ar[Rr-1]},Pr.Predictor5=function(Sr,Ar,Rr){return vn(vn(Sr,Ar[Rr+1]),Ar[Rr+0])},Pr.Predictor6=function(Sr,Ar,Rr){return vn(Sr,Ar[Rr-1])},Pr.Predictor7=function(Sr,Ar,Rr){return vn(Sr,Ar[Rr+0])},Pr.Predictor8=function(Sr,Ar,Rr){return vn(Ar[Rr-1],Ar[Rr+0])},Pr.Predictor9=function(Sr,Ar,Rr){return vn(Ar[Rr+0],Ar[Rr+1])},Pr.Predictor10=function(Sr,Ar,Rr){return vn(vn(Sr,Ar[Rr-1]),vn(Ar[Rr+0],Ar[Rr+1]))},Pr.Predictor11=function(Sr,Ar,Rr){var Vr=Ar[Rr+0];return 0>=Mn(Vr>>24&255,Sr>>24&255,(Ar=Ar[Rr-1])>>24&255)+Mn(Vr>>16&255,Sr>>16&255,Ar>>16&255)+Mn(Vr>>8&255,Sr>>8&255,Ar>>8&255)+Mn(255&Vr,255&Sr,255&Ar)?Vr:Sr},Pr.Predictor12=function(Sr,Ar,Rr){var Vr=Ar[Rr+0];return(Ln((Sr>>24&255)+(Vr>>24&255)-((Ar=Ar[Rr-1])>>24&255))<<24|Ln((Sr>>16&255)+(Vr>>16&255)-(Ar>>16&255))<<16|Ln((Sr>>8&255)+(Vr>>8&255)-(Ar>>8&255))<<8|Ln((255&Sr)+(255&Vr)-(255&Ar)))>>>0},Pr.Predictor13=function(Sr,Ar,Rr){var Vr=Ar[Rr-1];return(bn((Sr=vn(Sr,Ar[Rr+0]))>>24&255,Vr>>24&255)<<24|bn(Sr>>16&255,Vr>>16&255)<<16|bn(Sr>>8&255,Vr>>8&255)<<8|bn(Sr>>0&255,Vr>>0&255))>>>0};var Vp=Pr.PredictorAdd0;Pr.PredictorAdd1=Un,wn("Predictor2","PredictorAdd2"),wn("Predictor3","PredictorAdd3"),wn("Predictor4","PredictorAdd4"),wn("Predictor5","PredictorAdd5"),wn("Predictor6","PredictorAdd6"),wn("Predictor7","PredictorAdd7"),wn("Predictor8","PredictorAdd8"),wn("Predictor9","PredictorAdd9"),wn("Predictor10","PredictorAdd10"),wn("Predictor11","PredictorAdd11"),wn("Predictor12","PredictorAdd12"),wn("Predictor13","PredictorAdd13");var op=Pr.PredictorAdd2;Qn("ColorIndexInverseTransform","MapARGB","32b",function(Sr){return Sr>>8&255},function(Sr){return Sr}),Qn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Sr){return Sr},function(Sr){return Sr>>8&255});var bp,Ls=Pr.ColorIndexInverseTransform,sp=Pr.MapARGB,Up=Pr.VP8LColorIndexInverseTransformAlpha,Wp=Pr.MapAlpha,Rl=Pr.VP8LPredictorsAdd=[];Rl.length=16,(Pr.VP8LPredictors=[]).length=16,(Pr.VP8LPredictorsAdd_C=[]).length=16,(Pr.VP8LPredictors_C=[]).length=16;var Ts,Rs,Il,zs,Xs,Pu,Is,Ou,lp,Nl,Ns,Ks,iu,Fu,au,$l,cp,ks,Qs,Po,Oo,Vo,Yo,Zs,Bl,Mu,Sp,lm,cm=ar(511),um=ar(2041),dm=ar(225),fm=ar(767),hm=0,Hp=um,xp=dm,Ss=fm,Es=cm,_p=0,wp=1,pm=2,Cp=3,Ap=4,qp=5,gm=6,Gp=7,Yp=8,Tp=9,Xp=10,Vm=[2,3,7],Um=[3,3,11],mm=[280,256,256,256,40],Wm=[0,1,1,1,0],Hm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qm=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ym=8,Kp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],up=null,Xm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Km=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zm=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],e0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zl=[],$s=[],Js=[],t0=1,ym=2,Vl=[],Ps=[];Nn("UpsampleRgbLinePair",mo,3),Nn("UpsampleBgrLinePair",Lo,3),Nn("UpsampleRgbaLinePair",Ds,4),Nn("UpsampleBgraLinePair",Xo,4),Nn("UpsampleArgbLinePair",ss,4),Nn("UpsampleRgba4444LinePair",Uo,2),Nn("UpsampleRgb565LinePair",No,2);var r0=Pr.UpsampleRgbLinePair,n0=Pr.UpsampleBgrLinePair,bm=Pr.UpsampleRgbaLinePair,Sm=Pr.UpsampleBgraLinePair,xm=Pr.UpsampleArgbLinePair,_m=Pr.UpsampleRgba4444LinePair,i0=Pr.UpsampleRgb565LinePair,kp=16,Ep=1<<kp-1,dp=-227,Zp=482,wm=6,a0=(256<<wm)-1,Cm=0,o0=ar(256),s0=ar(256),l0=ar(256),c0=ar(256),u0=ar(Zp-dp),d0=ar(Zp-dp);Ys("YuvToRgbRow",mo,3),Ys("YuvToBgrRow",Lo,3),Ys("YuvToRgbaRow",Ds,4),Ys("YuvToBgraRow",Xo,4),Ys("YuvToArgbRow",ss,4),Ys("YuvToRgba4444Row",Uo,2),Ys("YuvToRgb565Row",No,2);var Am=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pp=[0,2,8],f0=[8,7,6,4,4,2,2,2,1,1,1,1],h0=1;this.WebPDecodeRGBA=function(Sr,Ar,Rr,Vr,tn){var on=wp,sn=new _u,un=new ba;sn.ba=un,un.S=on,un.width=[un.width],un.height=[un.height];var dn=un.width,hn=un.height,_n=new oo;if(_n==null||Sr==null)var On=2;else er(_n!=null),On=Cu(Sr,Ar,Rr,_n.width,_n.height,_n.Pd,_n.Qd,_n.format,null);if(On!=0?dn=0:(dn!=null&&(dn[0]=_n.width[0]),hn!=null&&(hn[0]=_n.height[0]),dn=1),dn){un.width=un.width[0],un.height=un.height[0],Vr!=null&&(Vr[0]=un.width),tn!=null&&(tn[0]=un.height);e:{if(Vr=new El,(tn=new Qu).data=Sr,tn.w=Ar,tn.ha=Rr,tn.kd=1,Ar=[0],er(tn!=null),((Sr=Cu(tn.data,tn.w,tn.ha,null,null,null,Ar,null,tn))==0||Sr==7)&&Ar[0]&&(Sr=4),(Ar=Sr)==0){if(er(sn!=null),Vr.data=tn.data,Vr.w=tn.w+tn.offset,Vr.ha=tn.ha-tn.offset,Vr.put=qo,Vr.ac=go,Vr.bc=jo,Vr.ma=sn,tn.xa){if((Sr=cs())==null){sn=1;break e}if(function(Fn,kn){var Bn=[0],In=[0],Cn=[0];t:for(;;){if(Fn==null)return 0;if(kn==null)return Fn.a=2,0;if(Fn.l=kn,Fn.a=0,Qr(Fn.m,kn.data,kn.w,kn.ha),!na(Fn.m,Bn,In,Cn)){Fn.a=3;break t}if(Fn.xb=ym,kn.width=Bn[0],kn.height=In[0],!ws(Bn[0],In[0],1,Fn,null))break t;return 1}return er(Fn.a!=0),0}(Sr,Vr)){if(Vr=(Ar=Au(Vr.width,Vr.height,sn.Oa,sn.ba))==0){t:{Vr=Sr;r:for(;;){if(Vr==null){Vr=0;break t}if(er(Vr.s.yc!=null),er(Vr.s.Ya!=null),er(0<Vr.s.Wb),er((Rr=Vr.l)!=null),er((tn=Rr.ma)!=null),Vr.xb!=0){if(Vr.ca=tn.ba,Vr.tb=tn.tb,er(Vr.ca!=null),!np(tn.Oa,Rr,Cp)){Vr.a=2;break r}if(!Us(Vr,Rr.width)||Rr.da)break r;if((Rr.da||xn(Vr.ca.S))&&Pn(),11>Vr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Vr.ca.f.kb.F!=null&&Pn()),Vr.Pb&&0<Vr.s.ua&&Vr.s.vb.X==null&&!Xr(Vr.s.vb,Vr.s.Wa.Xa)){Vr.a=1;break r}Vr.xb=0}if(!ms(Vr,Vr.V,Vr.Ba,Vr.c,Vr.i,Rr.o,Ro))break r;tn.Dc=Vr.Ma,Vr=1;break t}er(Vr.a!=0),Vr=0}Vr=!Vr}Vr&&(Ar=Sr.a)}else Ar=Sr.a}else{if((Sr=new $u)==null){sn=1;break e}if(Sr.Fa=tn.na,Sr.P=tn.P,Sr.qc=tn.Sa,fu(Sr,Vr)){if((Ar=Au(Vr.width,Vr.height,sn.Oa,sn.ba))==0){if(Sr.Aa=0,Rr=sn.Oa,er((tn=Sr)!=null),Rr!=null){if(0<(dn=0>(dn=Rr.Md)?0:100<dn?255:255*dn/100)){for(hn=_n=0;4>hn;++hn)12>(On=tn.pb[hn]).lc&&(On.ia=dn*f0[0>On.lc?0:On.lc]>>3),_n|=On.ia;_n&&(alert("todo:VP8InitRandom"),tn.ia=1)}tn.Ga=Rr.Id,100<tn.Ga?tn.Ga=100:0>tn.Ga&&(tn.Ga=0)}ju(Sr,Vr)||(Ar=Sr.a)}}else Ar=Sr.a}Ar==0&&sn.Oa!=null&&sn.Oa.fd&&(Ar=ip(sn.ba))}sn=Ar}on=sn!=0?null:11>on?un.f.RGBA.eb:un.f.kb.y}else on=null;return on};var Tm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function lr(Pr,$r){for(var Kr="",Ir=0;Ir<4;Ir++)Kr+=String.fromCharCode(Pr[$r++]);return Kr}function fr(Pr,$r){return(Pr[$r+0]<<0|Pr[$r+1]<<8|Pr[$r+2]<<16)>>>0}function cr(Pr,$r){return(Pr[$r+0]<<0|Pr[$r+1]<<8|Pr[$r+2]<<16|Pr[$r+3]<<24)>>>0}new ir;var ur=[0],sr=[0],hr=[],gr=new ir,pr=St,mr=function(Pr,$r){var Kr={},Ir=0,jr=!1,Jr=0,zr=0;if(Kr.frames=[],!function(Lr,_r,wr,Fr){for(var Nr=0;Nr<Fr;Nr++)if(Lr[_r+Nr]!=wr.charCodeAt(Nr))return!0;return!1}(Pr,$r,"RIFF",4)){var Hr,Yr;for(cr(Pr,$r+=4),$r+=8;$r<Pr.length;){var nn=lr(Pr,$r),Qr=cr(Pr,$r+=4);$r+=4;var Or=Qr+(1&Qr);switch(nn){case"VP8 ":case"VP8L":Kr.frames[Ir]===void 0&&(Kr.frames[Ir]={}),(Tr=Kr.frames[Ir]).src_off=jr?zr:$r-8,Tr.src_size=Jr+Qr+8,Ir++,jr&&(jr=!1,Jr=0,zr=0);break;case"VP8X":(Tr=Kr.header={}).feature_flags=Pr[$r];var Er=$r+4;Tr.canvas_width=1+fr(Pr,Er),Er+=3,Tr.canvas_height=1+fr(Pr,Er),Er+=3;break;case"ALPH":jr=!0,Jr=Or+8,zr=$r-8;break;case"ANIM":(Tr=Kr.header).bgcolor=cr(Pr,$r),Er=$r+4,Tr.loop_count=(Hr=Pr)[(Yr=Er)+0]<<0|Hr[Yr+1]<<8,Er+=2;break;case"ANMF":var Dr,Tr;(Tr=Kr.frames[Ir]={}).offset_x=2*fr(Pr,$r),$r+=3,Tr.offset_y=2*fr(Pr,$r),$r+=3,Tr.width=1+fr(Pr,$r),$r+=3,Tr.height=1+fr(Pr,$r),$r+=3,Tr.duration=fr(Pr,$r),$r+=3,Dr=Pr[$r++],Tr.dispose=1&Dr,Tr.blend=Dr>>1&1}nn!="ANMF"&&($r+=Or)}return Kr}}(pr,0);mr.response=pr,mr.rgbaoutput=!0,mr.dataurl=!1;var vr=mr.header?mr.header:null,yr=mr.frames?mr.frames:null;if(vr){vr.loop_counter=vr.loop_count,ur=[vr.canvas_height],sr=[vr.canvas_width];for(var br=0;br<yr.length&&yr[br].blend!=0;br++);}var xr=yr[0],Cr=gr.WebPDecodeRGBA(pr,xr.src_off,xr.src_size,sr,ur);xr.rgba=Cr,xr.imgwidth=sr[0],xr.imgheight=ur[0];for(var kr=0;kr<sr[0]*ur[0]*4;kr++)hr[kr]=Cr[kr];return this.width=sr,this.height=ur,this.data=hr,this}(function(St){var er=function(){return typeof zlibSync=="function"},tr=function(ur,sr,hr,gr){var pr=4,mr=dr;switch(gr){case St.image_compression.FAST:pr=1,mr=ar;break;case St.image_compression.MEDIUM:pr=6,mr=or;break;case St.image_compression.SLOW:pr=9,mr=ir}ur=rr(ur,sr,hr,mr);var vr=zlibSync(ur,{level:pr});return St.__addimage__.arrayBufferToBinaryString(vr)},rr=function(ur,sr,hr,gr){for(var pr,mr,vr,yr=ur.length/sr,br=new Uint8Array(ur.length+yr),xr=fr(),Cr=0;Cr<yr;Cr+=1){if(vr=Cr*sr,pr=ur.subarray(vr,vr+sr),gr)br.set(gr(pr,hr,mr),vr+Cr);else{for(var kr,Pr=xr.length,$r=[];kr<Pr;kr+=1)$r[kr]=xr[kr](pr,hr,mr);var Kr=cr($r.concat());br.set($r[Kr],vr+Cr)}mr=pr}return br},nr=function(ur){var sr=Array.apply([],ur);return sr.unshift(0),sr},ar=function(ur,sr){var hr,gr=[],pr=ur.length;gr[0]=1;for(var mr=0;mr<pr;mr+=1)hr=ur[mr-sr]||0,gr[mr+1]=ur[mr]-hr+256&255;return gr},dr=function(ur,sr,hr){var gr,pr=[],mr=ur.length;pr[0]=2;for(var vr=0;vr<mr;vr+=1)gr=hr&&hr[vr]||0,pr[vr+1]=ur[vr]-gr+256&255;return pr},or=function(ur,sr,hr){var gr,pr,mr=[],vr=ur.length;mr[0]=3;for(var yr=0;yr<vr;yr+=1)gr=ur[yr-sr]||0,pr=hr&&hr[yr]||0,mr[yr+1]=ur[yr]+256-(gr+pr>>>1)&255;return mr},ir=function(ur,sr,hr){var gr,pr,mr,vr,yr=[],br=ur.length;yr[0]=4;for(var xr=0;xr<br;xr+=1)gr=ur[xr-sr]||0,pr=hr&&hr[xr]||0,mr=hr&&hr[xr-sr]||0,vr=lr(gr,pr,mr),yr[xr+1]=ur[xr]-vr+256&255;return yr},lr=function(ur,sr,hr){if(ur===sr&&sr===hr)return ur;var gr=Math.abs(sr-hr),pr=Math.abs(ur-hr),mr=Math.abs(ur+sr-hr-hr);return gr<=pr&&gr<=mr?ur:pr<=mr?sr:hr},fr=function(){return[nr,ar,dr,or,ir]},cr=function(ur){var sr=ur.map(function(hr){return hr.reduce(function(gr,pr){return gr+Math.abs(pr)},0)});return sr.indexOf(Math.min.apply(null,sr))};St.processPNG=function(ur,sr,hr,gr){var pr,mr,vr,yr,br,xr,Cr,kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr=this.decode.FLATE_DECODE,Yr="";if(this.__addimage__.isArrayBuffer(ur)&&(ur=new Uint8Array(ur)),this.__addimage__.isArrayBufferView(ur)){if(ur=(vr=new Kt(ur)).imgData,mr=vr.bits,pr=vr.colorSpace,br=vr.colors,[4,6].indexOf(vr.colorType)!==-1){if(vr.bits===8){Pr=(kr=vr.pixelBitlength==32?new Uint32Array(vr.decodePixels().buffer):vr.pixelBitlength==16?new Uint16Array(vr.decodePixels().buffer):new Uint8Array(vr.decodePixels().buffer)).length,Kr=new Uint8Array(Pr*vr.colors),$r=new Uint8Array(Pr);var nn,Qr=vr.pixelBitlength-vr.bits;for(Jr=0,zr=0;Jr<Pr;Jr++){for(jr=kr[Jr],nn=0;nn<Qr;)Kr[zr++]=jr>>>nn&255,nn+=vr.bits;$r[Jr]=jr>>>nn&255}}if(vr.bits===16){Pr=(kr=new Uint32Array(vr.decodePixels().buffer)).length,Kr=new Uint8Array(Pr*(32/vr.pixelBitlength)*vr.colors),$r=new Uint8Array(Pr*(32/vr.pixelBitlength)),Ir=vr.colors>1,Jr=0,zr=0;for(var Or=0;Jr<Pr;)jr=kr[Jr++],Kr[zr++]=jr>>>0&255,Ir&&(Kr[zr++]=jr>>>16&255,jr=kr[Jr++],Kr[zr++]=jr>>>0&255),$r[Or++]=jr>>>16&255;mr=8}gr!==St.image_compression.NONE&&er()?(ur=tr(Kr,vr.width*vr.colors,vr.colors,gr),Cr=tr($r,vr.width,1,gr)):(ur=Kr,Cr=$r,Hr=void 0)}if(vr.colorType===3&&(pr=this.color_spaces.INDEXED,xr=vr.palette,vr.transparency.indexed)){var Er=vr.transparency.indexed,Dr=0;for(Jr=0,Pr=Er.length;Jr<Pr;++Jr)Dr+=Er[Jr];if((Dr/=255)===Pr-1&&Er.indexOf(0)!==-1)yr=[Er.indexOf(0)];else if(Dr!==Pr){for(kr=vr.decodePixels(),$r=new Uint8Array(kr.length),Jr=0,Pr=kr.length;Jr<Pr;Jr++)$r[Jr]=Er[kr[Jr]];Cr=tr($r,vr.width,1)}}var Tr=function(Lr){var _r;switch(Lr){case St.image_compression.FAST:_r=11;break;case St.image_compression.MEDIUM:_r=13;break;case St.image_compression.SLOW:_r=14;break;default:_r=12}return _r}(gr);return Hr===this.decode.FLATE_DECODE&&(Yr="/Predictor "+Tr+" "),Yr+="/Colors "+br+" /BitsPerComponent "+mr+" /Columns "+vr.width,(this.__addimage__.isArrayBuffer(ur)||this.__addimage__.isArrayBufferView(ur))&&(ur=this.__addimage__.arrayBufferToBinaryString(ur)),(Cr&&this.__addimage__.isArrayBuffer(Cr)||this.__addimage__.isArrayBufferView(Cr))&&(Cr=this.__addimage__.arrayBufferToBinaryString(Cr)),{alias:hr,data:ur,index:sr,filter:Hr,decodeParameters:Yr,transparency:yr,palette:xr,sMask:Cr,predictor:Tr,width:vr.width,height:vr.height,bitsPerComponent:mr,colorSpace:pr}}}})(E.API),function(St){St.processGIF89A=function(er,tr,rr,nr){var ar=new Zt(er),dr=ar.width,or=ar.height,ir=[];ar.decodeAndBlitFrameRGBA(0,ir);var lr={data:ir,width:dr,height:or},fr=new Qt(100).encode(lr,100);return St.processJPEG.call(this,fr,tr,rr,nr)},St.processGIF87A=St.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var St=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(St);for(var er=0;er<St;er++){var tr=this.datav.getUint8(this.pos++,!0),rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0);this.palette[er]={red:nr,green:rr,blue:tr,quad:ar}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var St="bit"+this.bitPP,er=this.width*this.height*4;this.data=new Uint8Array(er),this[St]()}catch(tr){a.log("bit decode error:"+tr)}},te.prototype.bit1=function(){var St,er=Math.ceil(this.width/8),tr=er%4;for(St=this.height-1;St>=0;St--){for(var rr=this.bottom_up?St:this.height-1-St,nr=0;nr<er;nr++)for(var ar=this.datav.getUint8(this.pos++,!0),dr=rr*this.width*4+8*nr*4,or=0;or<8&&8*nr+or<this.width;or++){var ir=this.palette[ar>>7-or&1];this.data[dr+4*or]=ir.blue,this.data[dr+4*or+1]=ir.green,this.data[dr+4*or+2]=ir.red,this.data[dr+4*or+3]=255}tr!==0&&(this.pos+=4-tr)}},te.prototype.bit4=function(){for(var St=Math.ceil(this.width/2),er=St%4,tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<St;nr++){var ar=this.datav.getUint8(this.pos++,!0),dr=rr*this.width*4+2*nr*4,or=ar>>4,ir=15&ar,lr=this.palette[or];if(this.data[dr]=lr.blue,this.data[dr+1]=lr.green,this.data[dr+2]=lr.red,this.data[dr+3]=255,2*nr+1>=this.width)break;lr=this.palette[ir],this.data[dr+4]=lr.blue,this.data[dr+4+1]=lr.green,this.data[dr+4+2]=lr.red,this.data[dr+4+3]=255}er!==0&&(this.pos+=4-er)}},te.prototype.bit8=function(){for(var St=this.width%4,er=this.height-1;er>=0;er--){for(var tr=this.bottom_up?er:this.height-1-er,rr=0;rr<this.width;rr++){var nr=this.datav.getUint8(this.pos++,!0),ar=tr*this.width*4+4*rr;if(nr<this.palette.length){var dr=this.palette[nr];this.data[ar]=dr.red,this.data[ar+1]=dr.green,this.data[ar+2]=dr.blue,this.data[ar+3]=255}else this.data[ar]=255,this.data[ar+1]=255,this.data[ar+2]=255,this.data[ar+3]=255}St!==0&&(this.pos+=4-St)}},te.prototype.bit15=function(){for(var St=this.width%3,er=parseInt("11111",2),tr=this.height-1;tr>=0;tr--){for(var rr=this.bottom_up?tr:this.height-1-tr,nr=0;nr<this.width;nr++){var ar=this.datav.getUint16(this.pos,!0);this.pos+=2;var dr=(ar&er)/er*255|0,or=(ar>>5&er)/er*255|0,ir=(ar>>10&er)/er*255|0,lr=ar>>15?255:0,fr=rr*this.width*4+4*nr;this.data[fr]=ir,this.data[fr+1]=or,this.data[fr+2]=dr,this.data[fr+3]=lr}this.pos+=St}},te.prototype.bit16=function(){for(var St=this.width%3,er=parseInt("11111",2),tr=parseInt("111111",2),rr=this.height-1;rr>=0;rr--){for(var nr=this.bottom_up?rr:this.height-1-rr,ar=0;ar<this.width;ar++){var dr=this.datav.getUint16(this.pos,!0);this.pos+=2;var or=(dr&er)/er*255|0,ir=(dr>>5&tr)/tr*255|0,lr=(dr>>11)/er*255|0,fr=nr*this.width*4+4*ar;this.data[fr]=lr,this.data[fr+1]=ir,this.data[fr+2]=or,this.data[fr+3]=255}this.pos+=St}},te.prototype.bit24=function(){for(var St=this.height-1;St>=0;St--){for(var er=this.bottom_up?St:this.height-1-St,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0),dr=er*this.width*4+4*tr;this.data[dr]=ar,this.data[dr+1]=nr,this.data[dr+2]=rr,this.data[dr+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var St=this.height-1;St>=0;St--)for(var er=this.bottom_up?St:this.height-1-St,tr=0;tr<this.width;tr++){var rr=this.datav.getUint8(this.pos++,!0),nr=this.datav.getUint8(this.pos++,!0),ar=this.datav.getUint8(this.pos++,!0),dr=this.datav.getUint8(this.pos++,!0),or=er*this.width*4+4*tr;this.data[or]=ar,this.data[or+1]=nr,this.data[or+2]=rr,this.data[or+3]=dr}},te.prototype.getData=function(){return this.data},function(St){St.processBMP=function(er,tr,rr,nr){var ar=new te(er,!1),dr=ar.width,or=ar.height,ir={data:ar.getData(),width:dr,height:or},lr=new Qt(100).encode(ir,100);return St.processJPEG.call(this,lr,tr,rr,nr)}}(E.API),ee.prototype.getData=function(){return this.data},function(St){St.processWEBP=function(er,tr,rr,nr){var ar=new ee(er),dr=ar.width,or=ar.height,ir={data:ar.getData(),width:dr,height:or},lr=new Qt(100).encode(ir,100);return St.processJPEG.call(this,lr,tr,rr,nr)}}(E.API),E.API.processRGBA=function(St,er,tr){for(var rr=St.data,nr=rr.length,ar=new Uint8Array(nr/4*3),dr=new Uint8Array(nr/4),or=0,ir=0,lr=0;lr<nr;lr+=4){var fr=rr[lr],cr=rr[lr+1],ur=rr[lr+2],sr=rr[lr+3];ar[or++]=fr,ar[or++]=cr,ar[or++]=ur,dr[ir++]=sr}var hr=this.__addimage__.arrayBufferToBinaryString(ar);return{alpha:this.__addimage__.arrayBufferToBinaryString(dr),data:hr,index:er,alias:tr,colorSpace:"DeviceRGB",bitsPerComponent:8,width:St.width,height:St.height}},E.API.setLanguage=function(St){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[St]!==void 0&&(this.internal.languageSettings.languageCode=St,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(St,er){var tr,rr,nr=(er=er||{}).font||this.internal.getFont(),ar=er.fontSize||this.internal.getFontSize(),dr=er.charSpace||this.internal.getCharSpace(),or=er.widths?er.widths:nr.metadata.Unicode.widths,ir=or.fof?or.fof:1,lr=er.kerning?er.kerning:nr.metadata.Unicode.kerning,fr=lr.fof?lr.fof:1,cr=er.doKerning!==!1,ur=0,sr=St.length,hr=0,gr=or[0]||ir,pr=[];for(tr=0;tr<sr;tr++)rr=St.charCodeAt(tr),typeof nr.metadata.widthOfString=="function"?pr.push((nr.metadata.widthOfGlyph(nr.metadata.characterToGlyph(rr))+dr*(1e3/ar)||0)/1e3):(ur=cr&&_typeof(lr[rr])==="object"&&!isNaN(parseInt(lr[rr][hr],10))?lr[rr][hr]/fr:0,pr.push((or[rr]||gr)/ir+ur)),hr=rr;return pr},Yt=Vt.getStringUnitWidth=function(St,er){var tr=(er=er||{}).fontSize||this.internal.getFontSize(),rr=er.font||this.internal.getFont(),nr=er.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(St=Vt.processArabic(St)),typeof rr.metadata.widthOfString=="function"?rr.metadata.widthOfString(St,tr,nr)/tr:Gt.apply(this,arguments).reduce(function(ar,dr){return ar+dr},0)},Jt=function(St,er,tr,rr){for(var nr=[],ar=0,dr=St.length,or=0;ar!==dr&&or+er[ar]<tr;)or+=er[ar],ar++;nr.push(St.slice(0,ar));var ir=ar;for(or=0;ar!==dr;)or+er[ar]>rr&&(nr.push(St.slice(ir,ar)),or=0,ir=ar),or+=er[ar],ar++;return ir!==ar&&nr.push(St.slice(ir,ar)),nr},Xt=function(St,er,tr){tr||(tr={});var rr,nr,ar,dr,or,ir,lr,fr=[],cr=[fr],ur=tr.textIndent||0,sr=0,hr=0,gr=St.split(" "),pr=Gt.apply(this,[" ",tr])[0];if(ir=tr.lineIndent===-1?gr[0].length+2:tr.lineIndent||0){var mr=Array(ir).join(" "),vr=[];gr.map(function(br){(br=br.split(/\s*\n/)).length>1?vr=vr.concat(br.map(function(xr,Cr){return(Cr&&xr.length?`
`:"")+xr})):vr.push(br[0])}),gr=vr,ir=Yt.apply(this,[mr,tr])}for(ar=0,dr=gr.length;ar<dr;ar++){var yr=0;if(rr=gr[ar],ir&&rr[0]==`
`&&(rr=rr.substr(1),yr=1),ur+sr+(hr=(nr=Gt.apply(this,[rr,tr])).reduce(function(br,xr){return br+xr},0))>er||yr){if(hr>er){for(or=Jt.apply(this,[rr,nr,er-(ur+sr),er]),fr.push(or.shift()),fr=[or.pop()];or.length;)cr.push([or.shift()]);hr=nr.slice(rr.length-(fr[0]?fr[0].length:0)).reduce(function(br,xr){return br+xr},0)}else fr=[rr];cr.push(fr),ur=hr+ir,sr=pr}else fr.push(rr),ur+=sr+hr,sr=pr}return lr=ir?function(br,xr){return(xr?mr:"")+br.join(" ")}:function(br){return br.join(" ")},cr.map(lr)},Vt.splitTextToSize=function(St,er,tr){var rr,nr=(tr=tr||{}).fontSize||this.internal.getFontSize(),ar=function(fr){if(fr.widths&&fr.kerning)return{widths:fr.widths,kerning:fr.kerning};var cr=this.internal.getFont(fr.fontName,fr.fontStyle);return cr.metadata.Unicode?{widths:cr.metadata.Unicode.widths||{0:1},kerning:cr.metadata.Unicode.kerning||{}}:{font:cr.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,tr);rr=Array.isArray(St)?St:String(St).split(/\r?\n/);var dr=1*this.internal.scaleFactor*er/nr;ar.textIndent=tr.textIndent?1*tr.textIndent*this.internal.scaleFactor/nr:0,ar.lineIndent=tr.lineIndent;var or,ir,lr=[];for(or=0,ir=rr.length;or<ir;or++)lr=lr.concat(Xt.apply(this,[rr[or],dr,ar]));return lr},function(St){St.__fontmetrics__=St.__fontmetrics__||{};for(var er="klmnopqrstuvwxyz",tr={},rr={},nr=0;nr<er.length;nr++)tr[er[nr]]="0123456789abcdef"[nr],rr["0123456789abcdef"[nr]]=er[nr];var ar=function(cr){return"0x"+parseInt(cr,10).toString(16)},dr=St.__fontmetrics__.compress=function(cr){var ur,sr,hr,gr,pr=["{"];for(var mr in cr){if(ur=cr[mr],isNaN(parseInt(mr,10))?sr="'"+mr+"'":(mr=parseInt(mr,10),sr=(sr=ar(mr).slice(2)).slice(0,-1)+rr[sr.slice(-1)]),typeof ur=="number")ur<0?(hr=ar(ur).slice(3),gr="-"):(hr=ar(ur).slice(2),gr=""),hr=gr+hr.slice(0,-1)+rr[hr.slice(-1)];else{if(_typeof(ur)!=="object")throw new Error("Don't know what to do with value type "+_typeof(ur)+".");hr=dr(ur)}pr.push(sr+hr)}return pr.push("}"),pr.join("")},or=St.__fontmetrics__.uncompress=function(cr){if(typeof cr!="string")throw new Error("Invalid argument passed to uncompress.");for(var ur,sr,hr,gr,pr={},mr=1,vr=pr,yr=[],br="",xr="",Cr=cr.length-1,kr=1;kr<Cr;kr+=1)(gr=cr[kr])=="'"?ur?(hr=ur.join(""),ur=void 0):ur=[]:ur?ur.push(gr):gr=="{"?(yr.push([vr,hr]),vr={},hr=void 0):gr=="}"?((sr=yr.pop())[0][sr[1]]=vr,hr=void 0,vr=sr[0]):gr=="-"?mr=-1:hr===void 0?tr.hasOwnProperty(gr)?(br+=tr[gr],hr=parseInt(br,16)*mr,mr=1,br=""):br+=gr:tr.hasOwnProperty(gr)?(xr+=tr[gr],vr[hr]=parseInt(xr,16)*mr,mr=1,hr=void 0,xr=""):xr+=gr;return pr},ir={codePages:["WinAnsiEncoding"],WinAnsiEncoding:or("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},lr={Unicode:{Courier:ir,"Courier-Bold":ir,"Courier-BoldOblique":ir,"Courier-Oblique":ir,Helvetica:ir,"Helvetica-Bold":ir,"Helvetica-BoldOblique":ir,"Helvetica-Oblique":ir,"Times-Roman":ir,"Times-Bold":ir,"Times-BoldItalic":ir,"Times-Italic":ir}},fr={Unicode:{"Courier-Oblique":or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":or("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":or("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":or("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:or("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:or("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":or("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:or("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":or("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":or("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":or("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":or("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};St.events.push(["addFont",function(cr){var ur=cr.font,sr=fr.Unicode[ur.postScriptName];sr&&(ur.metadata.Unicode={},ur.metadata.Unicode.widths=sr.widths,ur.metadata.Unicode.kerning=sr.kerning);var hr=lr.Unicode[ur.postScriptName];hr&&(ur.metadata.Unicode.encoding=hr,ur.encoding=hr.codePages[0])}])}(E.API),function(St){var er=function(tr){for(var rr=tr.length,nr=new Uint8Array(rr),ar=0;ar<rr;ar++)nr[ar]=tr.charCodeAt(ar);return nr};St.API.events.push(["addFont",function(tr){var rr=void 0,nr=tr.font,ar=tr.instance;if(!nr.isStandardFont){if(ar===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");if(typeof(rr=ar.existsFileInVFS(nr.postScriptName)===!1?ar.loadFile(nr.postScriptName):ar.getFileFromVFS(nr.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+nr.postScriptName+"').");(function(dr,or){or=/^\x00\x01\x00\x00/.test(or)?er(or):er(u(or)),dr.metadata=St.API.TTFFont.open(or),dr.metadata.Unicode=dr.metadata.Unicode||{encoding:{},kerning:{},widths:[]},dr.metadata.glyIdsUsed=[0]})(nr,rr)}}])}(E),function(St){function er(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.9876c627.js"),[])).catch(function(tr){return Promise.reject(new Error("Could not load canvg: "+tr))}).then(function(tr){return tr.default?tr.default:tr})}E.API.addSvgAsImage=function(tr,rr,nr,ar,dr,or,ir,lr){if(isNaN(rr)||isNaN(nr))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ar)||isNaN(dr))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var fr=document.createElement("canvas");fr.width=ar,fr.height=dr;var cr=fr.getContext("2d");cr.fillStyle="#fff",cr.fillRect(0,0,fr.width,fr.height);var ur={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},sr=this;return er().then(function(hr){return hr.fromString(cr,tr,ur)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(hr){return hr.render(ur)}).then(function(){sr.addImage(fr.toDataURL("image/jpeg",1),rr,nr,ar,dr,ir,lr)})}}(),E.API.putTotalPages=function(St){var er,tr=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(er=new RegExp(St,"g"),tr=this.internal.getNumberOfPages()):(er=new RegExp(this.pdfEscape16(St,this.internal.getFont()),"g"),tr=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var rr=1;rr<=this.internal.getNumberOfPages();rr++)for(var nr=0;nr<this.internal.pages[rr].length;nr++)this.internal.pages[rr][nr]=this.internal.pages[rr][nr].replace(er,tr);return this},E.API.viewerPreferences=function(St,er){var tr;St=St||{},er=er||!1;var rr,nr,ar,dr={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},or=Object.keys(dr),ir=[],lr=0,fr=0,cr=0;function ur(hr,gr){var pr,mr=!1;for(pr=0;pr<hr.length;pr+=1)hr[pr]===gr&&(mr=!0);return mr}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(dr)),this.internal.viewerpreferences.isSubscribed=!1),tr=this.internal.viewerpreferences.configuration,St==="reset"||er===!0){var sr=or.length;for(cr=0;cr<sr;cr+=1)tr[or[cr]].value=tr[or[cr]].defaultValue,tr[or[cr]].explicitSet=!1}if(_typeof(St)==="object"){for(nr in St)if(ar=St[nr],ur(or,nr)&&ar!==void 0){if(tr[nr].type==="boolean"&&typeof ar=="boolean")tr[nr].value=ar;else if(tr[nr].type==="name"&&ur(tr[nr].valueSet,ar))tr[nr].value=ar;else if(tr[nr].type==="integer"&&Number.isInteger(ar))tr[nr].value=ar;else if(tr[nr].type==="array"){for(lr=0;lr<ar.length;lr+=1)if(rr=!0,ar[lr].length===1&&typeof ar[lr][0]=="number")ir.push(String(ar[lr]-1));else if(ar[lr].length>1){for(fr=0;fr<ar[lr].length;fr+=1)typeof ar[lr][fr]!="number"&&(rr=!1);rr===!0&&ir.push([ar[lr][0]-1,ar[lr][1]-1].join(" "))}tr[nr].value="["+ir.join(" ")+"]"}else tr[nr].value=tr[nr].defaultValue;tr[nr].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var hr,gr=[];for(hr in tr)tr[hr].explicitSet===!0&&(tr[hr].type==="name"?gr.push("/"+hr+" /"+tr[hr].value):gr.push("/"+hr+" "+tr[hr].value));gr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+gr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=tr,this},function(St){var er=function(){var rr='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',nr=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ar=unescape(encodeURIComponent(rr)),dr=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),or=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ir=unescape(encodeURIComponent("</x:xmpmeta>")),lr=ar.length+dr.length+or.length+nr.length+ir.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+lr+" >>"),this.internal.write("stream"),this.internal.write(nr+ar+dr+or+ir),this.internal.write("endstream"),this.internal.write("endobj")},tr=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};St.addMetadata=function(rr,nr){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:rr,namespaceuri:nr||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",tr),this.internal.events.subscribe("postPutResources",er)),this}}(E.API),function(St){var er=St.API,tr=er.pdfEscape16=function(ar,dr){for(var or,ir=dr.metadata.Unicode.widths,lr=["","0","00","000","0000"],fr=[""],cr=0,ur=ar.length;cr<ur;++cr){if(or=dr.metadata.characterToGlyph(ar.charCodeAt(cr)),dr.metadata.glyIdsUsed.push(or),dr.metadata.toUnicode[or]=ar.charCodeAt(cr),ir.indexOf(or)==-1&&(ir.push(or),ir.push([parseInt(dr.metadata.widthOfGlyph(or),10)])),or=="0")return fr.join("");or=or.toString(16),fr.push(lr[4-or.length],or)}return fr.join("")},rr=function(ar){var dr,or,ir,lr,fr,cr,ur;for(fr=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ir=[],cr=0,ur=(or=Object.keys(ar).sort(function(sr,hr){return sr-hr})).length;cr<ur;cr++)dr=or[cr],ir.length>=100&&(fr+=`
`+ir.length+` beginbfchar
`+ir.join(`
`)+`
endbfchar`,ir=[]),ar[dr]!==void 0&&ar[dr]!==null&&typeof ar[dr].toString=="function"&&(lr=("0000"+ar[dr].toString(16)).slice(-4),dr=("0000"+(+dr).toString(16)).slice(-4),ir.push("<"+dr+"><"+lr+">"));return ir.length&&(fr+=`
`+ir.length+` beginbfchar
`+ir.join(`
`)+`
endbfchar
`),fr+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};er.events.push(["putFont",function(ar){(function(dr){var or=dr.font,ir=dr.out,lr=dr.newObject,fr=dr.putStream;if(or.metadata instanceof St.API.TTFFont&&or.encoding==="Identity-H"){for(var cr=or.metadata.Unicode.widths,ur=or.metadata.subset.encode(or.metadata.glyIdsUsed,1),sr="",hr=0;hr<ur.length;hr++)sr+=String.fromCharCode(ur[hr]);var gr=lr();fr({data:sr,addLength1:!0,objectId:gr}),ir("endobj");var pr=lr();fr({data:rr(or.metadata.toUnicode),addLength1:!0,objectId:pr}),ir("endobj");var mr=lr();ir("<<"),ir("/Type /FontDescriptor"),ir("/FontName /"+F(or.fontName)),ir("/FontFile2 "+gr+" 0 R"),ir("/FontBBox "+St.API.PDFObject.convert(or.metadata.bbox)),ir("/Flags "+or.metadata.flags),ir("/StemV "+or.metadata.stemV),ir("/ItalicAngle "+or.metadata.italicAngle),ir("/Ascent "+or.metadata.ascender),ir("/Descent "+or.metadata.decender),ir("/CapHeight "+or.metadata.capHeight),ir(">>"),ir("endobj");var vr=lr();ir("<<"),ir("/Type /Font"),ir("/BaseFont /"+F(or.fontName)),ir("/FontDescriptor "+mr+" 0 R"),ir("/W "+St.API.PDFObject.convert(cr)),ir("/CIDToGIDMap /Identity"),ir("/DW 1000"),ir("/Subtype /CIDFontType2"),ir("/CIDSystemInfo"),ir("<<"),ir("/Supplement 0"),ir("/Registry (Adobe)"),ir("/Ordering ("+or.encoding+")"),ir(">>"),ir(">>"),ir("endobj"),or.objectNumber=lr(),ir("<<"),ir("/Type /Font"),ir("/Subtype /Type0"),ir("/ToUnicode "+pr+" 0 R"),ir("/BaseFont /"+F(or.fontName)),ir("/Encoding /"+or.encoding),ir("/DescendantFonts ["+vr+" 0 R]"),ir(">>"),ir("endobj"),or.isAlreadyPutted=!0}})(ar)}]),er.events.push(["putFont",function(ar){(function(dr){var or=dr.font,ir=dr.out,lr=dr.newObject,fr=dr.putStream;if(or.metadata instanceof St.API.TTFFont&&or.encoding==="WinAnsiEncoding"){for(var cr=or.metadata.rawData,ur="",sr=0;sr<cr.length;sr++)ur+=String.fromCharCode(cr[sr]);var hr=lr();fr({data:ur,addLength1:!0,objectId:hr}),ir("endobj");var gr=lr();fr({data:rr(or.metadata.toUnicode),addLength1:!0,objectId:gr}),ir("endobj");var pr=lr();ir("<<"),ir("/Descent "+or.metadata.decender),ir("/CapHeight "+or.metadata.capHeight),ir("/StemV "+or.metadata.stemV),ir("/Type /FontDescriptor"),ir("/FontFile2 "+hr+" 0 R"),ir("/Flags 96"),ir("/FontBBox "+St.API.PDFObject.convert(or.metadata.bbox)),ir("/FontName /"+F(or.fontName)),ir("/ItalicAngle "+or.metadata.italicAngle),ir("/Ascent "+or.metadata.ascender),ir(">>"),ir("endobj"),or.objectNumber=lr();for(var mr=0;mr<or.metadata.hmtx.widths.length;mr++)or.metadata.hmtx.widths[mr]=parseInt(or.metadata.hmtx.widths[mr]*(1e3/or.metadata.head.unitsPerEm));ir("<</Subtype/TrueType/Type/Font/ToUnicode "+gr+" 0 R/BaseFont/"+F(or.fontName)+"/FontDescriptor "+pr+" 0 R/Encoding/"+or.encoding+" /FirstChar 29 /LastChar 255 /Widths "+St.API.PDFObject.convert(or.metadata.hmtx.widths)+">>"),ir("endobj"),or.isAlreadyPutted=!0}})(ar)}]);var nr=function(ar){var dr,or=ar.text||"",ir=ar.x,lr=ar.y,fr=ar.options||{},cr=ar.mutex||{},ur=cr.pdfEscape,sr=cr.activeFontKey,hr=cr.fonts,gr=sr,pr="",mr=0,vr="",yr=hr[gr].encoding;if(hr[gr].encoding!=="Identity-H")return{text:or,x:ir,y:lr,options:fr,mutex:cr};for(vr=or,gr=sr,Array.isArray(or)&&(vr=or[0]),mr=0;mr<vr.length;mr+=1)hr[gr].metadata.hasOwnProperty("cmap")&&(dr=hr[gr].metadata.cmap.unicode.codeMap[vr[mr].charCodeAt(0)]),dr||vr[mr].charCodeAt(0)<256&&hr[gr].metadata.hasOwnProperty("Unicode")?pr+=vr[mr]:pr+="";var br="";return parseInt(gr.slice(1))<14||yr==="WinAnsiEncoding"?br=ur(pr,gr).split("").map(function(xr){return xr.charCodeAt(0).toString(16)}).join(""):yr==="Identity-H"&&(br=tr(pr,hr[gr])),cr.isHex=!0,{text:br,x:ir,y:lr,options:fr,mutex:cr}};er.events.push(["postProcessText",function(ar){var dr=ar.text||"",or=[],ir={text:dr,x:ar.x,y:ar.y,options:ar.options,mutex:ar.mutex};if(Array.isArray(dr)){var lr=0;for(lr=0;lr<dr.length;lr+=1)Array.isArray(dr[lr])&&dr[lr].length===3?or.push([nr(Object.assign({},ir,{text:dr[lr][0]})).text,dr[lr][1],dr[lr][2]]):or.push(nr(Object.assign({},ir,{text:dr[lr]})).text);ar.text=or}else ar.text=nr(Object.assign({},ir,{text:dr})).text}])}(E),function(St){var er=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};St.existsFileInVFS=function(tr){return er.call(this),this.internal.vFS[tr]!==void 0},St.addFileToVFS=function(tr,rr){return er.call(this),this.internal.vFS[tr]=rr,this},St.getFileFromVFS=function(tr){return er.call(this),this.internal.vFS[tr]!==void 0?this.internal.vFS[tr]:null}}(E.API),function(St){St.__bidiEngine__=St.prototype.__bidiEngine__=function(rr){var nr,ar,dr,or,ir,lr,fr,cr=er,ur=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],sr=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],hr={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},gr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},pr=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],mr=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),vr=!1,yr=0;this.__bidiEngine__={};var br=function(Ir){var jr=Ir.charCodeAt(),Jr=jr>>8,zr=gr[Jr];return zr!==void 0?cr[256*zr+(255&jr)]:Jr===252||Jr===253?"AL":mr.test(Jr)?"L":Jr===8?"R":"N"},xr=function(Ir){for(var jr,Jr=0;Jr<Ir.length;Jr++){if((jr=br(Ir.charAt(Jr)))==="L")return!1;if(jr==="R")return!0}return!1},Cr=function(Ir,jr,Jr,zr){var Hr,Yr,nn,Qr,Or=jr[zr];switch(Or){case"L":case"R":vr=!1;break;case"N":case"AN":break;case"EN":vr&&(Or="AN");break;case"AL":vr=!0,Or="R";break;case"WS":Or="N";break;case"CS":zr<1||zr+1>=jr.length||(Hr=Jr[zr-1])!=="EN"&&Hr!=="AN"||(Yr=jr[zr+1])!=="EN"&&Yr!=="AN"?Or="N":vr&&(Yr="AN"),Or=Yr===Hr?Yr:"N";break;case"ES":Or=(Hr=zr>0?Jr[zr-1]:"B")==="EN"&&zr+1<jr.length&&jr[zr+1]==="EN"?"EN":"N";break;case"ET":if(zr>0&&Jr[zr-1]==="EN"){Or="EN";break}if(vr){Or="N";break}for(nn=zr+1,Qr=jr.length;nn<Qr&&jr[nn]==="ET";)nn++;Or=nn<Qr&&jr[nn]==="EN"?"EN":"N";break;case"NSM":if(dr&&!or){for(Qr=jr.length,nn=zr+1;nn<Qr&&jr[nn]==="NSM";)nn++;if(nn<Qr){var Er=Ir[zr],Dr=Er>=1425&&Er<=2303||Er===64286;if(Hr=jr[nn],Dr&&(Hr==="R"||Hr==="AL")){Or="R";break}}}Or=zr<1||(Hr=jr[zr-1])==="B"?"N":Jr[zr-1];break;case"B":vr=!1,nr=!0,Or=yr;break;case"S":ar=!0,Or="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":vr=!1;break;case"BN":Or="N"}return Or},kr=function(Ir,jr,Jr){var zr=Ir.split("");return Jr&&Pr(zr,Jr,{hiLevel:yr}),zr.reverse(),jr&&jr.reverse(),zr.join("")},Pr=function(Ir,jr,Jr){var zr,Hr,Yr,nn,Qr,Or=-1,Er=Ir.length,Dr=0,Tr=[],Lr=yr?sr:ur,_r=[];for(vr=!1,nr=!1,ar=!1,Hr=0;Hr<Er;Hr++)_r[Hr]=br(Ir[Hr]);for(Yr=0;Yr<Er;Yr++){if(Qr=Dr,Tr[Yr]=Cr(Ir,_r,Tr,Yr),zr=240&(Dr=Lr[Qr][hr[Tr[Yr]]]),Dr&=15,jr[Yr]=nn=Lr[Dr][5],zr>0)if(zr===16){for(Hr=Or;Hr<Yr;Hr++)jr[Hr]=1;Or=-1}else Or=-1;if(Lr[Dr][6])Or===-1&&(Or=Yr);else if(Or>-1){for(Hr=Or;Hr<Yr;Hr++)jr[Hr]=nn;Or=-1}_r[Yr]==="B"&&(jr[Yr]=0),Jr.hiLevel|=nn}ar&&function(wr,Fr,Nr){for(var Br=0;Br<Nr;Br++)if(wr[Br]==="S"){Fr[Br]=yr;for(var Ur=Br-1;Ur>=0&&wr[Ur]==="WS";Ur--)Fr[Ur]=yr}}(_r,jr,Er)},$r=function(Ir,jr,Jr,zr,Hr){if(!(Hr.hiLevel<Ir)){if(Ir===1&&yr===1&&!nr)return jr.reverse(),void(Jr&&Jr.reverse());for(var Yr,nn,Qr,Or,Er=jr.length,Dr=0;Dr<Er;){if(zr[Dr]>=Ir){for(Qr=Dr+1;Qr<Er&&zr[Qr]>=Ir;)Qr++;for(Or=Dr,nn=Qr-1;Or<nn;Or++,nn--)Yr=jr[Or],jr[Or]=jr[nn],jr[nn]=Yr,Jr&&(Yr=Jr[Or],Jr[Or]=Jr[nn],Jr[nn]=Yr);Dr=Qr}Dr++}}},Kr=function(Ir,jr,Jr){var zr=Ir.split(""),Hr={hiLevel:yr};return Jr||(Jr=[]),Pr(zr,Jr,Hr),function(Yr,nn,Qr){if(Qr.hiLevel!==0&&fr)for(var Or,Er=0;Er<Yr.length;Er++)nn[Er]===1&&(Or=pr.indexOf(Yr[Er]))>=0&&(Yr[Er]=pr[Or+1])}(zr,Jr,Hr),$r(2,zr,jr,Jr,Hr),$r(1,zr,jr,Jr,Hr),zr.join("")};return this.__bidiEngine__.doBidiReorder=function(Ir,jr,Jr){if(function(Hr,Yr){if(Yr)for(var nn=0;nn<Hr.length;nn++)Yr[nn]=nn;or===void 0&&(or=xr(Hr)),lr===void 0&&(lr=xr(Hr))}(Ir,jr),dr||!ir||lr)if(dr&&ir&&or^lr)yr=or?1:0,Ir=kr(Ir,jr,Jr);else if(!dr&&ir&&lr)yr=or?1:0,Ir=Kr(Ir,jr,Jr),Ir=kr(Ir,jr);else if(!dr||or||ir||lr){if(dr&&!ir&&or^lr)Ir=kr(Ir,jr),or?(yr=0,Ir=Kr(Ir,jr,Jr)):(yr=1,Ir=Kr(Ir,jr,Jr),Ir=kr(Ir,jr));else if(dr&&or&&!ir&&lr)yr=1,Ir=Kr(Ir,jr,Jr),Ir=kr(Ir,jr);else if(!dr&&!ir&&or^lr){var zr=fr;or?(yr=1,Ir=Kr(Ir,jr,Jr),yr=0,fr=!1,Ir=Kr(Ir,jr,Jr),fr=zr):(yr=0,Ir=Kr(Ir,jr,Jr),Ir=kr(Ir,jr),yr=1,fr=!1,Ir=Kr(Ir,jr,Jr),fr=zr,Ir=kr(Ir,jr))}}else yr=0,Ir=Kr(Ir,jr,Jr);else yr=or?1:0,Ir=Kr(Ir,jr,Jr);return Ir},this.__bidiEngine__.setOptions=function(Ir){Ir&&(dr=Ir.isInputVisual,ir=Ir.isOutputVisual,or=Ir.isInputRtl,lr=Ir.isOutputRtl,fr=Ir.isSymmetricSwapping)},this.__bidiEngine__.setOptions(rr),this.__bidiEngine__};var er=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],tr=new St.__bidiEngine__({isInputVisual:!0});St.API.events.push(["postProcessText",function(rr){var nr=rr.text,ar=(rr.x,rr.y,rr.options||{}),dr=(rr.mutex,ar.lang,[]);if(ar.isInputVisual=typeof ar.isInputVisual!="boolean"||ar.isInputVisual,tr.setOptions(ar),Object.prototype.toString.call(nr)==="[object Array]"){var or=0;for(dr=[],or=0;or<nr.length;or+=1)Object.prototype.toString.call(nr[or])==="[object Array]"?dr.push([tr.doBidiReorder(nr[or][0]),nr[or][1],nr[or][2]]):dr.push([tr.doBidiReorder(nr[or])]);rr.text=dr}else rr.text=tr.doBidiReorder(nr);tr.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function St(er){var tr;if(this.rawData=er,tr=this.contents=new ne(er),this.contents.pos=4,tr.readString(4)==="ttcf")throw new Error("TTCF not supported.");tr.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return St.open=function(er){return new St(er)},St.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},St.prototype.registerTTF=function(){var er,tr,rr,nr,ar;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var dr,or,ir,lr;for(lr=[],dr=0,or=(ir=this.bbox).length;dr<or;dr++)er=ir[dr],lr.push(Math.round(er*this.scaleFactor));return lr}.call(this),this.stemV=0,this.post.exists?(rr=255&(nr=this.post.italic_angle),(32768&(tr=nr>>16))!=0&&(tr=-(1+(65535^tr))),this.italicAngle=+(tr+"."+rr)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ar=this.familyClass)===1||ar===2||ar===3||ar===4||ar===5||ar===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},St.prototype.characterToGlyph=function(er){var tr;return((tr=this.cmap.unicode)!=null?tr.codeMap[er]:void 0)||0},St.prototype.widthOfGlyph=function(er){var tr;return tr=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(er).advance*tr},St.prototype.widthOfString=function(er,tr,rr){var nr,ar,dr,or;for(dr=0,ar=0,or=(er=""+er).length;0<=or?ar<or:ar>or;ar=0<=or?++ar:--ar)nr=er.charCodeAt(ar),dr+=this.widthOfGlyph(this.characterToGlyph(nr))+rr*(1e3/tr)||0;return dr*(tr/1e3)},St.prototype.lineHeight=function(er,tr){var rr;return tr==null&&(tr=!1),rr=tr?this.lineGap:0,(this.ascender+rr-this.decender)/1e3*er},St}();var re,ne=function(){function St(er){this.data=er??[],this.pos=0,this.length=this.data.length}return St.prototype.readByte=function(){return this.data[this.pos++]},St.prototype.writeByte=function(er){return this.data[this.pos++]=er},St.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},St.prototype.writeUInt32=function(er){return this.writeByte(er>>>24&255),this.writeByte(er>>16&255),this.writeByte(er>>8&255),this.writeByte(255&er)},St.prototype.readInt32=function(){var er;return(er=this.readUInt32())>=2147483648?er-4294967296:er},St.prototype.writeInt32=function(er){return er<0&&(er+=4294967296),this.writeUInt32(er)},St.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},St.prototype.writeUInt16=function(er){return this.writeByte(er>>8&255),this.writeByte(255&er)},St.prototype.readInt16=function(){var er;return(er=this.readUInt16())>=32768?er-65536:er},St.prototype.writeInt16=function(er){return er<0&&(er+=65536),this.writeUInt16(er)},St.prototype.readString=function(er){var tr,rr;for(rr=[],tr=0;0<=er?tr<er:tr>er;tr=0<=er?++tr:--tr)rr[tr]=String.fromCharCode(this.readByte());return rr.join("")},St.prototype.writeString=function(er){var tr,rr,nr;for(nr=[],tr=0,rr=er.length;0<=rr?tr<rr:tr>rr;tr=0<=rr?++tr:--tr)nr.push(this.writeByte(er.charCodeAt(tr)));return nr},St.prototype.readShort=function(){return this.readInt16()},St.prototype.writeShort=function(er){return this.writeInt16(er)},St.prototype.readLongLong=function(){var er,tr,rr,nr,ar,dr,or,ir;return er=this.readByte(),tr=this.readByte(),rr=this.readByte(),nr=this.readByte(),ar=this.readByte(),dr=this.readByte(),or=this.readByte(),ir=this.readByte(),128&er?-1*(72057594037927940*(255^er)+281474976710656*(255^tr)+1099511627776*(255^rr)+4294967296*(255^nr)+16777216*(255^ar)+65536*(255^dr)+256*(255^or)+(255^ir)+1):72057594037927940*er+281474976710656*tr+1099511627776*rr+4294967296*nr+16777216*ar+65536*dr+256*or+ir},St.prototype.writeLongLong=function(er){var tr,rr;return tr=Math.floor(er/4294967296),rr=4294967295&er,this.writeByte(tr>>24&255),this.writeByte(tr>>16&255),this.writeByte(tr>>8&255),this.writeByte(255&tr),this.writeByte(rr>>24&255),this.writeByte(rr>>16&255),this.writeByte(rr>>8&255),this.writeByte(255&rr)},St.prototype.readInt=function(){return this.readInt32()},St.prototype.writeInt=function(er){return this.writeInt32(er)},St.prototype.read=function(er){var tr,rr;for(tr=[],rr=0;0<=er?rr<er:rr>er;rr=0<=er?++rr:--rr)tr.push(this.readByte());return tr},St.prototype.write=function(er){var tr,rr,nr,ar;for(ar=[],rr=0,nr=er.length;rr<nr;rr++)tr=er[rr],ar.push(this.writeByte(tr));return ar},St}(),ie=function(){var St;function er(tr){var rr,nr,ar;for(this.scalarType=tr.readInt(),this.tableCount=tr.readShort(),this.searchRange=tr.readShort(),this.entrySelector=tr.readShort(),this.rangeShift=tr.readShort(),this.tables={},nr=0,ar=this.tableCount;0<=ar?nr<ar:nr>ar;nr=0<=ar?++nr:--nr)rr={tag:tr.readString(4),checksum:tr.readInt(),offset:tr.readInt(),length:tr.readInt()},this.tables[rr.tag]=rr}return er.prototype.encode=function(tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur,sr,hr,gr;for(gr in sr=Object.keys(tr).length,ir=Math.log(2),cr=16*Math.floor(Math.log(sr)/ir),dr=Math.floor(cr/ir),fr=16*sr-cr,(nr=new ne).writeInt(this.scalarType),nr.writeShort(sr),nr.writeShort(cr),nr.writeShort(dr),nr.writeShort(fr),ar=16*sr,lr=nr.pos+ar,or=null,hr=[],tr)for(ur=tr[gr],nr.writeString(gr),nr.writeInt(St(ur)),nr.writeInt(lr),nr.writeInt(ur.length),hr=hr.concat(ur),gr==="head"&&(or=lr),lr+=ur.length;lr%4;)hr.push(0),lr++;return nr.write(hr),rr=2981146554-St(nr.data),nr.pos=or+8,nr.writeUInt32(rr),nr.data},St=function(tr){var rr,nr,ar,dr;for(tr=ve.call(tr);tr.length%4;)tr.push(0);for(ar=new ne(tr),nr=0,rr=0,dr=tr.length;rr<dr;rr=rr+=4)nr+=ar.readUInt32();return 4294967295&nr},er}(),ae={}.hasOwnProperty,oe=function(St,er){for(var tr in er)ae.call(er,tr)&&(St[tr]=er[tr]);function rr(){this.constructor=St}return rr.prototype=er.prototype,St.prototype=new rr,St.__super__=er.prototype,St};re=function(){function St(er){var tr;this.file=er,tr=this.file.directory.tables[this.tag],this.exists=!!tr,tr&&(this.offset=tr.offset,this.length=tr.length,this.parse(this.file.contents))}return St.prototype.parse=function(){},St.prototype.encode=function(){},St.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},St}();var se=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="head",er.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.revision=tr.readInt(),this.checkSumAdjustment=tr.readInt(),this.magicNumber=tr.readInt(),this.flags=tr.readShort(),this.unitsPerEm=tr.readShort(),this.created=tr.readLongLong(),this.modified=tr.readLongLong(),this.xMin=tr.readShort(),this.yMin=tr.readShort(),this.xMax=tr.readShort(),this.yMax=tr.readShort(),this.macStyle=tr.readShort(),this.lowestRecPPEM=tr.readShort(),this.fontDirectionHint=tr.readShort(),this.indexToLocFormat=tr.readShort(),this.glyphDataFormat=tr.readShort()},er.prototype.encode=function(tr){var rr;return(rr=new ne).writeInt(this.version),rr.writeInt(this.revision),rr.writeInt(this.checkSumAdjustment),rr.writeInt(this.magicNumber),rr.writeShort(this.flags),rr.writeShort(this.unitsPerEm),rr.writeLongLong(this.created),rr.writeLongLong(this.modified),rr.writeShort(this.xMin),rr.writeShort(this.yMin),rr.writeShort(this.xMax),rr.writeShort(this.yMax),rr.writeShort(this.macStyle),rr.writeShort(this.lowestRecPPEM),rr.writeShort(this.fontDirectionHint),rr.writeShort(tr),rr.writeShort(this.glyphDataFormat),rr.data},er}(),ce=function(){function St(er,tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur,sr,hr,gr,pr,mr,vr,yr;switch(this.platformID=er.readUInt16(),this.encodingID=er.readShort(),this.offset=tr+er.readInt(),cr=er.pos,er.pos=this.offset,this.format=er.readUInt16(),this.length=er.readUInt16(),this.language=er.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ir=0;ir<256;++ir)this.codeMap[ir]=er.readByte();break;case 4:for(sr=er.readUInt16(),ur=sr/2,er.pos+=6,ar=function(){var br,xr;for(xr=[],ir=br=0;0<=ur?br<ur:br>ur;ir=0<=ur?++br:--br)xr.push(er.readUInt16());return xr}(),er.pos+=2,gr=function(){var br,xr;for(xr=[],ir=br=0;0<=ur?br<ur:br>ur;ir=0<=ur?++br:--br)xr.push(er.readUInt16());return xr}(),lr=function(){var br,xr;for(xr=[],ir=br=0;0<=ur?br<ur:br>ur;ir=0<=ur?++br:--br)xr.push(er.readUInt16());return xr}(),fr=function(){var br,xr;for(xr=[],ir=br=0;0<=ur?br<ur:br>ur;ir=0<=ur?++br:--br)xr.push(er.readUInt16());return xr}(),nr=(this.length-er.pos+this.offset)/2,or=function(){var br,xr;for(xr=[],ir=br=0;0<=nr?br<nr:br>nr;ir=0<=nr?++br:--br)xr.push(er.readUInt16());return xr}(),ir=mr=0,yr=ar.length;mr<yr;ir=++mr)for(pr=ar[ir],rr=vr=hr=gr[ir];hr<=pr?vr<=pr:vr>=pr;rr=hr<=pr?++vr:--vr)fr[ir]===0?dr=rr+lr[ir]:(dr=or[fr[ir]/2+(rr-hr)-(ur-ir)]||0)!==0&&(dr+=lr[ir]),this.codeMap[rr]=65535&dr}er.pos=cr}return St.encode=function(er,tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur,sr,hr,gr,pr,mr,vr,yr,br,xr,Cr,kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr,Yr,nn,Qr,Or,Er,Dr,Tr,Lr,_r,wr,Fr,Nr,Br,Ur,Zr,an,qr;switch(zr=new ne,dr=Object.keys(er).sort(function(Gr,Xr){return Gr-Xr}),tr){case"macroman":for(gr=0,pr=function(){var Gr=[];for(hr=0;hr<256;++hr)Gr.push(0);return Gr}(),vr={0:0},ar={},Hr=0,Or=dr.length;Hr<Or;Hr++)vr[Ur=er[nr=dr[Hr]]]==null&&(vr[Ur]=++gr),ar[nr]={old:er[nr],new:vr[er[nr]]},pr[nr]=vr[er[nr]];return zr.writeUInt16(1),zr.writeUInt16(0),zr.writeUInt32(12),zr.writeUInt16(0),zr.writeUInt16(262),zr.writeUInt16(0),zr.write(pr),{charMap:ar,subtable:zr.data,maxGlyphID:gr+1};case"unicode":for(jr=[],cr=[],yr=0,vr={},rr={},mr=lr=null,Yr=0,Er=dr.length;Yr<Er;Yr++)vr[xr=er[nr=dr[Yr]]]==null&&(vr[xr]=++yr),rr[nr]={old:xr,new:vr[xr]},or=vr[xr]-nr,mr!=null&&or===lr||(mr&&cr.push(mr),jr.push(nr),lr=or),mr=nr;for(mr&&cr.push(mr),cr.push(65535),jr.push(65535),Kr=2*($r=jr.length),Pr=2*Math.pow(Math.log($r)/Math.LN2,2),ur=Math.log(Pr/2)/Math.LN2,kr=2*$r-Pr,ir=[],Cr=[],sr=[],hr=nn=0,Dr=jr.length;nn<Dr;hr=++nn){if(Ir=jr[hr],fr=cr[hr],Ir===65535){ir.push(0),Cr.push(0);break}if(Ir-(Jr=rr[Ir].new)>=32768)for(ir.push(0),Cr.push(2*(sr.length+$r-hr)),nr=Qr=Ir;Ir<=fr?Qr<=fr:Qr>=fr;nr=Ir<=fr?++Qr:--Qr)sr.push(rr[nr].new);else ir.push(Jr-Ir),Cr.push(0)}for(zr.writeUInt16(3),zr.writeUInt16(1),zr.writeUInt32(12),zr.writeUInt16(4),zr.writeUInt16(16+8*$r+2*sr.length),zr.writeUInt16(0),zr.writeUInt16(Kr),zr.writeUInt16(Pr),zr.writeUInt16(ur),zr.writeUInt16(kr),Nr=0,Tr=cr.length;Nr<Tr;Nr++)nr=cr[Nr],zr.writeUInt16(nr);for(zr.writeUInt16(0),Br=0,Lr=jr.length;Br<Lr;Br++)nr=jr[Br],zr.writeUInt16(nr);for(Zr=0,_r=ir.length;Zr<_r;Zr++)or=ir[Zr],zr.writeUInt16(or);for(an=0,wr=Cr.length;an<wr;an++)br=Cr[an],zr.writeUInt16(br);for(qr=0,Fr=sr.length;qr<Fr;qr++)gr=sr[qr],zr.writeUInt16(gr);return{charMap:rr,subtable:zr.data,maxGlyphID:yr+1}}},St}(),ue=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="cmap",er.prototype.parse=function(tr){var rr,nr,ar;for(tr.pos=this.offset,this.version=tr.readUInt16(),ar=tr.readUInt16(),this.tables=[],this.unicode=null,nr=0;0<=ar?nr<ar:nr>ar;nr=0<=ar?++nr:--nr)rr=new ce(tr,this.offset),this.tables.push(rr),rr.isUnicode&&this.unicode==null&&(this.unicode=rr);return!0},er.encode=function(tr,rr){var nr,ar;return rr==null&&(rr="macroman"),nr=ce.encode(tr,rr),(ar=new ne).writeUInt16(0),ar.writeUInt16(1),nr.table=ar.data.concat(nr.subtable),nr},er}(),he=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="hhea",er.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.ascender=tr.readShort(),this.decender=tr.readShort(),this.lineGap=tr.readShort(),this.advanceWidthMax=tr.readShort(),this.minLeftSideBearing=tr.readShort(),this.minRightSideBearing=tr.readShort(),this.xMaxExtent=tr.readShort(),this.caretSlopeRise=tr.readShort(),this.caretSlopeRun=tr.readShort(),this.caretOffset=tr.readShort(),tr.pos+=8,this.metricDataFormat=tr.readShort(),this.numberOfMetrics=tr.readUInt16()},er}(),le=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="OS/2",er.prototype.parse=function(tr){if(tr.pos=this.offset,this.version=tr.readUInt16(),this.averageCharWidth=tr.readShort(),this.weightClass=tr.readUInt16(),this.widthClass=tr.readUInt16(),this.type=tr.readShort(),this.ySubscriptXSize=tr.readShort(),this.ySubscriptYSize=tr.readShort(),this.ySubscriptXOffset=tr.readShort(),this.ySubscriptYOffset=tr.readShort(),this.ySuperscriptXSize=tr.readShort(),this.ySuperscriptYSize=tr.readShort(),this.ySuperscriptXOffset=tr.readShort(),this.ySuperscriptYOffset=tr.readShort(),this.yStrikeoutSize=tr.readShort(),this.yStrikeoutPosition=tr.readShort(),this.familyClass=tr.readShort(),this.panose=function(){var rr,nr;for(nr=[],rr=0;rr<10;++rr)nr.push(tr.readByte());return nr}(),this.charRange=function(){var rr,nr;for(nr=[],rr=0;rr<4;++rr)nr.push(tr.readInt());return nr}(),this.vendorID=tr.readString(4),this.selection=tr.readShort(),this.firstCharIndex=tr.readShort(),this.lastCharIndex=tr.readShort(),this.version>0&&(this.ascent=tr.readShort(),this.descent=tr.readShort(),this.lineGap=tr.readShort(),this.winAscent=tr.readShort(),this.winDescent=tr.readShort(),this.codePageRange=function(){var rr,nr;for(nr=[],rr=0;rr<2;rr=++rr)nr.push(tr.readInt());return nr}(),this.version>1))return this.xHeight=tr.readShort(),this.capHeight=tr.readShort(),this.defaultChar=tr.readShort(),this.breakChar=tr.readShort(),this.maxContext=tr.readShort()},er}(),fe=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="post",er.prototype.parse=function(tr){var rr,nr,ar;switch(tr.pos=this.offset,this.format=tr.readInt(),this.italicAngle=tr.readInt(),this.underlinePosition=tr.readShort(),this.underlineThickness=tr.readShort(),this.isFixedPitch=tr.readInt(),this.minMemType42=tr.readInt(),this.maxMemType42=tr.readInt(),this.minMemType1=tr.readInt(),this.maxMemType1=tr.readInt(),this.format){case 65536:break;case 131072:var dr;for(nr=tr.readUInt16(),this.glyphNameIndex=[],dr=0;0<=nr?dr<nr:dr>nr;dr=0<=nr?++dr:--dr)this.glyphNameIndex.push(tr.readUInt16());for(this.names=[],ar=[];tr.pos<this.offset+this.length;)rr=tr.readByte(),ar.push(this.names.push(tr.readString(rr)));return ar;case 151552:return nr=tr.readUInt16(),this.offsets=tr.read(nr);case 196608:break;case 262144:return this.map=function(){var or,ir,lr;for(lr=[],dr=or=0,ir=this.file.maxp.numGlyphs;0<=ir?or<ir:or>ir;dr=0<=ir?++or:--or)lr.push(tr.readUInt32());return lr}.call(this)}},er}(),de=function(St,er){this.raw=St,this.length=St.length,this.platformID=er.platformID,this.encodingID=er.encodingID,this.languageID=er.languageID},pe=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="name",er.prototype.parse=function(tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur,sr;for(tr.pos=this.offset,tr.readShort(),rr=tr.readShort(),ir=tr.readShort(),nr=[],dr=0;0<=rr?dr<rr:dr>rr;dr=0<=rr?++dr:--dr)nr.push({platformID:tr.readShort(),encodingID:tr.readShort(),languageID:tr.readShort(),nameID:tr.readShort(),length:tr.readShort(),offset:this.offset+ir+tr.readShort()});for(lr={},dr=cr=0,ur=nr.length;cr<ur;dr=++cr)ar=nr[dr],tr.pos=ar.offset,fr=tr.readString(ar.length),or=new de(fr,ar),lr[sr=ar.nameID]==null&&(lr[sr]=[]),lr[ar.nameID].push(or);this.strings=lr,this.copyright=lr[0],this.fontFamily=lr[1],this.fontSubfamily=lr[2],this.uniqueSubfamily=lr[3],this.fontName=lr[4],this.version=lr[5];try{this.postscriptName=lr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=lr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=lr[7],this.manufacturer=lr[8],this.designer=lr[9],this.description=lr[10],this.vendorUrl=lr[11],this.designerUrl=lr[12],this.license=lr[13],this.licenseUrl=lr[14],this.preferredFamily=lr[15],this.preferredSubfamily=lr[17],this.compatibleFull=lr[18],this.sampleText=lr[19]},er}(),ge=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="maxp",er.prototype.parse=function(tr){return tr.pos=this.offset,this.version=tr.readInt(),this.numGlyphs=tr.readUInt16(),this.maxPoints=tr.readUInt16(),this.maxContours=tr.readUInt16(),this.maxCompositePoints=tr.readUInt16(),this.maxComponentContours=tr.readUInt16(),this.maxZones=tr.readUInt16(),this.maxTwilightPoints=tr.readUInt16(),this.maxStorage=tr.readUInt16(),this.maxFunctionDefs=tr.readUInt16(),this.maxInstructionDefs=tr.readUInt16(),this.maxStackElements=tr.readUInt16(),this.maxSizeOfInstructions=tr.readUInt16(),this.maxComponentElements=tr.readUInt16(),this.maxComponentDepth=tr.readUInt16()},er}(),me=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="hmtx",er.prototype.parse=function(tr){var rr,nr,ar,dr,or,ir,lr;for(tr.pos=this.offset,this.metrics=[],rr=0,ir=this.file.hhea.numberOfMetrics;0<=ir?rr<ir:rr>ir;rr=0<=ir?++rr:--rr)this.metrics.push({advance:tr.readUInt16(),lsb:tr.readInt16()});for(ar=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var fr,cr;for(cr=[],rr=fr=0;0<=ar?fr<ar:fr>ar;rr=0<=ar?++fr:--fr)cr.push(tr.readInt16());return cr}(),this.widths=function(){var fr,cr,ur,sr;for(sr=[],fr=0,cr=(ur=this.metrics).length;fr<cr;fr++)dr=ur[fr],sr.push(dr.advance);return sr}.call(this),nr=this.widths[this.widths.length-1],lr=[],rr=or=0;0<=ar?or<ar:or>ar;rr=0<=ar?++or:--or)lr.push(this.widths.push(nr));return lr},er.prototype.forGlyph=function(tr){return tr in this.metrics?this.metrics[tr]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[tr-this.metrics.length]}},er}(),ve=[].slice,be=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="glyf",er.prototype.parse=function(){return this.cache={}},er.prototype.glyphFor=function(tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur;return tr in this.cache?this.cache[tr]:(dr=this.file.loca,rr=this.file.contents,nr=dr.indexOf(tr),(ar=dr.lengthOf(tr))===0?this.cache[tr]=null:(rr.pos=this.offset+nr,or=(ir=new ne(rr.read(ar))).readShort(),fr=ir.readShort(),ur=ir.readShort(),lr=ir.readShort(),cr=ir.readShort(),this.cache[tr]=or===-1?new we(ir,fr,ur,lr,cr):new ye(ir,or,fr,ur,lr,cr),this.cache[tr]))},er.prototype.encode=function(tr,rr,nr){var ar,dr,or,ir,lr;for(or=[],dr=[],ir=0,lr=rr.length;ir<lr;ir++)ar=tr[rr[ir]],dr.push(or.length),ar&&(or=or.concat(ar.encode(nr)));return dr.push(or.length),{table:or,offsets:dr}},er}(),ye=function(){function St(er,tr,rr,nr,ar,dr){this.raw=er,this.numberOfContours=tr,this.xMin=rr,this.yMin=nr,this.xMax=ar,this.yMax=dr,this.compound=!1}return St.prototype.encode=function(){return this.raw.data},St}(),we=function(){function St(er,tr,rr,nr,ar){var dr,or;for(this.raw=er,this.xMin=tr,this.yMin=rr,this.xMax=nr,this.yMax=ar,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],dr=this.raw;or=dr.readShort(),this.glyphOffsets.push(dr.pos),this.glyphIDs.push(dr.readUInt16()),32&or;)dr.pos+=1&or?4:2,128&or?dr.pos+=8:64&or?dr.pos+=4:8&or&&(dr.pos+=2)}return St.prototype.encode=function(){var er,tr,rr;for(tr=new ne(ve.call(this.raw.data)),er=0,rr=this.glyphIDs.length;er<rr;++er)tr.pos=this.glyphOffsets[er];return tr.data},St}(),Ne=function(St){function er(){return er.__super__.constructor.apply(this,arguments)}return oe(er,re),er.prototype.tag="loca",er.prototype.parse=function(tr){var rr,nr;return tr.pos=this.offset,rr=this.file.head.indexToLocFormat,this.offsets=rr===0?function(){var ar,dr;for(dr=[],nr=0,ar=this.length;nr<ar;nr+=2)dr.push(2*tr.readUInt16());return dr}.call(this):function(){var ar,dr;for(dr=[],nr=0,ar=this.length;nr<ar;nr+=4)dr.push(tr.readUInt32());return dr}.call(this)},er.prototype.indexOf=function(tr){return this.offsets[tr]},er.prototype.lengthOf=function(tr){return this.offsets[tr+1]-this.offsets[tr]},er.prototype.encode=function(tr,rr){for(var nr=new Uint32Array(this.offsets.length),ar=0,dr=0,or=0;or<nr.length;++or)if(nr[or]=ar,dr<rr.length&&rr[dr]==or){++dr,nr[or]=ar;var ir=this.offsets[or],lr=this.offsets[or+1]-ir;lr>0&&(ar+=lr)}for(var fr=new Array(4*nr.length),cr=0;cr<nr.length;++cr)fr[4*cr+3]=255&nr[cr],fr[4*cr+2]=(65280&nr[cr])>>8,fr[4*cr+1]=(16711680&nr[cr])>>16,fr[4*cr]=(4278190080&nr[cr])>>24;return fr},er}(),Le=function(){function St(er){this.font=er,this.subset={},this.unicodes={},this.next=33}return St.prototype.generateCmap=function(){var er,tr,rr,nr,ar;for(tr in nr=this.font.cmap.tables[0].codeMap,er={},ar=this.subset)rr=ar[tr],er[tr]=nr[rr];return er},St.prototype.glyphsFor=function(er){var tr,rr,nr,ar,dr,or,ir;for(nr={},dr=0,or=er.length;dr<or;dr++)nr[ar=er[dr]]=this.font.glyf.glyphFor(ar);for(ar in tr=[],nr)(rr=nr[ar])!=null&&rr.compound&&tr.push.apply(tr,rr.glyphIDs);if(tr.length>0)for(ar in ir=this.glyphsFor(tr))rr=ir[ar],nr[ar]=rr;return nr},St.prototype.encode=function(er,tr){var rr,nr,ar,dr,or,ir,lr,fr,cr,ur,sr,hr,gr,pr,mr;for(nr in rr=ue.encode(this.generateCmap(),"unicode"),dr=this.glyphsFor(er),sr={0:0},mr=rr.charMap)sr[(ir=mr[nr]).old]=ir.new;for(hr in ur=rr.maxGlyphID,dr)hr in sr||(sr[hr]=ur++);return fr=function(vr){var yr,br;for(yr in br={},vr)br[vr[yr]]=yr;return br}(sr),cr=Object.keys(fr).sort(function(vr,yr){return vr-yr}),gr=function(){var vr,yr,br;for(br=[],vr=0,yr=cr.length;vr<yr;vr++)or=cr[vr],br.push(fr[or]);return br}(),ar=this.font.glyf.encode(dr,gr,sr),lr=this.font.loca.encode(ar.offsets,gr),pr={cmap:this.font.cmap.raw(),glyf:ar.table,loca:lr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(tr)},this.font.os2.exists&&(pr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(pr)},St}();E.API.PDFObject=function(){var St;function er(){}return St=function(tr,rr){return(Array(rr+1).join("0")+tr).slice(-rr)},er.convert=function(tr){var rr,nr,ar,dr;if(Array.isArray(tr))return"["+function(){var or,ir,lr;for(lr=[],or=0,ir=tr.length;or<ir;or++)rr=tr[or],lr.push(er.convert(rr));return lr}().join(" ")+"]";if(typeof tr=="string")return"/"+tr;if(tr?.isString)return"("+tr+")";if(tr instanceof Date)return"(D:"+St(tr.getUTCFullYear(),4)+St(tr.getUTCMonth(),2)+St(tr.getUTCDate(),2)+St(tr.getUTCHours(),2)+St(tr.getUTCMinutes(),2)+St(tr.getUTCSeconds(),2)+"Z)";if({}.toString.call(tr)==="[object Object]"){for(nr in ar=["<<"],tr)dr=tr[nr],ar.push("/"+nr+" "+er.convert(dr));return ar.push(">>"),ar.join(`
`)}return""+tr},er}();function commonjsRequire(St){throw new Error('Could not dynamically require "'+St+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$2={exports:{}};(function(module,exports){(function(er,tr){module.exports=tr()})(globalThis,()=>(()=>{var __webpack_modules__=[,(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.VerbosityLevel=er.Util=er.UnknownErrorException=er.UnexpectedResponseException=er.UNSUPPORTED_FEATURES=er.TextRenderingMode=er.StreamType=er.RenderingIntentFlag=er.PermissionFlag=er.PasswordResponses=er.PasswordException=er.PageActionEventType=er.OPS=er.MissingPDFException=er.LINE_FACTOR=er.LINE_DESCENT_FACTOR=er.InvalidPDFException=er.ImageKind=er.IDENTITY_MATRIX=er.FormatError=er.FontType=er.FeatureTest=er.FONT_IDENTITY_MATRIX=er.DocumentActionEventType=er.CMapCompressionType=er.BaseException=er.AnnotationType=er.AnnotationStateModelType=er.AnnotationReviewState=er.AnnotationReplyType=er.AnnotationMode=er.AnnotationMarkedState=er.AnnotationFlag=er.AnnotationFieldFlag=er.AnnotationEditorType=er.AnnotationEditorPrefix=er.AnnotationEditorParamsType=er.AnnotationBorderStyleType=er.AnnotationActionEventType=er.AbortException=void 0,er.arrayByteLength=Wr,er.arraysToBytes=cn,er.assert=Tr,er.bytesToString=Xr,er.createPromiseCapability=so,er.createValidAbsoluteUrl=_r,er.escapeString=Yn,er.getModificationDate=ho,er.getVerbosityLevel=Qr,er.info=Or,er.isArrayBuffer=no,er.isArrayEqual=Mo,er.isAscii=Gn,er.objectFromMap=wn,er.objectSize=gn,er.setVerbosityLevel=nn,er.shadow=wr,er.string32=fn,er.stringToBytes=en,er.stringToPDFString=Hn,er.stringToUTF16BEString=Qn,er.stringToUTF8String=zn,er.unreachable=Dr,er.utf8StringToString=fo,er.warn=Er;const tr=[1,0,0,1,0,0];er.IDENTITY_MATRIX=tr;const rr=[.001,0,0,.001,0,0];er.FONT_IDENTITY_MATRIX=rr;const nr=1.35;er.LINE_FACTOR=nr;const ar=.35;er.LINE_DESCENT_FACTOR=ar;const dr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};er.RenderingIntentFlag=dr;const or={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};er.AnnotationMode=or;const ir="pdfjs_internal_editor_";er.AnnotationEditorPrefix=ir;const lr={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};er.AnnotationEditorType=lr;const fr={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};er.AnnotationEditorParamsType=fr;const cr={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};er.PermissionFlag=cr;const ur={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};er.TextRenderingMode=ur;const sr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};er.ImageKind=sr;const hr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};er.AnnotationType=hr;const gr={MARKED:"Marked",REVIEW:"Review"};er.AnnotationStateModelType=gr;const pr={MARKED:"Marked",UNMARKED:"Unmarked"};er.AnnotationMarkedState=pr;const mr={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};er.AnnotationReviewState=mr;const vr={GROUP:"Group",REPLY:"R"};er.AnnotationReplyType=vr;const yr={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};er.AnnotationFlag=yr;const br={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};er.AnnotationFieldFlag=br;const xr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};er.AnnotationBorderStyleType=xr;const Cr={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};er.AnnotationActionEventType=Cr;const kr={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};er.DocumentActionEventType=kr;const Pr={O:"PageOpen",C:"PageClose"};er.PageActionEventType=Pr;const $r={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};er.StreamType=$r;const Kr={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};er.FontType=Kr;const Ir={ERRORS:0,WARNINGS:1,INFOS:5};er.VerbosityLevel=Ir;const jr={NONE:0,BINARY:1};er.CMapCompressionType=jr;const Jr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};er.OPS=Jr;const zr={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};er.UNSUPPORTED_FEATURES=zr;const Hr={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};er.PasswordResponses=Hr;let Yr=Ir.WARNINGS;function nn(Rn){Number.isInteger(Rn)&&(Yr=Rn)}function Qr(){return Yr}function Or(Rn){Yr>=Ir.INFOS&&console.log(`Info: ${Rn}`)}function Er(Rn){Yr>=Ir.WARNINGS&&console.log(`Warning: ${Rn}`)}function Dr(Rn){throw new Error(Rn)}function Tr(Rn,xn){Rn||Dr(xn)}function Lr(Rn){if(!Rn)return!1;switch(Rn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _r(Rn,xn=null,En=null){if(!Rn)return null;try{if(En&&typeof Rn=="string"){if(En.addDefaultProtocol&&Rn.startsWith("www.")){const ba=Rn.match(/\./g);ba&&ba.length>=2&&(Rn=`http://${Rn}`)}if(En.tryConvertEncoding)try{Rn=zn(Rn)}catch{}}const qn=xn?new URL(Rn,xn):new URL(Rn);if(Lr(qn))return qn}catch{}return null}function wr(Rn,xn,En){return Object.defineProperty(Rn,xn,{value:En,enumerable:!0,configurable:!0,writable:!1}),En}const Fr=function(){function xn(En,qn){this.constructor===xn&&Dr("Cannot initialize BaseException."),this.message=En,this.name=qn}return xn.prototype=new Error,xn.constructor=xn,xn}();er.BaseException=Fr;class Nr extends Fr{constructor(xn,En){super(xn,"PasswordException"),this.code=En}}er.PasswordException=Nr;class Br extends Fr{constructor(xn,En){super(xn,"UnknownErrorException"),this.details=En}}er.UnknownErrorException=Br;class Ur extends Fr{constructor(xn){super(xn,"InvalidPDFException")}}er.InvalidPDFException=Ur;class Zr extends Fr{constructor(xn){super(xn,"MissingPDFException")}}er.MissingPDFException=Zr;class an extends Fr{constructor(xn,En){super(xn,"UnexpectedResponseException"),this.status=En}}er.UnexpectedResponseException=an;class qr extends Fr{constructor(xn){super(xn,"FormatError")}}er.FormatError=qr;class Gr extends Fr{constructor(xn){super(xn,"AbortException")}}er.AbortException=Gr;function Xr(Rn){(typeof Rn!="object"||Rn===null||Rn.length===void 0)&&Dr("Invalid argument for bytesToString");const xn=Rn.length,En=8192;if(xn<En)return String.fromCharCode.apply(null,Rn);const qn=[];for(let ba=0;ba<xn;ba+=En){const oo=Math.min(ba+En,xn),eo=Rn.subarray(ba,oo);qn.push(String.fromCharCode.apply(null,eo))}return qn.join("")}function en(Rn){typeof Rn!="string"&&Dr("Invalid argument for stringToBytes");const xn=Rn.length,En=new Uint8Array(xn);for(let qn=0;qn<xn;++qn)En[qn]=Rn.charCodeAt(qn)&255;return En}function Wr(Rn){if(Rn.length!==void 0)return Rn.length;if(Rn.byteLength!==void 0)return Rn.byteLength;Dr("Invalid argument for arrayByteLength")}function cn(Rn){const xn=Rn.length;if(xn===1&&Rn[0]instanceof Uint8Array)return Rn[0];let En=0;for(let oo=0;oo<xn;oo++)En+=Wr(Rn[oo]);let qn=0;const ba=new Uint8Array(En);for(let oo=0;oo<xn;oo++){let eo=Rn[oo];eo instanceof Uint8Array||(typeof eo=="string"?eo=en(eo):eo=new Uint8Array(eo));const ga=eo.byteLength;ba.set(eo,qn),qn+=ga}return ba}function fn(Rn){return String.fromCharCode(Rn>>24&255,Rn>>16&255,Rn>>8&255,Rn&255)}function gn(Rn){return Object.keys(Rn).length}function wn(Rn){const xn=Object.create(null);for(const[En,qn]of Rn)xn[En]=qn;return xn}function yn(){const Rn=new Uint8Array(4);return Rn[0]=1,new Uint32Array(Rn.buffer,0,1)[0]===1}function vn(){try{return new Function(""),!0}catch{return!1}}class Ln{static get isLittleEndian(){return wr(this,"isLittleEndian",yn())}static get isEvalSupported(){return wr(this,"isEvalSupported",vn())}static get isOffscreenCanvasSupported(){return wr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}er.FeatureTest=Ln;const bn=[...Array(256).keys()].map(Rn=>Rn.toString(16).padStart(2,"0"));class Mn{static makeHexColor(xn,En,qn){return`#${bn[xn]}${bn[En]}${bn[qn]}`}static scaleMinMax(xn,En){let qn;xn[0]?(xn[0]<0&&(qn=En[0],En[0]=En[1],En[1]=qn),En[0]*=xn[0],En[1]*=xn[0],xn[3]<0&&(qn=En[2],En[2]=En[3],En[3]=qn),En[2]*=xn[3],En[3]*=xn[3]):(qn=En[0],En[0]=En[2],En[2]=qn,qn=En[1],En[1]=En[3],En[3]=qn,xn[1]<0&&(qn=En[2],En[2]=En[3],En[3]=qn),En[2]*=xn[1],En[3]*=xn[1],xn[2]<0&&(qn=En[0],En[0]=En[1],En[1]=qn),En[0]*=xn[2],En[1]*=xn[2]),En[0]+=xn[4],En[1]+=xn[4],En[2]+=xn[5],En[3]+=xn[5]}static transform(xn,En){return[xn[0]*En[0]+xn[2]*En[1],xn[1]*En[0]+xn[3]*En[1],xn[0]*En[2]+xn[2]*En[3],xn[1]*En[2]+xn[3]*En[3],xn[0]*En[4]+xn[2]*En[5]+xn[4],xn[1]*En[4]+xn[3]*En[5]+xn[5]]}static applyTransform(xn,En){const qn=xn[0]*En[0]+xn[1]*En[2]+En[4],ba=xn[0]*En[1]+xn[1]*En[3]+En[5];return[qn,ba]}static applyInverseTransform(xn,En){const qn=En[0]*En[3]-En[1]*En[2],ba=(xn[0]*En[3]-xn[1]*En[2]+En[2]*En[5]-En[4]*En[3])/qn,oo=(-xn[0]*En[1]+xn[1]*En[0]+En[4]*En[1]-En[5]*En[0])/qn;return[ba,oo]}static getAxialAlignedBoundingBox(xn,En){const qn=Mn.applyTransform(xn,En),ba=Mn.applyTransform(xn.slice(2,4),En),oo=Mn.applyTransform([xn[0],xn[3]],En),eo=Mn.applyTransform([xn[2],xn[1]],En);return[Math.min(qn[0],ba[0],oo[0],eo[0]),Math.min(qn[1],ba[1],oo[1],eo[1]),Math.max(qn[0],ba[0],oo[0],eo[0]),Math.max(qn[1],ba[1],oo[1],eo[1])]}static inverseTransform(xn){const En=xn[0]*xn[3]-xn[1]*xn[2];return[xn[3]/En,-xn[1]/En,-xn[2]/En,xn[0]/En,(xn[2]*xn[5]-xn[4]*xn[3])/En,(xn[4]*xn[1]-xn[5]*xn[0])/En]}static singularValueDecompose2dScale(xn){const En=[xn[0],xn[2],xn[1],xn[3]],qn=xn[0]*En[0]+xn[1]*En[2],ba=xn[0]*En[1]+xn[1]*En[3],oo=xn[2]*En[0]+xn[3]*En[2],eo=xn[2]*En[1]+xn[3]*En[3],ga=(qn+eo)/2,co=Math.sqrt((qn+eo)**2-4*(qn*eo-oo*ba))/2,Zo=ga+co||1,go=ga-co||1;return[Math.sqrt(Zo),Math.sqrt(go)]}static normalizeRect(xn){const En=xn.slice(0);return xn[0]>xn[2]&&(En[0]=xn[2],En[2]=xn[0]),xn[1]>xn[3]&&(En[1]=xn[3],En[3]=xn[1]),En}static intersect(xn,En){const qn=Math.max(Math.min(xn[0],xn[2]),Math.min(En[0],En[2])),ba=Math.min(Math.max(xn[0],xn[2]),Math.max(En[0],En[2]));if(qn>ba)return null;const oo=Math.max(Math.min(xn[1],xn[3]),Math.min(En[1],En[3])),eo=Math.min(Math.max(xn[1],xn[3]),Math.max(En[1],En[3]));return oo>eo?null:[qn,oo,ba,eo]}static bezierBoundingBox(xn,En,qn,ba,oo,eo,ga,co){const Zo=[],go=[[],[]];let qo,jo,na,bo,Jo,Bo,Fo,ko;for(let ts=0;ts<2;++ts){if(ts===0?(jo=6*xn-12*qn+6*oo,qo=-3*xn+9*qn-9*oo+3*ga,na=3*qn-3*xn):(jo=6*En-12*ba+6*eo,qo=-3*En+9*ba-9*eo+3*co,na=3*ba-3*En),Math.abs(qo)<1e-12){if(Math.abs(jo)<1e-12)continue;bo=-na/jo,0<bo&&bo<1&&Zo.push(bo);continue}Fo=jo*jo-4*na*qo,ko=Math.sqrt(Fo),!(Fo<0)&&(Jo=(-jo+ko)/(2*qo),0<Jo&&Jo<1&&Zo.push(Jo),Bo=(-jo-ko)/(2*qo),0<Bo&&Bo<1&&Zo.push(Bo))}let Eo=Zo.length,Ro;const es=Eo;for(;Eo--;)bo=Zo[Eo],Ro=1-bo,go[0][Eo]=Ro*Ro*Ro*xn+3*Ro*Ro*bo*qn+3*Ro*bo*bo*oo+bo*bo*bo*ga,go[1][Eo]=Ro*Ro*Ro*En+3*Ro*Ro*bo*ba+3*Ro*bo*bo*eo+bo*bo*bo*co;return go[0][es]=xn,go[1][es]=En,go[0][es+1]=ga,go[1][es+1]=co,go[0].length=go[1].length=es+2,[Math.min(...go[0]),Math.min(...go[1]),Math.max(...go[0]),Math.max(...go[1])]}}er.Util=Mn;const Un=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Hn(Rn){if(Rn[0]>="\xEF"){let En;if(Rn[0]==="\xFE"&&Rn[1]==="\xFF"?En="utf-16be":Rn[0]==="\xFF"&&Rn[1]==="\xFE"?En="utf-16le":Rn[0]==="\xEF"&&Rn[1]==="\xBB"&&Rn[2]==="\xBF"&&(En="utf-8"),En)try{const qn=new TextDecoder(En,{fatal:!0}),ba=en(Rn);return qn.decode(ba)}catch(qn){Er(`stringToPDFString: "${qn}".`)}}const xn=[];for(let En=0,qn=Rn.length;En<qn;En++){const ba=Un[Rn.charCodeAt(En)];xn.push(ba?String.fromCharCode(ba):Rn.charAt(En))}return xn.join("")}function Yn(Rn){return Rn.replace(/([()\\\n\r])/g,xn=>xn===`
`?"\\n":xn==="\r"?"\\r":`\\${xn}`)}function Gn(Rn){return/^[\x00-\x7F]*$/.test(Rn)}function Qn(Rn){const xn=["\xFE\xFF"];for(let En=0,qn=Rn.length;En<qn;En++){const ba=Rn.charCodeAt(En);xn.push(String.fromCharCode(ba>>8&255),String.fromCharCode(ba&255))}return xn.join("")}function zn(Rn){return decodeURIComponent(escape(Rn))}function fo(Rn){return unescape(encodeURIComponent(Rn))}function no(Rn){return typeof Rn=="object"&&Rn!==null&&Rn.byteLength!==void 0}function Mo(Rn,xn){if(Rn.length!==xn.length)return!1;for(let En=0,qn=Rn.length;En<qn;En++)if(Rn[En]!==xn[En])return!1;return!0}function ho(Rn=new Date){return[Rn.getUTCFullYear().toString(),(Rn.getUTCMonth()+1).toString().padStart(2,"0"),Rn.getUTCDate().toString().padStart(2,"0"),Rn.getUTCHours().toString().padStart(2,"0"),Rn.getUTCMinutes().toString().padStart(2,"0"),Rn.getUTCSeconds().toString().padStart(2,"0")].join("")}function so(){const Rn=Object.create(null);let xn=!1;return Object.defineProperty(Rn,"settled",{get(){return xn}}),Rn.promise=new Promise(function(En,qn){Rn.resolve=function(ba){xn=!0,En(ba)},Rn.reject=function(ba){xn=!0,qn(ba)}}),Rn}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:St,NodeCMapReaderFactory:er,NodeStandardFontDataFactory:tr}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=St,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=er,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=tr}let createPDFNetworkStream;function setPDFNetworkStreamFactory(St){createPDFNetworkStream=St}function getDocument(St){const er=new PDFDocumentLoadingTask;let tr;if(typeof St=="string"||St instanceof URL)tr={url:St};else if((0,_util.isArrayBuffer)(St))tr={data:St};else if(St instanceof PDFDataRangeTransport)tr={range:St};else{if(typeof St!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!St.url&&!St.data&&!St.range)throw new Error("Invalid parameter object: need either .data, .range or .url");tr=St}const rr=Object.create(null);let nr=null,ar=null;for(const or in tr){const ir=tr[or];switch(or){case"url":if(typeof window<"u")try{rr[or]=new URL(ir,window.location).href;continue}catch(lr){(0,_util.warn)(`Cannot create valid URL: "${lr}".`)}else if(typeof ir=="string"||ir instanceof URL){rr[or]=ir.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":nr=ir;continue;case"worker":ar=ir;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&ir instanceof Buffer)rr[or]=new Uint8Array(ir);else{if(ir instanceof Uint8Array)break;if(typeof ir=="string")rr[or]=(0,_util.stringToBytes)(ir);else if(typeof ir=="object"&&ir!==null&&!isNaN(ir.length))rr[or]=new Uint8Array(ir);else if((0,_util.isArrayBuffer)(ir))rr[or]=new Uint8Array(ir);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}rr[or]=ir}if(rr.CMapReaderFactory=rr.CMapReaderFactory||DefaultCMapReaderFactory,rr.StandardFontDataFactory=rr.StandardFontDataFactory||DefaultStandardFontDataFactory,rr.ignoreErrors=rr.stopAtErrors!==!0,rr.fontExtraProperties=rr.fontExtraProperties===!0,rr.pdfBug=rr.pdfBug===!0,rr.enableXfa=rr.enableXfa===!0,(!Number.isInteger(rr.rangeChunkSize)||rr.rangeChunkSize<1)&&(rr.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof rr.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(rr.docBaseUrl))&&(rr.docBaseUrl=null),(!Number.isInteger(rr.maxImageSize)||rr.maxImageSize<-1)&&(rr.maxImageSize=-1),typeof rr.cMapUrl!="string"&&(rr.cMapUrl=null),typeof rr.standardFontDataUrl!="string"&&(rr.standardFontDataUrl=null),typeof rr.useWorkerFetch!="boolean"&&(rr.useWorkerFetch=rr.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&rr.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof rr.isEvalSupported!="boolean"&&(rr.isEvalSupported=!0),typeof rr.isOffscreenCanvasSupported!="boolean"&&(rr.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof rr.disableFontFace!="boolean"&&(rr.disableFontFace=_is_node.isNodeJS),typeof rr.useSystemFonts!="boolean"&&(rr.useSystemFonts=!_is_node.isNodeJS&&!rr.disableFontFace),(typeof rr.ownerDocument!="object"||rr.ownerDocument===null)&&(rr.ownerDocument=globalThis.document),typeof rr.disableRange!="boolean"&&(rr.disableRange=!1),typeof rr.disableStream!="boolean"&&(rr.disableStream=!1),typeof rr.disableAutoFetch!="boolean"&&(rr.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(rr.verbosity),!ar){const or={verbosity:rr.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};ar=or.port?_PDFWorker.fromPort(or):new _PDFWorker(or),er._worker=ar}const dr=er.docId;return ar.promise.then(function(){if(er.destroyed)throw new Error("Loading aborted");const or=_fetchDocument(ar,rr,nr,dr),ir=new Promise(function(lr){let fr;nr?fr=new _transport_stream.PDFDataTransportStream({length:rr.length,initialData:rr.initialData,progressiveDone:rr.progressiveDone,contentDispositionFilename:rr.contentDispositionFilename,disableRange:rr.disableRange,disableStream:rr.disableStream},nr):rr.data||(fr=createPDFNetworkStream({url:rr.url,length:rr.length,httpHeaders:rr.httpHeaders,withCredentials:rr.withCredentials,rangeChunkSize:rr.rangeChunkSize,disableRange:rr.disableRange,disableStream:rr.disableStream})),lr(fr)});return Promise.all([or,ir]).then(function([lr,fr]){if(er.destroyed)throw new Error("Loading aborted");const cr=new _message_handler.MessageHandler(dr,lr,ar.port),ur=new WorkerTransport(cr,er,fr,rr);er._transport=ur,cr.send("Ready",null)})}).catch(er._capability.reject),er}async function _fetchDocument(St,er,tr,rr){if(St.destroyed)throw new Error("Worker was destroyed");tr&&(er.length=tr.length,er.initialData=tr.initialData,er.progressiveDone=tr.progressiveDone,er.contentDispositionFilename=tr.contentDispositionFilename);const nr=await St.messageHandler.sendWithPromise("GetDocRequest",{docId:rr,apiVersion:"3.0.279",data:er.data,password:er.password,disableAutoFetch:er.disableAutoFetch,rangeChunkSize:er.rangeChunkSize,length:er.length,docBaseUrl:er.docBaseUrl,enableXfa:er.enableXfa,evaluatorOptions:{maxImageSize:er.maxImageSize,disableFontFace:er.disableFontFace,ignoreErrors:er.ignoreErrors,isEvalSupported:er.isEvalSupported,isOffscreenCanvasSupported:er.isOffscreenCanvasSupported,fontExtraProperties:er.fontExtraProperties,useSystemFonts:er.useSystemFonts,cMapUrl:er.useWorkerFetch?er.cMapUrl:null,standardFontDataUrl:er.useWorkerFetch?er.standardFontDataUrl:null}});if(er.data&&(er.data=null),St.destroyed)throw new Error("Worker was destroyed");return nr}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(er,tr,rr=!1,nr=null){this.length=er,this.initialData=tr,this.progressiveDone=rr,this.contentDispositionFilename=nr,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(er){this._rangeListeners.push(er)}addProgressListener(er){this._progressListeners.push(er)}addProgressiveReadListener(er){this._progressiveReadListeners.push(er)}addProgressiveDoneListener(er){this._progressiveDoneListeners.push(er)}onDataRange(er,tr){for(const rr of this._rangeListeners)rr(er,tr)}onDataProgress(er,tr){this._readyCapability.promise.then(()=>{for(const rr of this._progressListeners)rr(er,tr)})}onDataProgressiveRead(er){this._readyCapability.promise.then(()=>{for(const tr of this._progressiveReadListeners)tr(er)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const er of this._progressiveDoneListeners)er()})}transportReady(){this._readyCapability.resolve()}requestDataRange(er,tr){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(er,tr){this._pdfInfo=er,this._transport=tr}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(er){return this._transport.getPage(er)}getPageIndex(er){return this._transport.getPageIndex(er)}getDestinations(){return this._transport.getDestinations()}getDestination(er){return this._transport.getDestination(er)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(er=!1){return this._transport.startCleanup(er||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(er,tr,rr,nr,ar=!1){this._pageIndex=er,this._pageInfo=tr,this._ownerDocument=nr,this._transport=rr,this._stats=ar?new _display_utils.StatTimer:null,this._pdfBug=ar,this.commonObjs=rr.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:er,rotation:tr=this.rotate,offsetX:rr=0,offsetY:nr=0,dontFlip:ar=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:er,rotation:tr,offsetX:rr,offsetY:nr,dontFlip:ar})}getAnnotations({intent:er="display"}={}){const tr=this._transport.getRenderingIntent(er);let rr=this._annotationPromises.get(tr.cacheKey);return rr||(rr=this._transport.getAnnotations(this._pageIndex,tr.renderingIntent),this._annotationPromises.set(tr.cacheKey,rr)),rr}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:er,viewport:tr,intent:rr="display",annotationMode:nr=_util.AnnotationMode.ENABLE,transform:ar=null,canvasFactory:dr=null,background:or=null,optionalContentConfigPromise:ir=null,annotationCanvasMap:lr=null,pageColors:fr=null,printAnnotationStorage:cr=null}){this._stats?.time("Overall");const ur=this._transport.getRenderingIntent(rr,nr,cr);this.pendingCleanup=!1,ir||(ir=this._transport.getOptionalContentConfig());let sr=this._intentStates.get(ur.cacheKey);sr||(sr=Object.create(null),this._intentStates.set(ur.cacheKey,sr)),sr.streamReaderCancelTimeout&&(clearTimeout(sr.streamReaderCancelTimeout),sr.streamReaderCancelTimeout=null);const hr=dr||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),gr=!!(ur.renderingIntent&_util.RenderingIntentFlag.PRINT);sr.displayReadyCapability||(sr.displayReadyCapability=(0,_util.createPromiseCapability)(),sr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ur));const pr=yr=>{sr.renderTasks.delete(mr),(this.cleanupAfterRender||gr)&&(this.pendingCleanup=!0),this._tryCleanup(),yr?(mr.capability.reject(yr),this._abortOperatorList({intentState:sr,reason:yr instanceof Error?yr:new Error(yr)})):mr.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},mr=new InternalRenderTask({callback:pr,params:{canvasContext:er,viewport:tr,transform:ar,background:or},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:lr,operatorList:sr.operatorList,pageIndex:this._pageIndex,canvasFactory:hr,useRequestAnimationFrame:!gr,pdfBug:this._pdfBug,pageColors:fr});(sr.renderTasks||=new Set).add(mr);const vr=mr.task;return Promise.all([sr.displayReadyCapability.promise,ir]).then(([yr,br])=>{if(this.pendingCleanup){pr();return}this._stats?.time("Rendering"),mr.initializeGraphics({transparency:yr,optionalContentConfig:br}),mr.operatorListChanged()}).catch(pr),vr}getOperatorList({intent:er="display",annotationMode:tr=_util.AnnotationMode.ENABLE,printAnnotationStorage:rr=null}={}){function nr(){dr.operatorList.lastChunk&&(dr.opListReadCapability.resolve(dr.operatorList),dr.renderTasks.delete(or))}const ar=this._transport.getRenderingIntent(er,tr,rr,!0);let dr=this._intentStates.get(ar.cacheKey);dr||(dr=Object.create(null),this._intentStates.set(ar.cacheKey,dr));let or;return dr.opListReadCapability||(or=Object.create(null),or.operatorListChanged=nr,dr.opListReadCapability=(0,_util.createPromiseCapability)(),(dr.renderTasks||=new Set).add(or),dr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ar)),dr.opListReadCapability.promise}streamTextContent({disableCombineTextItems:er=!1,includeMarkedContent:tr=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:er!==!0,includeMarkedContent:tr===!0},{highWaterMark:100,size(nr){return nr.items.length}})}getTextContent(er={}){if(this._transport._htmlForXfa)return this.getXfa().then(rr=>_xfa_text.XfaText.textContent(rr));const tr=this.streamTextContent(er);return new Promise(function(rr,nr){function ar(){dr.read().then(function({value:ir,done:lr}){if(lr){rr(or);return}Object.assign(or.styles,ir.styles),or.items.push(...ir.items),ar()},nr)}const dr=tr.getReader(),or={items:[],styles:Object.create(null)};ar()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const er=[];for(const tr of this._intentStates.values())if(this._abortOperatorList({intentState:tr,reason:new Error("Page was destroyed."),force:!0}),!tr.opListReadCapability)for(const rr of tr.renderTasks)er.push(rr.completed),rr.cancel();this.objs.clear();for(const tr of this._bitmaps)tr.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(er)}cleanup(er=!1){return this.pendingCleanup=!0,this._tryCleanup(er)}_tryCleanup(er=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:tr,operatorList:rr}of this._intentStates.values())if(tr.size>0||!rr.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,er&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const tr of this._bitmaps)tr.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(er,tr){const rr=this._intentStates.get(tr);!rr||(this._stats?.timeEnd("Page Request"),rr.displayReadyCapability?.resolve(er))}_renderPageChunk(er,tr){for(let rr=0,nr=er.length;rr<nr;rr++)tr.operatorList.fnArray.push(er.fnArray[rr]),tr.operatorList.argsArray.push(er.argsArray[rr]);tr.operatorList.lastChunk=er.lastChunk,tr.operatorList.separateAnnots=er.separateAnnots;for(const rr of tr.renderTasks)rr.operatorListChanged();er.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:er,cacheKey:tr,annotationStorageMap:rr}){const ar=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:er,cacheKey:tr,annotationStorage:rr}).getReader(),dr=this._intentStates.get(tr);dr.streamReader=ar;const or=()=>{ar.read().then(({value:ir,done:lr})=>{if(lr){dr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ir,dr),or())},ir=>{if(dr.streamReader=null,!this._transport.destroyed){if(dr.operatorList){dr.operatorList.lastChunk=!0;for(const lr of dr.renderTasks)lr.operatorListChanged();this._tryCleanup()}if(dr.displayReadyCapability)dr.displayReadyCapability.reject(ir);else if(dr.opListReadCapability)dr.opListReadCapability.reject(ir);else throw ir}})};or()}_abortOperatorList({intentState:er,reason:tr,force:rr=!1}){if(!!er.streamReader){if(!rr){if(er.renderTasks.size>0)return;if(tr instanceof _display_utils.RenderingCancelledException){er.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:er,reason:tr,force:!0}),er.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(er.streamReader.cancel(new _util.AbortException(tr.message)).catch(()=>{}),er.streamReader=null,!this._transport.destroyed){for(const[nr,ar]of this._intentStates)if(ar===er){this._intentStates.delete(nr);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=[];#t=Promise.resolve();postMessage(er,tr){const rr={data:structuredClone(er,tr)};this.#t.then(()=>{for(const nr of this.#e)nr.call(this,rr)})}addEventListener(er,tr){this.#e.push(tr)}removeEventListener(er,tr){const rr=this.#e.indexOf(tr);this.#e.splice(rr,1)}terminate(){this.#e.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const St=document?.currentScript?.src;St&&(PDFWorkerUtil.fallbackWorkerSrc=St.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(St,er){let tr;try{if(tr=new URL(St),!tr.origin||tr.origin==="null")return!1}catch{return!1}const rr=new URL(er,tr);return tr.origin===rr.origin},PDFWorkerUtil.createCDNWrapper=function(St){const er=`importScripts("${St}");`;return URL.createObjectURL(new Blob([er]))}}class _PDFWorker{static#workerPorts=new WeakMap;constructor({name:St=null,port:er=null,verbosity:tr=(0,_util.getVerbosityLevel)()}={}){if(er&&_PDFWorker.#workerPorts.has(er))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=St,this.destroyed=!1,this.verbosity=tr,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,er){_PDFWorker.#workerPorts.set(er,this),this._initializeFromPort(er);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(St){this._port=St,this._messageHandler=new _message_handler.MessageHandler("main","worker",St),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:St}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,St)||(St=PDFWorkerUtil.createCDNWrapper(new URL(St,window.location).href));const er=new Worker(St),tr=new _message_handler.MessageHandler("main","worker",er),rr=()=>{er.removeEventListener("error",nr),tr.destroy(),er.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},nr=()=>{this._webWorker||rr()};er.addEventListener("error",nr),tr.on("test",dr=>{if(er.removeEventListener("error",nr),this.destroyed){rr();return}dr?(this._messageHandler=tr,this._port=er,this._webWorker=er,this._readyCapability.resolve(),tr.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),tr.destroy(),er.terminate())}),tr.on("ready",dr=>{if(er.removeEventListener("error",nr),this.destroyed){rr();return}try{ar()}catch{this._setupFakeWorker()}});const ar=()=>{const dr=new Uint8Array;tr.send("test",dr,[dr.buffer])};ar();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(St=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const er=new LoopbackPort;this._port=er;const tr=`fake${PDFWorkerUtil.fakeWorkerId++}`,rr=new _message_handler.MessageHandler(tr+"_worker",tr,er);St.setup(rr,er);const nr=new _message_handler.MessageHandler(tr,tr+"_worker",er);this._messageHandler=nr,this._readyCapability.resolve(),nr.send("configure",{verbosity:this.verbosity})}).catch(St=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${St.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(St){if(!St?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(St.port)?this.#workerPorts.get(St.port):new _PDFWorker(St)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;class WorkerTransport{#e=null;#t=new Map;#i=new Map;#r=null;constructor(er,tr,rr,nr){this.messageHandler=er,this.loadingTask=tr,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:nr.ownerDocument,styleElement:nr.styleElement}),this._params=nr,nr.useWorkerFetch||(this.CMapReaderFactory=new nr.CMapReaderFactory({baseUrl:nr.cMapUrl,isCompressed:nr.cMapPacked}),this.StandardFontDataFactory=new nr.StandardFontDataFactory({baseUrl:nr.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=rr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(er,tr=_util.AnnotationMode.ENABLE,rr=null,nr=!1){let ar=_util.RenderingIntentFlag.DISPLAY,dr=null;switch(er){case"any":ar=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ar=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${er}`)}switch(tr){case _util.AnnotationMode.DISABLE:ar+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ar+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ar+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,dr=(ar&_util.RenderingIntentFlag.PRINT&&rr instanceof _annotation_storage.PrintAnnotationStorage?rr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${tr}`)}return nr&&(ar+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ar,cacheKey:`${ar}_${_annotation_storage.AnnotationStorage.getHash(dr)}`,annotationStorageMap:dr}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const er=[];for(const rr of this.#t.values())er.push(rr._destroy());this.#t.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const tr=this.messageHandler.sendWithPromise("Terminate",null);return er.push(tr),Promise.all(er).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:er,loadingTask:tr}=this;er.on("GetReader",(rr,nr)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ar=>{this._lastProgress={loaded:ar.loaded,total:ar.total}},nr.onPull=()=>{this._fullReader.read().then(function({value:ar,done:dr}){if(dr){nr.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(ar),"GetReader - expected an ArrayBuffer."),nr.enqueue(new Uint8Array(ar),1,[ar])}).catch(ar=>{nr.error(ar)})},nr.onCancel=ar=>{this._fullReader.cancel(ar),nr.ready.catch(dr=>{if(!this.destroyed)throw dr})}}),er.on("ReaderHeadersReady",rr=>{const nr=(0,_util.createPromiseCapability)(),ar=this._fullReader;return ar.headersReady.then(()=>{(!ar.isStreamingSupported||!ar.isRangeSupported)&&(this._lastProgress&&tr.onProgress?.(this._lastProgress),ar.onProgress=dr=>{tr.onProgress?.({loaded:dr.loaded,total:dr.total})}),nr.resolve({isStreamingSupported:ar.isStreamingSupported,isRangeSupported:ar.isRangeSupported,contentLength:ar.contentLength})},nr.reject),nr.promise}),er.on("GetRangeReader",(rr,nr)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ar=this._networkStream.getRangeReader(rr.begin,rr.end);if(!ar){nr.close();return}nr.onPull=()=>{ar.read().then(function({value:dr,done:or}){if(or){nr.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(dr),"GetRangeReader - expected an ArrayBuffer."),nr.enqueue(new Uint8Array(dr),1,[dr])}).catch(dr=>{nr.error(dr)})},nr.onCancel=dr=>{ar.cancel(dr),nr.ready.catch(or=>{if(!this.destroyed)throw or})}}),er.on("GetDoc",({pdfInfo:rr})=>{this._numPages=rr.numPages,this._htmlForXfa=rr.htmlForXfa,delete rr.htmlForXfa,tr._capability.resolve(new PDFDocumentProxy(rr,this))}),er.on("DocException",function(rr){let nr;switch(rr.name){case"PasswordException":nr=new _util.PasswordException(rr.message,rr.code);break;case"InvalidPDFException":nr=new _util.InvalidPDFException(rr.message);break;case"MissingPDFException":nr=new _util.MissingPDFException(rr.message);break;case"UnexpectedResponseException":nr=new _util.UnexpectedResponseException(rr.message,rr.status);break;case"UnknownErrorException":nr=new _util.UnknownErrorException(rr.message,rr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}tr._capability.reject(nr)}),er.on("PasswordRequest",rr=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),tr.onPassword){const nr=ar=>{ar instanceof Error?this._passwordCapability.reject(ar):this._passwordCapability.resolve({password:ar})};try{tr.onPassword(nr,rr.code)}catch(ar){this._passwordCapability.reject(ar)}}else this._passwordCapability.reject(new _util.PasswordException(rr.message,rr.code));return this._passwordCapability.promise}),er.on("DataLoaded",rr=>{tr.onProgress?.({loaded:rr.length,total:rr.length}),this.downloadInfoCapability.resolve(rr)}),er.on("StartRenderPage",rr=>{if(this.destroyed)return;this.#t.get(rr.pageIndex)._startRenderPage(rr.transparency,rr.cacheKey)}),er.on("commonobj",([rr,nr,ar])=>{if(!this.destroyed&&!this.commonObjs.has(rr))switch(nr){case"Font":const dr=this._params;if("error"in ar){const lr=ar.error;(0,_util.warn)(`Error during font loading: ${lr}`),this.commonObjs.resolve(rr,lr);break}let or=null;dr.pdfBug&&globalThis.FontInspector?.enabled&&(or={registerFont(lr,fr){globalThis.FontInspector.fontAdded(lr,fr)}});const ir=new _font_loader.FontFaceObject(ar,{isEvalSupported:dr.isEvalSupported,disableFontFace:dr.disableFontFace,ignoreErrors:dr.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:or});this.fontLoader.bind(ir).catch(lr=>er.sendWithPromise("FontFallback",{id:rr})).finally(()=>{!dr.fontExtraProperties&&ir.data&&(ir.data=null),this.commonObjs.resolve(rr,ir)});break;case"FontPath":case"Image":this.commonObjs.resolve(rr,ar);break;default:throw new Error(`Got unknown common object type ${nr}`)}}),er.on("obj",([rr,nr,ar,dr])=>{if(this.destroyed)return;const or=this.#t.get(nr);if(!or.objs.has(rr))switch(ar){case"Image":or.objs.resolve(rr,dr);const ir=8e6;if(dr){let lr;if(dr.bitmap){const{bitmap:fr,width:cr,height:ur}=dr;lr=cr*ur*4,or._bitmaps.add(fr)}else lr=dr.data?.length||0;lr>ir&&(or.cleanupAfterRender=!0)}break;case"Pattern":or.objs.resolve(rr,dr);break;default:throw new Error(`Got unknown object type ${ar}`)}}),er.on("DocProgress",rr=>{this.destroyed||tr.onProgress?.({loaded:rr.loaded,total:rr.total})}),er.on("DocStats",rr=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(rr.streamTypes),fontTypes:Object.freeze(rr.fontTypes)}))}),er.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),er.on("FetchBuiltInCMap",rr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(rr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),er.on("FetchStandardFontData",rr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(rr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:er}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(er)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(er){if(!Number.isInteger(er)||er<=0||er>this._numPages)return Promise.reject(new Error("Invalid page request."));const tr=er-1,rr=this.#i.get(tr);if(rr)return rr;const nr=this.messageHandler.sendWithPromise("GetPage",{pageIndex:tr}).then(ar=>{if(this.destroyed)throw new Error("Transport destroyed");const dr=new PDFPageProxy(tr,ar,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(tr,dr),dr});return this.#i.set(tr,nr),nr}getPageIndex(er){return typeof er!="object"||er===null||!Number.isInteger(er.num)||er.num<0||!Number.isInteger(er.gen)||er.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:er.num,gen:er.gen})}getAnnotations(er,tr){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:er,intent:tr})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(er){return typeof er!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:er})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(er){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:er})}getStructTree(er){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:er})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(er=>new _optional_content_config.OptionalContentConfig(er))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#r||=this.messageHandler.sendWithPromise("GetMetadata",null).then(er=>({info:er[0],metadata:er[1]?new _metadata.Metadata(er[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(er=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const tr of this.#t.values())if(!tr.cleanup())throw new Error(`startCleanup: Page ${tr.pageNumber} is currently rendering.`);this.commonObjs.clear(),er||this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const er=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:er.disableAutoFetch,enableXfa:er.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(er){const tr=this.#e[er];return tr||(this.#e[er]={capability:(0,_util.createPromiseCapability)(),data:null})}get(er,tr=null){if(tr){const nr=this.#t(er);return nr.capability.promise.then(()=>tr(nr.data)),null}const rr=this.#e[er];if(!rr?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${er}.`);return rr.data}has(er){return this.#e[er]?.capability.settled||!1}resolve(er,tr=null){const rr=this.#t(er);rr.data=tr,rr.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(er){this.#e=er,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){const{separateAnnots:er}=this.#e.operatorList;if(!er)return!1;const{annotationCanvasMap:tr}=this.#e;return er.form||er.canvas&&tr?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:er,params:tr,objs:rr,commonObjs:nr,annotationCanvasMap:ar,operatorList:dr,pageIndex:or,canvasFactory:ir,useRequestAnimationFrame:lr=!1,pdfBug:fr=!1,pageColors:cr=null}){this.callback=er,this.params=tr,this.objs=rr,this.commonObjs=nr,this.annotationCanvasMap=ar,this.operatorListIdx=null,this.operatorList=dr,this._pageIndex=or,this.canvasFactory=ir,this._pdfBug=fr,this.pageColors=cr,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=lr===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=tr.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:er=!1,optionalContentConfig:tr}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:rr,viewport:nr,transform:ar,background:dr}=this.params;this.gfx=new _canvas.CanvasGraphics(rr,this.commonObjs,this.objs,this.canvasFactory,tr,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ar,viewport:nr,transparency:er,background:dr}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(er=null){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(er||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.0.279";exports.version=version;const build="d0823066c";exports.build=build},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PrintAnnotationStorage=er.AnnotationStorage=void 0;var rr=tr(1),nr=tr(4),ar=tr(8);class dr{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(lr,fr){const cr=this._storage.get(lr);return cr===void 0?fr:Object.assign(fr,cr)}getRawValue(lr){return this._storage.get(lr)}remove(lr){if(this._storage.delete(lr),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const fr of this._storage.values())if(fr instanceof nr.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(lr,fr){const cr=this._storage.get(lr);let ur=!1;if(cr!==void 0)for(const[sr,hr]of Object.entries(fr))cr[sr]!==hr&&(ur=!0,cr[sr]=hr);else ur=!0,this._storage.set(lr,fr);ur&&this.#e(),fr instanceof nr.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(fr.constructor._type)}has(lr){return this._storage.has(lr)}getAll(){return this._storage.size>0?(0,rr.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new or(this)}get serializable(){if(this._storage.size===0)return null;const lr=new Map;for(const[fr,cr]of this._storage){const ur=cr instanceof nr.AnnotationEditor?cr.serialize():cr;ur&&lr.set(fr,ur)}return lr}static getHash(lr){if(!lr)return"";const fr=new ar.MurmurHash3_64;for(const[cr,ur]of lr)fr.update(`${cr}:${JSON.stringify(ur)}`);return fr.hexdigest()}}er.AnnotationStorage=dr;class or extends dr{#e=null;constructor(lr){super(),this.#e=structuredClone(lr.serializable)}get print(){(0,rr.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}er.PrintAnnotationStorage=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationEditor=void 0;var rr=tr(5),nr=tr(1);class ar{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#i=!1;#r=!1;#a=!1;#l=ar._zIndex++;static _colorManager=new rr.ColorManager;static _zIndex=1;constructor(or){this.constructor===ar&&(0,nr.unreachable)("Cannot initialize AnnotationEditor."),this.parent=or.parent,this.id=or.id,this.width=this.height=null,this.pageIndex=or.parent.pageIndex,this.name=or.name,this.div=null;const[ir,lr]=this.parent.viewportBaseDimensions;this.x=or.x/ir,this.y=or.y/lr,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,nr.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#l}focusin(or){this.#i?this.#i=!1:this.parent.setSelected(this)}focusout(or){!this.isAttachedToDOM||or.relatedTarget?.closest(`#${this.id}`)||(or.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(or){const ir=this.parent.div.getBoundingClientRect();this.startX=or.clientX-ir.x,this.startY=or.clientY-ir.y,or.dataTransfer.setData("text/plain",this.id),or.dataTransfer.effectAllowed="move"}setAt(or,ir,lr,fr){const[cr,ur]=this.parent.viewportBaseDimensions;[lr,fr]=this.screenToPageTranslation(lr,fr),this.x=(or+lr)/cr,this.y=(ir+fr)/ur,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(or,ir){const[lr,fr]=this.parent.viewportBaseDimensions;[or,ir]=this.screenToPageTranslation(or,ir),this.x+=or/lr,this.y+=ir/fr,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(or,ir){const{rotation:lr}=this.parent.viewport;switch(lr){case 90:return[ir,-or];case 180:return[-or,-ir];case 270:return[-ir,or];default:return[or,ir]}}setDims(or,ir){const[lr,fr]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*or/lr}%`,this.div.style.height=`${100*ir/fr}%`}fixDims(){const{style:or}=this.div,{height:ir,width:lr}=or,fr=lr.endsWith("%"),cr=ir.endsWith("%");if(fr&&cr)return;const[ur,sr]=this.parent.viewportBaseDimensions;fr||(or.width=`${100*parseFloat(lr)/ur}%`),cr||(or.height=`${100*parseFloat(ir)/sr}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[or,ir]=this.getInitialTranslation();return this.translate(or,ir),(0,rr.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(or){const ir=rr.KeyboardManager.platform.isMac;if(or.button!==0||or.ctrlKey&&ir){or.preventDefault();return}or.ctrlKey&&!ir||or.shiftKey||or.metaKey&&ir?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#i=!0}getRect(or,ir){const[lr,fr]=this.parent.viewportBaseDimensions,[cr,ur]=this.parent.pageDimensions,sr=cr*or/lr,hr=ur*ir/fr,gr=this.x*cr,pr=this.y*ur,mr=this.width*cr,vr=this.height*ur;switch(this.rotation){case 0:return[gr+sr,ur-pr-hr-vr,gr+sr+mr,ur-pr-hr];case 90:return[gr+hr,ur-pr+sr,gr+hr+vr,ur-pr+sr+mr];case 180:return[gr-sr-mr,ur-pr+hr,gr-sr,ur-pr+hr+vr];case 270:return[gr-hr-vr,ur-pr-sr-mr,gr-hr,ur-pr-sr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(or,ir){const[lr,fr,cr,ur]=or,sr=cr-lr,hr=ur-fr;switch(this.rotation){case 0:return[lr,ir-ur,sr,hr];case 90:return[lr,ir-fr,hr,sr];case 180:return[cr,ir-fr,sr,hr];case 270:return[cr,ir-ur,hr,sr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#a=!0}disableEditMode(){this.#a=!1}isInEditMode(){return this.#a}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,nr.unreachable)("An editor must be serializable")}static deserialize(or,ir){const lr=new this.prototype.constructor({parent:ir,id:ir.getNextId()});lr.rotation=or.rotation;const[fr,cr]=ir.pageDimensions,[ur,sr,hr,gr]=lr.getRectInCurrentCoords(or.rect,cr);return lr.x=ur/fr,lr.y=sr/cr,lr.width=hr/fr,lr.height=gr/cr,lr}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(or,ir){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(or){this.#r=or,or?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}er.AnnotationEditor=ar},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.KeyboardManager=er.CommandManager=er.ColorManager=er.AnnotationEditorUIManager=void 0,er.bindEvents=ar,er.opacityToHex=dr;var rr=tr(1),nr=tr(6);function ar(ur,sr,hr){for(const gr of hr)sr.addEventListener(gr,ur[gr].bind(ur))}function dr(ur){return Math.round(Math.min(255,Math.max(1,255*ur))).toString(16).padStart(2,"0")}class or{#e=0;getId(){return`${rr.AnnotationEditorPrefix}${this.#e++}`}}class ir{#e=[];#t=!1;#i;#r=-1;constructor(sr=128){this.#i=sr}add({cmd:sr,undo:hr,mustExec:gr,type:pr=NaN,overwriteIfSameType:mr=!1,keepUndo:vr=!1}){if(gr&&sr(),this.#t)return;const yr={cmd:sr,undo:hr,type:pr};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(yr);return}if(mr&&this.#e[this.#r].type===pr){vr&&(yr.undo=this.#e[this.#r].undo),this.#e[this.#r]=yr;return}const br=this.#r+1;br===this.#i?this.#e.splice(0,1):(this.#r=br,br<this.#e.length&&this.#e.splice(br)),this.#e.push(yr)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}er.CommandManager=ir;class lr{constructor(sr){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const hr=lr.platform.isMac;for(const[gr,pr]of sr)for(const mr of gr){const vr=mr.startsWith("mac+");hr&&vr?(this.callbacks.set(mr.slice(4),pr),this.allKeys.add(mr.split("+").at(-1))):!hr&&!vr&&(this.callbacks.set(mr,pr),this.allKeys.add(mr.split("+").at(-1)))}}static get platform(){const sr=typeof navigator<"u"?navigator.platform:"";return(0,rr.shadow)(this,"platform",{isWin:sr.includes("Win"),isMac:sr.includes("Mac")})}#e(sr){sr.altKey&&this.buffer.push("alt"),sr.ctrlKey&&this.buffer.push("ctrl"),sr.metaKey&&this.buffer.push("meta"),sr.shiftKey&&this.buffer.push("shift"),this.buffer.push(sr.key);const hr=this.buffer.join("+");return this.buffer.length=0,hr}exec(sr,hr){if(!this.allKeys.has(hr.key))return;const gr=this.callbacks.get(this.#e(hr));!gr||(gr.bind(sr)(),hr.stopPropagation(),hr.preventDefault())}}er.KeyboardManager=lr;class fr{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const sr=new Map([["CanvasText",null],["Canvas",null]]);return(0,nr.getColorValues)(sr),(0,rr.shadow)(this,"_colors",sr)}convert(sr){const hr=(0,nr.getRGB)(sr);if(!window.matchMedia("(forced-colors: active)").matches)return hr;for(const[gr,pr]of this._colors)if(pr.every((mr,vr)=>mr===hr[vr]))return fr._colorsMapping.get(gr);return hr}getHexCode(sr){const hr=this._colors.get(sr);return hr?rr.Util.makeHexColor(...hr):sr}}er.ColorManager=fr;class cr{#e=null;#t=new Map;#i=new Map;#r=new ir;#a=0;#l=null;#c=null;#n=new or;#s=!1;#u=rr.AnnotationEditorType.NONE;#o=new Set;#f=this.copy.bind(this);#p=this.cut.bind(this);#g=this.paste.bind(this);#C=this.keydown.bind(this);#A=this.onEditingAction.bind(this);#T=this.onPageChanging.bind(this);#k={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#y=null;static _keyboardManager=new lr([[["ctrl+a","mac+meta+a"],cr.prototype.selectAll],[["ctrl+z","mac+meta+z"],cr.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],cr.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],cr.prototype.delete],[["Escape","mac+Escape"],cr.prototype.unselectAll]]);constructor(sr,hr){this.#y=sr,this.#c=hr,this.#c._on("editingaction",this.#A),this.#c._on("pagechanging",this.#T)}destroy(){this.#E(),this.#c._off("editingaction",this.#A),this.#c._off("pagechanging",this.#T);for(const sr of this.#i.values())sr.destroy();this.#i.clear(),this.#t.clear(),this.#e=null,this.#o.clear(),this.#r.destroy()}onPageChanging({pageNumber:sr}){this.#a=sr-1}focusMainContainer(){this.#y.focus()}#P(){this.#y.addEventListener("keydown",this.#C)}#E(){this.#y.removeEventListener("keydown",this.#C)}#O(){document.addEventListener("copy",this.#f),document.addEventListener("cut",this.#p),document.addEventListener("paste",this.#g)}#h(){document.removeEventListener("copy",this.#f),document.removeEventListener("cut",this.#p),document.removeEventListener("paste",this.#g)}copy(sr){if(sr.preventDefault(),this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const hr=[];for(const gr of this.#o)gr.isEmpty()||hr.push(gr.serialize());hr.length!==0&&sr.clipboardData.setData("application/pdfjs",JSON.stringify(hr))}cut(sr){this.copy(sr),this.delete()}paste(sr){sr.preventDefault();let hr=sr.clipboardData.getData("application/pdfjs");if(!hr)return;try{hr=JSON.parse(hr)}catch(pr){(0,rr.warn)(`paste: "${pr.message}".`);return}if(!Array.isArray(hr))return;this.unselectAll();const gr=this.#i.get(this.#a);try{const pr=[];for(const yr of hr){const br=gr.deserialize(yr);if(!br)return;pr.push(br)}const mr=()=>{for(const yr of pr)this.#x(yr);this.#_(pr)},vr=()=>{for(const yr of pr)yr.remove()};this.addCommands({cmd:mr,undo:vr,mustExec:!0})}catch(pr){(0,rr.warn)(`paste: "${pr.message}".`)}}keydown(sr){this.getActive()?.shouldGetKeyboardEvents()||cr._keyboardManager.exec(this,sr)}onEditingAction(sr){["undo","redo","delete","selectAll"].includes(sr.name)&&this[sr.name]()}#d(sr){Object.entries(sr).some(([gr,pr])=>this.#k[gr]!==pr)&&this.#c.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#k,sr)})}#m(sr){this.#c.dispatch("annotationeditorparamschanged",{source:this,details:sr})}setEditingState(sr){sr?(this.#P(),this.#O(),this.#d({isEditing:this.#u!==rr.AnnotationEditorType.NONE,isEmpty:this.#v(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#E(),this.#h(),this.#d({isEditing:!1}))}registerEditorTypes(sr){if(!this.#l){this.#l=sr;for(const hr of this.#l)this.#m(hr.defaultPropertiesToUpdate)}}getId(){return this.#n.getId()}addLayer(sr){this.#i.set(sr.pageIndex,sr),this.#s?sr.enable():sr.disable()}removeLayer(sr){this.#i.delete(sr.pageIndex)}updateMode(sr){if(this.#u=sr,sr===rr.AnnotationEditorType.NONE)this.setEditingState(!1),this.#b();else{this.setEditingState(!0),this.#S();for(const hr of this.#i.values())hr.updateMode(sr)}}updateToolbar(sr){sr!==this.#u&&this.#c.dispatch("switchannotationeditormode",{source:this,mode:sr})}updateParams(sr,hr){if(!!this.#l){for(const gr of this.#o)gr.updateParams(sr,hr);for(const gr of this.#l)gr.updateDefaultParams(sr,hr)}}#S(){if(!this.#s){this.#s=!0;for(const sr of this.#i.values())sr.enable()}}#b(){if(this.unselectAll(),this.#s){this.#s=!1;for(const sr of this.#i.values())sr.disable()}}getEditors(sr){const hr=[];for(const gr of this.#t.values())gr.pageIndex===sr&&hr.push(gr);return hr}getEditor(sr){return this.#t.get(sr)}addEditor(sr){this.#t.set(sr.id,sr)}removeEditor(sr){this.#t.delete(sr.id),this.unselect(sr)}#x(sr){const hr=this.#i.get(sr.pageIndex);hr?hr.addOrRebuild(sr):this.addEditor(sr)}setActiveEditor(sr){this.#e!==sr&&(this.#e=sr,sr&&this.#m(sr.propertiesToUpdate))}toggleSelected(sr){if(this.#o.has(sr)){this.#o.delete(sr),sr.unselect(),this.#d({hasSelectedEditor:this.hasSelection});return}this.#o.add(sr),sr.select(),this.#m(sr.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(sr){for(const hr of this.#o)hr!==sr&&hr.unselect();this.#o.clear(),this.#o.add(sr),sr.select(),this.#m(sr.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(sr){return this.#o.has(sr)}unselect(sr){sr.unselect(),this.#o.delete(sr),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#o.size!==0}undo(){this.#r.undo(),this.#d({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#v()})}redo(){this.#r.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#v()})}addCommands(sr){this.#r.add(sr),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#v()})}#v(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const sr of this.#t.values())return sr.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const sr=[...this.#o],hr=()=>{for(const pr of sr)pr.remove()},gr=()=>{for(const pr of sr)this.#x(pr)};this.addCommands({cmd:hr,undo:gr,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}#_(sr){this.#o.clear();for(const hr of sr)hr.isEmpty()||(this.#o.add(hr),hr.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(const sr of this.#o)sr.commit();this.#_(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.#o.size!==0){for(const sr of this.#o)sr.unselect();this.#o.clear(),this.#d({hasSelectedEditor:!1})}}isActive(sr){return this.#e===sr}getActive(){return this.#e}getMode(){return this.#u}}er.AnnotationEditorUIManager=cr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.StatTimer=er.RenderingCancelledException=er.PixelsPerInch=er.PageViewport=er.PDFDateString=er.DOMStandardFontDataFactory=er.DOMSVGFactory=er.DOMCanvasFactory=er.DOMCMapReaderFactory=er.AnnotationPrefix=void 0,er.deprecated=Cr,er.getColorValues=Ir,er.getCurrentTransform=jr,er.getCurrentTransformInverse=Jr,er.getFilenameFromUrl=mr,er.getPdfFilenameFromUrl=vr,er.getRGB=Kr,er.getXfaPageViewport=$r,er.isDataScheme=gr,er.isPdfFile=pr,er.isValidFetchUrl=br,er.loadScript=xr;var rr=tr(7),nr=tr(1);const ar="http://www.w3.org/2000/svg",dr="pdfjs_internal_id_";er.AnnotationPrefix=dr;class or{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}er.PixelsPerInch=or;class ir extends rr.BaseCanvasFactory{constructor({ownerDocument:Hr=globalThis.document}={}){super(),this._document=Hr}_createCanvas(Hr,Yr){const nn=this._document.createElement("canvas");return nn.width=Hr,nn.height=Yr,nn}}er.DOMCanvasFactory=ir;async function lr(zr,Hr=!1){if(br(zr,document.baseURI)){const Yr=await fetch(zr);if(!Yr.ok)throw new Error(Yr.statusText);return Hr?new Uint8Array(await Yr.arrayBuffer()):(0,nr.stringToBytes)(await Yr.text())}return new Promise((Yr,nn)=>{const Qr=new XMLHttpRequest;Qr.open("GET",zr,!0),Hr&&(Qr.responseType="arraybuffer"),Qr.onreadystatechange=()=>{if(Qr.readyState===XMLHttpRequest.DONE){if(Qr.status===200||Qr.status===0){let Or;if(Hr&&Qr.response?Or=new Uint8Array(Qr.response):!Hr&&Qr.responseText&&(Or=(0,nr.stringToBytes)(Qr.responseText)),Or){Yr(Or);return}}nn(new Error(Qr.statusText))}},Qr.send(null)})}class fr extends rr.BaseCMapReaderFactory{_fetchData(Hr,Yr){return lr(Hr,this.isCompressed).then(nn=>({cMapData:nn,compressionType:Yr}))}}er.DOMCMapReaderFactory=fr;class cr extends rr.BaseStandardFontDataFactory{_fetchData(Hr){return lr(Hr,!0)}}er.DOMStandardFontDataFactory=cr;class ur extends rr.BaseSVGFactory{_createSVG(Hr){return document.createElementNS(ar,Hr)}}er.DOMSVGFactory=ur;class sr{constructor({viewBox:Hr,scale:Yr,rotation:nn,offsetX:Qr=0,offsetY:Or=0,dontFlip:Er=!1}){this.viewBox=Hr,this.scale=Yr,this.rotation=nn,this.offsetX=Qr,this.offsetY=Or;const Dr=(Hr[2]+Hr[0])/2,Tr=(Hr[3]+Hr[1])/2;let Lr,_r,wr,Fr;switch(nn%=360,nn<0&&(nn+=360),nn){case 180:Lr=-1,_r=0,wr=0,Fr=1;break;case 90:Lr=0,_r=1,wr=1,Fr=0;break;case 270:Lr=0,_r=-1,wr=-1,Fr=0;break;case 0:Lr=1,_r=0,wr=0,Fr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Er&&(wr=-wr,Fr=-Fr);let Nr,Br,Ur,Zr;Lr===0?(Nr=Math.abs(Tr-Hr[1])*Yr+Qr,Br=Math.abs(Dr-Hr[0])*Yr+Or,Ur=Math.abs(Hr[3]-Hr[1])*Yr,Zr=Math.abs(Hr[2]-Hr[0])*Yr):(Nr=Math.abs(Dr-Hr[0])*Yr+Qr,Br=Math.abs(Tr-Hr[1])*Yr+Or,Ur=Math.abs(Hr[2]-Hr[0])*Yr,Zr=Math.abs(Hr[3]-Hr[1])*Yr),this.transform=[Lr*Yr,_r*Yr,wr*Yr,Fr*Yr,Nr-Lr*Yr*Dr-wr*Yr*Tr,Br-_r*Yr*Dr-Fr*Yr*Tr],this.width=Ur,this.height=Zr}clone({scale:Hr=this.scale,rotation:Yr=this.rotation,offsetX:nn=this.offsetX,offsetY:Qr=this.offsetY,dontFlip:Or=!1}={}){return new sr({viewBox:this.viewBox.slice(),scale:Hr,rotation:Yr,offsetX:nn,offsetY:Qr,dontFlip:Or})}convertToViewportPoint(Hr,Yr){return nr.Util.applyTransform([Hr,Yr],this.transform)}convertToViewportRectangle(Hr){const Yr=nr.Util.applyTransform([Hr[0],Hr[1]],this.transform),nn=nr.Util.applyTransform([Hr[2],Hr[3]],this.transform);return[Yr[0],Yr[1],nn[0],nn[1]]}convertToPdfPoint(Hr,Yr){return nr.Util.applyInverseTransform([Hr,Yr],this.transform)}}er.PageViewport=sr;class hr extends nr.BaseException{constructor(Hr,Yr){super(Hr,"RenderingCancelledException"),this.type=Yr}}er.RenderingCancelledException=hr;function gr(zr){const Hr=zr.length;let Yr=0;for(;Yr<Hr&&zr[Yr].trim()==="";)Yr++;return zr.substring(Yr,Yr+5).toLowerCase()==="data:"}function pr(zr){return typeof zr=="string"&&/\.pdf$/i.test(zr)}function mr(zr){const Hr=zr.indexOf("#"),Yr=zr.indexOf("?"),nn=Math.min(Hr>0?Hr:zr.length,Yr>0?Yr:zr.length);return zr.substring(zr.lastIndexOf("/",nn)+1,nn)}function vr(zr,Hr="document.pdf"){if(typeof zr!="string")return Hr;if(gr(zr))return(0,nr.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Hr;const Yr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,nn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Qr=Yr.exec(zr);let Or=nn.exec(Qr[1])||nn.exec(Qr[2])||nn.exec(Qr[3]);if(Or&&(Or=Or[0],Or.includes("%")))try{Or=nn.exec(decodeURIComponent(Or))[0]}catch{}return Or||Hr}class yr{constructor(){this.started=Object.create(null),this.times=[]}time(Hr){Hr in this.started&&(0,nr.warn)(`Timer is already running for ${Hr}`),this.started[Hr]=Date.now()}timeEnd(Hr){Hr in this.started||(0,nr.warn)(`Timer has not been started for ${Hr}`),this.times.push({name:Hr,start:this.started[Hr],end:Date.now()}),delete this.started[Hr]}toString(){const Hr=[];let Yr=0;for(const nn of this.times){const Qr=nn.name;Qr.length>Yr&&(Yr=Qr.length)}for(const nn of this.times){const Qr=nn.end-nn.start;Hr.push(`${nn.name.padEnd(Yr)} ${Qr}ms
`)}return Hr.join("")}}er.StatTimer=yr;function br(zr,Hr){try{const{protocol:Yr}=Hr?new URL(zr,Hr):new URL(zr);return Yr==="http:"||Yr==="https:"}catch{return!1}}function xr(zr,Hr=!1){return new Promise((Yr,nn)=>{const Qr=document.createElement("script");Qr.src=zr,Qr.onload=function(Or){Hr&&Qr.remove(),Yr(Or)},Qr.onerror=function(){nn(new Error(`Cannot load script at: ${Qr.src}`))},(document.head||document.documentElement).append(Qr)})}function Cr(zr){console.log("Deprecated API usage: "+zr)}let kr;class Pr{static toDateObject(Hr){if(!Hr||typeof Hr!="string")return null;kr||(kr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Yr=kr.exec(Hr);if(!Yr)return null;const nn=parseInt(Yr[1],10);let Qr=parseInt(Yr[2],10);Qr=Qr>=1&&Qr<=12?Qr-1:0;let Or=parseInt(Yr[3],10);Or=Or>=1&&Or<=31?Or:1;let Er=parseInt(Yr[4],10);Er=Er>=0&&Er<=23?Er:0;let Dr=parseInt(Yr[5],10);Dr=Dr>=0&&Dr<=59?Dr:0;let Tr=parseInt(Yr[6],10);Tr=Tr>=0&&Tr<=59?Tr:0;const Lr=Yr[7]||"Z";let _r=parseInt(Yr[8],10);_r=_r>=0&&_r<=23?_r:0;let wr=parseInt(Yr[9],10)||0;return wr=wr>=0&&wr<=59?wr:0,Lr==="-"?(Er+=_r,Dr+=wr):Lr==="+"&&(Er-=_r,Dr-=wr),new Date(Date.UTC(nn,Qr,Or,Er,Dr,Tr))}}er.PDFDateString=Pr;function $r(zr,{scale:Hr=1,rotation:Yr=0}){const{width:nn,height:Qr}=zr.attributes.style,Or=[0,0,parseInt(nn),parseInt(Qr)];return new sr({viewBox:Or,scale:Hr,rotation:Yr})}function Kr(zr){if(zr.startsWith("#")){const Hr=parseInt(zr.slice(1),16);return[(Hr&16711680)>>16,(Hr&65280)>>8,Hr&255]}return zr.startsWith("rgb(")?zr.slice(4,-1).split(",").map(Hr=>parseInt(Hr)):zr.startsWith("rgba(")?zr.slice(5,-1).split(",").map(Hr=>parseInt(Hr)).slice(0,3):((0,nr.warn)(`Not a valid color format: "${zr}"`),[0,0,0])}function Ir(zr){const Hr=document.createElement("span");Hr.style.visibility="hidden",document.body.append(Hr);for(const Yr of zr.keys()){Hr.style.color=Yr;const nn=window.getComputedStyle(Hr).color;zr.set(Yr,Kr(nn))}Hr.remove()}function jr(zr){const{a:Hr,b:Yr,c:nn,d:Qr,e:Or,f:Er}=zr.getTransform();return[Hr,Yr,nn,Qr,Or,Er]}function Jr(zr){const{a:Hr,b:Yr,c:nn,d:Qr,e:Or,f:Er}=zr.getTransform().invertSelf();return[Hr,Yr,nn,Qr,Or,Er]}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.BaseStandardFontDataFactory=er.BaseSVGFactory=er.BaseCanvasFactory=er.BaseCMapReaderFactory=void 0;var rr=tr(1);class nr{constructor(){this.constructor===nr&&(0,rr.unreachable)("Cannot initialize BaseCanvasFactory.")}create(lr,fr){if(lr<=0||fr<=0)throw new Error("Invalid canvas size");const cr=this._createCanvas(lr,fr);return{canvas:cr,context:cr.getContext("2d")}}reset(lr,fr,cr){if(!lr.canvas)throw new Error("Canvas is not specified");if(fr<=0||cr<=0)throw new Error("Invalid canvas size");lr.canvas.width=fr,lr.canvas.height=cr}destroy(lr){if(!lr.canvas)throw new Error("Canvas is not specified");lr.canvas.width=0,lr.canvas.height=0,lr.canvas=null,lr.context=null}_createCanvas(lr,fr){(0,rr.unreachable)("Abstract method `_createCanvas` called.")}}er.BaseCanvasFactory=nr;class ar{constructor({baseUrl:lr=null,isCompressed:fr=!1}){this.constructor===ar&&(0,rr.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=lr,this.isCompressed=fr}async fetch({name:lr}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!lr)throw new Error("CMap name must be specified.");const fr=this.baseUrl+lr+(this.isCompressed?".bcmap":""),cr=this.isCompressed?rr.CMapCompressionType.BINARY:rr.CMapCompressionType.NONE;return this._fetchData(fr,cr).catch(ur=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${fr}`)})}_fetchData(lr,fr){(0,rr.unreachable)("Abstract method `_fetchData` called.")}}er.BaseCMapReaderFactory=ar;class dr{constructor({baseUrl:lr=null}){this.constructor===dr&&(0,rr.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=lr}async fetch({filename:lr}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!lr)throw new Error("Font filename must be specified.");const fr=`${this.baseUrl}${lr}`;return this._fetchData(fr).catch(cr=>{throw new Error(`Unable to load font data at: ${fr}`)})}_fetchData(lr){(0,rr.unreachable)("Abstract method `_fetchData` called.")}}er.BaseStandardFontDataFactory=dr;class or{constructor(){this.constructor===or&&(0,rr.unreachable)("Cannot initialize BaseSVGFactory.")}create(lr,fr,cr=!1){if(lr<=0||fr<=0)throw new Error("Invalid SVG dimensions");const ur=this._createSVG("svg:svg");return ur.setAttribute("version","1.1"),cr||(ur.setAttribute("width",`${lr}px`),ur.setAttribute("height",`${fr}px`)),ur.setAttribute("preserveAspectRatio","none"),ur.setAttribute("viewBox",`0 0 ${lr} ${fr}`),ur}createElement(lr){if(typeof lr!="string")throw new Error("Invalid SVG element type");return this._createSVG(lr)}_createSVG(lr){(0,rr.unreachable)("Abstract method `_createSVG` called.")}}er.BaseSVGFactory=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.MurmurHash3_64=void 0;var rr=tr(1);const nr=3285377520,ar=4294901760,dr=65535;class or{constructor(lr){this.h1=lr?lr&4294967295:nr,this.h2=lr?lr&4294967295:nr}update(lr){let fr,cr;if(typeof lr=="string"){fr=new Uint8Array(lr.length*2),cr=0;for(let kr=0,Pr=lr.length;kr<Pr;kr++){const $r=lr.charCodeAt(kr);$r<=255?fr[cr++]=$r:(fr[cr++]=$r>>>8,fr[cr++]=$r&255)}}else if((0,rr.isArrayBuffer)(lr))fr=lr.slice(),cr=fr.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ur=cr>>2,sr=cr-ur*4,hr=new Uint32Array(fr.buffer,0,ur);let gr=0,pr=0,mr=this.h1,vr=this.h2;const yr=3432918353,br=461845907,xr=yr&dr,Cr=br&dr;for(let kr=0;kr<ur;kr++)kr&1?(gr=hr[kr],gr=gr*yr&ar|gr*xr&dr,gr=gr<<15|gr>>>17,gr=gr*br&ar|gr*Cr&dr,mr^=gr,mr=mr<<13|mr>>>19,mr=mr*5+3864292196):(pr=hr[kr],pr=pr*yr&ar|pr*xr&dr,pr=pr<<15|pr>>>17,pr=pr*br&ar|pr*Cr&dr,vr^=pr,vr=vr<<13|vr>>>19,vr=vr*5+3864292196);switch(gr=0,sr){case 3:gr^=fr[ur*4+2]<<16;case 2:gr^=fr[ur*4+1]<<8;case 1:gr^=fr[ur*4],gr=gr*yr&ar|gr*xr&dr,gr=gr<<15|gr>>>17,gr=gr*br&ar|gr*Cr&dr,ur&1?mr^=gr:vr^=gr}this.h1=mr,this.h2=vr}hexdigest(){let lr=this.h1,fr=this.h2;lr^=fr>>>1,lr=lr*3981806797&ar|lr*36045&dr,fr=fr*4283543511&ar|((fr<<16|lr>>>16)*2950163797&ar)>>>16,lr^=fr>>>1,lr=lr*444984403&ar|lr*60499&dr,fr=fr*3301882366&ar|((fr<<16|lr>>>16)*3120437893&ar)>>>16,lr^=fr>>>1;const cr=(lr>>>0).toString(16),ur=(fr>>>0).toString(16);return cr.padStart(8,"0")+ur.padStart(8,"0")}}er.MurmurHash3_64=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.FontLoader=er.FontFaceObject=void 0;var rr=tr(1);class nr{constructor({onUnsupportedFeature:or,ownerDocument:ir=globalThis.document,styleElement:lr=null}){this._onUnsupportedFeature=or,this._document=ir,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(or){this.nativeFontFaces.push(or),this._document.fonts.add(or)}insertRule(or){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ir=this.styleElement.sheet;ir.insertRule(or,ir.cssRules.length)}clear(){for(const or of this.nativeFontFaces)this._document.fonts.delete(or);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(or){if(or.attached||or.missingFile)return;if(or.attached=!0,this.isFontLoadingAPISupported){const lr=or.createNativeFontFace();if(lr){this.addNativeFontFace(lr);try{await lr.loaded}catch(fr){throw this._onUnsupportedFeature({featureId:rr.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,rr.warn)(`Failed to load font '${lr.family}': '${fr}'.`),or.disableFontFace=!0,fr}}return}const ir=or.createFontFaceRule();if(ir){if(this.insertRule(ir),this.isSyncFontLoadingSupported)return;await new Promise(lr=>{const fr=this._queueLoadingCallback(lr);this._prepareFontLoadEvent(or,fr)})}}get isFontLoadingAPISupported(){const or=!!this._document?.fonts;return(0,rr.shadow)(this,"isFontLoadingAPISupported",or)}get isSyncFontLoadingSupported(){let or=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(or=!0),(0,rr.shadow)(this,"isSyncFontLoadingSupported",or)}_queueLoadingCallback(or){function ir(){for((0,rr.assert)(!fr.done,"completeRequest() cannot be called twice."),fr.done=!0;lr.length>0&&lr[0].done;){const cr=lr.shift();setTimeout(cr.callback,0)}}const{loadingRequests:lr}=this,fr={done:!1,complete:ir,callback:or};return lr.push(fr),fr}get _loadTestFont(){const or=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,rr.shadow)(this,"_loadTestFont",or)}_prepareFontLoadEvent(or,ir){function lr(Kr,Ir){return Kr.charCodeAt(Ir)<<24|Kr.charCodeAt(Ir+1)<<16|Kr.charCodeAt(Ir+2)<<8|Kr.charCodeAt(Ir+3)&255}function fr(Kr,Ir,jr,Jr){const zr=Kr.substring(0,Ir),Hr=Kr.substring(Ir+jr);return zr+Jr+Hr}let cr,ur;const sr=this._document.createElement("canvas");sr.width=1,sr.height=1;const hr=sr.getContext("2d");let gr=0;function pr(Kr,Ir){if(++gr>30){(0,rr.warn)("Load test font never loaded."),Ir();return}if(hr.font="30px "+Kr,hr.fillText(".",0,20),hr.getImageData(0,0,1,1).data[3]>0){Ir();return}setTimeout(pr.bind(null,Kr,Ir))}const mr=`lt${Date.now()}${this.loadTestFontId++}`;let vr=this._loadTestFont;vr=fr(vr,976,mr.length,mr);const br=16,xr=1482184792;let Cr=lr(vr,br);for(cr=0,ur=mr.length-3;cr<ur;cr+=4)Cr=Cr-xr+lr(mr,cr)|0;cr<mr.length&&(Cr=Cr-xr+lr(mr+"XXX",cr)|0),vr=fr(vr,br,4,(0,rr.string32)(Cr));const kr=`url(data:font/opentype;base64,${btoa(vr)});`,Pr=`@font-face {font-family:"${mr}";src:${kr}}`;this.insertRule(Pr);const $r=this._document.createElement("div");$r.style.visibility="hidden",$r.style.width=$r.style.height="10px",$r.style.position="absolute",$r.style.top=$r.style.left="0px";for(const Kr of[or.loadedName,mr]){const Ir=this._document.createElement("span");Ir.textContent="Hi",Ir.style.fontFamily=Kr,$r.append(Ir)}this._document.body.append($r),pr(mr,()=>{$r.remove(),ir.complete()})}}er.FontLoader=nr;class ar{constructor(or,{isEvalSupported:ir=!0,disableFontFace:lr=!1,ignoreErrors:fr=!1,onUnsupportedFeature:cr,fontRegistry:ur=null}){this.compiledGlyphs=Object.create(null);for(const sr in or)this[sr]=or[sr];this.isEvalSupported=ir!==!1,this.disableFontFace=lr===!0,this.ignoreErrors=fr===!0,this._onUnsupportedFeature=cr,this.fontRegistry=ur}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let or;if(!this.cssFontInfo)or=new FontFace(this.loadedName,this.data,{});else{const ir={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ir.style=`oblique ${this.cssFontInfo.italicAngle}deg`),or=new FontFace(this.cssFontInfo.fontFamily,this.data,ir)}return this.fontRegistry?.registerFont(this),or}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const or=(0,rr.bytesToString)(this.data),ir=`url(data:${this.mimetype};base64,${btoa(or)});`;let lr;if(!this.cssFontInfo)lr=`@font-face {font-family:"${this.loadedName}";src:${ir}}`;else{let fr=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(fr+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),lr=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${fr}src:${ir}}`}return this.fontRegistry?.registerFont(this,ir),lr}getPathGenerator(or,ir){if(this.compiledGlyphs[ir]!==void 0)return this.compiledGlyphs[ir];let lr;try{lr=or.get(this.loadedName+"_path_"+ir)}catch(fr){if(!this.ignoreErrors)throw fr;return this._onUnsupportedFeature({featureId:rr.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,rr.warn)(`getPathGenerator - ignoring character: "${fr}".`),this.compiledGlyphs[ir]=function(cr,ur){}}if(this.isEvalSupported&&rr.FeatureTest.isEvalSupported){const fr=[];for(const cr of lr){const ur=cr.args!==void 0?cr.args.join(","):"";fr.push("c.",cr.cmd,"(",ur,`);
`)}return this.compiledGlyphs[ir]=new Function("c","size",fr.join(""))}return this.compiledGlyphs[ir]=function(fr,cr){for(const ur of lr)ur.cmd==="scale"&&(ur.args=[cr,-cr]),fr[ur.cmd].apply(fr,ur.args)}}}er.FontFaceObject=ar},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.CanvasGraphics=void 0;var rr=tr(1),nr=tr(6),ar=tr(11),dr=tr(13),or=tr(12);const ir=16,lr=100,fr=4096,cr=15,ur=10,sr=or.isNodeJS&&typeof Path2D>"u"?-1:1e3,hr=16;function gr(Or,Er){if(Or._removeMirroring)throw new Error("Context is already forwarding operations.");Or.__originalSave=Or.save,Or.__originalRestore=Or.restore,Or.__originalRotate=Or.rotate,Or.__originalScale=Or.scale,Or.__originalTranslate=Or.translate,Or.__originalTransform=Or.transform,Or.__originalSetTransform=Or.setTransform,Or.__originalResetTransform=Or.resetTransform,Or.__originalClip=Or.clip,Or.__originalMoveTo=Or.moveTo,Or.__originalLineTo=Or.lineTo,Or.__originalBezierCurveTo=Or.bezierCurveTo,Or.__originalRect=Or.rect,Or.__originalClosePath=Or.closePath,Or.__originalBeginPath=Or.beginPath,Or._removeMirroring=()=>{Or.save=Or.__originalSave,Or.restore=Or.__originalRestore,Or.rotate=Or.__originalRotate,Or.scale=Or.__originalScale,Or.translate=Or.__originalTranslate,Or.transform=Or.__originalTransform,Or.setTransform=Or.__originalSetTransform,Or.resetTransform=Or.__originalResetTransform,Or.clip=Or.__originalClip,Or.moveTo=Or.__originalMoveTo,Or.lineTo=Or.__originalLineTo,Or.bezierCurveTo=Or.__originalBezierCurveTo,Or.rect=Or.__originalRect,Or.closePath=Or.__originalClosePath,Or.beginPath=Or.__originalBeginPath,delete Or._removeMirroring},Or.save=function(){Er.save(),this.__originalSave()},Or.restore=function(){Er.restore(),this.__originalRestore()},Or.translate=function(Tr,Lr){Er.translate(Tr,Lr),this.__originalTranslate(Tr,Lr)},Or.scale=function(Tr,Lr){Er.scale(Tr,Lr),this.__originalScale(Tr,Lr)},Or.transform=function(Tr,Lr,_r,wr,Fr,Nr){Er.transform(Tr,Lr,_r,wr,Fr,Nr),this.__originalTransform(Tr,Lr,_r,wr,Fr,Nr)},Or.setTransform=function(Tr,Lr,_r,wr,Fr,Nr){Er.setTransform(Tr,Lr,_r,wr,Fr,Nr),this.__originalSetTransform(Tr,Lr,_r,wr,Fr,Nr)},Or.resetTransform=function(){Er.resetTransform(),this.__originalResetTransform()},Or.rotate=function(Tr){Er.rotate(Tr),this.__originalRotate(Tr)},Or.clip=function(Tr){Er.clip(Tr),this.__originalClip(Tr)},Or.moveTo=function(Dr,Tr){Er.moveTo(Dr,Tr),this.__originalMoveTo(Dr,Tr)},Or.lineTo=function(Dr,Tr){Er.lineTo(Dr,Tr),this.__originalLineTo(Dr,Tr)},Or.bezierCurveTo=function(Dr,Tr,Lr,_r,wr,Fr){Er.bezierCurveTo(Dr,Tr,Lr,_r,wr,Fr),this.__originalBezierCurveTo(Dr,Tr,Lr,_r,wr,Fr)},Or.rect=function(Dr,Tr,Lr,_r){Er.rect(Dr,Tr,Lr,_r),this.__originalRect(Dr,Tr,Lr,_r)},Or.closePath=function(){Er.closePath(),this.__originalClosePath()},Or.beginPath=function(){Er.beginPath(),this.__originalBeginPath()}}class pr{constructor(Er){this.canvasFactory=Er,this.cache=Object.create(null)}getCanvas(Er,Dr,Tr){let Lr;return this.cache[Er]!==void 0?(Lr=this.cache[Er],this.canvasFactory.reset(Lr,Dr,Tr)):(Lr=this.canvasFactory.create(Dr,Tr),this.cache[Er]=Lr),Lr}delete(Er){delete this.cache[Er]}clear(){for(const Er in this.cache){const Dr=this.cache[Er];this.canvasFactory.destroy(Dr),delete this.cache[Er]}}}function mr(Or,Er,Dr,Tr,Lr,_r,wr,Fr,Nr,Br){const[Ur,Zr,an,qr,Gr,Xr]=(0,nr.getCurrentTransform)(Or);if(Zr===0&&an===0){const cn=wr*Ur+Gr,fn=Math.round(cn),gn=Fr*qr+Xr,wn=Math.round(gn),yn=(wr+Nr)*Ur+Gr,vn=Math.abs(Math.round(yn)-fn)||1,Ln=(Fr+Br)*qr+Xr,bn=Math.abs(Math.round(Ln)-wn)||1;return Or.setTransform(Math.sign(Ur),0,0,Math.sign(qr),fn,wn),Or.drawImage(Er,Dr,Tr,Lr,_r,0,0,vn,bn),Or.setTransform(Ur,Zr,an,qr,Gr,Xr),[vn,bn]}if(Ur===0&&qr===0){const cn=Fr*an+Gr,fn=Math.round(cn),gn=wr*Zr+Xr,wn=Math.round(gn),yn=(Fr+Br)*an+Gr,vn=Math.abs(Math.round(yn)-fn)||1,Ln=(wr+Nr)*Zr+Xr,bn=Math.abs(Math.round(Ln)-wn)||1;return Or.setTransform(0,Math.sign(Zr),Math.sign(an),0,fn,wn),Or.drawImage(Er,Dr,Tr,Lr,_r,0,0,bn,vn),Or.setTransform(Ur,Zr,an,qr,Gr,Xr),[bn,vn]}Or.drawImage(Er,Dr,Tr,Lr,_r,wr,Fr,Nr,Br);const en=Math.hypot(Ur,Zr),Wr=Math.hypot(an,qr);return[en*Nr,Wr*Br]}function vr(Or){const{width:Er,height:Dr}=Or;if(Er>sr||Dr>sr)return null;const Tr=1e3,Lr=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),_r=Er+1;let wr=new Uint8Array(_r*(Dr+1)),Fr,Nr,Br;const Ur=Er+7&-8;let Zr=new Uint8Array(Ur*Dr),an=0;for(const Wr of Or.data){let cn=128;for(;cn>0;)Zr[an++]=Wr&cn?0:255,cn>>=1}let qr=0;for(an=0,Zr[an]!==0&&(wr[0]=1,++qr),Nr=1;Nr<Er;Nr++)Zr[an]!==Zr[an+1]&&(wr[Nr]=Zr[an]?2:1,++qr),an++;for(Zr[an]!==0&&(wr[Nr]=2,++qr),Fr=1;Fr<Dr;Fr++){an=Fr*Ur,Br=Fr*_r,Zr[an-Ur]!==Zr[an]&&(wr[Br]=Zr[an]?1:8,++qr);let Wr=(Zr[an]?4:0)+(Zr[an-Ur]?8:0);for(Nr=1;Nr<Er;Nr++)Wr=(Wr>>2)+(Zr[an+1]?4:0)+(Zr[an-Ur+1]?8:0),Lr[Wr]&&(wr[Br+Nr]=Lr[Wr],++qr),an++;if(Zr[an-Ur]!==Zr[an]&&(wr[Br+Nr]=Zr[an]?2:4,++qr),qr>Tr)return null}for(an=Ur*(Dr-1),Br=Fr*_r,Zr[an]!==0&&(wr[Br]=8,++qr),Nr=1;Nr<Er;Nr++)Zr[an]!==Zr[an+1]&&(wr[Br+Nr]=Zr[an]?4:8,++qr),an++;if(Zr[an]!==0&&(wr[Br+Nr]=4,++qr),qr>Tr)return null;const Gr=new Int32Array([0,_r,-1,0,-_r,0,0,0,1]),Xr=new Path2D;for(Fr=0;qr&&Fr<=Dr;Fr++){let Wr=Fr*_r;const cn=Wr+Er;for(;Wr<cn&&!wr[Wr];)Wr++;if(Wr===cn)continue;Xr.moveTo(Wr%_r,Fr);const fn=Wr;let gn=wr[Wr];do{const wn=Gr[gn];do Wr+=wn;while(!wr[Wr]);const yn=wr[Wr];yn!==5&&yn!==10?(gn=yn,wr[Wr]=0):(gn=yn&51*gn>>4,wr[Wr]&=gn>>2|gn<<2),Xr.lineTo(Wr%_r,Wr/_r|0),wr[Wr]||--qr}while(fn!==Wr);--Fr}return Zr=null,wr=null,function(Wr){Wr.save(),Wr.scale(1/Er,-1/Dr),Wr.translate(0,-Dr),Wr.fill(Xr),Wr.beginPath(),Wr.restore()}}class yr{constructor(Er,Dr){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=rr.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=rr.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=rr.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Er,Dr])}clone(){const Er=Object.create(this);return Er.clipBox=this.clipBox.slice(),Er}setCurrentPoint(Er,Dr){this.x=Er,this.y=Dr}updatePathMinMax(Er,Dr,Tr){[Dr,Tr]=rr.Util.applyTransform([Dr,Tr],Er),this.minX=Math.min(this.minX,Dr),this.minY=Math.min(this.minY,Tr),this.maxX=Math.max(this.maxX,Dr),this.maxY=Math.max(this.maxY,Tr)}updateRectMinMax(Er,Dr){const Tr=rr.Util.applyTransform(Dr,Er),Lr=rr.Util.applyTransform(Dr.slice(2),Er);this.minX=Math.min(this.minX,Tr[0],Lr[0]),this.minY=Math.min(this.minY,Tr[1],Lr[1]),this.maxX=Math.max(this.maxX,Tr[0],Lr[0]),this.maxY=Math.max(this.maxY,Tr[1],Lr[1])}updateScalingPathMinMax(Er,Dr){rr.Util.scaleMinMax(Er,Dr),this.minX=Math.min(this.minX,Dr[0]),this.maxX=Math.max(this.maxX,Dr[1]),this.minY=Math.min(this.minY,Dr[2]),this.maxY=Math.max(this.maxY,Dr[3])}updateCurvePathMinMax(Er,Dr,Tr,Lr,_r,wr,Fr,Nr,Br,Ur){const Zr=rr.Util.bezierBoundingBox(Dr,Tr,Lr,_r,wr,Fr,Nr,Br);if(Ur){Ur[0]=Math.min(Ur[0],Zr[0],Zr[2]),Ur[1]=Math.max(Ur[1],Zr[0],Zr[2]),Ur[2]=Math.min(Ur[2],Zr[1],Zr[3]),Ur[3]=Math.max(Ur[3],Zr[1],Zr[3]);return}this.updateRectMinMax(Er,Zr)}getPathBoundingBox(Er=ar.PathType.FILL,Dr=null){const Tr=[this.minX,this.minY,this.maxX,this.maxY];if(Er===ar.PathType.STROKE){Dr||(0,rr.unreachable)("Stroke bounding box must include transform.");const Lr=rr.Util.singularValueDecompose2dScale(Dr),_r=Lr[0]*this.lineWidth/2,wr=Lr[1]*this.lineWidth/2;Tr[0]-=_r,Tr[1]-=wr,Tr[2]+=_r,Tr[3]+=wr}return Tr}updateClipFromPath(){const Er=rr.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Er||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Er){this.clipBox=Er,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Er=ar.PathType.FILL,Dr=null){return rr.Util.intersect(this.clipBox,this.getPathBoundingBox(Er,Dr))}}function br(Or,Er,Dr=null){if(typeof ImageData<"u"&&Er instanceof ImageData){Or.putImageData(Er,0,0);return}const Tr=Er.height,Lr=Er.width,_r=Tr%hr,wr=(Tr-_r)/hr,Fr=_r===0?wr:wr+1,Nr=Or.createImageData(Lr,hr);let Br=0,Ur;const Zr=Er.data,an=Nr.data;let qr,Gr,Xr,en,Wr,cn,fn,gn;if(Dr)switch(Dr.length){case 1:Wr=Dr[0],cn=Dr[0],fn=Dr[0],gn=Dr[0];break;case 4:Wr=Dr[0],cn=Dr[1],fn=Dr[2],gn=Dr[3];break}if(Er.kind===rr.ImageKind.GRAYSCALE_1BPP){const wn=Zr.byteLength,yn=new Uint32Array(an.buffer,0,an.byteLength>>2),vn=yn.length,Ln=Lr+7>>3;let bn=4294967295,Mn=rr.FeatureTest.isLittleEndian?4278190080:255;for(gn&&gn[0]===255&&gn[255]===0&&([bn,Mn]=[Mn,bn]),qr=0;qr<Fr;qr++){for(Xr=qr<wr?hr:_r,Ur=0,Gr=0;Gr<Xr;Gr++){const Un=wn-Br;let Hn=0;const Yn=Un>Ln?Lr:Un*8-7,Gn=Yn&-8;let Qn=0,zn=0;for(;Hn<Gn;Hn+=8)zn=Zr[Br++],yn[Ur++]=zn&128?bn:Mn,yn[Ur++]=zn&64?bn:Mn,yn[Ur++]=zn&32?bn:Mn,yn[Ur++]=zn&16?bn:Mn,yn[Ur++]=zn&8?bn:Mn,yn[Ur++]=zn&4?bn:Mn,yn[Ur++]=zn&2?bn:Mn,yn[Ur++]=zn&1?bn:Mn;for(;Hn<Yn;Hn++)Qn===0&&(zn=Zr[Br++],Qn=128),yn[Ur++]=zn&Qn?bn:Mn,Qn>>=1}for(;Ur<vn;)yn[Ur++]=0;Or.putImageData(Nr,0,qr*hr)}}else if(Er.kind===rr.ImageKind.RGBA_32BPP){const wn=!!(Wr||cn||fn);for(Gr=0,en=Lr*hr*4,qr=0;qr<wr;qr++){if(an.set(Zr.subarray(Br,Br+en)),Br+=en,wn)for(let yn=0;yn<en;yn+=4)Wr&&(an[yn+0]=Wr[an[yn+0]]),cn&&(an[yn+1]=cn[an[yn+1]]),fn&&(an[yn+2]=fn[an[yn+2]]);Or.putImageData(Nr,0,Gr),Gr+=hr}if(qr<Fr){if(en=Lr*_r*4,an.set(Zr.subarray(Br,Br+en)),wn)for(let yn=0;yn<en;yn+=4)Wr&&(an[yn+0]=Wr[an[yn+0]]),cn&&(an[yn+1]=cn[an[yn+1]]),fn&&(an[yn+2]=fn[an[yn+2]]);Or.putImageData(Nr,0,Gr)}}else if(Er.kind===rr.ImageKind.RGB_24BPP){const wn=!!(Wr||cn||fn);for(Xr=hr,en=Lr*Xr,qr=0;qr<Fr;qr++){for(qr>=wr&&(Xr=_r,en=Lr*Xr),Ur=0,Gr=en;Gr--;)an[Ur++]=Zr[Br++],an[Ur++]=Zr[Br++],an[Ur++]=Zr[Br++],an[Ur++]=255;if(wn)for(let yn=0;yn<Ur;yn+=4)Wr&&(an[yn+0]=Wr[an[yn+0]]),cn&&(an[yn+1]=cn[an[yn+1]]),fn&&(an[yn+2]=fn[an[yn+2]]);Or.putImageData(Nr,0,qr*hr)}}else throw new Error(`bad image kind: ${Er.kind}`)}function xr(Or,Er){if(Er.bitmap){Or.drawImage(Er.bitmap,0,0);return}const Dr=Er.height,Tr=Er.width,Lr=Dr%hr,_r=(Dr-Lr)/hr,wr=Lr===0?_r:_r+1,Fr=Or.createImageData(Tr,hr);let Nr=0;const Br=Er.data,Ur=Fr.data;for(let Zr=0;Zr<wr;Zr++){const an=Zr<_r?hr:Lr;({srcPos:Nr}=(0,dr.applyMaskImageData)({src:Br,srcPos:Nr,dest:Ur,width:Tr,height:an})),Or.putImageData(Fr,0,Zr*hr)}}function Cr(Or,Er){const Dr=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Tr of Dr)Or[Tr]!==void 0&&(Er[Tr]=Or[Tr]);Or.setLineDash!==void 0&&(Er.setLineDash(Or.getLineDash()),Er.lineDashOffset=Or.lineDashOffset)}function kr(Or,Er){Or.strokeStyle=Or.fillStyle=Er||"#000000",Or.fillRule="nonzero",Or.globalAlpha=1,Or.lineWidth=1,Or.lineCap="butt",Or.lineJoin="miter",Or.miterLimit=10,Or.globalCompositeOperation="source-over",Or.font="10px sans-serif",Or.setLineDash!==void 0&&(Or.setLineDash([]),Or.lineDashOffset=0)}function Pr(Or,Er,Dr,Tr){const Lr=Or.length;for(let _r=3;_r<Lr;_r+=4){const wr=Or[_r];if(wr===0)Or[_r-3]=Er,Or[_r-2]=Dr,Or[_r-1]=Tr;else if(wr<255){const Fr=255-wr;Or[_r-3]=Or[_r-3]*wr+Er*Fr>>8,Or[_r-2]=Or[_r-2]*wr+Dr*Fr>>8,Or[_r-1]=Or[_r-1]*wr+Tr*Fr>>8}}}function $r(Or,Er,Dr){const Tr=Or.length,Lr=1/255;for(let _r=3;_r<Tr;_r+=4){const wr=Dr?Dr[Or[_r]]:Or[_r];Er[_r]=Er[_r]*wr*Lr|0}}function Kr(Or,Er,Dr){const Tr=Or.length;for(let Lr=3;Lr<Tr;Lr+=4){const _r=Or[Lr-3]*77+Or[Lr-2]*152+Or[Lr-1]*28;Er[Lr]=Dr?Er[Lr]*Dr[_r>>8]>>8:Er[Lr]*_r>>16}}function Ir(Or,Er,Dr,Tr,Lr,_r,wr,Fr,Nr,Br,Ur){const Zr=!!_r,an=Zr?_r[0]:0,qr=Zr?_r[1]:0,Gr=Zr?_r[2]:0;let Xr;Lr==="Luminosity"?Xr=Kr:Xr=$r;const Wr=Math.min(Tr,Math.ceil(1048576/Dr));for(let cn=0;cn<Tr;cn+=Wr){const fn=Math.min(Wr,Tr-cn),gn=Or.getImageData(Fr-Br,cn+(Nr-Ur),Dr,fn),wn=Er.getImageData(Fr,cn+Nr,Dr,fn);Zr&&Pr(gn.data,an,qr,Gr),Xr(gn.data,wn.data,wr),Er.putImageData(wn,Fr,cn+Nr)}}function jr(Or,Er,Dr,Tr){const Lr=Tr[0],_r=Tr[1],wr=Tr[2]-Lr,Fr=Tr[3]-_r;wr===0||Fr===0||(Ir(Er.context,Dr,wr,Fr,Er.subtype,Er.backdrop,Er.transferMap,Lr,_r,Er.offsetX,Er.offsetY),Or.save(),Or.globalAlpha=1,Or.globalCompositeOperation="source-over",Or.setTransform(1,0,0,1,0,0),Or.drawImage(Dr.canvas,0,0),Or.restore())}function Jr(Or,Er){const Dr=rr.Util.singularValueDecompose2dScale(Or);Dr[0]=Math.fround(Dr[0]),Dr[1]=Math.fround(Dr[1]);const Tr=Math.fround((globalThis.devicePixelRatio||1)*nr.PixelsPerInch.PDF_TO_CSS_UNITS);return Er!==void 0?Er:Dr[0]<=Tr||Dr[1]<=Tr}const zr=["butt","round","square"],Hr=["miter","round","bevel"],Yr={},nn={};class Qr{constructor(Er,Dr,Tr,Lr,_r,wr,Fr){this.ctx=Er,this.current=new yr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Dr,this.objs=Tr,this.canvasFactory=Lr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=_r,this.cachedCanvases=new pr(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=wr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=Fr?.background||null,this.foregroundColor=Fr?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Er,Dr=null){return typeof Er=="string"?Er.startsWith("g_")?this.commonObjs.get(Er):this.objs.get(Er):Dr}beginDrawing({transform:Er,viewport:Dr,transparency:Tr=!1,background:Lr=null}){const _r=this.ctx.canvas.width,wr=this.ctx.canvas.height,Fr=Lr||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Nr=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Br=this.backgroundColor=this.ctx.fillStyle;let Ur=!0,Zr=Fr;if(this.ctx.fillStyle=Fr,Zr=this.ctx.fillStyle,Ur=typeof Zr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Zr),Nr==="#000000"&&Br==="#ffffff"||Nr===Br||!Ur)this.foregroundColor=this.backgroundColor=null;else{const[an,qr,Gr]=(0,nr.getRGB)(Zr),Xr=Wr=>(Wr/=255,Wr<=.03928?Wr/12.92:((Wr+.055)/1.055)**2.4),en=Math.round(.2126*Xr(an)+.7152*Xr(qr)+.0722*Xr(Gr));this.selectColor=(Wr,cn,fn)=>{const gn=.2126*Xr(Wr)+.7152*Xr(cn)+.0722*Xr(fn);return Math.round(gn)===en?Br:Nr}}}if(this.ctx.fillStyle=this.backgroundColor||Fr,this.ctx.fillRect(0,0,_r,wr),this.ctx.restore(),Tr){const Nr=this.cachedCanvases.getCanvas("transparent",_r,wr);this.compositeCtx=this.ctx,this.transparentCanvas=Nr.canvas,this.ctx=Nr.context,this.ctx.save(),this.ctx.transform(...(0,nr.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),kr(this.ctx,this.foregroundColor),Er&&(this.ctx.transform(...Er),this.outputScaleX=Er[0],this.outputScaleY=Er[0]),this.ctx.transform(...Dr.transform),this.viewportScale=Dr.scale,this.baseTransform=(0,nr.getCurrentTransform)(this.ctx)}executeOperatorList(Er,Dr,Tr,Lr){const _r=Er.argsArray,wr=Er.fnArray;let Fr=Dr||0;const Nr=_r.length;if(Nr===Fr)return Fr;const Br=Nr-Fr>ur&&typeof Tr=="function",Ur=Br?Date.now()+cr:0;let Zr=0;const an=this.commonObjs,qr=this.objs;let Gr;for(;;){if(Lr!==void 0&&Fr===Lr.nextBreakPoint)return Lr.breakIt(Fr,Tr),Fr;if(Gr=wr[Fr],Gr!==rr.OPS.dependency)this[Gr].apply(this,_r[Fr]);else for(const Xr of _r[Fr]){const en=Xr.startsWith("g_")?an:qr;if(!en.has(Xr))return en.get(Xr,Tr),Fr}if(Fr++,Fr===Nr)return Fr;if(Br&&++Zr>ur){if(Date.now()>Ur)return Tr(),Fr;Zr=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Er of this._cachedBitmapsMap.values()){for(const Dr of Er.values())typeof HTMLCanvasElement<"u"&&Dr instanceof HTMLCanvasElement&&(Dr.width=Dr.height=0);Er.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Er,Dr){const Tr=Er.width,Lr=Er.height;let _r=Math.max(Math.hypot(Dr[0],Dr[1]),1),wr=Math.max(Math.hypot(Dr[2],Dr[3]),1),Fr=Tr,Nr=Lr,Br="prescale1",Ur,Zr;for(;_r>2&&Fr>1||wr>2&&Nr>1;){let an=Fr,qr=Nr;_r>2&&Fr>1&&(an=Math.ceil(Fr/2),_r/=Fr/an),wr>2&&Nr>1&&(qr=Math.ceil(Nr/2),wr/=Nr/qr),Ur=this.cachedCanvases.getCanvas(Br,an,qr),Zr=Ur.context,Zr.clearRect(0,0,an,qr),Zr.drawImage(Er,0,0,Fr,Nr,0,0,an,qr),Er=Ur.canvas,Fr=an,Nr=qr,Br=Br==="prescale1"?"prescale2":"prescale1"}return{img:Er,paintWidth:Fr,paintHeight:Nr}}_createMaskCanvas(Er){const Dr=this.ctx,{width:Tr,height:Lr}=Er,_r=this.current.fillColor,wr=this.current.patternFill,Fr=(0,nr.getCurrentTransform)(Dr);let Nr,Br,Ur,Zr;if((Er.bitmap||Er.data)&&Er.count>1){const vn=Er.bitmap||Er.data.buffer;Br=JSON.stringify(wr?Fr:[Fr.slice(0,4),_r]),Nr=this._cachedBitmapsMap.get(vn),Nr||(Nr=new Map,this._cachedBitmapsMap.set(vn,Nr));const Ln=Nr.get(Br);if(Ln&&!wr){const bn=Math.round(Math.min(Fr[0],Fr[2])+Fr[4]),Mn=Math.round(Math.min(Fr[1],Fr[3])+Fr[5]);return{canvas:Ln,offsetX:bn,offsetY:Mn}}Ur=Ln}Ur||(Zr=this.cachedCanvases.getCanvas("maskCanvas",Tr,Lr),xr(Zr.context,Er));let an=rr.Util.transform(Fr,[1/Tr,0,0,-1/Lr,0,0]);an=rr.Util.transform(an,[1,0,0,1,0,-Lr]);const qr=rr.Util.applyTransform([0,0],an),Gr=rr.Util.applyTransform([Tr,Lr],an),Xr=rr.Util.normalizeRect([qr[0],qr[1],Gr[0],Gr[1]]),en=Math.round(Xr[2]-Xr[0])||1,Wr=Math.round(Xr[3]-Xr[1])||1,cn=this.cachedCanvases.getCanvas("fillCanvas",en,Wr),fn=cn.context,gn=Math.min(qr[0],Gr[0]),wn=Math.min(qr[1],Gr[1]);fn.translate(-gn,-wn),fn.transform(...an),Ur||(Ur=this._scaleImage(Zr.canvas,(0,nr.getCurrentTransformInverse)(fn)),Ur=Ur.img,Nr&&wr&&Nr.set(Br,Ur)),fn.imageSmoothingEnabled=Jr((0,nr.getCurrentTransform)(fn),Er.interpolate),mr(fn,Ur,0,0,Ur.width,Ur.height,0,0,Tr,Lr),fn.globalCompositeOperation="source-in";const yn=rr.Util.transform((0,nr.getCurrentTransformInverse)(fn),[1,0,0,1,-gn,-wn]);return fn.fillStyle=wr?_r.getPattern(Dr,this,yn,ar.PathType.FILL):_r,fn.fillRect(0,0,Tr,Lr),Nr&&!wr&&(this.cachedCanvases.delete("fillCanvas"),Nr.set(Br,cn.canvas)),{canvas:cn.canvas,offsetX:Math.round(gn),offsetY:Math.round(wn)}}setLineWidth(Er){Er!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Er,this.ctx.lineWidth=Er}setLineCap(Er){this.ctx.lineCap=zr[Er]}setLineJoin(Er){this.ctx.lineJoin=Hr[Er]}setMiterLimit(Er){this.ctx.miterLimit=Er}setDash(Er,Dr){const Tr=this.ctx;Tr.setLineDash!==void 0&&(Tr.setLineDash(Er),Tr.lineDashOffset=Dr)}setRenderingIntent(Er){}setFlatness(Er){}setGState(Er){for(const[Dr,Tr]of Er)switch(Dr){case"LW":this.setLineWidth(Tr);break;case"LC":this.setLineCap(Tr);break;case"LJ":this.setLineJoin(Tr);break;case"ML":this.setMiterLimit(Tr);break;case"D":this.setDash(Tr[0],Tr[1]);break;case"RI":this.setRenderingIntent(Tr);break;case"FL":this.setFlatness(Tr);break;case"Font":this.setFont(Tr[0],Tr[1]);break;case"CA":this.current.strokeAlpha=Tr;break;case"ca":this.current.fillAlpha=Tr,this.ctx.globalAlpha=Tr;break;case"BM":this.ctx.globalCompositeOperation=Tr;break;case"SMask":this.current.activeSMask=Tr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Tr}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Er=this.inSMaskMode;this.current.activeSMask&&!Er?this.beginSMaskMode():!this.current.activeSMask&&Er&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Er=this.ctx.canvas.width,Dr=this.ctx.canvas.height,Tr="smaskGroupAt"+this.groupLevel,Lr=this.cachedCanvases.getCanvas(Tr,Er,Dr);this.suspendedCtx=this.ctx,this.ctx=Lr.context;const _r=this.ctx;_r.setTransform(...(0,nr.getCurrentTransform)(this.suspendedCtx)),Cr(this.suspendedCtx,_r),gr(_r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Cr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Er){if(!this.current.activeSMask)return;Er?(Er[0]=Math.floor(Er[0]),Er[1]=Math.floor(Er[1]),Er[2]=Math.ceil(Er[2]),Er[3]=Math.ceil(Er[3])):Er=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Dr=this.current.activeSMask,Tr=this.suspendedCtx;jr(Tr,Dr,this.ctx,Er),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Cr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Er=this.current;this.stateStack.push(Er),this.current=Er.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Cr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Er,Dr,Tr,Lr,_r,wr){this.ctx.transform(Er,Dr,Tr,Lr,_r,wr),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Er,Dr,Tr){const Lr=this.ctx,_r=this.current;let wr=_r.x,Fr=_r.y,Nr,Br;const Ur=(0,nr.getCurrentTransform)(Lr),Zr=Ur[0]===0&&Ur[3]===0||Ur[1]===0&&Ur[2]===0,an=Zr?Tr.slice(0):null;for(let qr=0,Gr=0,Xr=Er.length;qr<Xr;qr++)switch(Er[qr]|0){case rr.OPS.rectangle:wr=Dr[Gr++],Fr=Dr[Gr++];const en=Dr[Gr++],Wr=Dr[Gr++],cn=wr+en,fn=Fr+Wr;Lr.moveTo(wr,Fr),en===0||Wr===0?Lr.lineTo(cn,fn):(Lr.lineTo(cn,Fr),Lr.lineTo(cn,fn),Lr.lineTo(wr,fn)),Zr||_r.updateRectMinMax(Ur,[wr,Fr,cn,fn]),Lr.closePath();break;case rr.OPS.moveTo:wr=Dr[Gr++],Fr=Dr[Gr++],Lr.moveTo(wr,Fr),Zr||_r.updatePathMinMax(Ur,wr,Fr);break;case rr.OPS.lineTo:wr=Dr[Gr++],Fr=Dr[Gr++],Lr.lineTo(wr,Fr),Zr||_r.updatePathMinMax(Ur,wr,Fr);break;case rr.OPS.curveTo:Nr=wr,Br=Fr,wr=Dr[Gr+4],Fr=Dr[Gr+5],Lr.bezierCurveTo(Dr[Gr],Dr[Gr+1],Dr[Gr+2],Dr[Gr+3],wr,Fr),_r.updateCurvePathMinMax(Ur,Nr,Br,Dr[Gr],Dr[Gr+1],Dr[Gr+2],Dr[Gr+3],wr,Fr,an),Gr+=6;break;case rr.OPS.curveTo2:Nr=wr,Br=Fr,Lr.bezierCurveTo(wr,Fr,Dr[Gr],Dr[Gr+1],Dr[Gr+2],Dr[Gr+3]),_r.updateCurvePathMinMax(Ur,Nr,Br,wr,Fr,Dr[Gr],Dr[Gr+1],Dr[Gr+2],Dr[Gr+3],an),wr=Dr[Gr+2],Fr=Dr[Gr+3],Gr+=4;break;case rr.OPS.curveTo3:Nr=wr,Br=Fr,wr=Dr[Gr+2],Fr=Dr[Gr+3],Lr.bezierCurveTo(Dr[Gr],Dr[Gr+1],wr,Fr,wr,Fr),_r.updateCurvePathMinMax(Ur,Nr,Br,Dr[Gr],Dr[Gr+1],wr,Fr,wr,Fr,an),Gr+=4;break;case rr.OPS.closePath:Lr.closePath();break}Zr&&_r.updateScalingPathMinMax(Ur,an),_r.setCurrentPoint(wr,Fr)}closePath(){this.ctx.closePath()}stroke(Er){Er=typeof Er<"u"?Er:!0;const Dr=this.ctx,Tr=this.current.strokeColor;Dr.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Tr=="object"&&Tr?.getPattern?(Dr.save(),Dr.strokeStyle=Tr.getPattern(Dr,this,(0,nr.getCurrentTransformInverse)(Dr),ar.PathType.STROKE),this.rescaleAndStroke(!1),Dr.restore()):this.rescaleAndStroke(!0)),Er&&this.consumePath(this.current.getClippedPathBoundingBox()),Dr.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Er){Er=typeof Er<"u"?Er:!0;const Dr=this.ctx,Tr=this.current.fillColor,Lr=this.current.patternFill;let _r=!1;Lr&&(Dr.save(),Dr.fillStyle=Tr.getPattern(Dr,this,(0,nr.getCurrentTransformInverse)(Dr),ar.PathType.FILL),_r=!0);const wr=this.current.getClippedPathBoundingBox();this.contentVisible&&wr!==null&&(this.pendingEOFill?(Dr.fill("evenodd"),this.pendingEOFill=!1):Dr.fill()),_r&&Dr.restore(),Er&&this.consumePath(wr)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Yr}eoClip(){this.pendingClip=nn}beginText(){this.current.textMatrix=rr.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Er=this.pendingTextPaths,Dr=this.ctx;if(Er===void 0){Dr.beginPath();return}Dr.save(),Dr.beginPath();for(const Tr of Er)Dr.setTransform(...Tr.transform),Dr.translate(Tr.x,Tr.y),Tr.addToPath(Dr,Tr.fontSize);Dr.restore(),Dr.clip(),Dr.beginPath(),delete this.pendingTextPaths}setCharSpacing(Er){this.current.charSpacing=Er}setWordSpacing(Er){this.current.wordSpacing=Er}setHScale(Er){this.current.textHScale=Er/100}setLeading(Er){this.current.leading=-Er}setFont(Er,Dr){const Tr=this.commonObjs.get(Er),Lr=this.current;if(!Tr)throw new Error(`Can't find font for ${Er}`);if(Lr.fontMatrix=Tr.fontMatrix||rr.FONT_IDENTITY_MATRIX,(Lr.fontMatrix[0]===0||Lr.fontMatrix[3]===0)&&(0,rr.warn)("Invalid font matrix for font "+Er),Dr<0?(Dr=-Dr,Lr.fontDirection=-1):Lr.fontDirection=1,this.current.font=Tr,this.current.fontSize=Dr,Tr.isType3Font)return;const _r=Tr.loadedName||"sans-serif";let wr="normal";Tr.black?wr="900":Tr.bold&&(wr="bold");const Fr=Tr.italic?"italic":"normal",Nr=`"${_r}", ${Tr.fallbackName}`;let Br=Dr;Dr<ir?Br=ir:Dr>lr&&(Br=lr),this.current.fontSizeScale=Dr/Br,this.ctx.font=`${Fr} ${wr} ${Br}px ${Nr}`}setTextRenderingMode(Er){this.current.textRenderingMode=Er}setTextRise(Er){this.current.textRise=Er}moveText(Er,Dr){this.current.x=this.current.lineX+=Er,this.current.y=this.current.lineY+=Dr}setLeadingMoveText(Er,Dr){this.setLeading(-Dr),this.moveText(Er,Dr)}setTextMatrix(Er,Dr,Tr,Lr,_r,wr){this.current.textMatrix=[Er,Dr,Tr,Lr,_r,wr],this.current.textMatrixScale=Math.hypot(Er,Dr),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Er,Dr,Tr,Lr){const _r=this.ctx,wr=this.current,Fr=wr.font,Nr=wr.textRenderingMode,Br=wr.fontSize/wr.fontSizeScale,Ur=Nr&rr.TextRenderingMode.FILL_STROKE_MASK,Zr=!!(Nr&rr.TextRenderingMode.ADD_TO_PATH_FLAG),an=wr.patternFill&&!Fr.missingFile;let qr;(Fr.disableFontFace||Zr||an)&&(qr=Fr.getPathGenerator(this.commonObjs,Er)),Fr.disableFontFace||an?(_r.save(),_r.translate(Dr,Tr),_r.beginPath(),qr(_r,Br),Lr&&_r.setTransform(...Lr),(Ur===rr.TextRenderingMode.FILL||Ur===rr.TextRenderingMode.FILL_STROKE)&&_r.fill(),(Ur===rr.TextRenderingMode.STROKE||Ur===rr.TextRenderingMode.FILL_STROKE)&&_r.stroke(),_r.restore()):((Ur===rr.TextRenderingMode.FILL||Ur===rr.TextRenderingMode.FILL_STROKE)&&_r.fillText(Er,Dr,Tr),(Ur===rr.TextRenderingMode.STROKE||Ur===rr.TextRenderingMode.FILL_STROKE)&&_r.strokeText(Er,Dr,Tr)),Zr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,nr.getCurrentTransform)(_r),x:Dr,y:Tr,fontSize:Br,addToPath:qr})}get isFontSubpixelAAEnabled(){const{context:Er}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Er.scale(1.5,1),Er.fillText("I",0,10);const Dr=Er.getImageData(0,0,10,10).data;let Tr=!1;for(let Lr=3;Lr<Dr.length;Lr+=4)if(Dr[Lr]>0&&Dr[Lr]<255){Tr=!0;break}return(0,rr.shadow)(this,"isFontSubpixelAAEnabled",Tr)}showText(Er){const Dr=this.current,Tr=Dr.font;if(Tr.isType3Font)return this.showType3Text(Er);const Lr=Dr.fontSize;if(Lr===0)return;const _r=this.ctx,wr=Dr.fontSizeScale,Fr=Dr.charSpacing,Nr=Dr.wordSpacing,Br=Dr.fontDirection,Ur=Dr.textHScale*Br,Zr=Er.length,an=Tr.vertical,qr=an?1:-1,Gr=Tr.defaultVMetrics,Xr=Lr*Dr.fontMatrix[0],en=Dr.textRenderingMode===rr.TextRenderingMode.FILL&&!Tr.disableFontFace&&!Dr.patternFill;_r.save(),_r.transform(...Dr.textMatrix),_r.translate(Dr.x,Dr.y+Dr.textRise),Br>0?_r.scale(Ur,-1):_r.scale(Ur,1);let Wr;if(Dr.patternFill){_r.save();const yn=Dr.fillColor.getPattern(_r,this,(0,nr.getCurrentTransformInverse)(_r),ar.PathType.FILL);Wr=(0,nr.getCurrentTransform)(_r),_r.restore(),_r.fillStyle=yn}let cn=Dr.lineWidth;const fn=Dr.textMatrixScale;if(fn===0||cn===0){const yn=Dr.textRenderingMode&rr.TextRenderingMode.FILL_STROKE_MASK;(yn===rr.TextRenderingMode.STROKE||yn===rr.TextRenderingMode.FILL_STROKE)&&(cn=this.getSinglePixelWidth())}else cn/=fn;wr!==1&&(_r.scale(wr,wr),cn/=wr),_r.lineWidth=cn;let gn=0,wn;for(wn=0;wn<Zr;++wn){const yn=Er[wn];if(typeof yn=="number"){gn+=qr*yn*Lr/1e3;continue}let vn=!1;const Ln=(yn.isSpace?Nr:0)+Fr,bn=yn.fontChar,Mn=yn.accent;let Un,Hn,Yn=yn.width;if(an){const Qn=yn.vmetric||Gr,zn=-(yn.vmetric?Qn[1]:Yn*.5)*Xr,fo=Qn[2]*Xr;Yn=Qn?-Qn[0]:Yn,Un=zn/wr,Hn=(gn+fo)/wr}else Un=gn/wr,Hn=0;if(Tr.remeasure&&Yn>0){const Qn=_r.measureText(bn).width*1e3/Lr*wr;if(Yn<Qn&&this.isFontSubpixelAAEnabled){const zn=Yn/Qn;vn=!0,_r.save(),_r.scale(zn,1),Un/=zn}else Yn!==Qn&&(Un+=(Yn-Qn)/2e3*Lr/wr)}if(this.contentVisible&&(yn.isInFont||Tr.missingFile)){if(en&&!Mn)_r.fillText(bn,Un,Hn);else if(this.paintChar(bn,Un,Hn,Wr),Mn){const Qn=Un+Lr*Mn.offset.x/wr,zn=Hn-Lr*Mn.offset.y/wr;this.paintChar(Mn.fontChar,Qn,zn,Wr)}}let Gn;an?Gn=Yn*Xr-Ln*Br:Gn=Yn*Xr+Ln*Br,gn+=Gn,vn&&_r.restore()}an?Dr.y-=gn:Dr.x+=gn*Ur,_r.restore(),this.compose()}showType3Text(Er){const Dr=this.ctx,Tr=this.current,Lr=Tr.font,_r=Tr.fontSize,wr=Tr.fontDirection,Fr=Lr.vertical?1:-1,Nr=Tr.charSpacing,Br=Tr.wordSpacing,Ur=Tr.textHScale*wr,Zr=Tr.fontMatrix||rr.FONT_IDENTITY_MATRIX,an=Er.length,qr=Tr.textRenderingMode===rr.TextRenderingMode.INVISIBLE;let Gr,Xr,en,Wr;if(!(qr||_r===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Dr.save(),Dr.transform(...Tr.textMatrix),Dr.translate(Tr.x,Tr.y),Dr.scale(Ur,wr),Gr=0;Gr<an;++Gr){if(Xr=Er[Gr],typeof Xr=="number"){Wr=Fr*Xr*_r/1e3,this.ctx.translate(Wr,0),Tr.x+=Wr*Ur;continue}const cn=(Xr.isSpace?Br:0)+Nr,fn=Lr.charProcOperatorList[Xr.operatorListId];if(!fn){(0,rr.warn)(`Type3 character "${Xr.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Xr,this.save(),Dr.scale(_r,_r),Dr.transform(...Zr),this.executeOperatorList(fn),this.restore()),en=rr.Util.applyTransform([Xr.width,0],Zr)[0]*_r+cn,Dr.translate(en,0),Tr.x+=en*Ur}Dr.restore(),this.processingType3=null}}setCharWidth(Er,Dr){}setCharWidthAndBounds(Er,Dr,Tr,Lr,_r,wr){this.ctx.rect(Tr,Lr,_r-Tr,wr-Lr),this.ctx.clip(),this.endPath()}getColorN_Pattern(Er){let Dr;if(Er[0]==="TilingPattern"){const Tr=Er[1],Lr=this.baseTransform||(0,nr.getCurrentTransform)(this.ctx),_r={createCanvasGraphics:wr=>new Qr(wr,this.commonObjs,this.objs,this.canvasFactory)};Dr=new ar.TilingPattern(Er,Tr,this.ctx,_r,Lr)}else Dr=this._getPattern(Er[1],Er[2]);return Dr}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Er,Dr,Tr){const Lr=this.selectColor?.(Er,Dr,Tr)||rr.Util.makeHexColor(Er,Dr,Tr);this.ctx.strokeStyle=Lr,this.current.strokeColor=Lr}setFillRGBColor(Er,Dr,Tr){const Lr=this.selectColor?.(Er,Dr,Tr)||rr.Util.makeHexColor(Er,Dr,Tr);this.ctx.fillStyle=Lr,this.current.fillColor=Lr,this.current.patternFill=!1}_getPattern(Er,Dr=null){let Tr;return this.cachedPatterns.has(Er)?Tr=this.cachedPatterns.get(Er):(Tr=(0,ar.getShadingPattern)(this.objs.get(Er)),this.cachedPatterns.set(Er,Tr)),Dr&&(Tr.matrix=Dr),Tr}shadingFill(Er){if(!this.contentVisible)return;const Dr=this.ctx;this.save();const Tr=this._getPattern(Er);Dr.fillStyle=Tr.getPattern(Dr,this,(0,nr.getCurrentTransformInverse)(Dr),ar.PathType.SHADING);const Lr=(0,nr.getCurrentTransformInverse)(Dr);if(Lr){const _r=Dr.canvas,wr=_r.width,Fr=_r.height,Nr=rr.Util.applyTransform([0,0],Lr),Br=rr.Util.applyTransform([0,Fr],Lr),Ur=rr.Util.applyTransform([wr,0],Lr),Zr=rr.Util.applyTransform([wr,Fr],Lr),an=Math.min(Nr[0],Br[0],Ur[0],Zr[0]),qr=Math.min(Nr[1],Br[1],Ur[1],Zr[1]),Gr=Math.max(Nr[0],Br[0],Ur[0],Zr[0]),Xr=Math.max(Nr[1],Br[1],Ur[1],Zr[1]);this.ctx.fillRect(an,qr,Gr-an,Xr-qr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,rr.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,rr.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Er,Dr){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Er)&&Er.length===6&&this.transform(...Er),this.baseTransform=(0,nr.getCurrentTransform)(this.ctx),Dr)){const Tr=Dr[2]-Dr[0],Lr=Dr[3]-Dr[1];this.ctx.rect(Dr[0],Dr[1],Tr,Lr),this.current.updateRectMinMax((0,nr.getCurrentTransform)(this.ctx),Dr),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Er){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Dr=this.ctx;Er.isolated||(0,rr.info)("TODO: Support non-isolated groups."),Er.knockout&&(0,rr.warn)("Knockout groups not supported.");const Tr=(0,nr.getCurrentTransform)(Dr);if(Er.matrix&&Dr.transform(...Er.matrix),!Er.bbox)throw new Error("Bounding box is required.");let Lr=rr.Util.getAxialAlignedBoundingBox(Er.bbox,(0,nr.getCurrentTransform)(Dr));const _r=[0,0,Dr.canvas.width,Dr.canvas.height];Lr=rr.Util.intersect(Lr,_r)||[0,0,0,0];const wr=Math.floor(Lr[0]),Fr=Math.floor(Lr[1]);let Nr=Math.max(Math.ceil(Lr[2])-wr,1),Br=Math.max(Math.ceil(Lr[3])-Fr,1),Ur=1,Zr=1;Nr>fr&&(Ur=Nr/fr,Nr=fr),Br>fr&&(Zr=Br/fr,Br=fr),this.current.startNewPathAndClipBox([0,0,Nr,Br]);let an="groupAt"+this.groupLevel;Er.smask&&(an+="_smask_"+this.smaskCounter++%2);const qr=this.cachedCanvases.getCanvas(an,Nr,Br),Gr=qr.context;Gr.scale(1/Ur,1/Zr),Gr.translate(-wr,-Fr),Gr.transform(...Tr),Er.smask?this.smaskStack.push({canvas:qr.canvas,context:Gr,offsetX:wr,offsetY:Fr,scaleX:Ur,scaleY:Zr,subtype:Er.smask.subtype,backdrop:Er.smask.backdrop,transferMap:Er.smask.transferMap||null,startTransformInverse:null}):(Dr.setTransform(1,0,0,1,0,0),Dr.translate(wr,Fr),Dr.scale(Ur,Zr),Dr.save()),Cr(Dr,Gr),this.ctx=Gr,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Dr),this.groupLevel++}endGroup(Er){if(!this.contentVisible)return;this.groupLevel--;const Dr=this.ctx,Tr=this.groupStack.pop();if(this.ctx=Tr,this.ctx.imageSmoothingEnabled=!1,Er.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Lr=(0,nr.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Lr);const _r=rr.Util.getAxialAlignedBoundingBox([0,0,Dr.canvas.width,Dr.canvas.height],Lr);this.ctx.drawImage(Dr.canvas,0,0),this.ctx.restore(),this.compose(_r)}}beginAnnotation(Er,Dr,Tr,Lr,_r){if(this.#e(),kr(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Dr)&&Dr.length===4){const wr=Dr[2]-Dr[0],Fr=Dr[3]-Dr[1];if(_r&&this.annotationCanvasMap){Tr=Tr.slice(),Tr[4]-=Dr[0],Tr[5]-=Dr[1],Dr=Dr.slice(),Dr[0]=Dr[1]=0,Dr[2]=wr,Dr[3]=Fr;const[Nr,Br]=rr.Util.singularValueDecompose2dScale((0,nr.getCurrentTransform)(this.ctx)),{viewportScale:Ur}=this,Zr=Math.ceil(wr*this.outputScaleX*Ur),an=Math.ceil(Fr*this.outputScaleY*Ur);this.annotationCanvas=this.canvasFactory.create(Zr,an);const{canvas:qr,context:Gr}=this.annotationCanvas;this.annotationCanvasMap.set(Er,qr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Gr,this.ctx.setTransform(Nr,0,0,-Br,0,Fr*Br),kr(this.ctx,this.foregroundColor)}else kr(this.ctx,this.foregroundColor),this.ctx.rect(Dr[0],Dr[1],wr,Fr),this.ctx.clip(),this.endPath()}this.current=new yr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Tr),this.transform(...Lr)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Er){if(!this.contentVisible)return;const Dr=Er.count;Er=this.getObject(Er.data,Er),Er.count=Dr;const Tr=this.ctx,Lr=this.processingType3;if(Lr&&(Lr.compiled===void 0&&(Lr.compiled=vr(Er)),Lr.compiled)){Lr.compiled(Tr);return}const _r=this._createMaskCanvas(Er),wr=_r.canvas;Tr.save(),Tr.setTransform(1,0,0,1,0,0),Tr.drawImage(wr,_r.offsetX,_r.offsetY),Tr.restore(),this.compose()}paintImageMaskXObjectRepeat(Er,Dr,Tr=0,Lr=0,_r,wr){if(!this.contentVisible)return;Er=this.getObject(Er.data,Er);const Fr=this.ctx;Fr.save();const Nr=(0,nr.getCurrentTransform)(Fr);Fr.transform(Dr,Tr,Lr,_r,0,0);const Br=this._createMaskCanvas(Er);Fr.setTransform(1,0,0,1,0,0);for(let Ur=0,Zr=wr.length;Ur<Zr;Ur+=2){const an=rr.Util.transform(Nr,[Dr,Tr,Lr,_r,wr[Ur],wr[Ur+1]]),[qr,Gr]=rr.Util.applyTransform([0,0],an);Fr.drawImage(Br.canvas,qr,Gr)}Fr.restore(),this.compose()}paintImageMaskXObjectGroup(Er){if(!this.contentVisible)return;const Dr=this.ctx,Tr=this.current.fillColor,Lr=this.current.patternFill;for(const _r of Er){const{data:wr,width:Fr,height:Nr,transform:Br}=_r,Ur=this.cachedCanvases.getCanvas("maskCanvas",Fr,Nr),Zr=Ur.context;Zr.save();const an=this.getObject(wr,_r);xr(Zr,an),Zr.globalCompositeOperation="source-in",Zr.fillStyle=Lr?Tr.getPattern(Zr,this,(0,nr.getCurrentTransformInverse)(Dr),ar.PathType.FILL):Tr,Zr.fillRect(0,0,Fr,Nr),Zr.restore(),Dr.save(),Dr.transform(...Br),Dr.scale(1,-1),mr(Dr,Ur.canvas,0,0,Fr,Nr,0,-1,1,1),Dr.restore()}this.compose()}paintImageXObject(Er){if(!this.contentVisible)return;const Dr=this.getObject(Er);if(!Dr){(0,rr.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Dr)}paintImageXObjectRepeat(Er,Dr,Tr,Lr){if(!this.contentVisible)return;const _r=this.getObject(Er);if(!_r){(0,rr.warn)("Dependent image isn't ready yet");return}const wr=_r.width,Fr=_r.height,Nr=[];for(let Br=0,Ur=Lr.length;Br<Ur;Br+=2)Nr.push({transform:[Dr,0,0,Tr,Lr[Br],Lr[Br+1]],x:0,y:0,w:wr,h:Fr});this.paintInlineImageXObjectGroup(_r,Nr)}paintInlineImageXObject(Er){if(!this.contentVisible)return;const Dr=Er.width,Tr=Er.height,Lr=this.ctx;this.save(),Lr.scale(1/Dr,-1/Tr);let _r;if(typeof HTMLElement=="function"&&Er instanceof HTMLElement||!Er.data)_r=Er;else{const Fr=this.cachedCanvases.getCanvas("inlineImage",Dr,Tr),Nr=Fr.context;br(Nr,Er,this.current.transferMaps),_r=Fr.canvas}const wr=this._scaleImage(_r,(0,nr.getCurrentTransformInverse)(Lr));Lr.imageSmoothingEnabled=Jr((0,nr.getCurrentTransform)(Lr),Er.interpolate),mr(Lr,wr.img,0,0,wr.paintWidth,wr.paintHeight,0,-Tr,Dr,Tr),this.compose(),this.restore()}paintInlineImageXObjectGroup(Er,Dr){if(!this.contentVisible)return;const Tr=this.ctx,Lr=Er.width,_r=Er.height,wr=this.cachedCanvases.getCanvas("inlineImage",Lr,_r),Fr=wr.context;br(Fr,Er,this.current.transferMaps);for(const Nr of Dr)Tr.save(),Tr.transform(...Nr.transform),Tr.scale(1,-1),mr(Tr,wr.canvas,Nr.x,Nr.y,Nr.w,Nr.h,0,-1,1,1),Tr.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Er){}markPointProps(Er,Dr){}beginMarkedContent(Er){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Er,Dr){Er==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Dr)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Er){const Dr=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Er);const Tr=this.ctx;this.pendingClip&&(Dr||(this.pendingClip===nn?Tr.clip("evenodd"):Tr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Tr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Er=(0,nr.getCurrentTransform)(this.ctx);if(Er[1]===0&&Er[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Er[0]),Math.abs(Er[3]));else{const Dr=Math.abs(Er[0]*Er[3]-Er[2]*Er[1]),Tr=Math.hypot(Er[0],Er[2]),Lr=Math.hypot(Er[1],Er[3]);this._cachedGetSinglePixelWidth=Math.max(Tr,Lr)/Dr}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Er}=this.current,Dr=(0,nr.getCurrentTransform)(this.ctx);let Tr,Lr;if(Dr[1]===0&&Dr[2]===0){const _r=Math.abs(Dr[0]),wr=Math.abs(Dr[3]);if(Er===0)Tr=1/_r,Lr=1/wr;else{const Fr=_r*Er,Nr=wr*Er;Tr=Fr<1?1/Fr:1,Lr=Nr<1?1/Nr:1}}else{const _r=Math.abs(Dr[0]*Dr[3]-Dr[2]*Dr[1]),wr=Math.hypot(Dr[0],Dr[1]),Fr=Math.hypot(Dr[2],Dr[3]);if(Er===0)Tr=Fr/_r,Lr=wr/_r;else{const Nr=Er*_r;Tr=Fr>Nr?Fr/Nr:1,Lr=wr>Nr?wr/Nr:1}}this._cachedScaleForStroking=[Tr,Lr]}return this._cachedScaleForStroking}rescaleAndStroke(Er){const{ctx:Dr}=this,{lineWidth:Tr}=this.current,[Lr,_r]=this.getScaleForStroking();if(Dr.lineWidth=Tr||1,Lr===1&&_r===1){Dr.stroke();return}let wr,Fr,Nr;Er&&(wr=(0,nr.getCurrentTransform)(Dr),Fr=Dr.getLineDash().slice(),Nr=Dr.lineDashOffset),Dr.scale(Lr,_r);const Br=Math.max(Lr,_r);Dr.setLineDash(Dr.getLineDash().map(Ur=>Ur/Br)),Dr.lineDashOffset/=Br,Dr.stroke(),Er&&(Dr.setTransform(...wr),Dr.setLineDash(Fr),Dr.lineDashOffset=Nr)}isContentVisible(){for(let Er=this.markedContentStack.length-1;Er>=0;Er--)if(!this.markedContentStack[Er].visible)return!1;return!0}}er.CanvasGraphics=Qr;for(const Or in rr.OPS)Qr.prototype[Or]!==void 0&&(Qr.prototype[rr.OPS[Or]]=Qr.prototype[Or])},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.TilingPattern=er.PathType=void 0,er.getShadingPattern=hr;var rr=tr(1),nr=tr(6),ar=tr(12);const dr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};er.PathType=dr;function or(mr,vr){if(!vr||ar.isNodeJS)return;const yr=vr[2]-vr[0],br=vr[3]-vr[1],xr=new Path2D;xr.rect(vr[0],vr[1],yr,br),mr.clip(xr)}class ir{constructor(){this.constructor===ir&&(0,rr.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,rr.unreachable)("Abstract method `getPattern` called.")}}class lr extends ir{constructor(vr){super(),this._type=vr[1],this._bbox=vr[2],this._colorStops=vr[3],this._p0=vr[4],this._p1=vr[5],this._r0=vr[6],this._r1=vr[7],this.matrix=null}_createGradient(vr){let yr;this._type==="axial"?yr=vr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(yr=vr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const br of this._colorStops)yr.addColorStop(br[0],br[1]);return yr}getPattern(vr,yr,br,xr){let Cr;if(xr===dr.STROKE||xr===dr.FILL){const kr=yr.current.getClippedPathBoundingBox(xr,(0,nr.getCurrentTransform)(vr))||[0,0,0,0],Pr=Math.ceil(kr[2]-kr[0])||1,$r=Math.ceil(kr[3]-kr[1])||1,Kr=yr.cachedCanvases.getCanvas("pattern",Pr,$r,!0),Ir=Kr.context;Ir.clearRect(0,0,Ir.canvas.width,Ir.canvas.height),Ir.beginPath(),Ir.rect(0,0,Ir.canvas.width,Ir.canvas.height),Ir.translate(-kr[0],-kr[1]),br=rr.Util.transform(br,[1,0,0,1,kr[0],kr[1]]),Ir.transform(...yr.baseTransform),this.matrix&&Ir.transform(...this.matrix),or(Ir,this._bbox),Ir.fillStyle=this._createGradient(Ir),Ir.fill(),Cr=vr.createPattern(Kr.canvas,"no-repeat");const jr=new DOMMatrix(br);Cr.setTransform(jr)}else or(vr,this._bbox),Cr=this._createGradient(vr);return Cr}}function fr(mr,vr,yr,br,xr,Cr,kr,Pr){const $r=vr.coords,Kr=vr.colors,Ir=mr.data,jr=mr.width*4;let Jr;$r[yr+1]>$r[br+1]&&(Jr=yr,yr=br,br=Jr,Jr=Cr,Cr=kr,kr=Jr),$r[br+1]>$r[xr+1]&&(Jr=br,br=xr,xr=Jr,Jr=kr,kr=Pr,Pr=Jr),$r[yr+1]>$r[br+1]&&(Jr=yr,yr=br,br=Jr,Jr=Cr,Cr=kr,kr=Jr);const zr=($r[yr]+vr.offsetX)*vr.scaleX,Hr=($r[yr+1]+vr.offsetY)*vr.scaleY,Yr=($r[br]+vr.offsetX)*vr.scaleX,nn=($r[br+1]+vr.offsetY)*vr.scaleY,Qr=($r[xr]+vr.offsetX)*vr.scaleX,Or=($r[xr+1]+vr.offsetY)*vr.scaleY;if(Hr>=Or)return;const Er=Kr[Cr],Dr=Kr[Cr+1],Tr=Kr[Cr+2],Lr=Kr[kr],_r=Kr[kr+1],wr=Kr[kr+2],Fr=Kr[Pr],Nr=Kr[Pr+1],Br=Kr[Pr+2],Ur=Math.round(Hr),Zr=Math.round(Or);let an,qr,Gr,Xr,en,Wr,cn,fn;for(let gn=Ur;gn<=Zr;gn++){if(gn<nn){let bn;gn<Hr?bn=0:bn=(Hr-gn)/(Hr-nn),an=zr-(zr-Yr)*bn,qr=Er-(Er-Lr)*bn,Gr=Dr-(Dr-_r)*bn,Xr=Tr-(Tr-wr)*bn}else{let bn;gn>Or?bn=1:nn===Or?bn=0:bn=(nn-gn)/(nn-Or),an=Yr-(Yr-Qr)*bn,qr=Lr-(Lr-Fr)*bn,Gr=_r-(_r-Nr)*bn,Xr=wr-(wr-Br)*bn}let wn;gn<Hr?wn=0:gn>Or?wn=1:wn=(Hr-gn)/(Hr-Or),en=zr-(zr-Qr)*wn,Wr=Er-(Er-Fr)*wn,cn=Dr-(Dr-Nr)*wn,fn=Tr-(Tr-Br)*wn;const yn=Math.round(Math.min(an,en)),vn=Math.round(Math.max(an,en));let Ln=jr*gn+yn*4;for(let bn=yn;bn<=vn;bn++)wn=(an-bn)/(an-en),wn<0?wn=0:wn>1&&(wn=1),Ir[Ln++]=qr-(qr-Wr)*wn|0,Ir[Ln++]=Gr-(Gr-cn)*wn|0,Ir[Ln++]=Xr-(Xr-fn)*wn|0,Ir[Ln++]=255}}function cr(mr,vr,yr){const br=vr.coords,xr=vr.colors;let Cr,kr;switch(vr.type){case"lattice":const Pr=vr.verticesPerRow,$r=Math.floor(br.length/Pr)-1,Kr=Pr-1;for(Cr=0;Cr<$r;Cr++){let Ir=Cr*Pr;for(let jr=0;jr<Kr;jr++,Ir++)fr(mr,yr,br[Ir],br[Ir+1],br[Ir+Pr],xr[Ir],xr[Ir+1],xr[Ir+Pr]),fr(mr,yr,br[Ir+Pr+1],br[Ir+1],br[Ir+Pr],xr[Ir+Pr+1],xr[Ir+1],xr[Ir+Pr])}break;case"triangles":for(Cr=0,kr=br.length;Cr<kr;Cr+=3)fr(mr,yr,br[Cr],br[Cr+1],br[Cr+2],xr[Cr],xr[Cr+1],xr[Cr+2]);break;default:throw new Error("illegal figure")}}class ur extends ir{constructor(vr){super(),this._coords=vr[2],this._colors=vr[3],this._figures=vr[4],this._bounds=vr[5],this._bbox=vr[7],this._background=vr[8],this.matrix=null}_createMeshCanvas(vr,yr,br){const Pr=Math.floor(this._bounds[0]),$r=Math.floor(this._bounds[1]),Kr=Math.ceil(this._bounds[2])-Pr,Ir=Math.ceil(this._bounds[3])-$r,jr=Math.min(Math.ceil(Math.abs(Kr*vr[0]*1.1)),3e3),Jr=Math.min(Math.ceil(Math.abs(Ir*vr[1]*1.1)),3e3),zr=Kr/jr,Hr=Ir/Jr,Yr={coords:this._coords,colors:this._colors,offsetX:-Pr,offsetY:-$r,scaleX:1/zr,scaleY:1/Hr},nn=jr+2*2,Qr=Jr+2*2,Or=br.getCanvas("mesh",nn,Qr,!1),Er=Or.context,Dr=Er.createImageData(jr,Jr);if(yr){const Lr=Dr.data;for(let _r=0,wr=Lr.length;_r<wr;_r+=4)Lr[_r]=yr[0],Lr[_r+1]=yr[1],Lr[_r+2]=yr[2],Lr[_r+3]=255}for(const Lr of this._figures)cr(Dr,Lr,Yr);return Er.putImageData(Dr,2,2),{canvas:Or.canvas,offsetX:Pr-2*zr,offsetY:$r-2*Hr,scaleX:zr,scaleY:Hr}}getPattern(vr,yr,br,xr){or(vr,this._bbox);let Cr;if(xr===dr.SHADING)Cr=rr.Util.singularValueDecompose2dScale((0,nr.getCurrentTransform)(vr));else if(Cr=rr.Util.singularValueDecompose2dScale(yr.baseTransform),this.matrix){const Pr=rr.Util.singularValueDecompose2dScale(this.matrix);Cr=[Cr[0]*Pr[0],Cr[1]*Pr[1]]}const kr=this._createMeshCanvas(Cr,xr===dr.SHADING?null:this._background,yr.cachedCanvases);return xr!==dr.SHADING&&(vr.setTransform(...yr.baseTransform),this.matrix&&vr.transform(...this.matrix)),vr.translate(kr.offsetX,kr.offsetY),vr.scale(kr.scaleX,kr.scaleY),vr.createPattern(kr.canvas,"no-repeat")}}class sr extends ir{getPattern(){return"hotpink"}}function hr(mr){switch(mr[0]){case"RadialAxial":return new lr(mr);case"Mesh":return new ur(mr);case"Dummy":return new sr}throw new Error(`Unknown IR type: ${mr[0]}`)}const gr={COLORED:1,UNCOLORED:2};class pr{static get MAX_PATTERN_SIZE(){return(0,rr.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(vr,yr,br,xr,Cr){this.operatorList=vr[2],this.matrix=vr[3]||[1,0,0,1,0,0],this.bbox=vr[4],this.xstep=vr[5],this.ystep=vr[6],this.paintType=vr[7],this.tilingType=vr[8],this.color=yr,this.ctx=br,this.canvasGraphicsFactory=xr,this.baseTransform=Cr}createPatternCanvas(vr){const yr=this.operatorList,br=this.bbox,xr=this.xstep,Cr=this.ystep,kr=this.paintType,Pr=this.tilingType,$r=this.color,Kr=this.canvasGraphicsFactory;(0,rr.info)("TilingType: "+Pr);const Ir=br[0],jr=br[1],Jr=br[2],zr=br[3],Hr=rr.Util.singularValueDecompose2dScale(this.matrix),Yr=rr.Util.singularValueDecompose2dScale(this.baseTransform),nn=[Hr[0]*Yr[0],Hr[1]*Yr[1]],Qr=this.getSizeAndScale(xr,this.ctx.canvas.width,nn[0]),Or=this.getSizeAndScale(Cr,this.ctx.canvas.height,nn[1]),Er=vr.cachedCanvases.getCanvas("pattern",Qr.size,Or.size,!0),Dr=Er.context,Tr=Kr.createCanvasGraphics(Dr);Tr.groupLevel=vr.groupLevel,this.setFillAndStrokeStyleToContext(Tr,kr,$r);let Lr=Ir,_r=jr,wr=Jr,Fr=zr;return Ir<0&&(Lr=0,wr+=Math.abs(Ir)),jr<0&&(_r=0,Fr+=Math.abs(jr)),Dr.translate(-(Qr.scale*Lr),-(Or.scale*_r)),Tr.transform(Qr.scale,0,0,Or.scale,0,0),Dr.save(),this.clipBbox(Tr,Lr,_r,wr,Fr),Tr.baseTransform=(0,nr.getCurrentTransform)(Tr.ctx),Tr.executeOperatorList(yr),Tr.endDrawing(),{canvas:Er.canvas,scaleX:Qr.scale,scaleY:Or.scale,offsetX:Lr,offsetY:_r}}getSizeAndScale(vr,yr,br){vr=Math.abs(vr);const xr=Math.max(pr.MAX_PATTERN_SIZE,yr);let Cr=Math.ceil(vr*br);return Cr>=xr?Cr=xr:br=Cr/vr,{scale:br,size:Cr}}clipBbox(vr,yr,br,xr,Cr){const kr=xr-yr,Pr=Cr-br;vr.ctx.rect(yr,br,kr,Pr),vr.current.updateRectMinMax((0,nr.getCurrentTransform)(vr.ctx),[yr,br,xr,Cr]),vr.clip(),vr.endPath()}setFillAndStrokeStyleToContext(vr,yr,br){const xr=vr.ctx,Cr=vr.current;switch(yr){case gr.COLORED:const kr=this.ctx;xr.fillStyle=kr.fillStyle,xr.strokeStyle=kr.strokeStyle,Cr.fillColor=kr.fillStyle,Cr.strokeColor=kr.strokeStyle;break;case gr.UNCOLORED:const Pr=rr.Util.makeHexColor(br[0],br[1],br[2]);xr.fillStyle=Pr,xr.strokeStyle=Pr,Cr.fillColor=Pr,Cr.strokeColor=Pr;break;default:throw new rr.FormatError(`Unsupported paint type: ${yr}`)}}getPattern(vr,yr,br,xr){let Cr=br;xr!==dr.SHADING&&(Cr=rr.Util.transform(Cr,yr.baseTransform),this.matrix&&(Cr=rr.Util.transform(Cr,this.matrix)));const kr=this.createPatternCanvas(yr);let Pr=new DOMMatrix(Cr);Pr=Pr.translate(kr.offsetX,kr.offsetY),Pr=Pr.scale(1/kr.scaleX,1/kr.scaleY);const $r=vr.createPattern(kr.canvas,"repeat");return $r.setTransform(Pr),$r}}er.TilingPattern=pr},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.isNodeJS=void 0;const tr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");er.isNodeJS=tr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.applyMaskImageData=nr;var rr=tr(1);function nr({src:ar,srcPos:dr=0,dest:or,destPos:ir=0,width:lr,height:fr,inverseDecode:cr=!1}){const ur=rr.FeatureTest.isLittleEndian?4278190080:255,[sr,hr]=cr?[0,ur]:[ur,0],gr=lr>>3,pr=lr&7,mr=ar.length;or=new Uint32Array(or.buffer);for(let vr=0;vr<fr;vr++){for(const br=dr+gr;dr<br;dr++){const xr=dr<mr?ar[dr]:255;or[ir++]=xr&128?hr:sr,or[ir++]=xr&64?hr:sr,or[ir++]=xr&32?hr:sr,or[ir++]=xr&16?hr:sr,or[ir++]=xr&8?hr:sr,or[ir++]=xr&4?hr:sr,or[ir++]=xr&2?hr:sr,or[ir++]=xr&1?hr:sr}if(pr===0)continue;const yr=dr<mr?ar[dr++]:255;for(let br=0;br<pr;br++)or[ir++]=yr&1<<7-br?hr:sr}return{srcPos:dr,destPos:ir}}},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.GlobalWorkerOptions=void 0;const tr=Object.create(null);er.GlobalWorkerOptions=tr,tr.workerPort=tr.workerPort===void 0?null:tr.workerPort,tr.workerSrc=tr.workerSrc===void 0?"":tr.workerSrc},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.MessageHandler=void 0;var rr=tr(1);const nr={UNKNOWN:0,DATA:1,ERROR:2},ar={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dr(ir){switch(ir instanceof Error||typeof ir=="object"&&ir!==null||(0,rr.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ir.name){case"AbortException":return new rr.AbortException(ir.message);case"MissingPDFException":return new rr.MissingPDFException(ir.message);case"PasswordException":return new rr.PasswordException(ir.message,ir.code);case"UnexpectedResponseException":return new rr.UnexpectedResponseException(ir.message,ir.status);case"UnknownErrorException":return new rr.UnknownErrorException(ir.message,ir.details);default:return new rr.UnknownErrorException(ir.message,ir.toString())}}class or{constructor(lr,fr,cr){this.sourceName=lr,this.targetName=fr,this.comObj=cr,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ur=>{const sr=ur.data;if(sr.targetName!==this.sourceName)return;if(sr.stream){this._processStreamMessage(sr);return}if(sr.callback){const gr=sr.callbackId,pr=this.callbackCapabilities[gr];if(!pr)throw new Error(`Cannot resolve callback ${gr}`);if(delete this.callbackCapabilities[gr],sr.callback===nr.DATA)pr.resolve(sr.data);else if(sr.callback===nr.ERROR)pr.reject(dr(sr.reason));else throw new Error("Unexpected callback case");return}const hr=this.actionHandler[sr.action];if(!hr)throw new Error(`Unknown action from worker: ${sr.action}`);if(sr.callbackId){const gr=this.sourceName,pr=sr.sourceName;new Promise(function(mr){mr(hr(sr.data))}).then(function(mr){cr.postMessage({sourceName:gr,targetName:pr,callback:nr.DATA,callbackId:sr.callbackId,data:mr})},function(mr){cr.postMessage({sourceName:gr,targetName:pr,callback:nr.ERROR,callbackId:sr.callbackId,reason:dr(mr)})});return}if(sr.streamId){this._createStreamSink(sr);return}hr(sr.data)},cr.addEventListener("message",this._onComObjOnMessage)}on(lr,fr){const cr=this.actionHandler;if(cr[lr])throw new Error(`There is already an actionName called "${lr}"`);cr[lr]=fr}send(lr,fr,cr){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:lr,data:fr},cr)}sendWithPromise(lr,fr,cr){const ur=this.callbackId++,sr=(0,rr.createPromiseCapability)();this.callbackCapabilities[ur]=sr;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:lr,callbackId:ur,data:fr},cr)}catch(hr){sr.reject(hr)}return sr.promise}sendWithStream(lr,fr,cr,ur){const sr=this.streamId++,hr=this.sourceName,gr=this.targetName,pr=this.comObj;return new ReadableStream({start:mr=>{const vr=(0,rr.createPromiseCapability)();return this.streamControllers[sr]={controller:mr,startCall:vr,pullCall:null,cancelCall:null,isClosed:!1},pr.postMessage({sourceName:hr,targetName:gr,action:lr,streamId:sr,data:fr,desiredSize:mr.desiredSize},ur),vr.promise},pull:mr=>{const vr=(0,rr.createPromiseCapability)();return this.streamControllers[sr].pullCall=vr,pr.postMessage({sourceName:hr,targetName:gr,stream:ar.PULL,streamId:sr,desiredSize:mr.desiredSize}),vr.promise},cancel:mr=>{(0,rr.assert)(mr instanceof Error,"cancel must have a valid reason");const vr=(0,rr.createPromiseCapability)();return this.streamControllers[sr].cancelCall=vr,this.streamControllers[sr].isClosed=!0,pr.postMessage({sourceName:hr,targetName:gr,stream:ar.CANCEL,streamId:sr,reason:dr(mr)}),vr.promise}},cr)}_createStreamSink(lr){const fr=lr.streamId,cr=this.sourceName,ur=lr.sourceName,sr=this.comObj,hr=this,gr=this.actionHandler[lr.action],pr={enqueue(mr,vr=1,yr){if(this.isCancelled)return;const br=this.desiredSize;this.desiredSize-=vr,br>0&&this.desiredSize<=0&&(this.sinkCapability=(0,rr.createPromiseCapability)(),this.ready=this.sinkCapability.promise),sr.postMessage({sourceName:cr,targetName:ur,stream:ar.ENQUEUE,streamId:fr,chunk:mr},yr)},close(){this.isCancelled||(this.isCancelled=!0,sr.postMessage({sourceName:cr,targetName:ur,stream:ar.CLOSE,streamId:fr}),delete hr.streamSinks[fr])},error(mr){(0,rr.assert)(mr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,sr.postMessage({sourceName:cr,targetName:ur,stream:ar.ERROR,streamId:fr,reason:dr(mr)}))},sinkCapability:(0,rr.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:lr.desiredSize,ready:null};pr.sinkCapability.resolve(),pr.ready=pr.sinkCapability.promise,this.streamSinks[fr]=pr,new Promise(function(mr){mr(gr(lr.data,pr))}).then(function(){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.START_COMPLETE,streamId:fr,success:!0})},function(mr){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.START_COMPLETE,streamId:fr,reason:dr(mr)})})}_processStreamMessage(lr){const fr=lr.streamId,cr=this.sourceName,ur=lr.sourceName,sr=this.comObj,hr=this.streamControllers[fr],gr=this.streamSinks[fr];switch(lr.stream){case ar.START_COMPLETE:lr.success?hr.startCall.resolve():hr.startCall.reject(dr(lr.reason));break;case ar.PULL_COMPLETE:lr.success?hr.pullCall.resolve():hr.pullCall.reject(dr(lr.reason));break;case ar.PULL:if(!gr){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.PULL_COMPLETE,streamId:fr,success:!0});break}gr.desiredSize<=0&&lr.desiredSize>0&&gr.sinkCapability.resolve(),gr.desiredSize=lr.desiredSize,new Promise(function(pr){pr(gr.onPull&&gr.onPull())}).then(function(){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.PULL_COMPLETE,streamId:fr,success:!0})},function(pr){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.PULL_COMPLETE,streamId:fr,reason:dr(pr)})});break;case ar.ENQUEUE:if((0,rr.assert)(hr,"enqueue should have stream controller"),hr.isClosed)break;hr.controller.enqueue(lr.chunk);break;case ar.CLOSE:if((0,rr.assert)(hr,"close should have stream controller"),hr.isClosed)break;hr.isClosed=!0,hr.controller.close(),this._deleteStreamController(hr,fr);break;case ar.ERROR:(0,rr.assert)(hr,"error should have stream controller"),hr.controller.error(dr(lr.reason)),this._deleteStreamController(hr,fr);break;case ar.CANCEL_COMPLETE:lr.success?hr.cancelCall.resolve():hr.cancelCall.reject(dr(lr.reason)),this._deleteStreamController(hr,fr);break;case ar.CANCEL:if(!gr)break;new Promise(function(pr){pr(gr.onCancel&&gr.onCancel(dr(lr.reason)))}).then(function(){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.CANCEL_COMPLETE,streamId:fr,success:!0})},function(pr){sr.postMessage({sourceName:cr,targetName:ur,stream:ar.CANCEL_COMPLETE,streamId:fr,reason:dr(pr)})}),gr.sinkCapability.reject(dr(lr.reason)),gr.isCancelled=!0,delete this.streamSinks[fr];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(lr,fr){await Promise.allSettled([lr.startCall&&lr.startCall.promise,lr.pullCall&&lr.pullCall.promise,lr.cancelCall&&lr.cancelCall.promise]),delete this.streamControllers[fr]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}er.MessageHandler=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.Metadata=void 0;var rr=tr(1);class nr{#e;#t;constructor({parsedData:dr,rawData:or}){this.#e=dr,this.#t=or}getRaw(){return this.#t}get(dr){return this.#e.get(dr)??null}getAll(){return(0,rr.objectFromMap)(this.#e)}has(dr){return this.#e.has(dr)}}er.Metadata=nr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.OptionalContentConfig=void 0;var rr=tr(1),nr=tr(8);const ar=Symbol("INTERNAL");class dr{#e=!0;constructor(lr,fr){this.name=lr,this.intent=fr}get visible(){return this.#e}_setVisible(lr,fr){lr!==ar&&(0,rr.unreachable)("Internal method `_setVisible` called."),this.#e=fr}}class or{#e=null;#t=new Map;#i=null;#r=null;constructor(lr){if(this.name=null,this.creator=null,lr!==null){this.name=lr.name,this.creator=lr.creator,this.#r=lr.order;for(const fr of lr.groups)this.#t.set(fr.id,new dr(fr.name,fr.intent));if(lr.baseState==="OFF")for(const fr of this.#t.values())fr._setVisible(ar,!1);for(const fr of lr.on)this.#t.get(fr)._setVisible(ar,!0);for(const fr of lr.off)this.#t.get(fr)._setVisible(ar,!1);this.#i=this.getHash()}}#a(lr){const fr=lr.length;if(fr<2)return!0;const cr=lr[0];for(let ur=1;ur<fr;ur++){const sr=lr[ur];let hr;if(Array.isArray(sr))hr=this.#a(sr);else if(this.#t.has(sr))hr=this.#t.get(sr).visible;else return(0,rr.warn)(`Optional content group not found: ${sr}`),!0;switch(cr){case"And":if(!hr)return!1;break;case"Or":if(hr)return!0;break;case"Not":return!hr;default:return!0}}return cr==="And"}isVisible(lr){if(this.#t.size===0)return!0;if(!lr)return(0,rr.warn)("Optional content group not defined."),!0;if(lr.type==="OCG")return this.#t.has(lr.id)?this.#t.get(lr.id).visible:((0,rr.warn)(`Optional content group not found: ${lr.id}`),!0);if(lr.type==="OCMD"){if(lr.expression)return this.#a(lr.expression);if(!lr.policy||lr.policy==="AnyOn"){for(const fr of lr.ids){if(!this.#t.has(fr))return(0,rr.warn)(`Optional content group not found: ${fr}`),!0;if(this.#t.get(fr).visible)return!0}return!1}else if(lr.policy==="AllOn"){for(const fr of lr.ids){if(!this.#t.has(fr))return(0,rr.warn)(`Optional content group not found: ${fr}`),!0;if(!this.#t.get(fr).visible)return!1}return!0}else if(lr.policy==="AnyOff"){for(const fr of lr.ids){if(!this.#t.has(fr))return(0,rr.warn)(`Optional content group not found: ${fr}`),!0;if(!this.#t.get(fr).visible)return!0}return!1}else if(lr.policy==="AllOff"){for(const fr of lr.ids){if(!this.#t.has(fr))return(0,rr.warn)(`Optional content group not found: ${fr}`),!0;if(this.#t.get(fr).visible)return!1}return!0}return(0,rr.warn)(`Unknown optional content policy ${lr.policy}.`),!0}return(0,rr.warn)(`Unknown group type ${lr.type}.`),!0}setVisibility(lr,fr=!0){if(!this.#t.has(lr)){(0,rr.warn)(`Optional content group not found: ${lr}`);return}this.#t.get(lr)._setVisible(ar,!!fr),this.#e=null}get hasInitialVisibility(){return this.getHash()===this.#i}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,rr.objectFromMap)(this.#t):null}getGroup(lr){return this.#t.get(lr)||null}getHash(){if(this.#e!==null)return this.#e;const lr=new nr.MurmurHash3_64;for(const[fr,cr]of this.#t)lr.update(`${fr}:${cr.visible}`);return this.#e=lr.hexdigest()}}er.OptionalContentConfig=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFDataTransportStream=void 0;var rr=tr(1),nr=tr(6);class ar{constructor(lr,fr){(0,rr.assert)(fr,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=lr.progressiveDone||!1,this._contentDispositionFilename=lr.contentDispositionFilename||null;const cr=lr.initialData;if(cr?.length>0){const ur=new Uint8Array(cr).buffer;this._queuedChunks.push(ur)}this._pdfDataRangeTransport=fr,this._isStreamingSupported=!lr.disableStream,this._isRangeSupported=!lr.disableRange,this._contentLength=lr.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ur,sr)=>{this._onReceiveData({begin:ur,chunk:sr})}),this._pdfDataRangeTransport.addProgressListener((ur,sr)=>{this._onProgress({loaded:ur,total:sr})}),this._pdfDataRangeTransport.addProgressiveReadListener(ur=>{this._onReceiveData({chunk:ur})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(lr){const fr=new Uint8Array(lr.chunk).buffer;if(lr.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(fr):this._queuedChunks.push(fr);else{const cr=this._rangeReaders.some(function(ur){return ur._begin!==lr.begin?!1:(ur._enqueue(fr),!0)});(0,rr.assert)(cr,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(lr){lr.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:lr.loaded}):this._fullRequestReader?.onProgress?.({loaded:lr.loaded,total:lr.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(lr){const fr=this._rangeReaders.indexOf(lr);fr>=0&&this._rangeReaders.splice(fr,1)}getFullReader(){(0,rr.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const lr=this._queuedChunks;return this._queuedChunks=null,new dr(this,lr,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(lr,fr){if(fr<=this._progressiveDataLength)return null;const cr=new or(this,lr,fr);return this._pdfDataRangeTransport.requestDataRange(lr,fr),this._rangeReaders.push(cr),cr}cancelAllRequests(lr){this._fullRequestReader?.cancel(lr);for(const fr of this._rangeReaders.slice(0))fr.cancel(lr);this._pdfDataRangeTransport.abort()}}er.PDFDataTransportStream=ar;class dr{constructor(lr,fr,cr=!1,ur=null){this._stream=lr,this._done=cr||!1,this._filename=(0,nr.isPdfFile)(ur)?ur:null,this._queuedChunks=fr||[],this._loaded=0;for(const sr of this._queuedChunks)this._loaded+=sr.byteLength;this._requests=[],this._headersReady=Promise.resolve(),lr._fullRequestReader=this,this.onProgress=null}_enqueue(lr){this._done||(this._requests.length>0?this._requests.shift().resolve({value:lr,done:!1}):this._queuedChunks.push(lr),this._loaded+=lr.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lr=(0,rr.createPromiseCapability)();return this._requests.push(lr),lr.promise}cancel(lr){this._done=!0;for(const fr of this._requests)fr.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class or{constructor(lr,fr,cr){this._stream=lr,this._begin=fr,this._end=cr,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(lr){if(!this._done){if(this._requests.length===0)this._queuedChunk=lr;else{this._requests.shift().resolve({value:lr,done:!1});for(const cr of this._requests)cr.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const fr=this._queuedChunk;return this._queuedChunk=null,{value:fr,done:!1}}if(this._done)return{value:void 0,done:!0};const lr=(0,rr.createPromiseCapability)();return this._requests.push(lr),lr.promise}cancel(lr){this._done=!0;for(const fr of this._requests)fr.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.XfaText=void 0;class tr{static textContent(nr){const ar=[],dr={items:ar,styles:Object.create(null)};function or(ir){if(!ir)return;let lr=null;const fr=ir.name;if(fr==="#text")lr=ir.value;else if(tr.shouldBuildText(fr))ir?.attributes?.textContent?lr=ir.attributes.textContent:ir.value&&(lr=ir.value);else return;if(lr!==null&&ar.push({str:lr}),!!ir.children)for(const cr of ir.children)or(cr)}return or(nr),dr}static shouldBuildText(nr){return!(nr==="textarea"||nr==="input"||nr==="option"||nr==="select")}}er.XfaText=tr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.NodeStandardFontDataFactory=er.NodeCanvasFactory=er.NodeCMapReaderFactory=void 0;var rr=tr(7);const nr=function(ir){return new Promise((lr,fr)=>{require$$5.readFile(ir,(ur,sr)=>{if(ur||!sr){fr(new Error(ur));return}lr(new Uint8Array(sr))})})};class ar extends rr.BaseCanvasFactory{_createCanvas(lr,fr){return require$$5.createCanvas(lr,fr)}}er.NodeCanvasFactory=ar;class dr extends rr.BaseCMapReaderFactory{_fetchData(lr,fr){return nr(lr).then(cr=>({cMapData:cr,compressionType:fr}))}}er.NodeCMapReaderFactory=dr;class or extends rr.BaseStandardFontDataFactory{_fetchData(lr){return nr(lr)}}er.NodeStandardFontDataFactory=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationEditorLayer=void 0;var rr=tr(5),nr=tr(1),ar=tr(22),dr=tr(23);class or{#e;#t=!1;#i=this.pointerup.bind(this);#r=this.pointerdown.bind(this);#a=new Map;#l=!1;#c=!1;#n;static _initialized=!1;constructor(lr){or._initialized||(or._initialized=!0,ar.FreeTextEditor.initialize(lr.l10n),dr.InkEditor.initialize(lr.l10n)),lr.uiManager.registerEditorTypes([ar.FreeTextEditor,dr.InkEditor]),this.#n=lr.uiManager,this.annotationStorage=lr.annotationStorage,this.pageIndex=lr.pageIndex,this.div=lr.div,this.#e=lr.accessibilityManager,this.#n.addLayer(this)}updateToolbar(lr){this.#n.updateToolbar(lr)}updateMode(lr=this.#n.getMode()){this.#f(),lr===nr.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#n.unselectAll(),this.div.classList.toggle("freeTextEditing",lr===nr.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",lr===nr.AnnotationEditorType.INK)}addInkEditorIfNeeded(lr){if(!lr&&this.#n.getMode()!==nr.AnnotationEditorType.INK)return;if(!lr){for(const cr of this.#a.values())if(cr.isEmpty()){cr.setInBackground();return}}this.#o({offsetX:0,offsetY:0}).setInBackground()}setEditingState(lr){this.#n.setEditingState(lr)}addCommands(lr){this.#n.addCommands(lr)}enable(){this.div.style.pointerEvents="auto";for(const lr of this.#a.values())lr.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const lr of this.#a.values())lr.disableEditing()}setActiveEditor(lr){this.#n.getActive()!==lr&&this.#n.setActiveEditor(lr)}enableClick(){this.div.addEventListener("pointerdown",this.#r),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#r),this.div.removeEventListener("pointerup",this.#i)}attach(lr){this.#a.set(lr.id,lr)}detach(lr){this.#a.delete(lr.id),this.#e?.removePointerInTextLayer(lr.contentDiv)}remove(lr){this.#n.removeEditor(lr),this.detach(lr),this.annotationStorage.remove(lr.id),lr.div.style.display="none",setTimeout(()=>{lr.div.style.display="",lr.div.remove(),lr.isAttachedToDOM=!1,document.activeElement===document.body&&this.#n.focusMainContainer()},0),this.#c||this.addInkEditorIfNeeded(!1)}#s(lr){lr.parent!==this&&(this.attach(lr),lr.pageIndex=this.pageIndex,lr.parent?.detach(lr),lr.parent=this,lr.div&&lr.isAttachedToDOM&&(lr.div.remove(),this.div.append(lr.div)))}add(lr){if(this.#s(lr),this.#n.addEditor(lr),this.attach(lr),!lr.isAttachedToDOM){const fr=lr.render();this.div.append(fr),lr.isAttachedToDOM=!0}this.moveEditorInDOM(lr),lr.onceAdded(),this.addToAnnotationStorage(lr)}moveEditorInDOM(lr){this.#e?.moveElementInDOM(this.div,lr.div,lr.contentDiv,!0)}addToAnnotationStorage(lr){!lr.isEmpty()&&!this.annotationStorage.has(lr.id)&&this.annotationStorage.setValue(lr.id,lr)}addOrRebuild(lr){lr.needsToBeRebuilt()?lr.rebuild():this.add(lr)}addANewEditor(lr){const fr=()=>{this.addOrRebuild(lr)},cr=()=>{lr.remove()};this.addCommands({cmd:fr,undo:cr,mustExec:!0})}addUndoableEditor(lr){const fr=()=>{this.addOrRebuild(lr)},cr=()=>{lr.remove()};this.addCommands({cmd:fr,undo:cr,mustExec:!1})}getNextId(){return this.#n.getId()}#u(lr){switch(this.#n.getMode()){case nr.AnnotationEditorType.FREETEXT:return new ar.FreeTextEditor(lr);case nr.AnnotationEditorType.INK:return new dr.InkEditor(lr)}return null}deserialize(lr){switch(lr.annotationType){case nr.AnnotationEditorType.FREETEXT:return ar.FreeTextEditor.deserialize(lr,this);case nr.AnnotationEditorType.INK:return dr.InkEditor.deserialize(lr,this)}return null}#o(lr){const fr=this.getNextId(),cr=this.#u({parent:this,id:fr,x:lr.offsetX,y:lr.offsetY});return cr&&this.add(cr),cr}setSelected(lr){this.#n.setSelected(lr)}toggleSelected(lr){this.#n.toggleSelected(lr)}isSelected(lr){return this.#n.isSelected(lr)}unselect(lr){this.#n.unselect(lr)}pointerup(lr){const fr=rr.KeyboardManager.platform.isMac;if(!(lr.button!==0||lr.ctrlKey&&fr)&&lr.target===this.div&&!!this.#l){if(this.#l=!1,!this.#t){this.#t=!0;return}this.#o(lr)}}pointerdown(lr){const fr=rr.KeyboardManager.platform.isMac;if(lr.button!==0||lr.ctrlKey&&fr||lr.target!==this.div)return;this.#l=!0;const cr=this.#n.getActive();this.#t=!cr||cr.isEmpty()}drop(lr){const fr=lr.dataTransfer.getData("text/plain"),cr=this.#n.getEditor(fr);if(!cr)return;lr.preventDefault(),lr.dataTransfer.dropEffect="move",this.#s(cr);const ur=this.div.getBoundingClientRect(),sr=lr.clientX-ur.x,hr=lr.clientY-ur.y;cr.translate(sr-cr.startX,hr-cr.startY),this.moveEditorInDOM(cr),cr.div.focus()}dragover(lr){lr.preventDefault()}destroy(){this.#n.getActive()?.parent===this&&this.#n.setActiveEditor(null);for(const lr of this.#a.values())this.#e?.removePointerInTextLayer(lr.contentDiv),lr.isAttachedToDOM=!1,lr.div.remove(),lr.parent=null;this.div=null,this.#a.clear(),this.#n.removeLayer(this)}#f(){this.#c=!0;for(const lr of this.#a.values())lr.isEmpty()&&lr.remove();this.#c=!1}render(lr){this.viewport=lr.viewport,(0,rr.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const fr of this.#n.getEditors(this.pageIndex))this.add(fr);this.updateMode()}update(lr){this.#n.commitOrRemove(),this.viewport=lr.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[lr,fr,cr,ur]=this.viewport.viewBox,sr=cr-lr,hr=ur-fr;return[sr,hr]}get viewportBaseDimensions(){const{width:lr,height:fr,rotation:cr}=this.viewport;return cr%180===0?[lr,fr]:[fr,lr]}setDimensions(){const{width:lr,height:fr,rotation:cr}=this.viewport,ur=cr%180!==0,sr=Math.floor(lr)+"px",hr=Math.floor(fr)+"px";this.div.style.width=ur?hr:sr,this.div.style.height=ur?sr:hr,this.div.setAttribute("data-main-rotation",cr)}}er.AnnotationEditorLayer=or},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.FreeTextEditor=void 0;var rr=tr(1),nr=tr(5),ar=tr(4);class dr extends ar.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#i=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#a;#l="";#c=`${this.id}-editor`;#n=!1;#s;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new nr.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],dr.prototype.commitOrRemove]]);static _type="freetext";constructor(ir){super({...ir,name:"freeTextEditor"}),this.#a=ir.color||dr._defaultColor||ar.AnnotationEditor._defaultLineColor,this.#s=ir.fontSize||dr._defaultFontSize}static initialize(ir){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(fr=>[fr,ir.get(fr)]));const lr=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(lr.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ir,lr){switch(ir){case rr.AnnotationEditorParamsType.FREETEXT_SIZE:dr._defaultFontSize=lr;break;case rr.AnnotationEditorParamsType.FREETEXT_COLOR:dr._defaultColor=lr;break}}updateParams(ir,lr){switch(ir){case rr.AnnotationEditorParamsType.FREETEXT_SIZE:this.#u(lr);break;case rr.AnnotationEditorParamsType.FREETEXT_COLOR:this.#o(lr);break}}static get defaultPropertiesToUpdate(){return[[rr.AnnotationEditorParamsType.FREETEXT_SIZE,dr._defaultFontSize],[rr.AnnotationEditorParamsType.FREETEXT_COLOR,dr._defaultColor||ar.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[rr.AnnotationEditorParamsType.FREETEXT_SIZE,this.#s],[rr.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#u(ir){const lr=cr=>{this.editorDiv.style.fontSize=`calc(${cr}px * var(--scale-factor))`,this.translate(0,-(cr-this.#s)*this.parent.scaleFactor),this.#s=cr,this.#p()},fr=this.#s;this.parent.addCommands({cmd:()=>{lr(ir)},undo:()=>{lr(fr)},mustExec:!0,type:rr.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(ir){const lr=this.#a;this.parent.addCommands({cmd:()=>{this.#a=ir,this.editorDiv.style.color=ir},undo:()=>{this.#a=lr,this.editorDiv.style.color=lr},mustExec:!0,type:rr.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-dr._internalPadding*this.parent.scaleFactor,-(dr._internalPadding+this.#s)*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(rr.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#i))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#c),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#i),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ir){super.focusin(ir),ir.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}#f(){const ir=this.editorDiv.getElementsByTagName("div");if(ir.length===0)return this.editorDiv.innerText;const lr=[];for(const fr of ir){const cr=fr.firstChild;cr?.nodeName==="#text"?lr.push(cr.data):lr.push("")}return lr.join(`
`)}#p(){const[ir,lr]=this.parent.viewportBaseDimensions,fr=this.div.getBoundingClientRect();this.width=fr.width/ir,this.height=fr.height/lr}commit(){super.commit(),this.#n||(this.#n=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#l=this.#f().trimEnd(),this.#p()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ir){this.enableEditMode(),this.editorDiv.focus()}keydown(ir){ir.target===this.div&&ir.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ir){dr._keyboardManager.exec(this,ir)}editorDivFocus(ir){this.isEditing=!0}editorDivBlur(ir){this.isEditing=!1}editorDivInput(ir){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ir,lr;this.width&&(ir=this.x,lr=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#c),this.enableEditing(),dr._l10nPromise.get("editor_free_text2_aria_label").then(cr=>this.editorDiv?.setAttribute("aria-label",cr)),dr._l10nPromise.get("free_text2_default_content").then(cr=>this.editorDiv?.setAttribute("default-content",cr)),this.editorDiv.contentEditable=!0;const{style:fr}=this.editorDiv;if(fr.fontSize=`calc(${this.#s}px * var(--scale-factor))`,fr.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,nr.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[cr,ur]=this.parent.viewportBaseDimensions;this.setAt(ir*cr,lr*ur,this.width*cr,this.height*ur);for(const sr of this.#l.split(`
`)){const hr=document.createElement("div");hr.append(sr?document.createTextNode(sr):document.createElement("br")),this.editorDiv.append(hr)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ir,lr){const fr=super.deserialize(ir,lr);return fr.#s=ir.fontSize,fr.#a=rr.Util.makeHexColor(...ir.color),fr.#l=ir.value,fr}serialize(){if(this.isEmpty())return null;const ir=dr._internalPadding*this.parent.scaleFactor,lr=this.getRect(ir,ir),fr=ar.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:rr.AnnotationEditorType.FREETEXT,color:fr,fontSize:this.#s,value:this.#l,pageIndex:this.parent.pageIndex,rect:lr,rotation:this.rotation}}}er.FreeTextEditor=dr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.InkEditor=void 0,Object.defineProperty(er,"fitCurve",{enumerable:!0,get:function(){return ar.fitCurve}});var rr=tr(1),nr=tr(4),ar=tr(24),dr=tr(5);const or=16,ir=100;class lr extends nr.AnnotationEditor{#e=0;#t=0;#i=0;#r=this.canvasPointermove.bind(this);#a=this.canvasPointerleave.bind(this);#l=this.canvasPointerup.bind(this);#c=this.canvasPointerdown.bind(this);#n=!1;#s=!1;#u=null;#o=null;#f=0;#p=0;#g=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(cr){super({...cr,name:"inkEditor"}),this.color=cr.color||null,this.thickness=cr.thickness||null,this.opacity=cr.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(cr){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ur=>[ur,cr.get(ur)]))}static updateDefaultParams(cr,ur){switch(cr){case rr.AnnotationEditorParamsType.INK_THICKNESS:lr._defaultThickness=ur;break;case rr.AnnotationEditorParamsType.INK_COLOR:lr._defaultColor=ur;break;case rr.AnnotationEditorParamsType.INK_OPACITY:lr._defaultOpacity=ur/100;break}}updateParams(cr,ur){switch(cr){case rr.AnnotationEditorParamsType.INK_THICKNESS:this.#C(ur);break;case rr.AnnotationEditorParamsType.INK_COLOR:this.#A(ur);break;case rr.AnnotationEditorParamsType.INK_OPACITY:this.#T(ur);break}}static get defaultPropertiesToUpdate(){return[[rr.AnnotationEditorParamsType.INK_THICKNESS,lr._defaultThickness],[rr.AnnotationEditorParamsType.INK_COLOR,lr._defaultColor||nr.AnnotationEditor._defaultLineColor],[rr.AnnotationEditorParamsType.INK_OPACITY,Math.round(lr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[rr.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||lr._defaultThickness],[rr.AnnotationEditorParamsType.INK_COLOR,this.color||lr._defaultColor||nr.AnnotationEditor._defaultLineColor],[rr.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??lr._defaultOpacity))]]}#C(cr){const ur=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=cr,this.#w()},undo:()=>{this.thickness=ur,this.#w()},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#A(cr){const ur=this.color;this.parent.addCommands({cmd:()=>{this.color=cr,this.#h()},undo:()=>{this.color=ur,this.#h()},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#T(cr){cr/=100;const ur=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=cr,this.#h()},undo:()=>{this.opacity=ur,this.#h()},mustExec:!0,type:rr.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(this.#m(),this.#S()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#w())}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#o.disconnect(),this.#o=null,super.remove())}enableEditMode(){this.#n||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#c),this.canvas.addEventListener("pointerup",this.#l))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#c),this.canvas.removeEventListener("pointerup",this.#l))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#k(){const{width:cr,height:ur,rotation:sr}=this.parent.viewport;switch(sr){case 90:return[0,cr,cr,ur];case 180:return[cr,ur,cr,ur];case 270:return[ur,0,cr,ur];default:return[0,0,cr,ur]}}#y(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,dr.opacityToHex)(this.opacity)}`}#P(cr,ur){this.isEditing=!0,this.#s||(this.#s=!0,this.#b(),this.thickness||=lr._defaultThickness,this.color||=lr._defaultColor||nr.AnnotationEditor._defaultLineColor,this.opacity??=lr._defaultOpacity),this.currentPath.push([cr,ur]),this.#u=null,this.#y(),this.ctx.beginPath(),this.ctx.moveTo(cr,ur),this.#g=()=>{!this.#g||(this.#u&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#h(),this.ctx.lineTo(...this.#u),this.#u=null,this.ctx.stroke()),window.requestAnimationFrame(this.#g))},window.requestAnimationFrame(this.#g)}#E(cr,ur){const[sr,hr]=this.currentPath.at(-1);cr===sr&&ur===hr||(this.currentPath.push([cr,ur]),this.#u=[cr,ur])}#O(cr,ur){this.ctx.closePath(),this.#g=null,cr=Math.min(Math.max(cr,0),this.canvas.width),ur=Math.min(Math.max(ur,0),this.canvas.height);const[sr,hr]=this.currentPath.at(-1);(cr!==sr||ur!==hr)&&this.currentPath.push([cr,ur]);let gr;if(this.currentPath.length!==1)gr=(0,ar.fitCurve)(this.currentPath,30,null);else{const yr=[cr,ur];gr=[[yr,yr.slice(),yr.slice(),yr]]}const pr=lr.#_(gr);this.currentPath.length=0;const mr=()=>{this.paths.push(gr),this.bezierPath2D.push(pr),this.rebuild()},vr=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#m(),this.#S()),this.#w())};this.parent.addCommands({cmd:mr,undo:vr,mustExec:!0})}#h(){if(this.isEmpty()){this.#v();return}this.#y();const{canvas:cr,ctx:ur}=this;ur.setTransform(1,0,0,1,0,0),ur.clearRect(0,0,cr.width,cr.height),this.#v();for(const sr of this.bezierPath2D)ur.stroke(sr)}commit(){this.#n||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#n=!0,this.div.classList.add("disabled"),this.#w(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(cr){super.focusin(cr),this.enableEditMode()}canvasPointerdown(cr){cr.button!==0||!this.isInEditMode()||this.#n||(this.setInForeground(),cr.type!=="mouse"&&this.div.focus(),cr.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#a),this.canvas.addEventListener("pointermove",this.#r),this.#P(cr.offsetX,cr.offsetY))}canvasPointermove(cr){cr.stopPropagation(),this.#E(cr.offsetX,cr.offsetY)}canvasPointerup(cr){cr.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(cr.stopPropagation(),this.#d(cr),this.setInBackground())}canvasPointerleave(cr){this.#d(cr),this.setInBackground()}#d(cr){this.#O(cr.offsetX,cr.offsetY),this.canvas.removeEventListener("pointerleave",this.#a),this.canvas.removeEventListener("pointermove",this.#r),this.parent.addToAnnotationStorage(this)}#m(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",lr._l10nPromise.get("editor_ink_canvas_aria_label").then(cr=>this.canvas?.setAttribute("aria-label",cr)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#S(){let cr=null;this.#o=new ResizeObserver(ur=>{const sr=ur[0].contentRect;sr.width&&sr.height&&(cr!==null&&clearTimeout(cr),cr=setTimeout(()=>{this.fixDims(),cr=null},ir),this.setDimensions(sr.width,sr.height))}),this.#o.observe(this.div)}render(){if(this.div)return this.div;let cr,ur;this.width&&(cr=this.x,ur=this.y),super.render(),lr._l10nPromise.get("editor_ink2_aria_label").then(mr=>this.div?.setAttribute("aria-label",mr));const[sr,hr,gr,pr]=this.#k();if(this.setAt(sr,hr,0,0),this.setDims(gr,pr),this.#m(),this.width){const[mr,vr]=this.parent.viewportBaseDimensions;this.setAt(cr*mr,ur*vr,this.width*mr,this.height*vr),this.#s=!0,this.#b(),this.setDims(this.width*mr,this.height*vr),this.#h(),this.#D(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#S(),this.div}#b(){if(!this.#s)return;const[cr,ur]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*cr),this.canvas.height=Math.ceil(this.height*ur),this.#v()}setDimensions(cr,ur){const sr=Math.round(cr),hr=Math.round(ur);if(this.#f===sr&&this.#p===hr)return;this.#f=sr,this.#p=hr,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-cr/ur)>.01&&(ur=Math.ceil(cr/this.#e),this.setDims(cr,ur));const[gr,pr]=this.parent.viewportBaseDimensions;this.width=cr/gr,this.height=ur/pr,this.#n&&this.#x(cr,ur),this.#b(),this.#h(),this.canvas.style.visibility="visible"}#x(cr,ur){const sr=this.#F(),hr=(cr-sr)/this.#i,gr=(ur-sr)/this.#t;this.scaleFactor=Math.min(hr,gr)}#v(){const cr=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+cr,this.translationY*this.scaleFactor+cr)}static#_(cr){const ur=new Path2D;for(let sr=0,hr=cr.length;sr<hr;sr++){const[gr,pr,mr,vr]=cr[sr];sr===0&&ur.moveTo(...gr),ur.bezierCurveTo(pr[0],pr[1],mr[0],mr[1],vr[0],vr[1])}return ur}#L(cr,ur,sr,hr){const pr=[],mr=this.thickness/2;let vr,yr;for(const br of this.paths){vr=[],yr=[];for(let xr=0,Cr=br.length;xr<Cr;xr++){const[kr,Pr,$r,Kr]=br[xr],Ir=cr*(kr[0]+ur)+mr,jr=hr-cr*(kr[1]+sr)-mr,Jr=cr*(Pr[0]+ur)+mr,zr=hr-cr*(Pr[1]+sr)-mr,Hr=cr*($r[0]+ur)+mr,Yr=hr-cr*($r[1]+sr)-mr,nn=cr*(Kr[0]+ur)+mr,Qr=hr-cr*(Kr[1]+sr)-mr;xr===0&&(vr.push(Ir,jr),yr.push(Ir,jr)),vr.push(Jr,zr,Hr,Yr,nn,Qr),this.#R(Ir,jr,Jr,zr,Hr,Yr,nn,Qr,4,yr)}pr.push({bezier:vr,points:yr})}return pr}#R(cr,ur,sr,hr,gr,pr,mr,vr,yr,br){if(this.#I(cr,ur,sr,hr,gr,pr,mr,vr)){br.push(mr,vr);return}for(let xr=1;xr<yr-1;xr++){const Cr=xr/yr,kr=1-Cr;let Pr=Cr*cr+kr*sr,$r=Cr*ur+kr*hr,Kr=Cr*sr+kr*gr,Ir=Cr*hr+kr*pr;const jr=Cr*gr+kr*mr,Jr=Cr*pr+kr*vr;Pr=Cr*Pr+kr*Kr,$r=Cr*$r+kr*Ir,Kr=Cr*Kr+kr*jr,Ir=Cr*Ir+kr*Jr,Pr=Cr*Pr+kr*Kr,$r=Cr*$r+kr*Ir,br.push(Pr,$r)}br.push(mr,vr)}#I(cr,ur,sr,hr,gr,pr,mr,vr){const br=(3*sr-2*cr-mr)**2,xr=(3*hr-2*ur-vr)**2,Cr=(3*gr-cr-2*mr)**2,kr=(3*pr-ur-2*vr)**2;return Math.max(br,Cr)+Math.max(xr,kr)<=10}#M(){let cr=1/0,ur=-1/0,sr=1/0,hr=-1/0;for(const gr of this.paths)for(const[pr,mr,vr,yr]of gr){const br=rr.Util.bezierBoundingBox(...pr,...mr,...vr,...yr);cr=Math.min(cr,br[0]),sr=Math.min(sr,br[1]),ur=Math.max(ur,br[2]),hr=Math.max(hr,br[3])}return[cr,sr,ur,hr]}#F(){return this.#n?Math.ceil(this.thickness*this.parent.scaleFactor):0}#w(cr=!1){if(this.isEmpty())return;if(!this.#n){this.#h();return}const ur=this.#M(),sr=this.#F();this.#i=Math.max(or,ur[2]-ur[0]),this.#t=Math.max(or,ur[3]-ur[1]);const hr=Math.ceil(sr+this.#i*this.scaleFactor),gr=Math.ceil(sr+this.#t*this.scaleFactor),[pr,mr]=this.parent.viewportBaseDimensions;this.width=hr/pr,this.height=gr/mr,this.#e=hr/gr,this.#D();const vr=this.translationX,yr=this.translationY;this.translationX=-ur[0],this.translationY=-ur[1],this.#b(),this.#h(),this.#f=hr,this.#p=gr,this.setDims(hr,gr);const br=cr?sr/this.scaleFactor/2:0;this.translate(vr-this.translationX-br,yr-this.translationY-br)}#D(){const{style:cr}=this.div;this.#e>=1?(cr.minHeight=`${or}px`,cr.minWidth=`${Math.round(this.#e*or)}px`):(cr.minWidth=`${or}px`,cr.minHeight=`${Math.round(or/this.#e)}px`)}static deserialize(cr,ur){const sr=super.deserialize(cr,ur);sr.thickness=cr.thickness,sr.color=rr.Util.makeHexColor(...cr.color),sr.opacity=cr.opacity;const[hr,gr]=ur.pageDimensions,pr=sr.width*hr,mr=sr.height*gr,vr=ur.scaleFactor,yr=cr.thickness/2;sr.#e=pr/mr,sr.#n=!0,sr.#f=Math.round(pr),sr.#p=Math.round(mr);for(const{bezier:xr}of cr.paths){const Cr=[];sr.paths.push(Cr);let kr=vr*(xr[0]-yr),Pr=vr*(mr-xr[1]-yr);for(let Kr=2,Ir=xr.length;Kr<Ir;Kr+=6){const jr=vr*(xr[Kr]-yr),Jr=vr*(mr-xr[Kr+1]-yr),zr=vr*(xr[Kr+2]-yr),Hr=vr*(mr-xr[Kr+3]-yr),Yr=vr*(xr[Kr+4]-yr),nn=vr*(mr-xr[Kr+5]-yr);Cr.push([[kr,Pr],[jr,Jr],[zr,Hr],[Yr,nn]]),kr=Yr,Pr=nn}const $r=this.#_(Cr);sr.bezierPath2D.push($r)}const br=sr.#M();return sr.#i=Math.max(or,br[2]-br[0]),sr.#t=Math.max(or,br[3]-br[1]),sr.#x(pr,mr),sr}serialize(){if(this.isEmpty())return null;const cr=this.getRect(0,0),ur=this.rotation%180===0?cr[3]-cr[1]:cr[2]-cr[0],sr=nr.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:rr.AnnotationEditorType.INK,color:sr,thickness:this.thickness,opacity:this.opacity,paths:this.#L(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,ur),pageIndex:this.parent.pageIndex,rect:cr,rotation:this.rotation}}}er.InkEditor=lr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.fitCurve=void 0;const rr=tr(25);er.fitCurve=rr},St=>{function er(hr,gr,pr){if(!Array.isArray(hr))throw new TypeError("First argument should be an array");if(hr.forEach(br=>{if(!Array.isArray(br)||br.some(xr=>typeof xr!="number")||br.length!==hr[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),hr=hr.filter((br,xr)=>xr===0||!br.every((Cr,kr)=>Cr===hr[xr-1][kr])),hr.length<2)return[];const mr=hr.length,vr=cr(hr[1],hr[0]),yr=cr(hr[mr-2],hr[mr-1]);return tr(hr,vr,yr,gr,pr)}function tr(hr,gr,pr,mr,vr){var br,xr,Cr,kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr,Yr;if(hr.length===2)return Hr=ur.vectorLen(ur.subtract(hr[0],hr[1]))/3,br=[hr[0],ur.addArrays(hr[0],ur.mulItems(gr,Hr)),ur.addArrays(hr[1],ur.mulItems(pr,Hr)),hr[1]],[br];if(xr=or(hr),[br,kr,$r]=rr(hr,xr,xr,gr,pr,vr),kr===0||kr<mr)return[br];if(kr<mr*mr)for(Cr=xr,Pr=kr,Kr=$r,Yr=0;Yr<20;Yr++){if(Cr=ar(br,hr,Cr),[br,kr,$r]=rr(hr,xr,Cr,gr,pr,vr),kr<mr)return[br];if($r===Kr){let nn=kr/Pr;if(nn>.9999&&nn<1.0001)break}Pr=kr,Kr=$r}return zr=[],Ir=ur.subtract(hr[$r-1],hr[$r+1]),Ir.every(nn=>nn===0)&&(Ir=ur.subtract(hr[$r-1],hr[$r]),[Ir[0],Ir[1]]=[-Ir[1],Ir[0]]),jr=ur.normalize(Ir),Jr=ur.mulItems(jr,-1),zr=zr.concat(tr(hr.slice(0,$r+1),gr,jr,mr,vr)),zr=zr.concat(tr(hr.slice($r),Jr,pr,mr,vr)),zr}function rr(hr,gr,pr,mr,vr,yr){var br,xr,Cr;return br=nr(hr,pr,mr,vr),[xr,Cr]=ir(hr,br,gr),yr&&yr({bez:br,points:hr,params:gr,maxErr:xr,maxPoint:Cr}),[br,xr,Cr]}function nr(hr,gr,pr,mr){var vr,yr,br,xr,Cr,kr,Pr,$r,Kr,Ir,jr,Jr,zr,Hr,Yr,nn,Qr,Or=hr[0],Er=hr[hr.length-1];for(vr=[Or,null,null,Er],yr=ur.zeros_Xx2x2(gr.length),zr=0,Hr=gr.length;zr<Hr;zr++)nn=gr[zr],Qr=1-nn,br=yr[zr],br[0]=ur.mulItems(pr,3*nn*(Qr*Qr)),br[1]=ur.mulItems(mr,3*Qr*(nn*nn));for(xr=[[0,0],[0,0]],Cr=[0,0],zr=0,Hr=hr.length;zr<Hr;zr++)nn=gr[zr],br=yr[zr],xr[0][0]+=ur.dot(br[0],br[0]),xr[0][1]+=ur.dot(br[0],br[1]),xr[1][0]+=ur.dot(br[0],br[1]),xr[1][1]+=ur.dot(br[1],br[1]),Yr=ur.subtract(hr[zr],sr.q([Or,Or,Er,Er],nn)),Cr[0]+=ur.dot(br[0],Yr),Cr[1]+=ur.dot(br[1],Yr);return kr=xr[0][0]*xr[1][1]-xr[1][0]*xr[0][1],Pr=xr[0][0]*Cr[1]-xr[1][0]*Cr[0],$r=Cr[0]*xr[1][1]-Cr[1]*xr[0][1],Kr=kr===0?0:$r/kr,Ir=kr===0?0:Pr/kr,Jr=ur.vectorLen(ur.subtract(Or,Er)),jr=1e-6*Jr,Kr<jr||Ir<jr?(vr[1]=ur.addArrays(Or,ur.mulItems(pr,Jr/3)),vr[2]=ur.addArrays(Er,ur.mulItems(mr,Jr/3))):(vr[1]=ur.addArrays(Or,ur.mulItems(pr,Kr)),vr[2]=ur.addArrays(Er,ur.mulItems(mr,Ir))),vr}function ar(hr,gr,pr){return pr.map((mr,vr)=>dr(hr,gr[vr],mr))}function dr(hr,gr,pr){var mr=ur.subtract(sr.q(hr,pr),gr),vr=sr.qprime(hr,pr),yr=ur.mulMatrix(mr,vr),br=ur.sum(ur.squareItems(vr))+2*ur.mulMatrix(mr,sr.qprimeprime(hr,pr));return br===0?pr:pr-yr/br}function or(hr){var gr=[],pr,mr,vr;return hr.forEach((yr,br)=>{pr=br?mr+ur.vectorLen(ur.subtract(yr,vr)):0,gr.push(pr),mr=pr,vr=yr}),gr=gr.map(yr=>yr/mr),gr}function ir(hr,gr,pr){var mr,vr,yr,br,xr,Cr,kr,Pr;vr=0,yr=Math.floor(hr.length/2);const $r=lr(gr,10);for(xr=0,Cr=hr.length;xr<Cr;xr++)kr=hr[xr],Pr=fr(gr,pr[xr],$r,10),br=ur.subtract(sr.q(gr,Pr),kr),mr=br[0]*br[0]+br[1]*br[1],mr>vr&&(vr=mr,yr=xr);return[vr,yr]}var lr=function(hr,gr){for(var pr,mr=[0],vr=hr[0],yr=0,br=1;br<=gr;br++)pr=sr.q(hr,br/gr),yr+=ur.vectorLen(ur.subtract(pr,vr)),mr.push(yr),vr=pr;return mr=mr.map(xr=>xr/yr),mr};function fr(hr,gr,pr,mr){if(gr<0)return 0;if(gr>1)return 1;for(var vr,yr,br,xr,Cr,kr=1;kr<=mr;kr++)if(gr<=pr[kr]){xr=(kr-1)/mr,br=kr/mr,yr=pr[kr-1],vr=pr[kr],Cr=(gr-yr)/(vr-yr)*(br-xr)+xr;break}return Cr}function cr(hr,gr){return ur.normalize(ur.subtract(hr,gr))}class ur{static zeros_Xx2x2(gr){for(var pr=[];gr--;)pr.push([0,0]);return pr}static mulItems(gr,pr){return gr.map(mr=>mr*pr)}static mulMatrix(gr,pr){return gr.reduce((mr,vr,yr)=>mr+vr*pr[yr],0)}static subtract(gr,pr){return gr.map((mr,vr)=>mr-pr[vr])}static addArrays(gr,pr){return gr.map((mr,vr)=>mr+pr[vr])}static addItems(gr,pr){return gr.map(mr=>mr+pr)}static sum(gr){return gr.reduce((pr,mr)=>pr+mr)}static dot(gr,pr){return ur.mulMatrix(gr,pr)}static vectorLen(gr){return Math.hypot(...gr)}static divItems(gr,pr){return gr.map(mr=>mr/pr)}static squareItems(gr){return gr.map(pr=>pr*pr)}static normalize(gr){return this.divItems(gr,this.vectorLen(gr))}}class sr{static q(gr,pr){var mr=1-pr,vr=ur.mulItems(gr[0],mr*mr*mr),yr=ur.mulItems(gr[1],3*mr*mr*pr),br=ur.mulItems(gr[2],3*mr*pr*pr),xr=ur.mulItems(gr[3],pr*pr*pr);return ur.addArrays(ur.addArrays(vr,yr),ur.addArrays(br,xr))}static qprime(gr,pr){var mr=1-pr,vr=ur.mulItems(ur.subtract(gr[1],gr[0]),3*mr*mr),yr=ur.mulItems(ur.subtract(gr[2],gr[1]),6*mr*pr),br=ur.mulItems(ur.subtract(gr[3],gr[2]),3*pr*pr);return ur.addArrays(ur.addArrays(vr,yr),br)}static qprimeprime(gr,pr){return ur.addArrays(ur.mulItems(ur.addArrays(ur.subtract(gr[2],ur.mulItems(gr[1],2)),gr[0]),6*(1-pr)),ur.mulItems(ur.addArrays(ur.subtract(gr[3],ur.mulItems(gr[2],2)),gr[1]),6*pr))}}St.exports=er,St.exports.fitCubic=tr,St.exports.createTangent=cr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.AnnotationLayer=void 0;var rr=tr(1),nr=tr(6),ar=tr(3),dr=tr(27),or=tr(28);const ir=1e3,lr=9,fr=new WeakSet;function cr(Lr){return{width:Lr[2]-Lr[0],height:Lr[3]-Lr[1]}}class ur{static create(_r){switch(_r.data.annotationType){case rr.AnnotationType.LINK:return new hr(_r);case rr.AnnotationType.TEXT:return new gr(_r);case rr.AnnotationType.WIDGET:switch(_r.data.fieldType){case"Tx":return new mr(_r);case"Btn":return _r.data.radioButton?new yr(_r):_r.data.checkBox?new vr(_r):new br(_r);case"Ch":return new xr(_r)}return new pr(_r);case rr.AnnotationType.POPUP:return new Cr(_r);case rr.AnnotationType.FREETEXT:return new Pr(_r);case rr.AnnotationType.LINE:return new $r(_r);case rr.AnnotationType.SQUARE:return new Kr(_r);case rr.AnnotationType.CIRCLE:return new Ir(_r);case rr.AnnotationType.POLYLINE:return new jr(_r);case rr.AnnotationType.CARET:return new zr(_r);case rr.AnnotationType.INK:return new Hr(_r);case rr.AnnotationType.POLYGON:return new Jr(_r);case rr.AnnotationType.HIGHLIGHT:return new Yr(_r);case rr.AnnotationType.UNDERLINE:return new nn(_r);case rr.AnnotationType.SQUIGGLY:return new Qr(_r);case rr.AnnotationType.STRIKEOUT:return new Or(_r);case rr.AnnotationType.STAMP:return new Er(_r);case rr.AnnotationType.FILEATTACHMENT:return new Dr(_r);default:return new sr(_r)}}}class sr{constructor(_r,{isRenderable:wr=!1,ignoreBorder:Fr=!1,createQuadrilaterals:Nr=!1}={}){this.isRenderable=wr,this.data=_r.data,this.layer=_r.layer,this.page=_r.page,this.viewport=_r.viewport,this.linkService=_r.linkService,this.downloadManager=_r.downloadManager,this.imageResourcesPath=_r.imageResourcesPath,this.renderForms=_r.renderForms,this.svgFactory=_r.svgFactory,this.annotationStorage=_r.annotationStorage,this.enableScripting=_r.enableScripting,this.hasJSActions=_r.hasJSActions,this._fieldObjects=_r.fieldObjects,this._mouseState=_r.mouseState,wr&&(this.container=this._createContainer(Fr)),Nr&&(this.quadrilaterals=this._createQuadrilaterals(Fr))}_createContainer(_r=!1){const wr=this.data,Fr=this.page,Nr=this.viewport,Br=document.createElement("section"),{width:Ur,height:Zr}=cr(wr.rect),[an,qr,Gr,Xr]=Nr.viewBox,en=Gr-an,Wr=Xr-qr;Br.setAttribute("data-annotation-id",wr.id);const cn=rr.Util.normalizeRect([wr.rect[0],Fr.view[3]-wr.rect[1]+Fr.view[1],wr.rect[2],Fr.view[3]-wr.rect[3]+Fr.view[1]]);if(!_r&&wr.borderStyle.width>0){Br.style.borderWidth=`${wr.borderStyle.width}px`;const gn=wr.borderStyle.horizontalCornerRadius,wn=wr.borderStyle.verticalCornerRadius;if(gn>0||wn>0){const vn=`calc(${gn}px * var(--scale-factor)) / calc(${wn}px * var(--scale-factor))`;Br.style.borderRadius=vn}else if(this instanceof yr){const vn=`calc(${Ur}px * var(--scale-factor)) / calc(${Zr}px * var(--scale-factor))`;Br.style.borderRadius=vn}switch(wr.borderStyle.style){case rr.AnnotationBorderStyleType.SOLID:Br.style.borderStyle="solid";break;case rr.AnnotationBorderStyleType.DASHED:Br.style.borderStyle="dashed";break;case rr.AnnotationBorderStyleType.BEVELED:(0,rr.warn)("Unimplemented border style: beveled");break;case rr.AnnotationBorderStyleType.INSET:(0,rr.warn)("Unimplemented border style: inset");break;case rr.AnnotationBorderStyleType.UNDERLINE:Br.style.borderBottomStyle="solid";break}const yn=wr.borderColor||null;yn?Br.style.borderColor=rr.Util.makeHexColor(yn[0]|0,yn[1]|0,yn[2]|0):Br.style.borderWidth=0}Br.style.left=`${100*(cn[0]-an)/en}%`,Br.style.top=`${100*(cn[1]-qr)/Wr}%`;const{rotation:fn}=wr;return wr.hasOwnCanvas||fn===0?(Br.style.width=`${100*Ur/en}%`,Br.style.height=`${100*Zr/Wr}%`):this.setRotation(fn,Br),Br}setRotation(_r,wr=this.container){const[Fr,Nr,Br,Ur]=this.viewport.viewBox,Zr=Br-Fr,an=Ur-Nr,{width:qr,height:Gr}=cr(this.data.rect);let Xr,en;_r%180===0?(Xr=100*qr/Zr,en=100*Gr/an):(Xr=100*Gr/Zr,en=100*qr/an),wr.style.width=`${Xr}%`,wr.style.height=`${en}%`,wr.setAttribute("data-main-rotation",(360-_r)%360)}get _commonActions(){const _r=(wr,Fr,Nr)=>{const Br=Nr.detail[wr];Nr.target.style[Fr]=dr.ColorConverters[`${Br[0]}_HTML`](Br.slice(1))};return(0,rr.shadow)(this,"_commonActions",{display:wr=>{const Fr=wr.detail.display%2===1;this.container.style.visibility=Fr?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Fr,print:wr.detail.display===0||wr.detail.display===3})},print:wr=>{this.annotationStorage.setValue(this.data.id,{print:wr.detail.print})},hidden:wr=>{this.container.style.visibility=wr.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:wr.detail.hidden})},focus:wr=>{setTimeout(()=>wr.target.focus({preventScroll:!1}),0)},userName:wr=>{wr.target.title=wr.detail.userName},readonly:wr=>{wr.detail.readonly?wr.target.setAttribute("readonly",""):wr.target.removeAttribute("readonly")},required:wr=>{this._setRequired(wr.target,wr.detail.required)},bgColor:wr=>{_r("bgColor","backgroundColor",wr)},fillColor:wr=>{_r("fillColor","backgroundColor",wr)},fgColor:wr=>{_r("fgColor","color",wr)},textColor:wr=>{_r("textColor","color",wr)},borderColor:wr=>{_r("borderColor","borderColor",wr)},strokeColor:wr=>{_r("strokeColor","borderColor",wr)},rotation:wr=>{const Fr=wr.detail.rotation;this.setRotation(Fr),this.annotationStorage.setValue(this.data.id,{rotation:Fr})}})}_dispatchEventFromSandbox(_r,wr){const Fr=this._commonActions;for(const Nr of Object.keys(wr.detail))(_r[Nr]||Fr[Nr])?.(wr)}_setDefaultPropertiesFromJS(_r){if(!this.enableScripting)return;const wr=this.annotationStorage.getRawValue(this.data.id);if(!wr)return;const Fr=this._commonActions;for(const[Nr,Br]of Object.entries(wr)){const Ur=Fr[Nr];if(Ur){const Zr={detail:{[Nr]:Br},target:_r};Ur(Zr),delete wr[Nr]}}}_createQuadrilaterals(_r=!1){if(!this.data.quadPoints)return null;const wr=[],Fr=this.data.rect;for(const Nr of this.data.quadPoints)this.data.rect=[Nr[2].x,Nr[2].y,Nr[1].x,Nr[1].y],wr.push(this._createContainer(_r));return this.data.rect=Fr,wr}_createPopup(_r,wr){let Fr=this.container;this.quadrilaterals&&(_r=_r||this.quadrilaterals,Fr=this.quadrilaterals[0]),_r||(_r=document.createElement("div"),_r.className="popupTriggerArea",Fr.append(_r));const Br=new kr({container:Fr,trigger:_r,color:wr.color,titleObj:wr.titleObj,modificationDate:wr.modificationDate,contentsObj:wr.contentsObj,richText:wr.richText,hideWrapper:!0}).render();Br.style.left="100%",Fr.append(Br)}_renderQuadrilaterals(_r){for(const wr of this.quadrilaterals)wr.className=_r;return this.quadrilaterals}render(){(0,rr.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(_r,wr=null){const Fr=[];if(this._fieldObjects){const Nr=this._fieldObjects[_r];if(Nr)for(const{page:Br,id:Ur,exportValues:Zr}of Nr){if(Br===-1||Ur===wr)continue;const an=typeof Zr=="string"?Zr:null,qr=document.querySelector(`[data-element-id="${Ur}"]`);if(qr&&!fr.has(qr)){(0,rr.warn)(`_getElementsByName - element not allowed: ${Ur}`);continue}Fr.push({id:Ur,exportValue:an,domElement:qr})}return Fr}for(const Nr of document.getElementsByName(_r)){const{exportValue:Br}=Nr,Ur=Nr.getAttribute("data-element-id");Ur!==wr&&(!fr.has(Nr)||Fr.push({id:Ur,exportValue:Br,domElement:Nr}))}return Fr}static get platform(){const _r=typeof navigator<"u"?navigator.platform:"";return(0,rr.shadow)(this,"platform",{isWin:_r.includes("Win"),isMac:_r.includes("Mac")})}}class hr extends sr{constructor(_r,wr=null){super(_r,{isRenderable:!0,ignoreBorder:!!wr?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=_r.data.isTooltipOnly}render(){const{data:_r,linkService:wr}=this,Fr=document.createElement("a");Fr.setAttribute("data-element-id",_r.id);let Nr=!1;return _r.url?(wr.addLinkAttributes(Fr,_r.url,_r.newWindow),Nr=!0):_r.action?(this._bindNamedAction(Fr,_r.action),Nr=!0):_r.attachment?(this._bindAttachment(Fr,_r.attachment),Nr=!0):_r.setOCGState?(this.#e(Fr,_r.setOCGState),Nr=!0):_r.dest?(this._bindLink(Fr,_r.dest),Nr=!0):(_r.actions&&(_r.actions.Action||_r.actions["Mouse Up"]||_r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Fr,_r),Nr=!0),_r.resetForm?(this._bindResetFormAction(Fr,_r.resetForm),Nr=!0):this.isTooltipOnly&&!Nr&&(this._bindLink(Fr,""),Nr=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Br,Ur)=>{const Zr=Ur===0?Fr:Fr.cloneNode();return Br.append(Zr),Br}):(this.container.className="linkAnnotation",Nr&&this.container.append(Fr),this.container)}_bindLink(_r,wr){_r.href=this.linkService.getDestinationHash(wr),_r.onclick=()=>(wr&&this.linkService.goToDestination(wr),!1),(wr||wr==="")&&(_r.className="internalLink")}_bindNamedAction(_r,wr){_r.href=this.linkService.getAnchorUrl(""),_r.onclick=()=>(this.linkService.executeNamedAction(wr),!1),_r.className="internalLink"}_bindAttachment(_r,wr){_r.href=this.linkService.getAnchorUrl(""),_r.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,wr.content,wr.filename),!1),_r.className="internalLink"}#e(_r,wr){_r.href=this.linkService.getAnchorUrl(""),_r.onclick=()=>(this.linkService.executeSetOCGState(wr),!1),_r.className="internalLink"}_bindJSAction(_r,wr){_r.href=this.linkService.getAnchorUrl("");const Fr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Nr of Object.keys(wr.actions)){const Br=Fr.get(Nr);!Br||(_r[Br]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wr.id,name:Nr}}),!1))}_r.onclick||(_r.onclick=()=>!1),_r.className="internalLink"}_bindResetFormAction(_r,wr){const Fr=_r.onclick;if(Fr||(_r.href=this.linkService.getAnchorUrl("")),_r.className="internalLink",!this._fieldObjects){(0,rr.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Fr||(_r.onclick=()=>!1);return}_r.onclick=()=>{Fr?.();const{fields:Nr,refs:Br,include:Ur}=wr,Zr=[];if(Nr.length!==0||Br.length!==0){const Gr=new Set(Br);for(const Xr of Nr){const en=this._fieldObjects[Xr]||[];for(const{id:Wr}of en)Gr.add(Wr)}for(const Xr of Object.values(this._fieldObjects))for(const en of Xr)Gr.has(en.id)===Ur&&Zr.push(en)}else for(const Gr of Object.values(this._fieldObjects))Zr.push(...Gr);const an=this.annotationStorage,qr=[];for(const Gr of Zr){const{id:Xr}=Gr;switch(qr.push(Xr),Gr.type){case"text":{const Wr=Gr.defaultValue||"";an.setValue(Xr,{value:Wr});break}case"checkbox":case"radiobutton":{const Wr=Gr.defaultValue===Gr.exportValues;an.setValue(Xr,{value:Wr});break}case"combobox":case"listbox":{const Wr=Gr.defaultValue||"";an.setValue(Xr,{value:Wr});break}default:continue}const en=document.querySelector(`[data-element-id="${Xr}"]`);if(en){if(!fr.has(en)){(0,rr.warn)(`_bindResetFormAction - element not allowed: ${Xr}`);continue}}else continue;en.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qr,name:"ResetForm"}}),!1}}}class gr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr})}render(){this.container.className="textAnnotation";const _r=document.createElement("img");return _r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",_r.alt="[{{type}} Annotation]",_r.dataset.l10nId="text_annotation_type",_r.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(_r,this.data),this.container.append(_r),this.container}}class pr extends sr{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(_r){const{isWin:wr,isMac:Fr}=sr.platform;return wr&&_r.ctrlKey||Fr&&_r.metaKey}_setEventListener(_r,wr,Fr,Nr){wr.includes("mouse")?_r.addEventListener(wr,Br=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Fr,value:Nr(Br),shift:Br.shiftKey,modifier:this._getKeyModifier(Br)}})}):_r.addEventListener(wr,Br=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Fr,value:Nr(Br)}})})}_setEventListeners(_r,wr,Fr){for(const[Nr,Br]of wr)(Br==="Action"||this.data.actions?.[Br])&&this._setEventListener(_r,Nr,Br,Fr)}_setBackgroundColor(_r){const wr=this.data.backgroundColor||null;_r.style.backgroundColor=wr===null?"transparent":rr.Util.makeHexColor(wr[0],wr[1],wr[2])}_setTextStyle(_r){const wr=["left","center","right"],{fontColor:Fr}=this.data.defaultAppearanceData,Nr=this.data.defaultAppearanceData.fontSize||lr,Br=_r.style;let Ur;const Zr=2,an=qr=>Math.round(10*qr)/10;if(this.data.multiLine){const qr=Math.abs(this.data.rect[3]-this.data.rect[1]-Zr),Gr=Math.round(qr/(rr.LINE_FACTOR*Nr))||1,Xr=qr/Gr;Ur=Math.min(Nr,an(Xr/rr.LINE_FACTOR))}else{const qr=Math.abs(this.data.rect[3]-this.data.rect[1]-Zr);Ur=Math.min(Nr,an(qr/rr.LINE_FACTOR))}Br.fontSize=`calc(${Ur}px * var(--scale-factor))`,Br.color=rr.Util.makeHexColor(Fr[0],Fr[1],Fr[2]),this.data.textAlignment!==null&&(Br.textAlign=wr[this.data.textAlignment])}_setRequired(_r,wr){wr?_r.setAttribute("required",!0):_r.removeAttribute("required"),_r.setAttribute("aria-required",wr)}}class mr extends pr{constructor(_r){const wr=_r.renderForms||!_r.data.hasAppearance&&!!_r.data.fieldValue;super(_r,{isRenderable:wr})}setPropertyOnSiblings(_r,wr,Fr,Nr){const Br=this.annotationStorage;for(const Ur of this._getElementsByName(_r.name,_r.id))Ur.domElement&&(Ur.domElement[wr]=Fr),Br.setValue(Ur.id,{[Nr]:Fr})}render(){const _r=this.annotationStorage,wr=this.data.id;this.container.className="textWidgetAnnotation";let Fr=null;if(this.renderForms){const Nr=_r.getValue(wr,{value:this.data.fieldValue});let Br=Nr.formattedValue||Nr.value||"";const Ur=_r.getValue(wr,{charLimit:this.data.maxLen}).charLimit;Ur&&Br.length>Ur&&(Br=Br.slice(0,Ur));const Zr={userValue:Br,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Fr=document.createElement("textarea"),Fr.textContent=Br,this.data.doNotScroll&&(Fr.style.overflowY="hidden")):(Fr=document.createElement("input"),Fr.type="text",Fr.setAttribute("value",Br),this.data.doNotScroll&&(Fr.style.overflowX="hidden")),fr.add(Fr),Fr.setAttribute("data-element-id",wr),Fr.disabled=this.data.readOnly,Fr.name=this.data.fieldName,Fr.tabIndex=ir,this._setRequired(Fr,this.data.required),Ur&&(Fr.maxLength=Ur),Fr.addEventListener("input",qr=>{_r.setValue(wr,{value:qr.target.value}),this.setPropertyOnSiblings(Fr,"value",qr.target.value,"value")}),Fr.addEventListener("resetform",qr=>{const Gr=this.data.defaultFieldValue??"";Fr.value=Zr.userValue=Gr,Zr.formattedValue=null});let an=qr=>{const{formattedValue:Gr}=Zr;Gr!=null&&(qr.target.value=Gr),qr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Fr.addEventListener("focus",Gr=>{Zr.userValue&&(Gr.target.value=Zr.userValue),Zr.valueOnFocus=Gr.target.value}),Fr.addEventListener("updatefromsandbox",Gr=>{const Xr={value(en){Zr.userValue=en.detail.value??"",_r.setValue(wr,{value:Zr.userValue.toString()}),en.target.value=Zr.userValue},formattedValue(en){const{formattedValue:Wr}=en.detail;Zr.formattedValue=Wr,Wr!=null&&en.target!==document.activeElement&&(en.target.value=Wr),_r.setValue(wr,{formattedValue:Wr})},selRange(en){en.target.setSelectionRange(...en.detail.selRange)},charLimit:en=>{const{charLimit:Wr}=en.detail,{target:cn}=en;if(Wr===0){cn.removeAttribute("maxLength");return}cn.setAttribute("maxLength",Wr);let fn=Zr.userValue;!fn||fn.length<=Wr||(fn=fn.slice(0,Wr),cn.value=Zr.userValue=fn,_r.setValue(wr,{value:fn}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wr,name:"Keystroke",value:fn,willCommit:!0,commitKey:1,selStart:cn.selectionStart,selEnd:cn.selectionEnd}}))}};this._dispatchEventFromSandbox(Xr,Gr)}),Fr.addEventListener("keydown",Gr=>{let Xr=-1;if(Gr.key==="Escape"?Xr=0:Gr.key==="Enter"&&!this.data.multiLine?Xr=2:Gr.key==="Tab"&&(Xr=3),Xr===-1)return;const{value:en}=Gr.target;Zr.valueOnFocus!==en&&(Zr.userValue=en,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wr,name:"Keystroke",value:en,willCommit:!0,commitKey:Xr,selStart:Gr.target.selectionStart,selEnd:Gr.target.selectionEnd}}))});const qr=an;an=null,Fr.addEventListener("blur",Gr=>{const{value:Xr}=Gr.target;Zr.userValue=Xr,this._mouseState.isDown&&Zr.valueOnFocus!==Xr&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wr,name:"Keystroke",value:Xr,willCommit:!0,commitKey:1,selStart:Gr.target.selectionStart,selEnd:Gr.target.selectionEnd}}),qr(Gr)}),this.data.actions?.Keystroke&&Fr.addEventListener("beforeinput",Gr=>{const{data:Xr,target:en}=Gr,{value:Wr,selectionStart:cn,selectionEnd:fn}=en;let gn=cn,wn=fn;switch(Gr.inputType){case"deleteWordBackward":{const yn=Wr.substring(0,cn).match(/\w*[^\w]*$/);yn&&(gn-=yn[0].length);break}case"deleteWordForward":{const yn=Wr.substring(cn).match(/^[^\w]*\w*/);yn&&(wn+=yn[0].length);break}case"deleteContentBackward":cn===fn&&(gn-=1);break;case"deleteContentForward":cn===fn&&(wn+=1);break}Gr.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wr,name:"Keystroke",value:Wr,change:Xr||"",willCommit:!1,selStart:gn,selEnd:wn}})}),this._setEventListeners(Fr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gr=>Gr.target.value)}if(an&&Fr.addEventListener("blur",an),this.data.comb){const Gr=(this.data.rect[2]-this.data.rect[0])/Ur;Fr.classList.add("comb"),Fr.style.letterSpacing=`calc(${Gr}px * var(--scale-factor) - 1ch)`}}else Fr=document.createElement("div"),Fr.textContent=this.data.fieldValue,Fr.style.verticalAlign="middle",Fr.style.display="table-cell";return this._setTextStyle(Fr),this._setBackgroundColor(Fr),this._setDefaultPropertiesFromJS(Fr),this.container.append(Fr),this.container}}class vr extends pr{constructor(_r){super(_r,{isRenderable:_r.renderForms})}render(){const _r=this.annotationStorage,wr=this.data,Fr=wr.id;let Nr=_r.getValue(Fr,{value:wr.exportValue===wr.fieldValue}).value;typeof Nr=="string"&&(Nr=Nr!=="Off",_r.setValue(Fr,{value:Nr})),this.container.className="buttonWidgetAnnotation checkBox";const Br=document.createElement("input");return fr.add(Br),Br.setAttribute("data-element-id",Fr),Br.disabled=wr.readOnly,this._setRequired(Br,this.data.required),Br.type="checkbox",Br.name=wr.fieldName,Nr&&Br.setAttribute("checked",!0),Br.setAttribute("exportValue",wr.exportValue),Br.tabIndex=ir,Br.addEventListener("change",Ur=>{const{name:Zr,checked:an}=Ur.target;for(const qr of this._getElementsByName(Zr,Fr)){const Gr=an&&qr.exportValue===wr.exportValue;qr.domElement&&(qr.domElement.checked=Gr),_r.setValue(qr.id,{value:Gr})}_r.setValue(Fr,{value:an})}),Br.addEventListener("resetform",Ur=>{const Zr=wr.defaultFieldValue||"Off";Ur.target.checked=Zr===wr.exportValue}),this.enableScripting&&this.hasJSActions&&(Br.addEventListener("updatefromsandbox",Ur=>{const Zr={value(an){an.target.checked=an.detail.value!=="Off",_r.setValue(Fr,{value:an.target.checked})}};this._dispatchEventFromSandbox(Zr,Ur)}),this._setEventListeners(Br,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ur=>Ur.target.checked)),this._setBackgroundColor(Br),this._setDefaultPropertiesFromJS(Br),this.container.append(Br),this.container}}class yr extends pr{constructor(_r){super(_r,{isRenderable:_r.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const _r=this.annotationStorage,wr=this.data,Fr=wr.id;let Nr=_r.getValue(Fr,{value:wr.fieldValue===wr.buttonValue}).value;typeof Nr=="string"&&(Nr=Nr!==wr.buttonValue,_r.setValue(Fr,{value:Nr}));const Br=document.createElement("input");if(fr.add(Br),Br.setAttribute("data-element-id",Fr),Br.disabled=wr.readOnly,this._setRequired(Br,this.data.required),Br.type="radio",Br.name=wr.fieldName,Nr&&Br.setAttribute("checked",!0),Br.tabIndex=ir,Br.addEventListener("change",Ur=>{const{name:Zr,checked:an}=Ur.target;for(const qr of this._getElementsByName(Zr,Fr))_r.setValue(qr.id,{value:!1});_r.setValue(Fr,{value:an})}),Br.addEventListener("resetform",Ur=>{const Zr=wr.defaultFieldValue;Ur.target.checked=Zr!=null&&Zr===wr.buttonValue}),this.enableScripting&&this.hasJSActions){const Ur=wr.buttonValue;Br.addEventListener("updatefromsandbox",Zr=>{const an={value:qr=>{const Gr=Ur===qr.detail.value;for(const Xr of this._getElementsByName(qr.target.name)){const en=Gr&&Xr.id===Fr;Xr.domElement&&(Xr.domElement.checked=en),_r.setValue(Xr.id,{value:en})}}};this._dispatchEventFromSandbox(an,Zr)}),this._setEventListeners(Br,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zr=>Zr.target.checked)}return this._setBackgroundColor(Br),this._setDefaultPropertiesFromJS(Br),this.container.append(Br),this.container}}class br extends hr{constructor(_r){super(_r,{ignoreBorder:_r.data.hasAppearance})}render(){const _r=super.render();_r.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(_r.title=this.data.alternativeText);const wr=_r.lastChild;return this.enableScripting&&this.hasJSActions&&wr&&(this._setDefaultPropertiesFromJS(wr),wr.addEventListener("updatefromsandbox",Fr=>{this._dispatchEventFromSandbox({},Fr)})),_r}}class xr extends pr{constructor(_r){super(_r,{isRenderable:_r.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const _r=this.annotationStorage,wr=this.data.id,Fr=_r.getValue(wr,{value:this.data.fieldValue}),Nr=document.createElement("select");fr.add(Nr),Nr.setAttribute("data-element-id",wr),Nr.disabled=this.data.readOnly,this._setRequired(Nr,this.data.required),Nr.name=this.data.fieldName,Nr.tabIndex=ir;let Br=this.data.combo&&this.data.options.length>0;this.data.combo||(Nr.size=this.data.options.length,this.data.multiSelect&&(Nr.multiple=!0)),Nr.addEventListener("resetform",qr=>{const Gr=this.data.defaultFieldValue;for(const Xr of Nr.options)Xr.selected=Xr.value===Gr});for(const qr of this.data.options){const Gr=document.createElement("option");Gr.textContent=qr.displayValue,Gr.value=qr.exportValue,Fr.value.includes(qr.exportValue)&&(Gr.setAttribute("selected",!0),Br=!1),Nr.append(Gr)}let Ur=null;if(Br){const qr=document.createElement("option");qr.value=" ",qr.setAttribute("hidden",!0),qr.setAttribute("selected",!0),Nr.prepend(qr),Ur=()=>{qr.remove(),Nr.removeEventListener("input",Ur),Ur=null},Nr.addEventListener("input",Ur)}const Zr=(qr,Gr)=>{const Xr=Gr?"value":"textContent",en=qr.target.options;return qr.target.multiple?Array.prototype.filter.call(en,Wr=>Wr.selected).map(Wr=>Wr[Xr]):en.selectedIndex===-1?null:en[en.selectedIndex][Xr]},an=qr=>{const Gr=qr.target.options;return Array.prototype.map.call(Gr,Xr=>({displayValue:Xr.textContent,exportValue:Xr.value}))};return this.enableScripting&&this.hasJSActions?(Nr.addEventListener("updatefromsandbox",qr=>{const Gr={value(Xr){Ur?.();const en=Xr.detail.value,Wr=new Set(Array.isArray(en)?en:[en]);for(const cn of Nr.options)cn.selected=Wr.has(cn.value);_r.setValue(wr,{value:Zr(Xr,!0)})},multipleSelection(Xr){Nr.multiple=!0},remove(Xr){const en=Nr.options,Wr=Xr.detail.remove;en[Wr].selected=!1,Nr.remove(Wr),en.length>0&&Array.prototype.findIndex.call(en,fn=>fn.selected)===-1&&(en[0].selected=!0),_r.setValue(wr,{value:Zr(Xr,!0),items:an(Xr)})},clear(Xr){for(;Nr.length!==0;)Nr.remove(0);_r.setValue(wr,{value:null,items:[]})},insert(Xr){const{index:en,displayValue:Wr,exportValue:cn}=Xr.detail.insert,fn=Nr.children[en],gn=document.createElement("option");gn.textContent=Wr,gn.value=cn,fn?fn.before(gn):Nr.append(gn),_r.setValue(wr,{value:Zr(Xr,!0),items:an(Xr)})},items(Xr){const{items:en}=Xr.detail;for(;Nr.length!==0;)Nr.remove(0);for(const Wr of en){const{displayValue:cn,exportValue:fn}=Wr,gn=document.createElement("option");gn.textContent=cn,gn.value=fn,Nr.append(gn)}Nr.options.length>0&&(Nr.options[0].selected=!0),_r.setValue(wr,{value:Zr(Xr,!0),items:an(Xr)})},indices(Xr){const en=new Set(Xr.detail.indices);for(const Wr of Xr.target.options)Wr.selected=en.has(Wr.index);_r.setValue(wr,{value:Zr(Xr,!0)})},editable(Xr){Xr.target.disabled=!Xr.detail.editable}};this._dispatchEventFromSandbox(Gr,qr)}),Nr.addEventListener("input",qr=>{const Gr=Zr(qr,!0),Xr=Zr(qr,!1);_r.setValue(wr,{value:Gr}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:wr,name:"Keystroke",value:Xr,changeEx:Gr,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Nr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],qr=>qr.target.checked)):Nr.addEventListener("input",function(qr){_r.setValue(wr,{value:Zr(qr,!0)})}),this.data.combo&&this._setTextStyle(Nr),this._setBackgroundColor(Nr),this._setDefaultPropertiesFromJS(Nr),this.container.append(Nr),this.container}}class Cr extends sr{static IGNORE_TYPES=new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]);constructor(_r){const{data:wr}=_r,Fr=!Cr.IGNORE_TYPES.has(wr.parentType)&&!!(wr.titleObj?.str||wr.contentsObj?.str||wr.richText?.str);super(_r,{isRenderable:Fr})}render(){this.container.className="popupAnnotation";const _r=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(_r.length===0)return this.container;const wr=new kr({container:this.container,trigger:Array.from(_r),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Fr=this.page,Nr=rr.Util.normalizeRect([this.data.parentRect[0],Fr.view[3]-this.data.parentRect[1]+Fr.view[1],this.data.parentRect[2],Fr.view[3]-this.data.parentRect[3]+Fr.view[1]]),Br=Nr[0]+this.data.parentRect[2]-this.data.parentRect[0],Ur=Nr[1],[Zr,an,qr,Gr]=this.viewport.viewBox,Xr=qr-Zr,en=Gr-an;return this.container.style.left=`${100*(Br-Zr)/Xr}%`,this.container.style.top=`${100*(Ur-an)/en}%`,this.container.append(wr.render()),this.container}}class kr{constructor(_r){this.container=_r.container,this.trigger=_r.trigger,this.color=_r.color,this.titleObj=_r.titleObj,this.modificationDate=_r.modificationDate,this.contentsObj=_r.contentsObj,this.richText=_r.richText,this.hideWrapper=_r.hideWrapper||!1,this.pinned=!1}render(){const wr=document.createElement("div");wr.className="popupWrapper",this.hideElement=this.hideWrapper?wr:this.container,this.hideElement.hidden=!0;const Fr=document.createElement("div");Fr.className="popup";const Nr=this.color;if(Nr){const Zr=.7*(255-Nr[0])+Nr[0],an=.7*(255-Nr[1])+Nr[1],qr=.7*(255-Nr[2])+Nr[2];Fr.style.backgroundColor=rr.Util.makeHexColor(Zr|0,an|0,qr|0)}const Br=document.createElement("h1");Br.dir=this.titleObj.dir,Br.textContent=this.titleObj.str,Fr.append(Br);const Ur=nr.PDFDateString.toDateObject(this.modificationDate);if(Ur){const Zr=document.createElement("span");Zr.className="popupDate",Zr.textContent="{{date}}, {{time}}",Zr.dataset.l10nId="annotation_date_string",Zr.dataset.l10nArgs=JSON.stringify({date:Ur.toLocaleDateString(),time:Ur.toLocaleTimeString()}),Fr.append(Zr)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))or.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Fr}),Fr.lastChild.className="richText popupContent";else{const Zr=this._formatContents(this.contentsObj);Fr.append(Zr)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Zr of this.trigger)Zr.addEventListener("click",this._toggle.bind(this)),Zr.addEventListener("mouseover",this._show.bind(this,!1)),Zr.addEventListener("mouseout",this._hide.bind(this,!1));return Fr.addEventListener("click",this._hide.bind(this,!0)),wr.append(Fr),wr}_formatContents({str:_r,dir:wr}){const Fr=document.createElement("p");Fr.className="popupContent",Fr.dir=wr;const Nr=_r.split(/(?:\r\n?|\n)/);for(let Br=0,Ur=Nr.length;Br<Ur;++Br){const Zr=Nr[Br];Fr.append(document.createTextNode(Zr)),Br<Ur-1&&Fr.append(document.createElement("br"))}return Fr}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(_r=!1){_r&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(_r=!0){_r&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Pr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0}),this.textContent=_r.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const _r=document.createElement("div");_r.className="annotationTextContent",_r.setAttribute("role","comment");for(const wr of this.textContent){const Fr=document.createElement("span");Fr.textContent=wr,_r.append(Fr)}this.container.append(_r)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class $r extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const _r=this.data,{width:wr,height:Fr}=cr(_r.rect),Nr=this.svgFactory.create(wr,Fr,!0),Br=this.svgFactory.createElement("svg:line");return Br.setAttribute("x1",_r.rect[2]-_r.lineCoordinates[0]),Br.setAttribute("y1",_r.rect[3]-_r.lineCoordinates[1]),Br.setAttribute("x2",_r.rect[2]-_r.lineCoordinates[2]),Br.setAttribute("y2",_r.rect[3]-_r.lineCoordinates[3]),Br.setAttribute("stroke-width",_r.borderStyle.width||1),Br.setAttribute("stroke","transparent"),Br.setAttribute("fill","transparent"),Nr.append(Br),this.container.append(Nr),this._createPopup(Br,_r),this.container}}class Kr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const _r=this.data,{width:wr,height:Fr}=cr(_r.rect),Nr=this.svgFactory.create(wr,Fr,!0),Br=_r.borderStyle.width,Ur=this.svgFactory.createElement("svg:rect");return Ur.setAttribute("x",Br/2),Ur.setAttribute("y",Br/2),Ur.setAttribute("width",wr-Br),Ur.setAttribute("height",Fr-Br),Ur.setAttribute("stroke-width",Br||1),Ur.setAttribute("stroke","transparent"),Ur.setAttribute("fill","transparent"),Nr.append(Ur),this.container.append(Nr),this._createPopup(Ur,_r),this.container}}class Ir extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const _r=this.data,{width:wr,height:Fr}=cr(_r.rect),Nr=this.svgFactory.create(wr,Fr,!0),Br=_r.borderStyle.width,Ur=this.svgFactory.createElement("svg:ellipse");return Ur.setAttribute("cx",wr/2),Ur.setAttribute("cy",Fr/2),Ur.setAttribute("rx",wr/2-Br/2),Ur.setAttribute("ry",Fr/2-Br/2),Ur.setAttribute("stroke-width",Br||1),Ur.setAttribute("stroke","transparent"),Ur.setAttribute("fill","transparent"),Nr.append(Ur),this.container.append(Nr),this._createPopup(Ur,_r),this.container}}class jr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const _r=this.data,{width:wr,height:Fr}=cr(_r.rect),Nr=this.svgFactory.create(wr,Fr,!0);let Br=[];for(const Zr of _r.vertices){const an=Zr.x-_r.rect[0],qr=_r.rect[3]-Zr.y;Br.push(an+","+qr)}Br=Br.join(" ");const Ur=this.svgFactory.createElement(this.svgElementName);return Ur.setAttribute("points",Br),Ur.setAttribute("stroke-width",_r.borderStyle.width||1),Ur.setAttribute("stroke","transparent"),Ur.setAttribute("fill","transparent"),Nr.append(Ur),this.container.append(Nr),this._createPopup(Ur,_r),this.container}}class Jr extends jr{constructor(_r){super(_r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class zr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Hr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const _r=this.data,{width:wr,height:Fr}=cr(_r.rect),Nr=this.svgFactory.create(wr,Fr,!0);for(const Br of _r.inkLists){let Ur=[];for(const an of Br){const qr=an.x-_r.rect[0],Gr=_r.rect[3]-an.y;Ur.push(`${qr},${Gr}`)}Ur=Ur.join(" ");const Zr=this.svgFactory.createElement(this.svgElementName);Zr.setAttribute("points",Ur),Zr.setAttribute("stroke-width",_r.borderStyle.width||1),Zr.setAttribute("stroke","transparent"),Zr.setAttribute("fill","transparent"),this._createPopup(Zr,_r),Nr.append(Zr)}return this.container.append(Nr),this.container}}class Yr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class nn extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Qr extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Or extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Er extends sr{constructor(_r){const wr=!!(_r.data.hasPopup||_r.data.titleObj?.str||_r.data.contentsObj?.str||_r.data.richText?.str);super(_r,{isRenderable:wr,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Dr extends sr{constructor(_r){super(_r,{isRenderable:!0});const{filename:wr,content:Fr}=this.data.file;this.filename=(0,nr.getFilenameFromUrl)(wr),this.content=Fr,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:wr,content:Fr})}render(){this.container.className="fileAttachmentAnnotation";const _r=document.createElement("div");return _r.className="popupTriggerArea",_r.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(_r,this.data),this.container.append(_r),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class Tr{static#e(_r,wr,Fr,Nr){const Br=_r.firstChild||_r;Br.id=`${nr.AnnotationPrefix}${wr}`,Fr.append(_r),Nr?.moveElementInDOM(Fr,_r,Br,!1)}static render(_r){const{annotations:wr,div:Fr,viewport:Nr,accessibilityManager:Br}=_r;this.#t(Fr,Nr);let Ur=0;for(const Zr of wr){if(Zr.annotationType!==rr.AnnotationType.POPUP){const{width:qr,height:Gr}=cr(Zr.rect);if(qr<=0||Gr<=0)continue}const an=ur.create({data:Zr,layer:Fr,page:_r.page,viewport:Nr,linkService:_r.linkService,downloadManager:_r.downloadManager,imageResourcesPath:_r.imageResourcesPath||"",renderForms:_r.renderForms!==!1,svgFactory:new nr.DOMSVGFactory,annotationStorage:_r.annotationStorage||new ar.AnnotationStorage,enableScripting:_r.enableScripting,hasJSActions:_r.hasJSActions,fieldObjects:_r.fieldObjects,mouseState:_r.mouseState||{isDown:!1}});if(an.isRenderable){const qr=an.render();if(Zr.hidden&&(qr.style.visibility="hidden"),Array.isArray(qr))for(const Gr of qr)Gr.style.zIndex=Ur++,Tr.#e(Gr,Zr.id,Fr,Br);else qr.style.zIndex=Ur++,an instanceof Cr?Fr.prepend(qr):Tr.#e(qr,Zr.id,Fr,Br)}}this.#i(Fr,_r.annotationCanvasMap)}static update(_r){const{annotationCanvasMap:wr,div:Fr,viewport:Nr}=_r;this.#t(Fr,Nr),this.#i(Fr,wr),Fr.hidden=!1}static#t(_r,{width:wr,height:Fr,rotation:Nr}){const{style:Br}=_r,Ur=Nr%180!==0,Zr=Math.floor(wr)+"px",an=Math.floor(Fr)+"px";Br.width=Ur?an:Zr,Br.height=Ur?Zr:an,_r.setAttribute("data-main-rotation",Nr)}static#i(_r,wr){if(!!wr){for(const[Fr,Nr]of wr){const Br=_r.querySelector(`[data-annotation-id="${Fr}"]`);if(!Br)continue;const{firstChild:Ur}=Br;Ur?Ur.nodeName==="CANVAS"?Ur.replaceWith(Nr):Ur.before(Nr):Br.append(Nr)}wr.clear()}}}er.AnnotationLayer=Tr},(St,er)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.ColorConverters=void 0;function tr(nr){return Math.floor(Math.max(0,Math.min(1,nr))*255).toString(16).padStart(2,"0")}class rr{static CMYK_G([ar,dr,or,ir]){return["G",1-Math.min(1,.3*ar+.59*or+.11*dr+ir)]}static G_CMYK([ar]){return["CMYK",0,0,0,1-ar]}static G_RGB([ar]){return["RGB",ar,ar,ar]}static G_HTML([ar]){const dr=tr(ar);return`#${dr}${dr}${dr}`}static RGB_G([ar,dr,or]){return["G",.3*ar+.59*dr+.11*or]}static RGB_HTML([ar,dr,or]){const ir=tr(ar),lr=tr(dr),fr=tr(or);return`#${ir}${lr}${fr}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ar,dr,or,ir]){return["RGB",1-Math.min(1,ar+ir),1-Math.min(1,or+ir),1-Math.min(1,dr+ir)]}static CMYK_HTML(ar){const dr=this.CMYK_RGB(ar).slice(1);return this.RGB_HTML(dr)}static RGB_CMYK([ar,dr,or]){const ir=1-ar,lr=1-dr,fr=1-or,cr=Math.min(ir,lr,fr);return["CMYK",ir,lr,fr,cr]}}er.ColorConverters=rr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.XfaLayer=void 0;var rr=tr(19);class nr{static setupStorage(dr,or,ir,lr,fr){const cr=lr.getValue(or,{value:null});switch(ir.name){case"textarea":if(cr.value!==null&&(dr.textContent=cr.value),fr==="print")break;dr.addEventListener("input",ur=>{lr.setValue(or,{value:ur.target.value})});break;case"input":if(ir.attributes.type==="radio"||ir.attributes.type==="checkbox"){if(cr.value===ir.attributes.xfaOn?dr.setAttribute("checked",!0):cr.value===ir.attributes.xfaOff&&dr.removeAttribute("checked"),fr==="print")break;dr.addEventListener("change",ur=>{lr.setValue(or,{value:ur.target.checked?ur.target.getAttribute("xfaOn"):ur.target.getAttribute("xfaOff")})})}else{if(cr.value!==null&&dr.setAttribute("value",cr.value),fr==="print")break;dr.addEventListener("input",ur=>{lr.setValue(or,{value:ur.target.value})})}break;case"select":if(cr.value!==null)for(const ur of ir.children)ur.attributes.value===cr.value&&(ur.attributes.selected=!0);dr.addEventListener("input",ur=>{const sr=ur.target.options,hr=sr.selectedIndex===-1?"":sr[sr.selectedIndex].value;lr.setValue(or,{value:hr})});break}}static setAttributes({html:dr,element:or,storage:ir=null,intent:lr,linkService:fr}){const{attributes:cr}=or,ur=dr instanceof HTMLAnchorElement;cr.type==="radio"&&(cr.name=`${cr.name}-${lr}`);for(const[sr,hr]of Object.entries(cr))if(hr!=null)switch(sr){case"class":hr.length&&dr.setAttribute(sr,hr.join(" "));break;case"dataId":break;case"id":dr.setAttribute("data-element-id",hr);break;case"style":Object.assign(dr.style,hr);break;case"textContent":dr.textContent=hr;break;default:(!ur||sr!=="href"&&sr!=="newWindow")&&dr.setAttribute(sr,hr)}ur&&fr.addLinkAttributes(dr,cr.href,cr.newWindow),ir&&cr.dataId&&this.setupStorage(dr,cr.dataId,or,ir)}static render(dr){const or=dr.annotationStorage,ir=dr.linkService,lr=dr.xfaHtml,fr=dr.intent||"display",cr=document.createElement(lr.name);lr.attributes&&this.setAttributes({html:cr,element:lr,intent:fr,linkService:ir});const ur=[[lr,-1,cr]],sr=dr.div;if(sr.append(cr),dr.viewport){const gr=`matrix(${dr.viewport.transform.join(",")})`;sr.style.transform=gr}fr!=="richText"&&sr.setAttribute("class","xfaLayer xfaFont");const hr=[];for(;ur.length>0;){const[gr,pr,mr]=ur.at(-1);if(pr+1===gr.children.length){ur.pop();continue}const vr=gr.children[++ur.at(-1)[1]];if(vr===null)continue;const{name:yr}=vr;if(yr==="#text"){const xr=document.createTextNode(vr.value);hr.push(xr),mr.append(xr);continue}let br;if(vr?.attributes?.xmlns?br=document.createElementNS(vr.attributes.xmlns,yr):br=document.createElement(yr),mr.append(br),vr.attributes&&this.setAttributes({html:br,element:vr,storage:or,intent:fr,linkService:ir}),vr.children&&vr.children.length>0)ur.push([vr,-1,br]);else if(vr.value){const xr=document.createTextNode(vr.value);rr.XfaText.shouldBuildText(yr)&&hr.push(xr),br.append(xr)}}for(const gr of sr.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))gr.setAttribute("readOnly",!0);return{textDivs:hr}}static update(dr){const or=`matrix(${dr.viewport.transform.join(",")})`;dr.div.style.transform=or,dr.div.hidden=!1}}er.XfaLayer=nr},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.TextLayerRenderTask=void 0,er.renderTextLayer=ur;var rr=tr(1);const nr=1e5,ar=30,dr=.8,or=new Map;function ir(sr,hr){const gr=or.get(sr);if(gr)return gr;hr.save(),hr.font=`${ar}px ${sr}`;const pr=hr.measureText("");let mr=pr.fontBoundingBoxAscent,vr=Math.abs(pr.fontBoundingBoxDescent);if(mr){hr.restore();const br=mr/(mr+vr);return or.set(sr,br),br}hr.strokeStyle="red",hr.clearRect(0,0,ar,ar),hr.strokeText("g",0,0);let yr=hr.getImageData(0,0,ar,ar).data;vr=0;for(let br=yr.length-1-3;br>=0;br-=4)if(yr[br]>0){vr=Math.ceil(br/4/ar);break}hr.clearRect(0,0,ar,ar),hr.strokeText("A",0,ar),yr=hr.getImageData(0,0,ar,ar).data,mr=0;for(let br=0,xr=yr.length;br<xr;br+=4)if(yr[br]>0){mr=ar-Math.floor(br/4/ar);break}if(hr.restore(),mr){const br=mr/(mr+vr);return or.set(sr,br),br}return or.set(sr,dr),dr}function lr(sr,hr,gr,pr){const mr=document.createElement("span"),vr={angle:0,canvasWidth:0,hasText:hr.str!=="",hasEOL:hr.hasEOL,fontSize:0};sr._textDivs.push(mr);const yr=rr.Util.transform(sr._viewport.transform,hr.transform);let br=Math.atan2(yr[1],yr[0]);const xr=gr[hr.fontName];xr.vertical&&(br+=Math.PI/2);const Cr=Math.hypot(yr[2],yr[3]),kr=Cr*ir(xr.fontFamily,pr);let Pr,$r;br===0?(Pr=yr[4],$r=yr[5]-kr):(Pr=yr[4]+kr*Math.sin(br),$r=yr[5]-kr*Math.cos(br)),mr.style.left=`${Pr}px`,mr.style.top=`${$r}px`,mr.style.fontSize=`${Cr}px`,mr.style.fontFamily=xr.fontFamily,vr.fontSize=Cr,mr.setAttribute("role","presentation"),mr.textContent=hr.str,mr.dir=hr.dir,sr._fontInspectorEnabled&&(mr.dataset.fontName=hr.fontName),br!==0&&(vr.angle=br*(180/Math.PI));let Kr=!1;if(hr.str.length>1)Kr=!0;else if(hr.str!==" "&&hr.transform[0]!==hr.transform[3]){const Ir=Math.abs(hr.transform[0]),jr=Math.abs(hr.transform[3]);Ir!==jr&&Math.max(Ir,jr)/Math.min(Ir,jr)>1.5&&(Kr=!0)}Kr&&(xr.vertical?vr.canvasWidth=hr.height*sr._viewport.scale:vr.canvasWidth=hr.width*sr._viewport.scale),sr._textDivProperties.set(mr,vr),sr._textContentStream&&sr._layoutText(mr)}function fr(sr){if(sr._canceled)return;const hr=sr._textDivs,gr=sr._capability;if(hr.length>nr){sr._renderingDone=!0,gr.resolve();return}if(!sr._textContentStream)for(const mr of hr)sr._layoutText(mr);sr._renderingDone=!0,gr.resolve()}class cr{constructor({textContent:hr,textContentStream:gr,container:pr,viewport:mr,textDivs:vr,textContentItemsStr:yr}){this._textContent=hr,this._textContentStream=gr,this._container=pr,this._document=pr.ownerDocument,this._viewport=mr,this._textDivs=vr||[],this._textContentItemsStr=yr||[],this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,rr.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new rr.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(hr,gr){for(const pr of hr){if(pr.str===void 0){if(pr.type==="beginMarkedContentProps"||pr.type==="beginMarkedContent"){const mr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pr.id!==null&&this._container.setAttribute("id",`${pr.id}`),mr.append(this._container)}else pr.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pr.str),lr(this,pr,gr,this._layoutTextCtx)}}_layoutText(hr){const gr=this._textDivProperties.get(hr);let pr="";if(gr.canvasWidth!==0&&gr.hasText){const{fontFamily:mr}=hr.style,{fontSize:vr}=gr;(vr!==this._layoutTextLastFontSize||mr!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${vr*this._devicePixelRatio}px ${mr}`,this._layoutTextLastFontSize=vr,this._layoutTextLastFontFamily=mr);const{width:yr}=this._layoutTextCtx.measureText(hr.textContent);yr>0&&(pr=`scaleX(${this._devicePixelRatio*gr.canvasWidth/yr})`)}if(gr.angle!==0&&(pr=`rotate(${gr.angle}deg) ${pr}`),pr.length>0&&(hr.style.transform=pr),gr.hasText&&this._container.append(hr),gr.hasEOL){const mr=document.createElement("br");mr.setAttribute("role","presentation"),this._container.append(mr)}}_render(hr=0){const gr=(0,rr.createPromiseCapability)();let pr=Object.create(null);const mr=this._document.createElement("canvas");if(mr.height=mr.width=ar,this._layoutTextCtx=mr.getContext("2d",{alpha:!1}),this._textContent){const vr=this._textContent.items,yr=this._textContent.styles;this._processItems(vr,yr),gr.resolve()}else if(this._textContentStream){const vr=()=>{this._reader.read().then(({value:yr,done:br})=>{if(br){gr.resolve();return}Object.assign(pr,yr.styles),this._processItems(yr.items,pr),vr()},gr.reject)};this._reader=this._textContentStream.getReader(),vr()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');gr.promise.then(()=>{pr=null,hr?this._renderTimer=setTimeout(()=>{fr(this),this._renderTimer=null},hr):fr(this)},this._capability.reject)}}er.TextLayerRenderTask=cr;function ur(sr){const hr=new cr({textContent:sr.textContent,textContentStream:sr.textContentStream,container:sr.container,viewport:sr.viewport,textDivs:sr.textDivs,textContentItemsStr:sr.textContentItemsStr});return hr._render(sr.timeout),hr}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.SVGGraphics=void 0;var rr=tr(6),nr=tr(1),ar=tr(12);let dr=class{constructor(){(0,nr.unreachable)("Not implemented: SVGGraphics")}};er.SVGGraphics=dr;{let gr=function(xr){let Cr=[];const kr=[];for(const Pr of xr){if(Pr.fn==="save"){Cr.push({fnId:92,fn:"group",items:[]}),kr.push(Cr),Cr=Cr.at(-1).items;continue}Pr.fn==="restore"?Cr=kr.pop():Cr.push(Pr)}return Cr},pr=function(xr){if(Number.isInteger(xr))return xr.toString();const Cr=xr.toFixed(10);let kr=Cr.length-1;if(Cr[kr]!=="0")return Cr;do kr--;while(Cr[kr]==="0");return Cr.substring(0,Cr[kr]==="."?kr:kr+1)},mr=function(xr){if(xr[4]===0&&xr[5]===0){if(xr[1]===0&&xr[2]===0)return xr[0]===1&&xr[3]===1?"":`scale(${pr(xr[0])} ${pr(xr[3])})`;if(xr[0]===xr[3]&&xr[1]===-xr[2]){const Cr=Math.acos(xr[0])*180/Math.PI;return`rotate(${pr(Cr)})`}}else if(xr[0]===1&&xr[1]===0&&xr[2]===0&&xr[3]===1)return`translate(${pr(xr[4])} ${pr(xr[5])})`;return`matrix(${pr(xr[0])} ${pr(xr[1])} ${pr(xr[2])} ${pr(xr[3])} ${pr(xr[4])} ${pr(xr[5])})`};const or={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ir="http://www.w3.org/XML/1998/namespace",lr="http://www.w3.org/1999/xlink",fr=["butt","round","square"],cr=["miter","round","bevel"],ur=function(xr,Cr="",kr=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!kr)return URL.createObjectURL(new Blob([xr],{type:Cr}));const Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let $r=`data:${Cr};base64,`;for(let Kr=0,Ir=xr.length;Kr<Ir;Kr+=3){const jr=xr[Kr]&255,Jr=xr[Kr+1]&255,zr=xr[Kr+2]&255,Hr=jr>>2,Yr=(jr&3)<<4|Jr>>4,nn=Kr+1<Ir?(Jr&15)<<2|zr>>6:64,Qr=Kr+2<Ir?zr&63:64;$r+=Pr[Hr]+Pr[Yr]+Pr[nn]+Pr[Qr]}return $r},sr=function(){const xr=new Uint8Array([137,80,78,71,13,10,26,10]),Cr=12,kr=new Int32Array(256);for(let zr=0;zr<256;zr++){let Hr=zr;for(let Yr=0;Yr<8;Yr++)Hr&1?Hr=3988292384^Hr>>1&2147483647:Hr=Hr>>1&2147483647;kr[zr]=Hr}function Pr(zr,Hr,Yr){let nn=-1;for(let Qr=Hr;Qr<Yr;Qr++){const Or=(nn^zr[Qr])&255,Er=kr[Or];nn=nn>>>8^Er}return nn^-1}function $r(zr,Hr,Yr,nn){let Qr=nn;const Or=Hr.length;Yr[Qr]=Or>>24&255,Yr[Qr+1]=Or>>16&255,Yr[Qr+2]=Or>>8&255,Yr[Qr+3]=Or&255,Qr+=4,Yr[Qr]=zr.charCodeAt(0)&255,Yr[Qr+1]=zr.charCodeAt(1)&255,Yr[Qr+2]=zr.charCodeAt(2)&255,Yr[Qr+3]=zr.charCodeAt(3)&255,Qr+=4,Yr.set(Hr,Qr),Qr+=Hr.length;const Er=Pr(Yr,nn+4,Qr);Yr[Qr]=Er>>24&255,Yr[Qr+1]=Er>>16&255,Yr[Qr+2]=Er>>8&255,Yr[Qr+3]=Er&255}function Kr(zr,Hr,Yr){let nn=1,Qr=0;for(let Or=Hr;Or<Yr;++Or)nn=(nn+(zr[Or]&255))%65521,Qr=(Qr+nn)%65521;return Qr<<16|nn}function Ir(zr){if(!ar.isNodeJS)return jr(zr);try{let Hr;parseInt(process.versions.node)>=8?Hr=zr:Hr=Buffer.from(zr);const Yr=require$$5.deflateSync(Hr,{level:9});return Yr instanceof Uint8Array?Yr:new Uint8Array(Yr)}catch(Hr){(0,nr.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Hr)}return jr(zr)}function jr(zr){let Hr=zr.length;const Yr=65535,nn=Math.ceil(Hr/Yr),Qr=new Uint8Array(2+Hr+nn*5+4);let Or=0;Qr[Or++]=120,Qr[Or++]=156;let Er=0;for(;Hr>Yr;)Qr[Or++]=0,Qr[Or++]=255,Qr[Or++]=255,Qr[Or++]=0,Qr[Or++]=0,Qr.set(zr.subarray(Er,Er+Yr),Or),Or+=Yr,Er+=Yr,Hr-=Yr;Qr[Or++]=1,Qr[Or++]=Hr&255,Qr[Or++]=Hr>>8&255,Qr[Or++]=~Hr&65535&255,Qr[Or++]=(~Hr&65535)>>8&255,Qr.set(zr.subarray(Er),Or),Or+=zr.length-Er;const Dr=Kr(zr,0,zr.length);return Qr[Or++]=Dr>>24&255,Qr[Or++]=Dr>>16&255,Qr[Or++]=Dr>>8&255,Qr[Or++]=Dr&255,Qr}function Jr(zr,Hr,Yr,nn){const Qr=zr.width,Or=zr.height;let Er,Dr,Tr;const Lr=zr.data;switch(Hr){case nr.ImageKind.GRAYSCALE_1BPP:Dr=0,Er=1,Tr=Qr+7>>3;break;case nr.ImageKind.RGB_24BPP:Dr=2,Er=8,Tr=Qr*3;break;case nr.ImageKind.RGBA_32BPP:Dr=6,Er=8,Tr=Qr*4;break;default:throw new Error("invalid format")}const _r=new Uint8Array((1+Tr)*Or);let wr=0,Fr=0;for(let qr=0;qr<Or;++qr)_r[wr++]=0,_r.set(Lr.subarray(Fr,Fr+Tr),wr),Fr+=Tr,wr+=Tr;if(Hr===nr.ImageKind.GRAYSCALE_1BPP&&nn){wr=0;for(let qr=0;qr<Or;qr++){wr++;for(let Gr=0;Gr<Tr;Gr++)_r[wr++]^=255}}const Nr=new Uint8Array([Qr>>24&255,Qr>>16&255,Qr>>8&255,Qr&255,Or>>24&255,Or>>16&255,Or>>8&255,Or&255,Er,Dr,0,0,0]),Br=Ir(_r),Ur=xr.length+Cr*3+Nr.length+Br.length,Zr=new Uint8Array(Ur);let an=0;return Zr.set(xr,an),an+=xr.length,$r("IHDR",Nr,Zr,an),an+=Cr+Nr.length,$r("IDATA",Br,Zr,an),an+=Cr+Br.length,$r("IEND",new Uint8Array(0),Zr,an),ur(Zr,"image/png",Yr)}return function(Hr,Yr,nn){const Qr=Hr.kind===void 0?nr.ImageKind.GRAYSCALE_1BPP:Hr.kind;return Jr(Hr,Qr,Yr,nn)}}();class hr{constructor(){this.fontSizeScale=1,this.fontWeight=or.fontWeight,this.fontSize=0,this.textMatrix=nr.IDENTITY_MATRIX,this.fontMatrix=nr.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=nr.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=or.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Cr,kr){this.x=Cr,this.y=kr}}let vr=0,yr=0,br=0;er.SVGGraphics=dr=class{constructor(xr,Cr,kr=!1){(0,rr.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new rr.DOMSVGFactory,this.current=new hr,this.transformMatrix=nr.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=xr,this.objs=Cr,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!kr,this._operatorIdMapping=[];for(const Pr in nr.OPS)this._operatorIdMapping[nr.OPS[Pr]]=Pr}getObject(xr,Cr=null){return typeof xr=="string"?xr.startsWith("g_")?this.commonObjs.get(xr):this.objs.get(xr):Cr}save(){this.transformStack.push(this.transformMatrix);const xr=this.current;this.extraStack.push(xr),this.current=xr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(xr){this.save(),this.executeOpTree(xr),this.restore()}loadDependencies(xr){const Cr=xr.fnArray,kr=xr.argsArray;for(let Pr=0,$r=Cr.length;Pr<$r;Pr++)if(Cr[Pr]===nr.OPS.dependency)for(const Kr of kr[Pr]){const Ir=Kr.startsWith("g_")?this.commonObjs:this.objs,jr=new Promise(Jr=>{Ir.get(Kr,Jr)});this.current.dependencies.push(jr)}return Promise.all(this.current.dependencies)}transform(xr,Cr,kr,Pr,$r,Kr){const Ir=[xr,Cr,kr,Pr,$r,Kr];this.transformMatrix=nr.Util.transform(this.transformMatrix,Ir),this.tgrp=null}getSVG(xr,Cr){this.viewport=Cr;const kr=this._initialize(Cr);return this.loadDependencies(xr).then(()=>(this.transformMatrix=nr.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(xr)),kr))}convertOpList(xr){const Cr=this._operatorIdMapping,kr=xr.argsArray,Pr=xr.fnArray,$r=[];for(let Kr=0,Ir=Pr.length;Kr<Ir;Kr++){const jr=Pr[Kr];$r.push({fnId:jr,fn:Cr[jr],args:kr[Kr]})}return gr($r)}executeOpTree(xr){for(const Cr of xr){const kr=Cr.fn,Pr=Cr.fnId,$r=Cr.args;switch(Pr|0){case nr.OPS.beginText:this.beginText();break;case nr.OPS.dependency:break;case nr.OPS.setLeading:this.setLeading($r);break;case nr.OPS.setLeadingMoveText:this.setLeadingMoveText($r[0],$r[1]);break;case nr.OPS.setFont:this.setFont($r);break;case nr.OPS.showText:this.showText($r[0]);break;case nr.OPS.showSpacedText:this.showText($r[0]);break;case nr.OPS.endText:this.endText();break;case nr.OPS.moveText:this.moveText($r[0],$r[1]);break;case nr.OPS.setCharSpacing:this.setCharSpacing($r[0]);break;case nr.OPS.setWordSpacing:this.setWordSpacing($r[0]);break;case nr.OPS.setHScale:this.setHScale($r[0]);break;case nr.OPS.setTextMatrix:this.setTextMatrix($r[0],$r[1],$r[2],$r[3],$r[4],$r[5]);break;case nr.OPS.setTextRise:this.setTextRise($r[0]);break;case nr.OPS.setTextRenderingMode:this.setTextRenderingMode($r[0]);break;case nr.OPS.setLineWidth:this.setLineWidth($r[0]);break;case nr.OPS.setLineJoin:this.setLineJoin($r[0]);break;case nr.OPS.setLineCap:this.setLineCap($r[0]);break;case nr.OPS.setMiterLimit:this.setMiterLimit($r[0]);break;case nr.OPS.setFillRGBColor:this.setFillRGBColor($r[0],$r[1],$r[2]);break;case nr.OPS.setStrokeRGBColor:this.setStrokeRGBColor($r[0],$r[1],$r[2]);break;case nr.OPS.setStrokeColorN:this.setStrokeColorN($r);break;case nr.OPS.setFillColorN:this.setFillColorN($r);break;case nr.OPS.shadingFill:this.shadingFill($r[0]);break;case nr.OPS.setDash:this.setDash($r[0],$r[1]);break;case nr.OPS.setRenderingIntent:this.setRenderingIntent($r[0]);break;case nr.OPS.setFlatness:this.setFlatness($r[0]);break;case nr.OPS.setGState:this.setGState($r[0]);break;case nr.OPS.fill:this.fill();break;case nr.OPS.eoFill:this.eoFill();break;case nr.OPS.stroke:this.stroke();break;case nr.OPS.fillStroke:this.fillStroke();break;case nr.OPS.eoFillStroke:this.eoFillStroke();break;case nr.OPS.clip:this.clip("nonzero");break;case nr.OPS.eoClip:this.clip("evenodd");break;case nr.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case nr.OPS.paintImageXObject:this.paintImageXObject($r[0]);break;case nr.OPS.paintInlineImageXObject:this.paintInlineImageXObject($r[0]);break;case nr.OPS.paintImageMaskXObject:this.paintImageMaskXObject($r[0]);break;case nr.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin($r[0],$r[1]);break;case nr.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case nr.OPS.closePath:this.closePath();break;case nr.OPS.closeStroke:this.closeStroke();break;case nr.OPS.closeFillStroke:this.closeFillStroke();break;case nr.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case nr.OPS.nextLine:this.nextLine();break;case nr.OPS.transform:this.transform($r[0],$r[1],$r[2],$r[3],$r[4],$r[5]);break;case nr.OPS.constructPath:this.constructPath($r[0],$r[1]);break;case nr.OPS.endPath:this.endPath();break;case 92:this.group(Cr.items);break;default:(0,nr.warn)(`Unimplemented operator ${kr}`);break}}}setWordSpacing(xr){this.current.wordSpacing=xr}setCharSpacing(xr){this.current.charSpacing=xr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(xr,Cr,kr,Pr,$r,Kr){const Ir=this.current;Ir.textMatrix=Ir.lineMatrix=[xr,Cr,kr,Pr,$r,Kr],Ir.textMatrixScale=Math.hypot(xr,Cr),Ir.x=Ir.lineX=0,Ir.y=Ir.lineY=0,Ir.xcoords=[],Ir.ycoords=[],Ir.tspan=this.svgFactory.createElement("svg:tspan"),Ir.tspan.setAttributeNS(null,"font-family",Ir.fontFamily),Ir.tspan.setAttributeNS(null,"font-size",`${pr(Ir.fontSize)}px`),Ir.tspan.setAttributeNS(null,"y",pr(-Ir.y)),Ir.txtElement=this.svgFactory.createElement("svg:text"),Ir.txtElement.append(Ir.tspan)}beginText(){const xr=this.current;xr.x=xr.lineX=0,xr.y=xr.lineY=0,xr.textMatrix=nr.IDENTITY_MATRIX,xr.lineMatrix=nr.IDENTITY_MATRIX,xr.textMatrixScale=1,xr.tspan=this.svgFactory.createElement("svg:tspan"),xr.txtElement=this.svgFactory.createElement("svg:text"),xr.txtgrp=this.svgFactory.createElement("svg:g"),xr.xcoords=[],xr.ycoords=[]}moveText(xr,Cr){const kr=this.current;kr.x=kr.lineX+=xr,kr.y=kr.lineY+=Cr,kr.xcoords=[],kr.ycoords=[],kr.tspan=this.svgFactory.createElement("svg:tspan"),kr.tspan.setAttributeNS(null,"font-family",kr.fontFamily),kr.tspan.setAttributeNS(null,"font-size",`${pr(kr.fontSize)}px`),kr.tspan.setAttributeNS(null,"y",pr(-kr.y))}showText(xr){const Cr=this.current,kr=Cr.font,Pr=Cr.fontSize;if(Pr===0)return;const $r=Cr.fontSizeScale,Kr=Cr.charSpacing,Ir=Cr.wordSpacing,jr=Cr.fontDirection,Jr=Cr.textHScale*jr,zr=kr.vertical,Hr=zr?1:-1,Yr=kr.defaultVMetrics,nn=Pr*Cr.fontMatrix[0];let Qr=0;for(const Dr of xr){if(Dr===null){Qr+=jr*Ir;continue}else if(typeof Dr=="number"){Qr+=Hr*Dr*Pr/1e3;continue}const Tr=(Dr.isSpace?Ir:0)+Kr,Lr=Dr.fontChar;let _r,wr,Fr=Dr.width;if(zr){let Br;const Ur=Dr.vmetric||Yr;Br=Dr.vmetric?Ur[1]:Fr*.5,Br=-Br*nn;const Zr=Ur[2]*nn;Fr=Ur?-Ur[0]:Fr,_r=Br/$r,wr=(Qr+Zr)/$r}else _r=Qr/$r,wr=0;(Dr.isInFont||kr.missingFile)&&(Cr.xcoords.push(Cr.x+_r),zr&&Cr.ycoords.push(-Cr.y+wr),Cr.tspan.textContent+=Lr);let Nr;zr?Nr=Fr*nn-Tr*jr:Nr=Fr*nn+Tr*jr,Qr+=Nr}Cr.tspan.setAttributeNS(null,"x",Cr.xcoords.map(pr).join(" ")),zr?Cr.tspan.setAttributeNS(null,"y",Cr.ycoords.map(pr).join(" ")):Cr.tspan.setAttributeNS(null,"y",pr(-Cr.y)),zr?Cr.y-=Qr:Cr.x+=Qr*Jr,Cr.tspan.setAttributeNS(null,"font-family",Cr.fontFamily),Cr.tspan.setAttributeNS(null,"font-size",`${pr(Cr.fontSize)}px`),Cr.fontStyle!==or.fontStyle&&Cr.tspan.setAttributeNS(null,"font-style",Cr.fontStyle),Cr.fontWeight!==or.fontWeight&&Cr.tspan.setAttributeNS(null,"font-weight",Cr.fontWeight);const Or=Cr.textRenderingMode&nr.TextRenderingMode.FILL_STROKE_MASK;if(Or===nr.TextRenderingMode.FILL||Or===nr.TextRenderingMode.FILL_STROKE?(Cr.fillColor!==or.fillColor&&Cr.tspan.setAttributeNS(null,"fill",Cr.fillColor),Cr.fillAlpha<1&&Cr.tspan.setAttributeNS(null,"fill-opacity",Cr.fillAlpha)):Cr.textRenderingMode===nr.TextRenderingMode.ADD_TO_PATH?Cr.tspan.setAttributeNS(null,"fill","transparent"):Cr.tspan.setAttributeNS(null,"fill","none"),Or===nr.TextRenderingMode.STROKE||Or===nr.TextRenderingMode.FILL_STROKE){const Dr=1/(Cr.textMatrixScale||1);this._setStrokeAttributes(Cr.tspan,Dr)}let Er=Cr.textMatrix;Cr.textRise!==0&&(Er=Er.slice(),Er[5]+=Cr.textRise),Cr.txtElement.setAttributeNS(null,"transform",`${mr(Er)} scale(${pr(Jr)}, -1)`),Cr.txtElement.setAttributeNS(ir,"xml:space","preserve"),Cr.txtElement.append(Cr.tspan),Cr.txtgrp.append(Cr.txtElement),this._ensureTransformGroup().append(Cr.txtElement)}setLeadingMoveText(xr,Cr){this.setLeading(-Cr),this.moveText(xr,Cr)}addFontStyle(xr){if(!xr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Cr=ur(xr.data,xr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${xr.loadedName}"; src: url(${Cr}); }
`}setFont(xr){const Cr=this.current,kr=this.commonObjs.get(xr[0]);let Pr=xr[1];Cr.font=kr,this.embedFonts&&!kr.missingFile&&!this.embeddedFonts[kr.loadedName]&&(this.addFontStyle(kr),this.embeddedFonts[kr.loadedName]=kr),Cr.fontMatrix=kr.fontMatrix||nr.FONT_IDENTITY_MATRIX;let $r="normal";kr.black?$r="900":kr.bold&&($r="bold");const Kr=kr.italic?"italic":"normal";Pr<0?(Pr=-Pr,Cr.fontDirection=-1):Cr.fontDirection=1,Cr.fontSize=Pr,Cr.fontFamily=kr.loadedName,Cr.fontWeight=$r,Cr.fontStyle=Kr,Cr.tspan=this.svgFactory.createElement("svg:tspan"),Cr.tspan.setAttributeNS(null,"y",pr(-Cr.y)),Cr.xcoords=[],Cr.ycoords=[]}endText(){const xr=this.current;xr.textRenderingMode&nr.TextRenderingMode.ADD_TO_PATH_FLAG&&xr.txtElement?.hasChildNodes()&&(xr.element=xr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(xr){xr>0&&(this.current.lineWidth=xr)}setLineCap(xr){this.current.lineCap=fr[xr]}setLineJoin(xr){this.current.lineJoin=cr[xr]}setMiterLimit(xr){this.current.miterLimit=xr}setStrokeAlpha(xr){this.current.strokeAlpha=xr}setStrokeRGBColor(xr,Cr,kr){this.current.strokeColor=nr.Util.makeHexColor(xr,Cr,kr)}setFillAlpha(xr){this.current.fillAlpha=xr}setFillRGBColor(xr,Cr,kr){this.current.fillColor=nr.Util.makeHexColor(xr,Cr,kr),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(xr){this.current.strokeColor=this._makeColorN_Pattern(xr)}setFillColorN(xr){this.current.fillColor=this._makeColorN_Pattern(xr)}shadingFill(xr){const Cr=this.viewport.width,kr=this.viewport.height,Pr=nr.Util.inverseTransform(this.transformMatrix),$r=nr.Util.applyTransform([0,0],Pr),Kr=nr.Util.applyTransform([0,kr],Pr),Ir=nr.Util.applyTransform([Cr,0],Pr),jr=nr.Util.applyTransform([Cr,kr],Pr),Jr=Math.min($r[0],Kr[0],Ir[0],jr[0]),zr=Math.min($r[1],Kr[1],Ir[1],jr[1]),Hr=Math.max($r[0],Kr[0],Ir[0],jr[0]),Yr=Math.max($r[1],Kr[1],Ir[1],jr[1]),nn=this.svgFactory.createElement("svg:rect");nn.setAttributeNS(null,"x",Jr),nn.setAttributeNS(null,"y",zr),nn.setAttributeNS(null,"width",Hr-Jr),nn.setAttributeNS(null,"height",Yr-zr),nn.setAttributeNS(null,"fill",this._makeShadingPattern(xr)),this.current.fillAlpha<1&&nn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(nn)}_makeColorN_Pattern(xr){return xr[0]==="TilingPattern"?this._makeTilingPattern(xr):this._makeShadingPattern(xr)}_makeTilingPattern(xr){const Cr=xr[1],kr=xr[2],Pr=xr[3]||nr.IDENTITY_MATRIX,[$r,Kr,Ir,jr]=xr[4],Jr=xr[5],zr=xr[6],Hr=xr[7],Yr=`shading${br++}`,[nn,Qr,Or,Er]=nr.Util.normalizeRect([...nr.Util.applyTransform([$r,Kr],Pr),...nr.Util.applyTransform([Ir,jr],Pr)]),[Dr,Tr]=nr.Util.singularValueDecompose2dScale(Pr),Lr=Jr*Dr,_r=zr*Tr,wr=this.svgFactory.createElement("svg:pattern");wr.setAttributeNS(null,"id",Yr),wr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),wr.setAttributeNS(null,"width",Lr),wr.setAttributeNS(null,"height",_r),wr.setAttributeNS(null,"x",`${nn}`),wr.setAttributeNS(null,"y",`${Qr}`);const Fr=this.svg,Nr=this.transformMatrix,Br=this.current.fillColor,Ur=this.current.strokeColor,Zr=this.svgFactory.create(Or-nn,Er-Qr);if(this.svg=Zr,this.transformMatrix=Pr,Hr===2){const an=nr.Util.makeHexColor(...Cr);this.current.fillColor=an,this.current.strokeColor=an}return this.executeOpTree(this.convertOpList(kr)),this.svg=Fr,this.transformMatrix=Nr,this.current.fillColor=Br,this.current.strokeColor=Ur,wr.append(Zr.childNodes[0]),this.defs.append(wr),`url(#${Yr})`}_makeShadingPattern(xr){switch(typeof xr=="string"&&(xr=this.objs.get(xr)),xr[0]){case"RadialAxial":const Cr=`shading${br++}`,kr=xr[3];let Pr;switch(xr[1]){case"axial":const $r=xr[4],Kr=xr[5];Pr=this.svgFactory.createElement("svg:linearGradient"),Pr.setAttributeNS(null,"id",Cr),Pr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pr.setAttributeNS(null,"x1",$r[0]),Pr.setAttributeNS(null,"y1",$r[1]),Pr.setAttributeNS(null,"x2",Kr[0]),Pr.setAttributeNS(null,"y2",Kr[1]);break;case"radial":const Ir=xr[4],jr=xr[5],Jr=xr[6],zr=xr[7];Pr=this.svgFactory.createElement("svg:radialGradient"),Pr.setAttributeNS(null,"id",Cr),Pr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pr.setAttributeNS(null,"cx",jr[0]),Pr.setAttributeNS(null,"cy",jr[1]),Pr.setAttributeNS(null,"r",zr),Pr.setAttributeNS(null,"fx",Ir[0]),Pr.setAttributeNS(null,"fy",Ir[1]),Pr.setAttributeNS(null,"fr",Jr);break;default:throw new Error(`Unknown RadialAxial type: ${xr[1]}`)}for(const $r of kr){const Kr=this.svgFactory.createElement("svg:stop");Kr.setAttributeNS(null,"offset",$r[0]),Kr.setAttributeNS(null,"stop-color",$r[1]),Pr.append(Kr)}return this.defs.append(Pr),`url(#${Cr})`;case"Mesh":return(0,nr.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${xr[0]}`)}}setDash(xr,Cr){this.current.dashArray=xr,this.current.dashPhase=Cr}constructPath(xr,Cr){const kr=this.current;let Pr=kr.x,$r=kr.y,Kr=[],Ir=0;for(const jr of xr)switch(jr|0){case nr.OPS.rectangle:Pr=Cr[Ir++],$r=Cr[Ir++];const Jr=Cr[Ir++],zr=Cr[Ir++],Hr=Pr+Jr,Yr=$r+zr;Kr.push("M",pr(Pr),pr($r),"L",pr(Hr),pr($r),"L",pr(Hr),pr(Yr),"L",pr(Pr),pr(Yr),"Z");break;case nr.OPS.moveTo:Pr=Cr[Ir++],$r=Cr[Ir++],Kr.push("M",pr(Pr),pr($r));break;case nr.OPS.lineTo:Pr=Cr[Ir++],$r=Cr[Ir++],Kr.push("L",pr(Pr),pr($r));break;case nr.OPS.curveTo:Pr=Cr[Ir+4],$r=Cr[Ir+5],Kr.push("C",pr(Cr[Ir]),pr(Cr[Ir+1]),pr(Cr[Ir+2]),pr(Cr[Ir+3]),pr(Pr),pr($r)),Ir+=6;break;case nr.OPS.curveTo2:Kr.push("C",pr(Pr),pr($r),pr(Cr[Ir]),pr(Cr[Ir+1]),pr(Cr[Ir+2]),pr(Cr[Ir+3])),Pr=Cr[Ir+2],$r=Cr[Ir+3],Ir+=4;break;case nr.OPS.curveTo3:Pr=Cr[Ir+2],$r=Cr[Ir+3],Kr.push("C",pr(Cr[Ir]),pr(Cr[Ir+1]),pr(Pr),pr($r),pr(Pr),pr($r)),Ir+=4;break;case nr.OPS.closePath:Kr.push("Z");break}Kr=Kr.join(" "),kr.path&&xr.length>0&&xr[0]!==nr.OPS.rectangle&&xr[0]!==nr.OPS.moveTo?Kr=kr.path.getAttributeNS(null,"d")+Kr:(kr.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(kr.path)),kr.path.setAttributeNS(null,"d",Kr),kr.path.setAttributeNS(null,"fill","none"),kr.element=kr.path,kr.setCurrentPoint(Pr,$r)}endPath(){const xr=this.current;if(xr.path=null,!this.pendingClip)return;if(!xr.element){this.pendingClip=null;return}const Cr=`clippath${vr++}`,kr=this.svgFactory.createElement("svg:clipPath");kr.setAttributeNS(null,"id",Cr),kr.setAttributeNS(null,"transform",mr(this.transformMatrix));const Pr=xr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Pr.setAttributeNS(null,"clip-rule","evenodd"):Pr.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,kr.append(Pr),this.defs.append(kr),xr.activeClipUrl){xr.clipGroup=null;for(const $r of this.extraStack)$r.clipGroup=null;kr.setAttributeNS(null,"clip-path",xr.activeClipUrl)}xr.activeClipUrl=`url(#${Cr})`,this.tgrp=null}clip(xr){this.pendingClip=xr}closePath(){const xr=this.current;if(xr.path){const Cr=`${xr.path.getAttributeNS(null,"d")}Z`;xr.path.setAttributeNS(null,"d",Cr)}}setLeading(xr){this.current.leading=-xr}setTextRise(xr){this.current.textRise=xr}setTextRenderingMode(xr){this.current.textRenderingMode=xr}setHScale(xr){this.current.textHScale=xr/100}setRenderingIntent(xr){}setFlatness(xr){}setGState(xr){for(const[Cr,kr]of xr)switch(Cr){case"LW":this.setLineWidth(kr);break;case"LC":this.setLineCap(kr);break;case"LJ":this.setLineJoin(kr);break;case"ML":this.setMiterLimit(kr);break;case"D":this.setDash(kr[0],kr[1]);break;case"RI":this.setRenderingIntent(kr);break;case"FL":this.setFlatness(kr);break;case"Font":this.setFont(kr);break;case"CA":this.setStrokeAlpha(kr);break;case"ca":this.setFillAlpha(kr);break;default:(0,nr.warn)(`Unimplemented graphic state operator ${Cr}`);break}}fill(){const xr=this.current;xr.element&&(xr.element.setAttributeNS(null,"fill",xr.fillColor),xr.element.setAttributeNS(null,"fill-opacity",xr.fillAlpha),this.endPath())}stroke(){const xr=this.current;xr.element&&(this._setStrokeAttributes(xr.element),xr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(xr,Cr=1){const kr=this.current;let Pr=kr.dashArray;Cr!==1&&Pr.length>0&&(Pr=Pr.map(function($r){return Cr*$r})),xr.setAttributeNS(null,"stroke",kr.strokeColor),xr.setAttributeNS(null,"stroke-opacity",kr.strokeAlpha),xr.setAttributeNS(null,"stroke-miterlimit",pr(kr.miterLimit)),xr.setAttributeNS(null,"stroke-linecap",kr.lineCap),xr.setAttributeNS(null,"stroke-linejoin",kr.lineJoin),xr.setAttributeNS(null,"stroke-width",pr(Cr*kr.lineWidth)+"px"),xr.setAttributeNS(null,"stroke-dasharray",Pr.map(pr).join(" ")),xr.setAttributeNS(null,"stroke-dashoffset",pr(Cr*kr.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const xr=this.svgFactory.createElement("svg:rect");xr.setAttributeNS(null,"x","0"),xr.setAttributeNS(null,"y","0"),xr.setAttributeNS(null,"width","1px"),xr.setAttributeNS(null,"height","1px"),xr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(xr)}paintImageXObject(xr){const Cr=this.getObject(xr);if(!Cr){(0,nr.warn)(`Dependent image with object ID ${xr} is not ready yet`);return}this.paintInlineImageXObject(Cr)}paintInlineImageXObject(xr,Cr){const kr=xr.width,Pr=xr.height,$r=sr(xr,this.forceDataSchema,!!Cr),Kr=this.svgFactory.createElement("svg:rect");Kr.setAttributeNS(null,"x","0"),Kr.setAttributeNS(null,"y","0"),Kr.setAttributeNS(null,"width",pr(kr)),Kr.setAttributeNS(null,"height",pr(Pr)),this.current.element=Kr,this.clip("nonzero");const Ir=this.svgFactory.createElement("svg:image");Ir.setAttributeNS(lr,"xlink:href",$r),Ir.setAttributeNS(null,"x","0"),Ir.setAttributeNS(null,"y",pr(-Pr)),Ir.setAttributeNS(null,"width",pr(kr)+"px"),Ir.setAttributeNS(null,"height",pr(Pr)+"px"),Ir.setAttributeNS(null,"transform",`scale(${pr(1/kr)} ${pr(-1/Pr)})`),Cr?Cr.append(Ir):this._ensureTransformGroup().append(Ir)}paintImageMaskXObject(xr){const Cr=this.getObject(xr.data,xr);if(Cr.bitmap){(0,nr.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const kr=this.current,Pr=Cr.width,$r=Cr.height,Kr=kr.fillColor;kr.maskId=`mask${yr++}`;const Ir=this.svgFactory.createElement("svg:mask");Ir.setAttributeNS(null,"id",kr.maskId);const jr=this.svgFactory.createElement("svg:rect");jr.setAttributeNS(null,"x","0"),jr.setAttributeNS(null,"y","0"),jr.setAttributeNS(null,"width",pr(Pr)),jr.setAttributeNS(null,"height",pr($r)),jr.setAttributeNS(null,"fill",Kr),jr.setAttributeNS(null,"mask",`url(#${kr.maskId})`),this.defs.append(Ir),this._ensureTransformGroup().append(jr),this.paintInlineImageXObject(Cr,Ir)}paintFormXObjectBegin(xr,Cr){if(Array.isArray(xr)&&xr.length===6&&this.transform(xr[0],xr[1],xr[2],xr[3],xr[4],xr[5]),Cr){const kr=Cr[2]-Cr[0],Pr=Cr[3]-Cr[1],$r=this.svgFactory.createElement("svg:rect");$r.setAttributeNS(null,"x",Cr[0]),$r.setAttributeNS(null,"y",Cr[1]),$r.setAttributeNS(null,"width",pr(kr)),$r.setAttributeNS(null,"height",pr(Pr)),this.current.element=$r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(xr){const Cr=this.svgFactory.create(xr.width,xr.height),kr=this.svgFactory.createElement("svg:defs");Cr.append(kr),this.defs=kr;const Pr=this.svgFactory.createElement("svg:g");return Pr.setAttributeNS(null,"transform",mr(xr.transform)),Cr.append(Pr),this.svg=Pr,Cr}_ensureClipGroup(){if(!this.current.clipGroup){const xr=this.svgFactory.createElement("svg:g");xr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(xr),this.current.clipGroup=xr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",mr(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFNodeStream=void 0;var rr=tr(1),nr=tr(32);const ar=require$$5,dr=require$$5,or=require$$5,ir=require$$5,lr=/^file:\/\/\/[a-zA-Z]:\//;function fr(yr){const br=ir.parse(yr);return br.protocol==="file:"||br.host?br:/^[a-z]:[/\\]/i.test(yr)?ir.parse(`file:///${yr}`):(br.host||(br.protocol="file:"),br)}class cr{constructor(br){this.source=br,this.url=fr(br.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&br.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mr(this):new gr(this),this._fullRequestReader}getRangeReader(br,xr){if(xr<=this._progressiveDataLength)return null;const Cr=this.isFsUrl?new vr(this,br,xr):new pr(this,br,xr);return this._rangeRequestReaders.push(Cr),Cr}cancelAllRequests(br){this._fullRequestReader?.cancel(br);for(const xr of this._rangeRequestReaders.slice(0))xr.cancel(br)}}er.PDFNodeStream=cr;class ur{constructor(br){this._url=br.url,this._done=!1,this._storedError=null,this.onProgress=null;const xr=br.source;this._contentLength=xr.length,this._loaded=0,this._filename=null,this._disableRange=xr.disableRange||!1,this._rangeChunkSize=xr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!xr.disableStream,this._isRangeSupported=!xr.disableRange,this._readableStream=null,this._readCapability=(0,rr.createPromiseCapability)(),this._headersCapability=(0,rr.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const br=this._readableStream.read();return br===null?(this._readCapability=(0,rr.createPromiseCapability)(),this.read()):(this._loaded+=br.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(br).buffer,done:!1})}cancel(br){if(!this._readableStream){this._error(br);return}this._readableStream.destroy(br)}_error(br){this._storedError=br,this._readCapability.resolve()}_setReadableStream(br){this._readableStream=br,br.on("readable",()=>{this._readCapability.resolve()}),br.on("end",()=>{br.destroy(),this._done=!0,this._readCapability.resolve()}),br.on("error",xr=>{this._error(xr)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new rr.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sr{constructor(br){this._url=br.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,rr.createPromiseCapability)();const xr=br.source;this._isStreamingSupported=!xr.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const br=this._readableStream.read();return br===null?(this._readCapability=(0,rr.createPromiseCapability)(),this.read()):(this._loaded+=br.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(br).buffer,done:!1})}cancel(br){if(!this._readableStream){this._error(br);return}this._readableStream.destroy(br)}_error(br){this._storedError=br,this._readCapability.resolve()}_setReadableStream(br){this._readableStream=br,br.on("readable",()=>{this._readCapability.resolve()}),br.on("end",()=>{br.destroy(),this._done=!0,this._readCapability.resolve()}),br.on("error",xr=>{this._error(xr)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function hr(yr,br){return{protocol:yr.protocol,auth:yr.auth,host:yr.hostname,port:yr.port,path:yr.path,method:"GET",headers:br}}class gr extends ur{constructor(br){super(br);const xr=Cr=>{if(Cr.statusCode===404){const Kr=new rr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Kr,this._headersCapability.reject(Kr);return}this._headersCapability.resolve(),this._setReadableStream(Cr);const kr=Kr=>this._readableStream.headers[Kr.toLowerCase()],{allowRangeRequests:Pr,suggestedLength:$r}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:kr,isHttp:br.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Pr,this._contentLength=$r||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(kr)};this._request=null,this._url.protocol==="http:"?this._request=dr.request(hr(this._url,br.httpHeaders),xr):this._request=or.request(hr(this._url,br.httpHeaders),xr),this._request.on("error",Cr=>{this._storedError=Cr,this._headersCapability.reject(Cr)}),this._request.end()}}class pr extends sr{constructor(br,xr,Cr){super(br),this._httpHeaders={};for(const Pr in br.httpHeaders){const $r=br.httpHeaders[Pr];typeof $r>"u"||(this._httpHeaders[Pr]=$r)}this._httpHeaders.Range=`bytes=${xr}-${Cr-1}`;const kr=Pr=>{if(Pr.statusCode===404){const $r=new rr.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$r;return}this._setReadableStream(Pr)};this._request=null,this._url.protocol==="http:"?this._request=dr.request(hr(this._url,this._httpHeaders),kr):this._request=or.request(hr(this._url,this._httpHeaders),kr),this._request.on("error",Pr=>{this._storedError=Pr}),this._request.end()}}class mr extends ur{constructor(br){super(br);let xr=decodeURIComponent(this._url.path);lr.test(this._url.href)&&(xr=xr.replace(/^\//,"")),ar.lstat(xr,(Cr,kr)=>{if(Cr){Cr.code==="ENOENT"&&(Cr=new rr.MissingPDFException(`Missing PDF "${xr}".`)),this._storedError=Cr,this._headersCapability.reject(Cr);return}this._contentLength=kr.size,this._setReadableStream(ar.createReadStream(xr)),this._headersCapability.resolve()})}}class vr extends sr{constructor(br,xr,Cr){super(br);let kr=decodeURIComponent(this._url.path);lr.test(this._url.href)&&(kr=kr.replace(/^\//,"")),this._setReadableStream(ar.createReadStream(kr,{start:xr,end:Cr-1}))}}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.createResponseStatusError=ir,er.extractFilenameFromHeader=or,er.validateRangeRequestCapabilities=dr,er.validateResponseStatus=lr;var rr=tr(1),nr=tr(33),ar=tr(6);function dr({getResponseHeader:fr,isHttp:cr,rangeChunkSize:ur,disableRange:sr}){const hr={allowRangeRequests:!1,suggestedLength:void 0},gr=parseInt(fr("Content-Length"),10);return!Number.isInteger(gr)||(hr.suggestedLength=gr,gr<=2*ur)||sr||!cr||fr("Accept-Ranges")!=="bytes"||(fr("Content-Encoding")||"identity")!=="identity"||(hr.allowRangeRequests=!0),hr}function or(fr){const cr=fr("Content-Disposition");if(cr){let ur=(0,nr.getFilenameFromContentDispositionHeader)(cr);if(ur.includes("%"))try{ur=decodeURIComponent(ur)}catch{}if((0,ar.isPdfFile)(ur))return ur}return null}function ir(fr,cr){return fr===404||fr===0&&cr.startsWith("file:")?new rr.MissingPDFException('Missing PDF "'+cr+'".'):new rr.UnexpectedResponseException(`Unexpected server response (${fr}) while retrieving PDF "${cr}".`,fr)}function lr(fr){return fr===200||fr===206}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.getFilenameFromContentDispositionHeader=nr;var rr=tr(1);function nr(ar){let dr=!0,or=ir("filename\\*","i").exec(ar);if(or){or=or[1];let gr=ur(or);return gr=unescape(gr),gr=sr(gr),gr=hr(gr),fr(gr)}if(or=cr(ar),or){const gr=hr(or);return fr(gr)}if(or=ir("filename","i").exec(ar),or){or=or[1];let gr=ur(or);return gr=hr(gr),fr(gr)}function ir(gr,pr){return new RegExp("(?:^|;)\\s*"+gr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pr)}function lr(gr,pr){if(gr){if(!/^[\x00-\xFF]+$/.test(pr))return pr;try{const mr=new TextDecoder(gr,{fatal:!0}),vr=(0,rr.stringToBytes)(pr);pr=mr.decode(vr),dr=!1}catch{}}return pr}function fr(gr){return dr&&/[\x80-\xff]/.test(gr)&&(gr=lr("utf-8",gr),dr&&(gr=lr("iso-8859-1",gr))),gr}function cr(gr){const pr=[];let mr;const vr=ir("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(mr=vr.exec(gr))!==null;){let[,br,xr,Cr]=mr;if(br=parseInt(br,10),br in pr){if(br===0)break;continue}pr[br]=[xr,Cr]}const yr=[];for(let br=0;br<pr.length&&br in pr;++br){let[xr,Cr]=pr[br];Cr=ur(Cr),xr&&(Cr=unescape(Cr),br===0&&(Cr=sr(Cr))),yr.push(Cr)}return yr.join("")}function ur(gr){if(gr.startsWith('"')){const pr=gr.slice(1).split('\\"');for(let mr=0;mr<pr.length;++mr){const vr=pr[mr].indexOf('"');vr!==-1&&(pr[mr]=pr[mr].slice(0,vr),pr.length=mr+1),pr[mr]=pr[mr].replace(/\\(.)/g,"$1")}gr=pr.join('"')}return gr}function sr(gr){const pr=gr.indexOf("'");if(pr===-1)return gr;const mr=gr.slice(0,pr),yr=gr.slice(pr+1).replace(/^[^']*'/,"");return lr(mr,yr)}function hr(gr){return!gr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(gr)?gr:gr.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pr,mr,vr,yr){if(vr==="q"||vr==="Q")return yr=yr.replace(/_/g," "),yr=yr.replace(/=([0-9a-fA-F]{2})/g,function(br,xr){return String.fromCharCode(parseInt(xr,16))}),lr(mr,yr);try{yr=atob(yr)}catch{}return lr(mr,yr)})}return""}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFNetworkStream=void 0;var rr=tr(1),nr=tr(32);const ar=200,dr=206;function or(ur){const sr=ur.response;return typeof sr!="string"?sr:(0,rr.stringToBytes)(sr).buffer}class ir{constructor(sr,hr={}){this.url=sr,this.isHttp=/^https?:/i.test(sr),this.httpHeaders=this.isHttp&&hr.httpHeaders||Object.create(null),this.withCredentials=hr.withCredentials||!1,this.getXhr=hr.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(sr,hr,gr){const pr={begin:sr,end:hr};for(const mr in gr)pr[mr]=gr[mr];return this.request(pr)}requestFull(sr){return this.request(sr)}request(sr){const hr=this.getXhr(),gr=this.currXhrId++,pr=this.pendingRequests[gr]={xhr:hr};hr.open("GET",this.url),hr.withCredentials=this.withCredentials;for(const mr in this.httpHeaders){const vr=this.httpHeaders[mr];typeof vr>"u"||hr.setRequestHeader(mr,vr)}return this.isHttp&&"begin"in sr&&"end"in sr?(hr.setRequestHeader("Range",`bytes=${sr.begin}-${sr.end-1}`),pr.expectedStatus=dr):pr.expectedStatus=ar,hr.responseType="arraybuffer",sr.onError&&(hr.onerror=function(mr){sr.onError(hr.status)}),hr.onreadystatechange=this.onStateChange.bind(this,gr),hr.onprogress=this.onProgress.bind(this,gr),pr.onHeadersReceived=sr.onHeadersReceived,pr.onDone=sr.onDone,pr.onError=sr.onError,pr.onProgress=sr.onProgress,hr.send(null),gr}onProgress(sr,hr){const gr=this.pendingRequests[sr];!gr||gr.onProgress?.(hr)}onStateChange(sr,hr){const gr=this.pendingRequests[sr];if(!gr)return;const pr=gr.xhr;if(pr.readyState>=2&&gr.onHeadersReceived&&(gr.onHeadersReceived(),delete gr.onHeadersReceived),pr.readyState!==4||!(sr in this.pendingRequests))return;if(delete this.pendingRequests[sr],pr.status===0&&this.isHttp){gr.onError?.(pr.status);return}const mr=pr.status||ar;if(!(mr===ar&&gr.expectedStatus===dr)&&mr!==gr.expectedStatus){gr.onError?.(pr.status);return}const yr=or(pr);if(mr===dr){const br=pr.getResponseHeader("Content-Range"),xr=/bytes (\d+)-(\d+)\/(\d+)/.exec(br);gr.onDone({begin:parseInt(xr[1],10),chunk:yr})}else yr?gr.onDone({begin:0,chunk:yr}):gr.onError?.(pr.status)}getRequestXhr(sr){return this.pendingRequests[sr].xhr}isPendingRequest(sr){return sr in this.pendingRequests}abortRequest(sr){const hr=this.pendingRequests[sr].xhr;delete this.pendingRequests[sr],hr.abort()}}class lr{constructor(sr){this._source=sr,this._manager=new ir(sr.url,{httpHeaders:sr.httpHeaders,withCredentials:sr.withCredentials}),this._rangeChunkSize=sr.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(sr){const hr=this._rangeRequestReaders.indexOf(sr);hr>=0&&this._rangeRequestReaders.splice(hr,1)}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new fr(this._manager,this._source),this._fullRequestReader}getRangeReader(sr,hr){const gr=new cr(this._manager,sr,hr);return gr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(gr),gr}cancelAllRequests(sr){this._fullRequestReader?.cancel(sr);for(const hr of this._rangeRequestReaders.slice(0))hr.cancel(sr)}}er.PDFNetworkStream=lr;class fr{constructor(sr,hr){this._manager=sr;const gr={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=hr.url,this._fullRequestId=sr.requestFull(gr),this._headersReceivedCapability=(0,rr.createPromiseCapability)(),this._disableRange=hr.disableRange||!1,this._contentLength=hr.length,this._rangeChunkSize=hr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const sr=this._fullRequestId,hr=this._manager.getRequestXhr(sr),gr=vr=>hr.getResponseHeader(vr),{allowRangeRequests:pr,suggestedLength:mr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:gr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pr&&(this._isRangeSupported=!0),this._contentLength=mr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(gr),this._isRangeSupported&&this._manager.abortRequest(sr),this._headersReceivedCapability.resolve()}_onDone(sr){if(sr&&(this._requests.length>0?this._requests.shift().resolve({value:sr.chunk,done:!1}):this._cachedChunks.push(sr.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const hr of this._requests)hr.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(sr){this._storedError=(0,nr.createResponseStatusError)(sr,this._url),this._headersReceivedCapability.reject(this._storedError);for(const hr of this._requests)hr.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(sr){this.onProgress?.({loaded:sr.loaded,total:sr.lengthComputable?sr.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const sr=(0,rr.createPromiseCapability)();return this._requests.push(sr),sr.promise}cancel(sr){this._done=!0,this._headersReceivedCapability.reject(sr);for(const hr of this._requests)hr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class cr{constructor(sr,hr,gr){this._manager=sr;const pr={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=sr.url,this._requestId=sr.requestRange(hr,gr,pr),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(sr){const hr=sr.chunk;this._requests.length>0?this._requests.shift().resolve({value:hr,done:!1}):this._queuedChunk=hr,this._done=!0;for(const gr of this._requests)gr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(sr){this._storedError=(0,nr.createResponseStatusError)(sr,this._url);for(const hr of this._requests)hr.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(sr){this.isStreamingSupported||this.onProgress?.({loaded:sr.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const hr=this._queuedChunk;return this._queuedChunk=null,{value:hr,done:!1}}if(this._done)return{value:void 0,done:!0};const sr=(0,rr.createPromiseCapability)();return this._requests.push(sr),sr.promise}cancel(sr){this._done=!0;for(const hr of this._requests)hr.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(St,er,tr)=>{Object.defineProperty(er,"__esModule",{value:!0}),er.PDFFetchStream=void 0;var rr=tr(1),nr=tr(32);function ar(fr,cr,ur){return{method:"GET",headers:fr,signal:ur.signal,mode:"cors",credentials:cr?"include":"same-origin",redirect:"follow"}}function dr(fr){const cr=new Headers;for(const ur in fr){const sr=fr[ur];typeof sr>"u"||cr.append(ur,sr)}return cr}class or{constructor(cr){this.source=cr,this.isHttp=/^https?:/i.test(cr.url),this.httpHeaders=this.isHttp&&cr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,rr.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ir(this),this._fullRequestReader}getRangeReader(cr,ur){if(ur<=this._progressiveDataLength)return null;const sr=new lr(this,cr,ur);return this._rangeRequestReaders.push(sr),sr}cancelAllRequests(cr){this._fullRequestReader?.cancel(cr);for(const ur of this._rangeRequestReaders.slice(0))ur.cancel(cr)}}er.PDFFetchStream=or;class ir{constructor(cr){this._stream=cr,this._reader=null,this._loaded=0,this._filename=null;const ur=cr.source;this._withCredentials=ur.withCredentials||!1,this._contentLength=ur.length,this._headersCapability=(0,rr.createPromiseCapability)(),this._disableRange=ur.disableRange||!1,this._rangeChunkSize=ur.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ur.disableStream,this._isRangeSupported=!ur.disableRange,this._headers=dr(this._stream.httpHeaders);const sr=ur.url;fetch(sr,ar(this._headers,this._withCredentials,this._abortController)).then(hr=>{if(!(0,nr.validateResponseStatus)(hr.status))throw(0,nr.createResponseStatusError)(hr.status,sr);this._reader=hr.body.getReader(),this._headersCapability.resolve();const gr=vr=>hr.headers.get(vr),{allowRangeRequests:pr,suggestedLength:mr}=(0,nr.validateRangeRequestCapabilities)({getResponseHeader:gr,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pr,this._contentLength=mr||this._contentLength,this._filename=(0,nr.extractFilenameFromHeader)(gr),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new rr.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:cr,done:ur}=await this._reader.read();return ur?{value:cr,done:ur}:(this._loaded+=cr.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(cr).buffer,done:!1})}cancel(cr){this._reader?.cancel(cr),this._abortController.abort()}}class lr{constructor(cr,ur,sr){this._stream=cr,this._reader=null,this._loaded=0;const hr=cr.source;this._withCredentials=hr.withCredentials||!1,this._readCapability=(0,rr.createPromiseCapability)(),this._isStreamingSupported=!hr.disableStream,this._abortController=new AbortController,this._headers=dr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ur}-${sr-1}`);const gr=hr.url;fetch(gr,ar(this._headers,this._withCredentials,this._abortController)).then(pr=>{if(!(0,nr.validateResponseStatus)(pr.status))throw(0,nr.createResponseStatusError)(pr.status,gr);this._readCapability.resolve(),this._reader=pr.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:cr,done:ur}=await this._reader.read();return ur?{value:cr,done:ur}:(this._loaded+=cr.byteLength,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(cr).buffer,done:!1})}cancel(cr){this._reader?.cancel(cr),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(St){var er=__webpack_module_cache__[St];if(er!==void 0)return er.exports;var tr=__webpack_module_cache__[St]={exports:{}};return __webpack_modules__[St](tr,tr.exports,__w_pdfjs_require__),tr.exports}var __webpack_exports__={};return(()=>{var St=__webpack_exports__;Object.defineProperty(St,"__esModule",{value:!0}),Object.defineProperty(St,"AnnotationEditorLayer",{enumerable:!0,get:function(){return nr.AnnotationEditorLayer}}),Object.defineProperty(St,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return er.AnnotationEditorParamsType}}),Object.defineProperty(St,"AnnotationEditorType",{enumerable:!0,get:function(){return er.AnnotationEditorType}}),Object.defineProperty(St,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return ar.AnnotationEditorUIManager}}),Object.defineProperty(St,"AnnotationLayer",{enumerable:!0,get:function(){return dr.AnnotationLayer}}),Object.defineProperty(St,"AnnotationMode",{enumerable:!0,get:function(){return er.AnnotationMode}}),Object.defineProperty(St,"CMapCompressionType",{enumerable:!0,get:function(){return er.CMapCompressionType}}),Object.defineProperty(St,"GlobalWorkerOptions",{enumerable:!0,get:function(){return or.GlobalWorkerOptions}}),Object.defineProperty(St,"InvalidPDFException",{enumerable:!0,get:function(){return er.InvalidPDFException}}),Object.defineProperty(St,"MissingPDFException",{enumerable:!0,get:function(){return er.MissingPDFException}}),Object.defineProperty(St,"OPS",{enumerable:!0,get:function(){return er.OPS}}),Object.defineProperty(St,"PDFDataRangeTransport",{enumerable:!0,get:function(){return tr.PDFDataRangeTransport}}),Object.defineProperty(St,"PDFDateString",{enumerable:!0,get:function(){return rr.PDFDateString}}),Object.defineProperty(St,"PDFWorker",{enumerable:!0,get:function(){return tr.PDFWorker}}),Object.defineProperty(St,"PasswordResponses",{enumerable:!0,get:function(){return er.PasswordResponses}}),Object.defineProperty(St,"PermissionFlag",{enumerable:!0,get:function(){return er.PermissionFlag}}),Object.defineProperty(St,"PixelsPerInch",{enumerable:!0,get:function(){return rr.PixelsPerInch}}),Object.defineProperty(St,"RenderingCancelledException",{enumerable:!0,get:function(){return rr.RenderingCancelledException}}),Object.defineProperty(St,"SVGGraphics",{enumerable:!0,get:function(){return fr.SVGGraphics}}),Object.defineProperty(St,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return er.UNSUPPORTED_FEATURES}}),Object.defineProperty(St,"UnexpectedResponseException",{enumerable:!0,get:function(){return er.UnexpectedResponseException}}),Object.defineProperty(St,"Util",{enumerable:!0,get:function(){return er.Util}}),Object.defineProperty(St,"VerbosityLevel",{enumerable:!0,get:function(){return er.VerbosityLevel}}),Object.defineProperty(St,"XfaLayer",{enumerable:!0,get:function(){return cr.XfaLayer}}),Object.defineProperty(St,"build",{enumerable:!0,get:function(){return tr.build}}),Object.defineProperty(St,"createPromiseCapability",{enumerable:!0,get:function(){return er.createPromiseCapability}}),Object.defineProperty(St,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return er.createValidAbsoluteUrl}}),Object.defineProperty(St,"getDocument",{enumerable:!0,get:function(){return tr.getDocument}}),Object.defineProperty(St,"getFilenameFromUrl",{enumerable:!0,get:function(){return rr.getFilenameFromUrl}}),Object.defineProperty(St,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return rr.getPdfFilenameFromUrl}}),Object.defineProperty(St,"getXfaPageViewport",{enumerable:!0,get:function(){return rr.getXfaPageViewport}}),Object.defineProperty(St,"isPdfFile",{enumerable:!0,get:function(){return rr.isPdfFile}}),Object.defineProperty(St,"loadScript",{enumerable:!0,get:function(){return rr.loadScript}}),Object.defineProperty(St,"renderTextLayer",{enumerable:!0,get:function(){return lr.renderTextLayer}}),Object.defineProperty(St,"shadow",{enumerable:!0,get:function(){return er.shadow}}),Object.defineProperty(St,"version",{enumerable:!0,get:function(){return tr.version}});var er=__w_pdfjs_require__(1),tr=__w_pdfjs_require__(2),rr=__w_pdfjs_require__(6),nr=__w_pdfjs_require__(21),ar=__w_pdfjs_require__(5),dr=__w_pdfjs_require__(26),or=__w_pdfjs_require__(14),ir=__w_pdfjs_require__(12),lr=__w_pdfjs_require__(29),fr=__w_pdfjs_require__(30),cr=__w_pdfjs_require__(28);if(ir.isNodeJS){const{PDFNodeStream:ur}=__w_pdfjs_require__(31);(0,tr.setPDFNetworkStreamFactory)(sr=>new ur(sr))}else{const{PDFNetworkStream:ur}=__w_pdfjs_require__(34),{PDFFetchStream:sr}=__w_pdfjs_require__(35);(0,tr.setPDFNetworkStreamFactory)(hr=>(0,rr.isValidFetchUrl)(hr.url)?new sr(hr):new ur(hr))}})(),__webpack_exports__})())})(pdf$2);const BtnGroup=({scale:St,fitScreen:er,setPage:tr,nowPage:rr,totalPages:nr})=>jsxs(Flex,{pl:{base:"10px",lg:"0px"},alignItems:"center",position:"fixed",left:"20",bottom:"14",children:[jsxs(HStack,{spacing:"4px",mr:"10px",children:[jsx(Box,{layerStyle:"iconBox",children:jsx(SvgArrowLeft,{onClick:()=>tr("minus"),width:"30px"})}),jsx(Box,{layerStyle:"iconBox",children:jsx(SvgArrowRight,{onClick:()=>tr("plus"),width:"30px"})})]}),jsxs(Box,{bg:"#fff",ml:{base:"0px",lg:"20px"},py:"10px",px:"30px",border:"1px",borderColor:"gray.300",children:[rr," / ",nr," \u9801"]})]}),pdf$1=new E,pdfjsWorker=await __vitePreload(()=>import("./pdf.worker.entry.8ce77da9.js").then(St=>St.p),[]),Base64Prefix="data:application/pdf;base64,";pdf$2.exports.GlobalWorkerOptions.workerSrc=pdfjsWorker;let multiple=1;const PDF=()=>{const{file:St,fileName:er,getFile:tr,sequence:rr,totalPages:nr,setTotalPages:ar,nowPage:dr,setNowPage:or,saveSequence:ir}=useFile(),{canvas:lr,setCanvas:fr}=useCanvas();react.exports.useRef(!1);const cr=react.exports.useRef(null),ur=react.exports.useRef(null),sr=Ir=>new Promise((jr,Jr)=>{const zr=new FileReader;zr.addEventListener("load",()=>jr(zr.result)),zr.addEventListener("error",Jr),zr.readAsDataURL(Ir)}),hr=async(Ir,jr,Jr)=>{let zr="";zr=await sr(Ir);const Hr=window.atob(zr.substring(Base64Prefix.length)),Yr=await pdf$2.exports.getDocument({data:Hr}).promise;let nn=dr;jr&&(nn=1),Jr&&(nn=Jr);const Qr=await Yr.getPage(nn);nr===0&&ar(Yr.numPages);const Or=Qr.getViewport({scale:window.devicePixelRatio}),Er=document.createElement("canvas"),Dr=Er.getContext("2d");Er.height=Or.height,Er.width=Or.width;const Tr={canvasContext:Dr,viewport:Or};return Qr.render(Tr).promise.then(()=>Er)},gr=async Ir=>{const jr=1/window.devicePixelRatio;return new fabric.fabric.Image(Ir,{id:"renderPDF",scaleX:jr,scaleY:jr})},pr=(Ir,jr)=>{lr.current.setWidth(Ir.width/window.devicePixelRatio),lr.current.setHeight(Ir.height/window.devicePixelRatio),lr.current.setBackgroundImage(Ir,lr.current.renderAll.bind(lr.current))},mr=async(Ir,jr,Jr)=>{if(lr.current.remove(...lr.current.getObjects()),lr.current.requestRenderAll(),!Ir)return;const zr=await hr(Ir,jr,Jr);if(Jr){ir(Jr,zr);return}const Hr=await gr(zr);pr(Hr)},vr=()=>{const Ir=rr[dr-1],jr=pdf$1.internal.pageSize.width,Jr=pdf$1.internal.pageSize.height;if(Ir){pdf$1.addImage(Ir,"png",0,0,jr,Jr);const zr=pdf$1.output("blob"),Hr=new File([zr],er,{type:"application/pdf"});mr(Hr,!0)}},yr=(Ir,jr,Jr)=>Math.max(Jr,Math.min(Ir,jr)),br=Ir=>{Ir==="plus"?multiple+=.1:multiple-=.1,multiple=yr(multiple,2,1),lr.current.setZoom(multiple)},xr=()=>{const Ir=ur.current.clientHeight,jr=cr.current.clientHeight,Jr=Number((Ir/jr).toFixed(2));console.log("rate",Jr),lr.current.setZoom(Jr)},Cr=Ir=>{let jr=dr;Ir==="plus"?jr+=1:jr-=1,jr=yr(jr,nr,1),ir(),or(jr)},kr=Ir=>{const jr=tr();Array.from({length:Ir},(Jr,zr)=>{mr(jr?.current,!1,zr+1)})},Pr=(Ir,jr)=>{const Jr=jr.target,zr=Jr.canvas;return zr.remove(Jr),zr.requestRenderAll(),!0},$r=()=>{fabric.fabric.Object.prototype.controls.deleteControl=new fabric.fabric.Control({x:.5,y:-.5,cursorStyle:"pointer",mouseUpHandler:Pr,render:Kr})},Kr=(Ir,jr,Jr,zr,Hr)=>{const Yr=document.createElement("img");Yr.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMzMzhfMTQ2MjEpIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAxXzMzMzhfMTQ2MjEpIj4KPHBhdGggZD0iTTggOEg0MFY0MEg4VjhaIiBmaWxsPSIjMEI3RDc3Ii8+CjxwYXRoIGQ9Ik0zMy4zMzM0IDI1LjMzMzJIMTQuNjY2N1YyMi42NjY1SDMzLjMzMzRWMjUuMzMzMloiIGZpbGw9IndoaXRlIi8+CjwvZz4KPHBhdGggZD0iTTM4IDEwVjM4SDEwVjEwSDM4Wk0zOCA2SDEwQzcuOCA2IDYgNy44IDYgMTBWMzhDNiA0MC4yIDcuOCA0MiAxMCA0MkgzOEM0MC4yIDQyIDQyIDQwLjIgNDIgMzhWMTBDNDIgNy44IDQwLjIgNiAzOCA2WiIgZmlsbD0iIzBCN0Q3NyIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzMzMzhfMTQ2MjEiPgo8cmVjdCB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjxjbGlwUGF0aCBpZD0iY2xpcDFfMzMzOF8xNDYyMSI+CjxyZWN0IHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDggOCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K";const nn=30;Ir.save(),Ir.translate(jr,Jr),Ir.rotate(fabric.fabric.util.degreesToRadians(Hr.angle)),Ir.drawImage(Yr,-nn/2,-nn/2,nn,nn),Ir.restore()};return react.exports.useEffect(()=>{nr!==0&&kr(nr)},[nr]),react.exports.useEffect(()=>{if(!!lr.current)if(rr[dr-1])vr();else{const Ir=tr();mr(Ir?.current)}},[dr]),react.exports.useEffect(()=>{const Ir=new fabric.fabric.Canvas("canvasPDF",{});fr(Ir);const jr=document.getElementById("canvasPDF");jr.style.width=`${ur.current?.clientWidth}px`,jr.style.height=`${ur.current?.clientHeight}px`,$r()},[]),jsxs(Box,{flex:"1",ref:ur,w:{base:"90%",lg:"auto"},overflowY:"scroll",overflowX:{base:"scroll",lg:"hidden"},position:"relative",backgroundColor:"gray.200",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{width:"6px"},"&::-webkit-scrollbar-thumb":{background:"gray.300",borderRadius:"24px"}},children:[jsx("canvas",{id:"canvasPDF",style:{margin:"auto"},ref:cr}),jsx(Image2,{w:"100%",h:"100%",visibility:"hidden",id:"temp"}),jsx(BtnGroup,{nowPage:dr,totalPages:nr,fitScreen:xr,setPage:Cr,scale:br})]})};function Manufacture(){return jsxs(Box,{children:[jsx(Steps,{}),jsxs(Flex,{position:"relative",boxSize:"border-box",h:"calc(100vh - 200px)",overflow:"hidden",borderTop:"1px solid",borderColor:"gray.300",children:[jsx(Box,{display:{base:"none",lg:"block"},w:"72px",h:"100%"}),jsx(PDF,{}),jsx(Side,{})]})]})}const NotFound=()=>jsx("div",{children:"NotFound"}),SharedGoals="/assets/Shared goals.da8e7f99.svg",pdf=new E,Finish=()=>{const St=useNavigate(),{file:er,fileName:tr,sequence:rr}=useFile();return jsx(Flex,{h:"calc(100vh - 120px)",bgColor:"rgba(206, 229, 228, 0.2)",justifyContent:"center",alignItems:"center",children:jsxs(Flex,{maxW:"800px",w:"2/3",flexDir:{base:"column",lg:"row"},alignItems:"center",children:[jsx(Image2,{maxW:{base:"300px",lg:"400px"},w:"1/2",src:SharedGoals}),jsxs(Box,{w:"1/2",children:[jsx(Text$1,{textStyle:"h1",mb:2,color:"primary.default",children:"\u606D\u559C\u60A8\uFF01\u6A94\u6848\u5DF2\u5C31\u7DD2"}),jsx(Text$1,{pb:10,color:"gray.400",children:"\u73FE\u5728\u60A8\u53EF\u4EE5\u4E0B\u8F09\u6A94\u6848\u6216\u6216\u91CD\u65B0\u4E0A\u50B3\u6A94\u6848\u3002"}),jsx(Button$2,{mb:2,w:"100%",onClick:()=>{rr.forEach((dr,or)=>{const ir=pdf.internal.pageSize.width,lr=pdf.internal.pageSize.height;pdf.addImage(dr,"png",0,0,ir,lr),or!==rr.length-1&&pdf.addPage()}),pdf.save(tr??"download.pdf")},children:"\u4E0B\u8F09\u6A94\u6848"}),jsx(Text$1,{cursor:"pointer",color:"gray.500",onClick:()=>{St("/")},textAlign:"center",children:"\u91CD\u65B0\u4E0A\u50B3"})]})]})})},Footer=()=>jsx(Box,{h:"40px",fontSize:"sm",color:"#fff",lineHeight:"40px",bgColor:"#676879",textAlign:"center",as:"footer",children:"@2022 The F2E 4TH"}),logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAwCAYAAADuFn/PAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3aSURBVHgB7VpdbBTXFT53ZsFrg5tFECAk4HUUlERpmrWBxCClLG2kqGqFjRQ1tC+sk2CMePDykAYnlWw/pITkAVMlwjYouzw1ygtrqjxUTcu6VYsJ2DtuGgWaKl5CgPAnNhi8s17PvT3nzo69u579s52mjf3J45m5vzPn5zvn3lmAecxjHvOYx1wFg28ZzmafmxksIFTRqHcFozDHoMC3COdLPi8KP4KXXsbZSZfP54I5hm9NARVNL7Qzxk7ipSl0Ae6EQ2mDOYZZoaDm5n0+Dszd07W/vVBbi3Lw0mtXLxj49J7AMZgjmBUPEMB2oCbbmppb2wu1deoQw5M7Vz0T0ElKgjmCGSugufkVL6SsmZSwq7l1ePfu1h252vtcLvihsiSUZ0iXYrDjcyUeFEVBkeFht6GqHlVRpgjl2MHAjvjdUW92uRAsxpjQcAZNCBFjoLjRvD3oLh6q/1TchTN8JPekgnXGj767FwrAs77Oq3DYzFWjVztzRkuvq62tw5giYoODpw/BDJBvDgsbNmzwGIZab9dm3bqNDULwKr6Q9Wr9/dH0Oke+iQe+/NKnKLBDCPCSq4is+pHYbUDh2/ZF4ZOyvNjJy6SeRcYAj7JFcKucwb/jt+0nZ8LvbGrUCsUDEgwO365yNYq3mcLBclQkledUACppGNu5p1QIiA4O9lcXnCMFg6st2ManCEfDunV1E22MBdAhkuIgCsStJoHqohOPx+CYrQLQ4l28bGGACYGag5w423cGZoL1Y074it2FO8KwrRdcNOCppIBcV1fntq7HklPLdKczpoXDsYx5QISEUPoUJg5ypjQwwf0sT5zKBirRhycfeTplEYIMj0GU6pRxdhxncKMcoziPBzM/L13LeZkI2cYAsXDBSRJ+vknJ+v/1j3MwEyzEEPRs+QrbOnyZ9sTR4LZ8/dcjNaRZr6+29il/MgkBFPwwHbIU6617OtQRvT57HCaYRwHxBF0rgjfg5B77ZwI3zUmHJ6VUD1IPDnBQ1nNWQ56Plg3CcG7D615SCkc6jZA3MSY9QyjQSPfa2dO9UxQwcOliO40LBTBT67ewKMFhg1I5WSAgRhakHw12FOrLBZwkijO7kdWxFnxhCvDB1EE1ZO1BjElazoEYhDGTM9+ZMbLSUI527TQnHcoYmIlGclEUJRrkQvg1rT+KdfTcYVXVj6OJH0RdIH2LIfkkBjRK6xdQZQ2ZoYDIlStuxpScGYyF2bD+dOyu3wpPP/IorF15H7zbvDukHwn0Ferj2bBJCkykXB1Mgbu5woYGB/ob6QCzQYyukRhyZl5IDS4GnPqjQHi7yEE/RFX4r50OroB8Rk0LY5A/tRe+V36Mgq3KpGJ8qBAPN9sGUXGB2nV1w4oi6lW0fm2gf4JWM2IANwwvY4W5rxjrHx0dAcMwoLIyfza56dmn4eEnHoFfP+yGxU4n5Is56VA58qq8IgsnnxcaLgbbwXBqUCIwSWjAf5JykS5CqdQwmt1OARYaGOzPiElERRhcA2Ik7kEvcsmMj0FMMenGLZ9Q8j85F+tEpUDtuqcwK2SaoRh7MxSAGc8ThQRQjPXfuHEFhofNNmvWPAQrVqy2bUeCf/zJH8hrEn4pwOfEzARflqgFhYcvF8PzkAJ6CwbFyYbIyZSOoqd4SbAcRAPy9pCVKmK/vSg0F/bdjLc+Sn9x9CE5XhGgtLK2dqMmpA2gh/DyY8yRaJNjTjyDpLheYWBargAZeT0qQqNnyFgHRC5dCqCb+fJNeLbvIxj4S34POHcuAiMj5vNXVCyGxx7bYNvuuabnYemKZRllKNjgugceaIQiUFOzqYox7iNuZjILQYuj1LMAqO1AigbypaEkOCCl2NRZKaoFTABacGR/RjuFYgnHP9aQXT549pRc4+RdB2RDWv9QfutPJHSknvGJ+yVL7rVtV+YsmyL8UhGJ/P1CurVzbvQiOUXpGjOQBqawBkxlQ2TNSE8x5BeLniR/e7xel3JHbzT7mrk+eoAfuXqItIRWKuOhDOBMBnMspgzJbv3KyIvc3DAVpqjI/dILmPRCbpjKmSw3UZICLl+4BCNf51693r59Cy5fjsLatY+DrsfJvXPGgJkK3w7o0yRgKWRc8PiITYUiOT2ImUiUg7ODgqbV3nFH98hMimDJlAnJ0ykE5X/BGiKDpy7QpfSYPFDViaysqPKSFDCQJ/hevXoRA+8dKXxVdcDChaVx+mxCLv1ByAWPhkEThSapSXHEabt7YntjfBwDtqK3I0tEMwZQTAvFQFowHbfAGcP4I4I4L87NiNuDSD5h2qnEccw0mRZqjJnl1lTFTnB+6FNb6x8fH4fPPvsYyISqqx+Vwi8GY4kEfBOgrASFYC6MUvGAc+chM/9mftrXsdqSN2Da6FUUXIgp2BbTHEUVnQruW6H3NpQyrzZwCvmefS2pCEGpL6WbaABBvkCuDWTWRtc509B8sLN+svgvvvgMqqrWQnn5YigFI7ERjBcJKCsrg9lC7fqn/JAUbSQEysG1VMpIgkbBNzJaQAkIeDzeGllGykqClzMRxHJKRYXsi7ECudpPSqNVLVN4FPP4yYnEpMdQHJFUBuwgraDNNJR5Ke/nirFNMVQP0F4QJbu0yMPVONJjGLsGKREoygPsrJ8o5/LlYUk5pQqfkNATcPOrGzCbwGDpSRN+xkpaO9uPqSCmg5KEdTMwjaeyHwP6BAVpDLSC9p4ccAEH81v7ORSEZV9JHSIzPY3pOJ84Ljh302o4Mnh6Ca4l9tJuMBiOHbQIo2sMztW4VUGbk0GiI27ucxXnAenWT5RDgnc4FsBDDz0OM8F57RysqrofZoK0zAczG2cvsERAi5yyXUnTVgBtF1j3pBT0hiWpwFyTKu5NnbGubkjIQFzWawVvj2dTxl4SjefxbNiCmypRq402eArXEkAHpsobQ5HJ56G5+3BcNI7yVFaVBrt1AFl/+MSf5TWlmEQ5K1euLrjCLYRKVyUsXX4vPPv8TzLKS1kHfBdQ0APOp/L+W7duwM2bVyTfl5LhUL6/+J5KmXYuW7kMlqaO2eT+/2cUVMDN61el1RMKUQ4J+74190PlksVS4KuqHpCWnnf8a9fQE5bDXEVOBYzevQvvvP4mnP/nJ7b7OSRYEjZZ9WK8XuW+v2SrPvG79+XxQsse2PTjLTAXkVMBb73WBhc/j8KyFcvhuRd/CbHrX5s0suJeWLykcsYUcvHzYSl8wuoHq2G6aG5+xZ1+73QmYp2dnUVtpE1nLsPgriNH3tLSyiiNdfUcfjME04CtAs5//MmE8F9+vUMGSwvkGX/9wx+hYtGiaVstjf/uobfl9dZf/BxWV7thuhCg4NaACFv3d+MVJIiSPsL7/W2ueFzf0d19wLYfCR7noQQF93JU2NXc6i53xmtI0fgJk1bLt2CasFUACZlAgk8XviW4m9euy/sbeCYBWnWR0x/Bmmp3TsXcuHoNPvz9B/DhiQ/kPbWz+s8E3V1v2E7o9/tlqpbtEdnlY2NJ3KqQK19bBQih1gPjUZxHZmekEKtvz+H9ndntqT6XJ2bPbZuGkgI6Wl6WAbJiUQVaaDUqZRQuDpv7UKsfdEsPIex57VdS+JZQzfpq2P6iT9LVjavXZb9I/xkZTyw8s/VnsP0ln83LlpaGojWK7q79LPMl0aL1seP4di40Whctrqxf7TU3t+IXL7HZnAtXvAwOcaFGpDAYjxm4mDrafaA3Y45dr7bgIq0BrX5btlCbmvfJn1P2dL3RkXqek0JwXA0rqU+cPNR9+MBeWY5rACbnZm7rmXKuA0hwgd++LYVrgWjnma0/lVb73tFAhtCtur/9KSwVZwdqU1P3pOyf7lnpwAf316xaVTSFkALwmdsn5nDqh0hIZGnmuc01Gk8OV5SPVtO9ncKIx3El3JbLk8x59gXw6bx4hBkYHV1dB6JUnq6Apt2tDUyIevKUlBFEcK7q1HOiAkSY2qXqbtFz5AzCZL3E/5blkycsXb5CngnbX2qUAiXaWYbC3Lr9eekZm360BU68977sM3pnVI5D9eRFRDlW/1zQE4leKBVM/vYncxy9zIXW7o/rySr6pUIyuegeLMZPgaK9aVdrBL/Ndh4+vP+Y3XBk8YJxSRWWZZNQzVjA2rhQIjt3vrwlPRgT6CsYS+1v6jptd2Tu9AjGwnTu7OwgQ5BlBdcBJLCHv/+YbR1ZcjaHk8AprZwOaNm/sbo6CiWiJ0uQO3e+6hFMBHDb13/k8G/68GW9Vl0XChQFeQz3a9p27W71dx/eX5M9Hn6Q0ew+uqSsHhWxLypUtYWu0+uPdL0RxLnaUMHHBf3EsoivcyV9D/iGEcVgWPCnKMWAqbweeSmEAukjKhqNs4l9E5OaTEE27Xr1Ft2PjamxcWPyKxV6RsZeUlNTK34l4yGLdgRTse34lABrUpkIV5Tr8ptDMenw/4oCouMCtk3H+u0gDKVXcYgAWqJnNE7byeaupsXLWK4xCtDMCKbiRNTQx1xkuUhNoSnUpEJUCOUkWnfUDOwGUhlMSRScTqeG8eZ4XC930z2OFxN8vCObqtJR8kf5WYeAcCKZbJwt4Vsgyybef+ed1y/Y1dE520L37Hmtyq59ej2dc7XZjZTGcZ/Z4XDIRVmScy8GZV++4J6hAPoxLp42w38BiqLQHnuodtWqC/AdAcaUgwIDT0/3/r2kZF0v92Mwv4fS0Fx9GMxj1iApLqG3YZDwyA8ySGc9OTKtecxjHvOYxzzmMY+5jf8AVCrxBvAprpgAAAAASUVORK5CYII=",Header=()=>{const{file:St,fileName:er,getFileName:tr,setFileNameLocal:rr,setFile:nr,getFile:ar}=useFile();useNavigate();const dr=useLocation(),{isOpen:or,onOpen:ir,onClose:lr}=useDisclosure(),[fr,cr]=react.exports.useState(""),ur=()=>{cr(tr()),ir()},sr=()=>{rr(fr),lr()},hr=gr=>{const pr=gr.target.value;cr(pr)};return react.exports.useEffect(()=>{cr(tr())},[]),jsxs(Flex,{as:"header",position:"relative",alignItems:"center",justifyContent:{base:"center",lg:"space-between"},borderBottom:"1px",borderColor:"gray.300",height:"80px",px:"80px",children:[dr.pathname!=="/manufacture"?jsxs(Fragment,{children:[jsx(Link,{to:"/",children:jsx(Image2,{src:logo})}),jsx(Text$1,{position:"absolute",display:{base:"none",lg:"block"},textAlign:"center",color:"gray.400",textStyle:"h1",left:0,right:0,mx:"auto",children:"\u5FEB\u901F\u7701\u6642\u7684\u96FB\u5B50\u7C3D\u7F72\u5DE5\u5177"})]}):jsxs(Flex,{alignItems:"center",children:[jsx(Text$1,{fontWeight:"bold",pr:2,children:er}),jsx(SvgEdit,{onClick:ur,cursor:"pointer",width:"30px"})]}),jsxs(ModalBox,{isOpen:or,onClose:lr,children:[jsx(Text$1,{pb:2,color:"primary.default",fontWeight:"bold",borderBottom:"1px",textAlign:"center",borderColor:"primary.default",children:"\u91CD\u65B0\u547D\u540D\u6A94\u6848"}),jsx(FormLabel,{pt:2,htmlFor:"fileName"}),jsx(Input,{value:fr,onChange:hr,id:"fileName",w:"300px",maxLength:50,placeholder:"\u8ACB\u8F38\u5165\u6A94\u6848\u540D\u7A31"}),jsx(Flex,{pt:4,justifyContent:"center",children:jsx(Button$2,{onClick:sr,variant:er.length===0?"disable":"solid",children:"\u5132\u5B58"})})]})]})};function Default(){return jsxs(Fragment,{children:[jsx(Header,{}),jsxs(Box,{minH:"calc(100vh - 120px)",children:[jsx(Outlet,{}),jsx(k$1,{})]}),jsx(Footer,{})]})}const ReactToastify="";function App(){return jsx(HashRouter,{children:jsx(Routes,{children:jsxs(Route,{element:jsx(Default,{}),children:[jsx(Route,{index:!0,element:jsx(Index,{})}),jsx(Route,{path:"/manufacture",element:jsx(Manufacture,{})}),jsx(Route,{path:"/finish",element:jsx(Finish,{})}),jsx(Route,{path:"*",element:jsx(NotFound,{})})]})})})}const Button={baseStyle:{textTransform:"uppercase",cursor:"pointer",fontWeight:700,borderRadius:"base"},sizes:{sm:{fontSize:"sm",px:4,py:3},md:{fontSize:"md",px:6,py:4},lg:{fontSize:"lg",px:10,py:5}},variants:{outline:{border:"2px solid",borderColor:"gray.200",color:"gray.500",_hover:{bgColor:"gray.100"}},outline_active:{border:"2px solid",borderColor:"primary.default",bgColor:"primary.light",color:"primary.default"},solid:{bg:"primary.default",color:"white",_hover:{bgColor:"primary.dark"}},disable:{bg:"gray.200",color:"#aaa",_hover:{bgColor:"#ddd"}}},defaultProps:{size:"md",variant:"solid"}},colors={primary:{dark:"#096561",default:"#0B7D77",light:"#CEE5E4"},number:{negative:"#D83A52",positive:"#0B8652",general:"#0073EA"},gray:{100:"#F5F6F8",200:"#E6E9EF",300:"#C5C7D0",400:"#676879",500:"#323338"}},global$1={global:{html:{h:"full",scrollBehavior:"smooth"},body:{fontFamily:"Noto Sans TC, sans-serif",h:"full"}}},Text={h1:{fontSize:["24px"],fontWeight:"700"},h2:{fontSize:["22px"],fontWeight:"700"},h3:{fontSize:["20px"],fontWeight:"400"},h4:{fontSize:["18px"],fontWeight:"400"},label:{fontSize:["14px"],fontWeight:"bold"}},theme=extendTheme({colors,global:global$1,textStyles:Text,fonts:{body:"Noto Sans TC, sans-serif"},layerStyles:{iconBox:{border:"1px solid",borderColor:"gray.300",backgroundColor:"#fff",width:"48px",height:"48px",display:"flex",fontSize:"16px",borderRadius:"4px",justifyContent:"center",alignItems:"center",_hover:{color:"gray.300"}}},components:{Button},config:{initialColorMode:"light",useSystemColorMode:!1},breakpoints:{sm:"320px",md:"768px",lg:"960px",xl:"1200px"}},withDefaultColorScheme({colorScheme:"primary"})),index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(CanvasContextProvider,{children:jsx(ChakraProvider,{resetCSS:!0,theme,children:jsx(StepContextProvider,{children:jsx(FileContextProvider,{children:jsx(App,{})})})})})}));export{_defineProperty$2 as _,commonjsGlobal as c};
